<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: classes Pages: 1 -->
<svg width="183156pt" height="9125pt"
 viewBox="0.00 0.00 183156.00 9125.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 9121)">
<title>classes</title>
<!-- mcpgateway.db.A2AAgent -->
<g id="node1" class="node">
<title>mcpgateway.db.A2AAgent</title>
<polygon fill="white" stroke="#77aadd" points="0,-3750.5 0,-4464.5 332,-4464.5 332,-3750.5 0,-3750.5"/>
<text text-anchor="start" x="135.5" y="-4449.3" font-family="Arial" font-size="14.00">A2AAgent</text>
<polyline fill="none" stroke="#77aadd" points="0,-4441.5 332,-4441.5 "/>
<text text-anchor="start" x="8" y="-4426.3" font-family="Arial" font-size="14.00">agent_type : Mapped[str]</text>
<text text-anchor="start" x="8" y="-4411.3" font-family="Arial" font-size="14.00">auth_query_params : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="8" y="-4396.3" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4381.3" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="8" y="-4366.3" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="8" y="-4351.3" font-family="Arial" font-size="14.00">capabilities : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="8" y="-4336.3" font-family="Arial" font-size="14.00">config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="8" y="-4321.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="8" y="-4306.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4291.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4276.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4261.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4246.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4231.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="8" y="-4216.3" font-family="Arial" font-size="14.00">endpoint_url : Mapped[str]</text>
<text text-anchor="start" x="8" y="-4201.3" font-family="Arial" font-size="14.00">execution_count</text>
<text text-anchor="start" x="8" y="-4186.3" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="8" y="-4171.3" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="8" y="-4156.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8" y="-4126.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="8" y="-4096.3" font-family="Arial" font-size="14.00">last_interaction : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="8" y="-4081.3" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;A2AAgentMetric&#39;]]</text>
<text text-anchor="start" x="8" y="-4066.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4051.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4036.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4021.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4006.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3991.3" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="8" y="-3976.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3961.3" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="8" y="-3946.3" font-family="Arial" font-size="14.00">protocol_version : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3931.3" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="8" y="-3916.3" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="8" y="-3901.3" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3886.3" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="8" y="-3871.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="8" y="-3856.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3841.3" font-family="Arial" font-size="14.00">tool : Mapped[Optional[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="8" y="-3826.3" font-family="Arial" font-size="14.00">tool_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3811.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="8" y="-3796.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="8" y="-3781.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="0,-3773.5 332,-3773.5 "/>
<text text-anchor="start" x="164" y="-3758.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Base -->
<g id="node47" class="node">
<title>mcpgateway.db.Base</title>
<polygon fill="white" stroke="#77aadd" points="9192,-8424 9192,-8493 9336,-8493 9336,-8424 9192,-8424"/>
<text text-anchor="start" x="9248.5" y="-8477.8" font-family="Arial" font-size="14.00">Base</text>
<polyline fill="none" stroke="#77aadd" points="9192,-8470 9336,-8470 "/>
<text text-anchor="start" x="9200" y="-8454.8" font-family="Arial" font-size="14.00">metadata : MetaData</text>
<polyline fill="none" stroke="#77aadd" points="9192,-8447 9336,-8447 "/>
<text text-anchor="start" x="9262" y="-8431.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgent&#45;&gt;mcpgateway.db.Base -->
<g id="edge11" class="edge">
<title>mcpgateway.db.A2AAgent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M124.82,-4464.61C29.54,-5361.86 -161.49,-7681.83 341,-8215 501.36,-8385.15 8293.35,-8450.04 9181.78,-8456.88"/>
<polygon fill="none" stroke="gray" points="9181.88,-8460.38 9191.91,-8456.96 9181.94,-8453.38 9181.88,-8460.38"/>
</g>
<!-- mcpgateway.schemas.A2AAgentCreate -->
<g id="node2" class="node">
<title>mcpgateway.schemas.A2AAgentCreate</title>
<polygon fill="white" stroke="#77aadd" points="17256.5,-3833 17256.5,-4382 17571.5,-4382 17571.5,-3833 17256.5,-3833"/>
<text text-anchor="start" x="17363" y="-4366.8" font-family="Arial" font-size="14.00">A2AAgentCreate</text>
<polyline fill="none" stroke="#77aadd" points="17256.5,-4359 17571.5,-4359 "/>
<text text-anchor="start" x="17274" y="-4343.8" font-family="Arial" font-size="14.00">agent_type : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4328.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4313.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4298.8" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="17274" y="-4283.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4268.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4253.8" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="17274" y="-4238.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4223.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4208.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4193.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4178.8" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-4163.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-4148.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4133.8" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4118.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="17274" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4088.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-4073.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4058.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="17274" y="-4043.8" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4028.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4013.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="17274" y="-3998.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3983.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="17256.5,-3976 17571.5,-3976 "/>
<text text-anchor="start" x="17264.5" y="-3960.8" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="17264.5" y="-3945.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="17264.5" y="-3930.8" font-family="Arial" font-size="14.00">validate_endpoint_url(v: str): str</text>
<text text-anchor="start" x="17264.5" y="-3915.8" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="17264.5" y="-3900.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="17264.5" y="-3885.8" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;A2AAgentCreate&#39;</text>
<text text-anchor="start" x="17264.5" y="-3870.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="17264.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="17264.5" y="-3840.8" font-family="Arial" font-size="14.00">validate_visibility(v: str): str</text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentError -->
<g id="node3" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentError</title>
<polygon fill="white" stroke="#ffaabb" points="17728.5,-8423.1 17728.5,-8493.9 17835.5,-8493.9 17835.5,-8423.1 17728.5,-8423.1"/>
<text text-anchor="start" x="17736.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">A2AAgentError</text>
<polyline fill="none" stroke="#ffaabb" points="17728.5,-8470.9 17835.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="17728.5,-8446.1 17835.5,-8446.1 "/>
<text text-anchor="start" x="17780" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.A2AAgentInvocation -->
<g id="node4" class="node">
<title>mcpgateway.schemas.A2AAgentInvocation</title>
<polygon fill="white" stroke="#77aadd" points="17982,-4050.5 17982,-4164.5 18302,-4164.5 18302,-4050.5 17982,-4050.5"/>
<text text-anchor="start" x="18080.5" y="-4149.3" font-family="Arial" font-size="14.00">A2AAgentInvocation</text>
<polyline fill="none" stroke="#77aadd" points="17982,-4141.5 18302,-4141.5 "/>
<text text-anchor="start" x="18035" y="-4126.3" font-family="Arial" font-size="14.00">agent_name : Optional[str]</text>
<text text-anchor="start" x="18035" y="-4111.3" font-family="Arial" font-size="14.00">interaction_type : Optional[str]</text>
<text text-anchor="start" x="18035" y="-4096.3" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="17982,-4088.5 18302,-4088.5 "/>
<text text-anchor="start" x="17990" y="-4073.3" font-family="Arial" font-size="14.00">validate_agent_name(v: str): str</text>
<text text-anchor="start" x="17990" y="-4058.3" font-family="Arial" font-size="14.00">validate_parameters(v: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.db.A2AAgentMetric -->
<g id="node5" class="node">
<title>mcpgateway.db.A2AAgentMetric</title>
<polygon fill="white" stroke="#77aadd" points="350,-4020.5 350,-4194.5 600,-4194.5 600,-4020.5 350,-4020.5"/>
<text text-anchor="start" x="425.5" y="-4179.3" font-family="Arial" font-size="14.00">A2AAgentMetric</text>
<polyline fill="none" stroke="#77aadd" points="350,-4171.5 600,-4171.5 "/>
<text text-anchor="start" x="358" y="-4156.3" font-family="Arial" font-size="14.00">a2a_agent : Mapped[&#39;A2AAgent&#39;]</text>
<text text-anchor="start" x="358" y="-4141.3" font-family="Arial" font-size="14.00">a2a_agent_id : Mapped[str]</text>
<text text-anchor="start" x="358" y="-4126.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="358" y="-4111.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="358" y="-4096.3" font-family="Arial" font-size="14.00">interaction_type : Mapped[str]</text>
<text text-anchor="start" x="358" y="-4081.3" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="358" y="-4066.3" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="358" y="-4051.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="350,-4043.5 600,-4043.5 "/>
<text text-anchor="start" x="473" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge12" class="edge">
<title>mcpgateway.db.A2AAgentMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M471.15,-4194.67C446.76,-4758.94 323.84,-7912.79 609,-8215 764.49,-8379.78 8307.02,-8449.3 9181.57,-8456.81"/>
<polygon fill="none" stroke="gray" points="9181.83,-8460.31 9191.86,-8456.9 9181.89,-8453.31 9181.83,-8460.31"/>
</g>
<!-- mcpgateway.schemas.A2AAgentMetrics -->
<g id="node6" class="node">
<title>mcpgateway.schemas.A2AAgentMetrics</title>
<polygon fill="white" stroke="#77aadd" points="18320.5,-4020.5 18320.5,-4194.5 18579.5,-4194.5 18579.5,-4020.5 18320.5,-4020.5"/>
<text text-anchor="start" x="18397" y="-4179.3" font-family="Arial" font-size="14.00">A2AAgentMetrics</text>
<polyline fill="none" stroke="#77aadd" points="18320.5,-4171.5 18579.5,-4171.5 "/>
<text text-anchor="start" x="18328.5" y="-4156.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="18328.5" y="-4126.3" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="18328.5" y="-4096.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-4066.3" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="18328.5" y="-4051.3" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="18320.5,-4043.5 18579.5,-4043.5 "/>
<text text-anchor="start" x="18448" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetricsHourly -->
<g id="node7" class="node">
<title>mcpgateway.db.A2AAgentMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="618,-3968 618,-4247 910,-4247 910,-3968 618,-3968"/>
<text text-anchor="start" x="691.5" y="-4231.8" font-family="Arial" font-size="14.00">A2AAgentMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="618,-4224 910,-4224 "/>
<text text-anchor="start" x="626" y="-4208.8" font-family="Arial" font-size="14.00">a2a_agent_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="626" y="-4193.8" font-family="Arial" font-size="14.00">agent_name : Mapped[str]</text>
<text text-anchor="start" x="626" y="-4178.8" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4163.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="626" y="-4148.8" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="626" y="-4133.8" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="626" y="-4118.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="626" y="-4103.8" font-family="Arial" font-size="14.00">interaction_type : Mapped[str]</text>
<text text-anchor="start" x="626" y="-4088.8" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4073.8" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4058.8" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4043.8" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4028.8" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-4013.8" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="626" y="-3998.8" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="618,-3991 910,-3991 "/>
<text text-anchor="start" x="762" y="-3975.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge13" class="edge">
<title>mcpgateway.db.A2AAgentMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M758.65,-4247.27C733.68,-4931.15 641.07,-7921.66 919,-8215 1069.09,-8373.41 8326.33,-8448.42 9181.9,-8456.72"/>
<polygon fill="none" stroke="gray" points="9181.93,-8460.22 9191.96,-8456.82 9182,-8453.22 9181.93,-8460.22"/>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNameConflictError -->
<g id="node8" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="17589.5,-4058 17589.5,-4157 17778.5,-4157 17778.5,-4058 17589.5,-4058"/>
<text text-anchor="start" x="17597.5" y="-4141.8" font-family="Arial" font-size="14.00" fill="red">A2AAgentNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="17589.5,-4134 17778.5,-4134 "/>
<text text-anchor="start" x="17615.5" y="-4118.8" font-family="Arial" font-size="14.00" fill="red">agent_id : Optional[str]</text>
<text text-anchor="start" x="17615.5" y="-4103.8" font-family="Arial" font-size="14.00" fill="red">is_active : bool</text>
<text text-anchor="start" x="17615.5" y="-4088.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<polyline fill="none" stroke="#ffaabb" points="17589.5,-4081 17778.5,-4081 "/>
<text text-anchor="start" x="17682" y="-4065.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNameConflictError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError -->
<g id="edge94" class="edge">
<title>mcpgateway.services.a2a_service.A2AAgentNameConflictError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError</title>
<path fill="none" stroke="gray" d="M17685.1,-4157.34C17695.18,-4604.68 17771.33,-7983.78 17780.99,-8412.76"/>
<polygon fill="none" stroke="gray" points="17777.5,-8412.99 17781.22,-8422.91 17784.49,-8412.83 17777.5,-8412.99"/>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNotFoundError -->
<g id="node9" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="17796.5,-4072.1 17796.5,-4142.9 17963.5,-4142.9 17963.5,-4072.1 17796.5,-4072.1"/>
<text text-anchor="start" x="17804.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">A2AAgentNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="17796.5,-4119.9 17963.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="17796.5,-4095.1 17963.5,-4095.1 "/>
<text text-anchor="start" x="17878" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNotFoundError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError -->
<g id="edge95" class="edge">
<title>mcpgateway.services.a2a_service.A2AAgentNotFoundError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError</title>
<path fill="none" stroke="gray" d="M17879.61,-4143.03C17876.27,-4436.36 17850.88,-6540.91 17792,-8248 17790.03,-8304.98 17786.73,-8370.64 17784.46,-8413.04"/>
<polygon fill="none" stroke="gray" points="17780.97,-8412.86 17783.92,-8423.04 17787.96,-8413.24 17780.97,-8412.86"/>
</g>
<!-- mcpgateway.schemas.A2AAgentRead -->
<g id="node10" class="node">
<title>mcpgateway.schemas.A2AAgentRead</title>
<polygon fill="white" stroke="#77aadd" points="18597.5,-3765.5 18597.5,-4449.5 18908.5,-4449.5 18908.5,-3765.5 18597.5,-3765.5"/>
<text text-anchor="start" x="18706" y="-4434.3" font-family="Arial" font-size="14.00">A2AAgentRead</text>
<polyline fill="none" stroke="#77aadd" points="18597.5,-4426.5 18908.5,-4426.5 "/>
<text text-anchor="start" x="18605.5" y="-4411.3" font-family="Arial" font-size="14.00">agent_type : str</text>
<text text-anchor="start" x="18605.5" y="-4396.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4381.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4366.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4351.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4336.3" font-family="Arial" font-size="14.00">auth_query_param_value_masked : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4321.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4306.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4291.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4276.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4261.3" font-family="Arial" font-size="14.00">capabilities : Dict[str, Any]</text>
<text text-anchor="start" x="18605.5" y="-4246.3" font-family="Arial" font-size="14.00">config : Dict[str, Any]</text>
<text text-anchor="start" x="18605.5" y="-4231.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="18605.5" y="-4216.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4201.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4186.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4171.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4156.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4141.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="18605.5" y="-4126.3" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4111.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4096.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4081.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4066.3" font-family="Arial" font-size="14.00">last_interaction : Optional[datetime]</text>
<text text-anchor="start" x="18605.5" y="-4051.3" font-family="Arial" font-size="14.00">metrics : Optional[A2AAgentMetrics]</text>
<text text-anchor="start" x="18605.5" y="-4036.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4021.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4006.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3991.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3976.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3961.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="18605.5" y="-3946.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3931.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="18605.5" y="-3916.3" font-family="Arial" font-size="14.00">protocol_version : str</text>
<text text-anchor="start" x="18605.5" y="-3901.3" font-family="Arial" font-size="14.00">reachable : bool</text>
<text text-anchor="start" x="18605.5" y="-3886.3" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3871.3" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="18605.5" y="-3856.3" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3841.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3826.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="18605.5" y="-3811.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="18605.5" y="-3796.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="18597.5,-3788.5 18908.5,-3788.5 "/>
<text text-anchor="start" x="18671" y="-3773.3" font-family="Arial" font-size="14.00">masked(): &#39;A2AAgentRead&#39;</text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentService -->
<g id="node11" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentService</title>
<polygon fill="white" stroke="#ffaabb" points="18927,-3974.6 18927,-4240.4 20921,-4240.4 20921,-3974.6 18927,-3974.6"/>
<text text-anchor="start" x="19871" y="-4225.2" font-family="Arial" font-size="14.00">A2AAgentService</text>
<polyline fill="none" stroke="#ffaabb" points="18927,-4217.4 20921,-4217.4 "/>
<polyline fill="none" stroke="#ffaabb" points="18927,-4192.6 20921,-4192.6 "/>
<text text-anchor="start" x="18935" y="-4177.4" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="18935" y="-4162.4" font-family="Arial" font-size="14.00">convert_agent_to_read(db_agent: DbA2AAgent, include_metrics: bool, db: Optional[Session], team_map: Optional[Dict[str, str]]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-4147.4" font-family="Arial" font-size="14.00">delete_agent(db: Session, agent_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="18935" y="-4132.4" font-family="Arial" font-size="14.00">get_agent(db: Session, agent_id: str, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-4117.4" font-family="Arial" font-size="14.00">get_agent_by_name(db: Session, agent_name: str): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-4102.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="18935" y="-4087.4" font-family="Arial" font-size="14.00">invoke_agent(db: Session, agent_name: str, parameters: Dict[str, Any], interaction_type: str): Dict[str, Any]</text>
<text text-anchor="start" x="18935" y="-4072.4" font-family="Arial" font-size="14.00">list_agents(db: Session, cursor: Optional[str], include_inactive: bool, tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], token_teams: Optional[List[str]], team_id: Optional[str], visibility: Optional[str]): Union[tuple[List[A2AAgentRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="18935" y="-4057.4" font-family="Arial" font-size="14.00">list_agents_for_user(db: Session, user_info: Dict[str, Any], team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[A2AAgentRead]</text>
<text text-anchor="start" x="18935" y="-4042.4" font-family="Arial" font-size="14.00">register_agent(db: Session, agent_data: A2AAgentCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-4027.4" font-family="Arial" font-size="14.00">reset_metrics(db: Session, agent_id: Optional[str]): None</text>
<text text-anchor="start" x="18935" y="-4012.4" font-family="Arial" font-size="14.00">set_agent_state(db: Session, agent_id: str, activate: bool, reachable: Optional[bool], user_email: Optional[str]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3997.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="18935" y="-3982.4" font-family="Arial" font-size="14.00">update_agent(db: Session, agent_id: str, agent_data: A2AAgentUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): A2AAgentRead</text>
</g>
<!-- mcpgateway.schemas.A2AAgentUpdate -->
<g id="node12" class="node">
<title>mcpgateway.schemas.A2AAgentUpdate</title>
<polygon fill="white" stroke="#77aadd" points="20939,-3848 20939,-4367 21371,-4367 21371,-3848 20939,-3848"/>
<text text-anchor="start" x="21102.5" y="-4351.8" font-family="Arial" font-size="14.00">A2AAgentUpdate</text>
<polyline fill="none" stroke="#77aadd" points="20939,-4344 21371,-4344 "/>
<text text-anchor="start" x="21015" y="-4328.8" font-family="Arial" font-size="14.00">agent_type : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4313.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4298.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4283.8" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="21015" y="-4268.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4253.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4238.8" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="21015" y="-4223.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4208.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4193.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4178.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4163.8" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-4148.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4118.8" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4088.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-4073.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4058.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="21015" y="-4043.8" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4028.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="21015" y="-4013.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3998.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="20939,-3991 21371,-3991 "/>
<text text-anchor="start" x="20947" y="-3975.8" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="20947" y="-3960.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="20947" y="-3945.8" font-family="Arial" font-size="14.00">validate_endpoint_url(v: str): str</text>
<text text-anchor="start" x="20947" y="-3930.8" font-family="Arial" font-size="14.00">validate_json_fields(v: Optional[Dict[str, Any]]): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="20947" y="-3915.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="20947" y="-3900.8" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;A2AAgentUpdate&#39;</text>
<text text-anchor="start" x="20947" y="-3885.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): Optional[List[str]]</text>
<text text-anchor="start" x="20947" y="-3870.8" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="20947" y="-3855.8" font-family="Arial" font-size="14.00">validate_visibility(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.cache.a2a_stats_cache.A2AStatsCache -->
<g id="node13" class="node">
<title>mcpgateway.cache.a2a_stats_cache.A2AStatsCache</title>
<polygon fill="white" stroke="#99ddff" points="21389.5,-4058 21389.5,-4157 21570.5,-4157 21570.5,-4058 21389.5,-4058"/>
<text text-anchor="start" x="21432" y="-4141.8" font-family="Arial" font-size="14.00">A2AStatsCache</text>
<polyline fill="none" stroke="#99ddff" points="21389.5,-4134 21570.5,-4134 "/>
<text text-anchor="start" x="21433" y="-4118.8" font-family="Arial" font-size="14.00">ttl_seconds : int</text>
<polyline fill="none" stroke="#99ddff" points="21389.5,-4111 21570.5,-4111 "/>
<text text-anchor="start" x="21397.5" y="-4095.8" font-family="Arial" font-size="14.00">get_counts(db): Dict[str, int]</text>
<text text-anchor="start" x="21397.5" y="-4080.8" font-family="Arial" font-size="14.00">invalidate(): None</text>
<text text-anchor="start" x="21397.5" y="-4065.8" font-family="Arial" font-size="14.00">stats(): dict</text>
</g>
<!-- mcpgateway.llm_provider_configs.AWSBedrockConfig -->
<g id="node14" class="node">
<title>mcpgateway.llm_provider_configs.AWSBedrockConfig</title>
<polygon fill="white" stroke="#77aadd" points="21589,-4043 21589,-4172 21805,-4172 21805,-4043 21589,-4043"/>
<text text-anchor="start" x="21636.5" y="-4156.8" font-family="Arial" font-size="14.00">AWSBedrockConfig</text>
<polyline fill="none" stroke="#77aadd" points="21589,-4149 21805,-4149 "/>
<text text-anchor="start" x="21597" y="-4133.8" font-family="Arial" font-size="14.00">access_key_id : Optional[str]</text>
<text text-anchor="start" x="21597" y="-4118.8" font-family="Arial" font-size="14.00">profile_name : Optional[str]</text>
<text text-anchor="start" x="21597" y="-4103.8" font-family="Arial" font-size="14.00">region : Optional[str]</text>
<text text-anchor="start" x="21597" y="-4088.8" font-family="Arial" font-size="14.00">secret_access_key : Optional[str]</text>
<text text-anchor="start" x="21597" y="-4073.8" font-family="Arial" font-size="14.00">session_token : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="21589,-4066 21805,-4066 "/>
<text text-anchor="start" x="21695" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig -->
<g id="node15" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig</title>
<polygon fill="white" stroke="#ffaabb" points="21823,-4020.5 21823,-4194.5 22071,-4194.5 22071,-4020.5 21823,-4020.5"/>
<text text-anchor="start" x="21886.5" y="-4179.3" font-family="Arial" font-size="14.00">AWSBedrockConfig</text>
<polyline fill="none" stroke="#ffaabb" points="21823,-4171.5 22071,-4171.5 "/>
<text text-anchor="start" x="21831" y="-4156.3" font-family="Arial" font-size="14.00">aws_access_key_id : Optional[str]</text>
<text text-anchor="start" x="21831" y="-4141.3" font-family="Arial" font-size="14.00">aws_secret_access_key : Optional[str]</text>
<text text-anchor="start" x="21831" y="-4126.3" font-family="Arial" font-size="14.00">aws_session_token : Optional[str]</text>
<text text-anchor="start" x="21831" y="-4111.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="21831" y="-4096.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="21831" y="-4081.3" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="21831" y="-4066.3" font-family="Arial" font-size="14.00">region_name : Optional[str]</text>
<text text-anchor="start" x="21831" y="-4051.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="21823,-4043.5 22071,-4043.5 "/>
<text text-anchor="start" x="21945" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider -->
<g id="node16" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider</title>
<polygon fill="white" stroke="#ffaabb" points="21759.5,-8416.5 21759.5,-8500.5 22134.5,-8500.5 22134.5,-8416.5 21759.5,-8416.5"/>
<text text-anchor="start" x="21881" y="-8485.3" font-family="Arial" font-size="14.00">AWSBedrockProvider</text>
<polyline fill="none" stroke="#ffaabb" points="21759.5,-8477.5 22134.5,-8477.5 "/>
<text text-anchor="start" x="21928.5" y="-8462.3" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="21759.5,-8454.5 22134.5,-8454.5 "/>
<text text-anchor="start" x="21767.5" y="-8439.3" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatBedrock, BedrockLLM]</text>
<text text-anchor="start" x="21767.5" y="-8424.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider -->
<g id="edge191" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider</title>
<path fill="none" stroke="gray" d="M21947,-4194.88C21947,-4762.7 21947,-7951.43 21947,-8404.06"/>
<polygon fill="none" stroke="gray" points="21947,-8404.35 21951,-8410.35 21947,-8416.35 21943,-8410.35 21947,-8404.35"/>
<text text-anchor="middle" x="21965.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.main.AdminAuthMiddleware -->
<g id="node17" class="node">
<title>mcpgateway.main.AdminAuthMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="22089.5,-4073 22089.5,-4142 22328.5,-4142 22328.5,-4073 22089.5,-4073"/>
<text text-anchor="start" x="22140.5" y="-4126.8" font-family="Arial" font-size="14.00">AdminAuthMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="22089.5,-4119 22328.5,-4119 "/>
<text text-anchor="start" x="22141" y="-4103.8" font-family="Arial" font-size="14.00">EXEMPT_PATHS : list</text>
<polyline fill="none" stroke="#77aadd" points="22089.5,-4096 22328.5,-4096 "/>
<text text-anchor="start" x="22097.5" y="-4080.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.schemas.AdminCreateUserRequest -->
<g id="node18" class="node">
<title>mcpgateway.schemas.AdminCreateUserRequest</title>
<polygon fill="white" stroke="#77aadd" points="22347,-4028 22347,-4187 22625,-4187 22625,-4028 22347,-4028"/>
<text text-anchor="start" x="22406.5" y="-4171.8" font-family="Arial" font-size="14.00">AdminCreateUserRequest</text>
<polyline fill="none" stroke="#77aadd" points="22347,-4164 22625,-4164 "/>
<text text-anchor="start" x="22355" y="-4148.8" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="22355" y="-4133.8" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="22355" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="22355" y="-4103.8" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="22355" y="-4088.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="22355" y="-4073.8" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<text text-anchor="start" x="22355" y="-4058.8" font-family="Arial" font-size="14.00">password_change_required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="22347,-4051 22625,-4051 "/>
<text text-anchor="start" x="22484" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.AdminGatewayCreate -->
<g id="node19" class="node">
<title>mcpgateway.schemas.AdminGatewayCreate</title>
<polygon fill="white" stroke="#77aadd" points="22643.5,-4058 22643.5,-4157 22810.5,-4157 22810.5,-4058 22643.5,-4058"/>
<text text-anchor="start" x="22660" y="-4141.8" font-family="Arial" font-size="14.00">AdminGatewayCreate</text>
<polyline fill="none" stroke="#77aadd" points="22643.5,-4134 22810.5,-4134 "/>
<text text-anchor="start" x="22651.5" y="-4118.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="22651.5" y="-4103.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="22651.5" y="-4088.8" font-family="Arial" font-size="14.00">url : str</text>
<polyline fill="none" stroke="#77aadd" points="22643.5,-4081 22810.5,-4081 "/>
<text text-anchor="start" x="22725" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.admin_stats_cache.AdminStatsCache -->
<g id="node20" class="node">
<title>mcpgateway.cache.admin_stats_cache.AdminStatsCache</title>
<polygon fill="white" stroke="#99ddff" points="22828.5,-3899.6 22828.5,-4315.4 23285.5,-4315.4 23285.5,-3899.6 22828.5,-3899.6"/>
<text text-anchor="start" x="23002.5" y="-4300.2" font-family="Arial" font-size="14.00">AdminStatsCache</text>
<polyline fill="none" stroke="#99ddff" points="22828.5,-4292.4 23285.5,-4292.4 "/>
<polyline fill="none" stroke="#99ddff" points="22828.5,-4267.6 23285.5,-4267.6 "/>
<text text-anchor="start" x="22836.5" y="-4252.4" font-family="Arial" font-size="14.00">get_observability_stats(hours: int): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22836.5" y="-4237.4" font-family="Arial" font-size="14.00">get_performance_history(cache_key_suffix: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22836.5" y="-4222.4" font-family="Arial" font-size="14.00">get_plugin_stats(): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22836.5" y="-4207.4" font-family="Arial" font-size="14.00">get_system_stats(): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22836.5" y="-4192.4" font-family="Arial" font-size="14.00">get_tags(entity_types_hash: str): Optional[Any]</text>
<text text-anchor="start" x="22836.5" y="-4177.4" font-family="Arial" font-size="14.00">get_teams_list(limit: int, offset: int): Optional[Any]</text>
<text text-anchor="start" x="22836.5" y="-4162.4" font-family="Arial" font-size="14.00">get_users_list(limit: int, offset: int): Optional[Any]</text>
<text text-anchor="start" x="22836.5" y="-4147.4" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="22836.5" y="-4132.4" font-family="Arial" font-size="14.00">invalidate_observability_stats(): None</text>
<text text-anchor="start" x="22836.5" y="-4117.4" font-family="Arial" font-size="14.00">invalidate_performance(): None</text>
<text text-anchor="start" x="22836.5" y="-4102.4" font-family="Arial" font-size="14.00">invalidate_plugins(): None</text>
<text text-anchor="start" x="22836.5" y="-4087.4" font-family="Arial" font-size="14.00">invalidate_system_stats(): None</text>
<text text-anchor="start" x="22836.5" y="-4072.4" font-family="Arial" font-size="14.00">invalidate_tags(): None</text>
<text text-anchor="start" x="22836.5" y="-4057.4" font-family="Arial" font-size="14.00">invalidate_teams(): None</text>
<text text-anchor="start" x="22836.5" y="-4042.4" font-family="Arial" font-size="14.00">invalidate_users(): None</text>
<text text-anchor="start" x="22836.5" y="-4027.4" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="22836.5" y="-4012.4" font-family="Arial" font-size="14.00">set_observability_stats(stats: Dict[str, Any], hours: int): None</text>
<text text-anchor="start" x="22836.5" y="-3997.4" font-family="Arial" font-size="14.00">set_performance_history(data: Dict[str, Any], cache_key_suffix: str): None</text>
<text text-anchor="start" x="22836.5" y="-3982.4" font-family="Arial" font-size="14.00">set_plugin_stats(stats: Dict[str, Any]): None</text>
<text text-anchor="start" x="22836.5" y="-3967.4" font-family="Arial" font-size="14.00">set_system_stats(stats: Dict[str, Any]): None</text>
<text text-anchor="start" x="22836.5" y="-3952.4" font-family="Arial" font-size="14.00">set_tags(tags: Any, entity_types_hash: str): None</text>
<text text-anchor="start" x="22836.5" y="-3937.4" font-family="Arial" font-size="14.00">set_teams_list(teams: Any, limit: int, offset: int): None</text>
<text text-anchor="start" x="22836.5" y="-3922.4" font-family="Arial" font-size="14.00">set_users_list(users: Any, limit: int, offset: int): None</text>
<text text-anchor="start" x="22836.5" y="-3907.4" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.AdminToolCreate -->
<g id="node21" class="node">
<title>mcpgateway.schemas.AdminToolCreate</title>
<polygon fill="white" stroke="#77aadd" points="23303.5,-4035.5 23303.5,-4179.5 23636.5,-4179.5 23636.5,-4035.5 23303.5,-4035.5"/>
<text text-anchor="start" x="23417.5" y="-4164.3" font-family="Arial" font-size="14.00">AdminToolCreate</text>
<polyline fill="none" stroke="#77aadd" points="23303.5,-4156.5 23636.5,-4156.5 "/>
<text text-anchor="start" x="23385" y="-4141.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="23385" y="-4126.3" font-family="Arial" font-size="14.00">headers : Optional[str]</text>
<text text-anchor="start" x="23385" y="-4111.3" font-family="Arial" font-size="14.00">input_schema : Optional[str]</text>
<text text-anchor="start" x="23385" y="-4096.3" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="23385" y="-4081.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="23385" y="-4066.3" font-family="Arial" font-size="14.00">url : str</text>
<polyline fill="none" stroke="#77aadd" points="23303.5,-4058.5 23636.5,-4058.5 "/>
<text text-anchor="start" x="23311.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_json(v: Optional[str]): Optional[Dict[str, Any]]</text>
</g>
<!-- mcpgateway.schemas.AdminUserUpdateRequest -->
<g id="node22" class="node">
<title>mcpgateway.schemas.AdminUserUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="23655,-4035.5 23655,-4179.5 23933,-4179.5 23933,-4035.5 23655,-4035.5"/>
<text text-anchor="start" x="23713" y="-4164.3" font-family="Arial" font-size="14.00">AdminUserUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="23655,-4156.5 23933,-4156.5 "/>
<text text-anchor="start" x="23663" y="-4141.3" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="23663" y="-4126.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="23663" y="-4111.3" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="23663" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="23663" y="-4081.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<text text-anchor="start" x="23663" y="-4066.3" font-family="Arial" font-size="14.00">password_change_required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="23655,-4058.5 23933,-4058.5 "/>
<text text-anchor="start" x="23792" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentHookType -->
<g id="node23" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentHookType</title>
<polygon fill="white" stroke="#ee8866" points="23951.5,-4073 23951.5,-4142 24064.5,-4142 24064.5,-4073 23951.5,-4073"/>
<text text-anchor="start" x="23959.5" y="-4126.8" font-family="Arial" font-size="14.00">AgentHookType</text>
<polyline fill="none" stroke="#ee8866" points="23951.5,-4119 24064.5,-4119 "/>
<text text-anchor="start" x="23990.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="23951.5,-4096 24064.5,-4096 "/>
<text text-anchor="start" x="24006" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentPostInvokePayload -->
<g id="node24" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentPostInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="24083,-4058 24083,-4157 24329,-4157 24329,-4058 24083,-4058"/>
<text text-anchor="start" x="24130.5" y="-4141.8" font-family="Arial" font-size="14.00">AgentPostInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="24083,-4134 24329,-4134 "/>
<text text-anchor="start" x="24091" y="-4118.8" font-family="Arial" font-size="14.00">agent_id : str</text>
<text text-anchor="start" x="24091" y="-4103.8" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<text text-anchor="start" x="24091" y="-4088.8" font-family="Arial" font-size="14.00">tool_calls : Optional[List[Dict[str, Any]]]</text>
<polyline fill="none" stroke="#ee8866" points="24083,-4081 24329,-4081 "/>
<text text-anchor="start" x="24204" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentPreInvokePayload -->
<g id="node25" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentPreInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="24347.5,-4028 24347.5,-4187 24600.5,-4187 24600.5,-4028 24347.5,-4028"/>
<text text-anchor="start" x="24401.5" y="-4171.8" font-family="Arial" font-size="14.00">AgentPreInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="24347.5,-4164 24600.5,-4164 "/>
<text text-anchor="start" x="24355.5" y="-4148.8" font-family="Arial" font-size="14.00">agent_id : str</text>
<text text-anchor="start" x="24355.5" y="-4133.8" font-family="Arial" font-size="14.00">headers : Optional[HttpHeaderPayload]</text>
<text text-anchor="start" x="24355.5" y="-4118.8" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<text text-anchor="start" x="24355.5" y="-4103.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="24355.5" y="-4088.8" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="24355.5" y="-4073.8" font-family="Arial" font-size="14.00">system_prompt : Optional[str]</text>
<text text-anchor="start" x="24355.5" y="-4058.8" font-family="Arial" font-size="14.00">tools : Optional[List[str]]</text>
<polyline fill="none" stroke="#ee8866" points="24347.5,-4051 24600.5,-4051 "/>
<text text-anchor="start" x="24472" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_query_service.AggregatedMetrics -->
<g id="node26" class="node">
<title>mcpgateway.services.metrics_query_service.AggregatedMetrics</title>
<polygon fill="white" stroke="#ffaabb" points="24618.5,-4005.5 24618.5,-4209.5 24877.5,-4209.5 24877.5,-4005.5 24618.5,-4005.5"/>
<text text-anchor="start" x="24690.5" y="-4194.3" font-family="Arial" font-size="14.00">AggregatedMetrics</text>
<polyline fill="none" stroke="#ffaabb" points="24618.5,-4186.5 24877.5,-4186.5 "/>
<text text-anchor="start" x="24626.5" y="-4171.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="24626.5" y="-4156.3" font-family="Arial" font-size="14.00">failed_executions : int</text>
<text text-anchor="start" x="24626.5" y="-4141.3" font-family="Arial" font-size="14.00">failure_rate : float</text>
<text text-anchor="start" x="24626.5" y="-4126.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="24626.5" y="-4111.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="24626.5" y="-4096.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="24626.5" y="-4081.3" font-family="Arial" font-size="14.00">raw_count : int</text>
<text text-anchor="start" x="24626.5" y="-4066.3" font-family="Arial" font-size="14.00">rollup_count : int</text>
<text text-anchor="start" x="24626.5" y="-4051.3" font-family="Arial" font-size="14.00">successful_executions : int</text>
<text text-anchor="start" x="24626.5" y="-4036.3" font-family="Arial" font-size="14.00">total_executions : int</text>
<polyline fill="none" stroke="#ffaabb" points="24618.5,-4028.5 24877.5,-4028.5 "/>
<text text-anchor="start" x="24682" y="-4013.3" font-family="Arial" font-size="14.00">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.common.models.Annotations -->
<g id="node27" class="node">
<title>mcpgateway.common.models.Annotations</title>
<polygon fill="white" stroke="#44bb99" points="24895.5,-4050.5 24895.5,-4164.5 25092.5,-4164.5 25092.5,-4050.5 24895.5,-4050.5"/>
<text text-anchor="start" x="24958" y="-4149.3" font-family="Arial" font-size="14.00">Annotations</text>
<polyline fill="none" stroke="#44bb99" points="24895.5,-4141.5 25092.5,-4141.5 "/>
<text text-anchor="start" x="24903.5" y="-4126.3" font-family="Arial" font-size="14.00">audience : Optional[List[Role]]</text>
<text text-anchor="start" x="24903.5" y="-4111.3" font-family="Arial" font-size="14.00">last_modified : Optional[str]</text>
<text text-anchor="start" x="24903.5" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="24903.5" y="-4081.3" font-family="Arial" font-size="14.00">priority : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="24895.5,-4073.5 25092.5,-4073.5 "/>
<text text-anchor="start" x="24992" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.AnthropicConfig -->
<g id="node28" class="node">
<title>mcpgateway.llm_provider_configs.AnthropicConfig</title>
<polygon fill="white" stroke="#77aadd" points="25111,-4073 25111,-4142 25319,-4142 25319,-4073 25111,-4073"/>
<text text-anchor="start" x="25166.5" y="-4126.8" font-family="Arial" font-size="14.00">AnthropicConfig</text>
<polyline fill="none" stroke="#77aadd" points="25111,-4119 25319,-4119 "/>
<text text-anchor="start" x="25119" y="-4103.8" font-family="Arial" font-size="14.00">anthropic_version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="25111,-4096 25319,-4096 "/>
<text text-anchor="start" x="25213" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicConfig -->
<g id="node29" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicConfig</title>
<polygon fill="white" stroke="#ffaabb" points="25337.5,-4028 25337.5,-4187 25522.5,-4187 25522.5,-4028 25337.5,-4028"/>
<text text-anchor="start" x="25381.5" y="-4171.8" font-family="Arial" font-size="14.00">AnthropicConfig</text>
<polyline fill="none" stroke="#ffaabb" points="25337.5,-4164 25522.5,-4164 "/>
<text text-anchor="start" x="25345.5" y="-4148.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="25345.5" y="-4133.8" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="25345.5" y="-4118.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="25345.5" y="-4103.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="25345.5" y="-4088.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="25345.5" y="-4073.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="25345.5" y="-4058.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="25337.5,-4051 25522.5,-4051 "/>
<text text-anchor="start" x="25428" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicProvider -->
<g id="node30" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicProvider</title>
<polygon fill="white" stroke="#ffaabb" points="25235.5,-8416.5 25235.5,-8500.5 25624.5,-8500.5 25624.5,-8416.5 25235.5,-8416.5"/>
<text text-anchor="start" x="25376" y="-8485.3" font-family="Arial" font-size="14.00">AnthropicProvider</text>
<polyline fill="none" stroke="#ffaabb" points="25235.5,-8477.5 25624.5,-8477.5 "/>
<text text-anchor="start" x="25411.5" y="-8462.3" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="25235.5,-8454.5 25624.5,-8454.5 "/>
<text text-anchor="start" x="25243.5" y="-8439.3" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatAnthropic, AnthropicLLM]</text>
<text text-anchor="start" x="25243.5" y="-8424.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AnthropicProvider -->
<g id="edge192" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AnthropicProvider</title>
<path fill="none" stroke="gray" d="M25430,-4187.23C25430,-4733.46 25430,-7950.52 25430,-8404.3"/>
<polygon fill="none" stroke="gray" points="25430,-8404.32 25434,-8410.32 25430,-8416.32 25426,-8410.32 25430,-8404.32"/>
<text text-anchor="middle" x="25448.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.AppliedTo -->
<g id="node31" class="node">
<title>mcpgateway.plugins.framework.models.AppliedTo</title>
<polygon fill="white" stroke="#ee8866" points="25675.5,-4058 25675.5,-4157 25958.5,-4157 25958.5,-4058 25675.5,-4058"/>
<text text-anchor="start" x="25787" y="-4141.8" font-family="Arial" font-size="14.00">AppliedTo</text>
<polyline fill="none" stroke="#ee8866" points="25675.5,-4134 25958.5,-4134 "/>
<text text-anchor="start" x="25683.5" y="-4118.8" font-family="Arial" font-size="14.00">prompts : Optional[list[PromptTemplate]]</text>
<text text-anchor="start" x="25683.5" y="-4103.8" font-family="Arial" font-size="14.00">resources : Optional[list[ResourceTemplate]]</text>
<text text-anchor="start" x="25683.5" y="-4088.8" font-family="Arial" font-size="14.00">tools : Optional[list[ToolTemplate]]</text>
<polyline fill="none" stroke="#ee8866" points="25675.5,-4081 25958.5,-4081 "/>
<text text-anchor="start" x="25815" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.argon2_service.Argon2PasswordService -->
<g id="node32" class="node">
<title>mcpgateway.services.argon2_service.Argon2PasswordService</title>
<polygon fill="white" stroke="#ffaabb" points="26111.5,-4013 26111.5,-4202 26488.5,-4202 26488.5,-4013 26111.5,-4013"/>
<text text-anchor="start" x="26226" y="-4186.8" font-family="Arial" font-size="14.00">Argon2PasswordService</text>
<polyline fill="none" stroke="#ffaabb" points="26111.5,-4179 26488.5,-4179 "/>
<text text-anchor="start" x="26222" y="-4163.8" font-family="Arial" font-size="14.00">hasher : PasswordHasher</text>
<text text-anchor="start" x="26222" y="-4148.8" font-family="Arial" font-size="14.00">memory_cost</text>
<text text-anchor="start" x="26222" y="-4133.8" font-family="Arial" font-size="14.00">parallelism</text>
<text text-anchor="start" x="26222" y="-4118.8" font-family="Arial" font-size="14.00">time_cost</text>
<polyline fill="none" stroke="#ffaabb" points="26111.5,-4111 26488.5,-4111 "/>
<text text-anchor="start" x="26119.5" y="-4095.8" font-family="Arial" font-size="14.00">get_hash_info(hash_value: str): Optional[dict]</text>
<text text-anchor="start" x="26119.5" y="-4080.8" font-family="Arial" font-size="14.00">hash_password(password: str): str</text>
<text text-anchor="start" x="26119.5" y="-4065.8" font-family="Arial" font-size="14.00">hash_password_async(password: str): str</text>
<text text-anchor="start" x="26119.5" y="-4050.8" font-family="Arial" font-size="14.00">needs_rehash(hash_value: str): bool</text>
<text text-anchor="start" x="26119.5" y="-4035.8" font-family="Arial" font-size="14.00">verify_password(password: str, hash_value: str): bool</text>
<text text-anchor="start" x="26119.5" y="-4020.8" font-family="Arial" font-size="14.00">verify_password_async(password: str, hash_value: str): bool</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailAuthService -->
<g id="node124" class="node">
<title>mcpgateway.services.email_auth_service.EmailAuthService</title>
<polygon fill="white" stroke="#ffaabb" points="25643,-8266.5 25643,-8650.5 26957,-8650.5 26957,-8266.5 25643,-8266.5"/>
<text text-anchor="start" x="26246" y="-8635.3" font-family="Arial" font-size="14.00">EmailAuthService</text>
<polyline fill="none" stroke="#ffaabb" points="25643,-8627.5 26957,-8627.5 "/>
<text text-anchor="start" x="26178" y="-8612.3" font-family="Arial" font-size="14.00">db</text>
<text text-anchor="start" x="26178" y="-8597.3" font-family="Arial" font-size="14.00">get_all_users_deprecated_warned : bool</text>
<text text-anchor="start" x="26178" y="-8582.3" font-family="Arial" font-size="14.00">password_service</text>
<text text-anchor="start" x="26178" y="-8567.3" font-family="Arial" font-size="14.00">role_service</text>
<polyline fill="none" stroke="#ffaabb" points="25643,-8559.5 26957,-8559.5 "/>
<text text-anchor="start" x="25651" y="-8544.3" font-family="Arial" font-size="14.00">activate_user(email: str): EmailUser</text>
<text text-anchor="start" x="25651" y="-8529.3" font-family="Arial" font-size="14.00">authenticate_user(email: str, password: str, ip_address: Optional[str], user_agent: Optional[str]): Optional[EmailUser]</text>
<text text-anchor="start" x="25651" y="-8514.3" font-family="Arial" font-size="14.00">change_password(email: str, old_password: Optional[str], new_password: str, ip_address: Optional[str], user_agent: Optional[str]): bool</text>
<text text-anchor="start" x="25651" y="-8499.3" font-family="Arial" font-size="14.00">count_active_admin_users(): int</text>
<text text-anchor="start" x="25651" y="-8484.3" font-family="Arial" font-size="14.00">count_users(): int</text>
<text text-anchor="start" x="25651" y="-8469.3" font-family="Arial" font-size="14.00">create_platform_admin(email: str, password: str, full_name: Optional[str]): EmailUser</text>
<text text-anchor="start" x="25651" y="-8454.3" font-family="Arial" font-size="14.00">create_user(email: str, password: str, full_name: Optional[str], is_admin: bool, is_active: bool, password_change_required: bool, auth_provider: str, skip_password_validation: bool, granted_by: Optional[str]): EmailUser</text>
<text text-anchor="start" x="25651" y="-8439.3" font-family="Arial" font-size="14.00">deactivate_user(email: str): EmailUser</text>
<text text-anchor="start" x="25651" y="-8424.3" font-family="Arial" font-size="14.00">delete_user(email: str): bool</text>
<text text-anchor="start" x="25651" y="-8409.3" font-family="Arial" font-size="14.00">get_all_users(): list[EmailUser]</text>
<text text-anchor="start" x="25651" y="-8394.3" font-family="Arial" font-size="14.00">get_auth_events(email: Optional[str], limit: int, offset: int): list[EmailAuthEvent]</text>
<text text-anchor="start" x="25651" y="-8379.3" font-family="Arial" font-size="14.00">get_user_by_email(email: str): Optional[EmailUser]</text>
<text text-anchor="start" x="25651" y="-8364.3" font-family="Arial" font-size="14.00">is_last_active_admin(email: str): bool</text>
<text text-anchor="start" x="25651" y="-8349.3" font-family="Arial" font-size="14.00">list_users(limit: Optional[int], cursor: Optional[str], page: Optional[int], per_page: Optional[int], search: Optional[str]): UsersListResult</text>
<text text-anchor="start" x="25651" y="-8334.3" font-family="Arial" font-size="14.00">list_users_not_in_team(team_id: str, cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], search: Optional[str]): UsersListResult</text>
<text text-anchor="start" x="25651" y="-8319.3" font-family="Arial" font-size="14.00">update_last_login(email: str): None</text>
<text text-anchor="start" x="25651" y="-8304.3" font-family="Arial" font-size="14.00">update_user(email: str, full_name: Optional[str], is_admin: Optional[bool], is_active: Optional[bool], password_change_required: Optional[bool], password: Optional[str], admin_origin_source: Optional[str]): EmailUser</text>
<text text-anchor="start" x="25651" y="-8289.3" font-family="Arial" font-size="14.00">validate_email(email: str): bool</text>
<text text-anchor="start" x="25651" y="-8274.3" font-family="Arial" font-size="14.00">validate_password(password: str): bool</text>
</g>
<!-- mcpgateway.services.argon2_service.Argon2PasswordService&#45;&gt;mcpgateway.services.email_auth_service.EmailAuthService -->
<g id="edge169" class="edge">
<title>mcpgateway.services.argon2_service.Argon2PasswordService&#45;&gt;mcpgateway.services.email_auth_service.EmailAuthService</title>
<path fill="none" stroke="gray" d="M26300,-4202.11C26300,-4744.05 26300,-7482.03 26300,-8254.39"/>
<polygon fill="gray" stroke="gray" points="26300,-8254.45 26304,-8260.45 26300,-8266.45 26296,-8260.45 26300,-8254.45"/>
<text text-anchor="middle" x="26354.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">password_service</text>
</g>
<!-- mcpgateway.common.models.AudioContent -->
<g id="node33" class="node">
<title>mcpgateway.common.models.AudioContent</title>
<polygon fill="white" stroke="#44bb99" points="26506.5,-4043 26506.5,-4172 26733.5,-4172 26733.5,-4043 26506.5,-4043"/>
<text text-anchor="start" x="26579" y="-4156.8" font-family="Arial" font-size="14.00">AudioContent</text>
<polyline fill="none" stroke="#44bb99" points="26506.5,-4149 26733.5,-4149 "/>
<text text-anchor="start" x="26514.5" y="-4133.8" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="26514.5" y="-4118.8" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="26514.5" y="-4103.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="26514.5" y="-4088.8" font-family="Arial" font-size="14.00">mime_type : str</text>
<text text-anchor="start" x="26514.5" y="-4073.8" font-family="Arial" font-size="14.00">type : Literal[&#39;audio&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="26506.5,-4066 26733.5,-4066 "/>
<text text-anchor="start" x="26618" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.audit_trail_service.AuditAction -->
<g id="node34" class="node">
<title>mcpgateway.services.audit_trail_service.AuditAction</title>
<polygon fill="white" stroke="#ffaabb" points="26751.5,-4073 26751.5,-4142 26836.5,-4142 26836.5,-4073 26751.5,-4073"/>
<text text-anchor="start" x="26759.5" y="-4126.8" font-family="Arial" font-size="14.00">AuditAction</text>
<polyline fill="none" stroke="#ffaabb" points="26751.5,-4119 26836.5,-4119 "/>
<text text-anchor="start" x="26776.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="26751.5,-4096 26836.5,-4096 "/>
<text text-anchor="start" x="26792" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.AuditTrail -->
<g id="node35" class="node">
<title>mcpgateway.db.AuditTrail</title>
<polygon fill="white" stroke="#77aadd" points="928,-3908 928,-4307 1218,-4307 1218,-3908 928,-3908"/>
<text text-anchor="start" x="1044" y="-4291.8" font-family="Arial" font-size="14.00">AuditTrail</text>
<polyline fill="none" stroke="#77aadd" points="928,-4284 1218,-4284 "/>
<text text-anchor="start" x="936" y="-4268.8" font-family="Arial" font-size="14.00">action : Mapped[str]</text>
<text text-anchor="start" x="936" y="-4253.8" font-family="Arial" font-size="14.00">changes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4238.8" font-family="Arial" font-size="14.00">client_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4223.8" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4208.8" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4193.8" font-family="Arial" font-size="14.00">data_classification : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4178.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4163.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="936" y="-4148.8" font-family="Arial" font-size="14.00">new_values : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4133.8" font-family="Arial" font-size="14.00">old_values : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4118.8" font-family="Arial" font-size="14.00">request_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4103.8" font-family="Arial" font-size="14.00">request_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4088.8" font-family="Arial" font-size="14.00">request_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4073.8" font-family="Arial" font-size="14.00">requires_review : Mapped[bool]</text>
<text text-anchor="start" x="936" y="-4058.8" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4043.8" font-family="Arial" font-size="14.00">resource_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4028.8" font-family="Arial" font-size="14.00">resource_type : Mapped[str]</text>
<text text-anchor="start" x="936" y="-4013.8" font-family="Arial" font-size="14.00">success : Mapped[bool]</text>
<text text-anchor="start" x="936" y="-3998.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3983.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="936" y="-3968.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3953.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3938.8" font-family="Arial" font-size="14.00">user_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="928,-3931 1218,-3931 "/>
<text text-anchor="start" x="1071" y="-3915.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.AuditTrail&#45;&gt;mcpgateway.db.Base -->
<g id="edge14" class="edge">
<title>mcpgateway.db.AuditTrail&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1065.37,-4307.12C1037.3,-5089.68 954.95,-7930.99 1227,-8215 1372.2,-8366.59 8343.08,-8447.43 9181.73,-8456.62"/>
<polygon fill="none" stroke="gray" points="9181.86,-8460.12 9191.89,-8456.73 9181.93,-8453.12 9181.86,-8460.12"/>
</g>
<!-- mcpgateway.services.audit_trail_service.AuditTrailService -->
<g id="node36" class="node">
<title>mcpgateway.services.audit_trail_service.AuditTrailService</title>
<polygon fill="white" stroke="#ffaabb" points="26854.5,-4042.1 26854.5,-4172.9 30549.5,-4172.9 30549.5,-4042.1 26854.5,-4042.1"/>
<text text-anchor="start" x="28650.5" y="-4157.7" font-family="Arial" font-size="14.00">AuditTrailService</text>
<polyline fill="none" stroke="#ffaabb" points="26854.5,-4149.9 30549.5,-4149.9 "/>
<polyline fill="none" stroke="#ffaabb" points="26854.5,-4125.1 30549.5,-4125.1 "/>
<text text-anchor="start" x="26862.5" y="-4109.9" font-family="Arial" font-size="14.00">get_audit_trail(resource_type: Optional[str], resource_id: Optional[str], user_id: Optional[str], action: Optional[str], start_time: Optional[datetime], end_time: Optional[datetime], limit: int, offset: int, db: Optional[Session]): list[AuditTrail]</text>
<text text-anchor="start" x="26862.5" y="-4094.9" font-family="Arial" font-size="14.00">log_action(action: str, resource_type: str, resource_id: str, user_id: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], client_ip: Optional[str], user_agent: Optional[str], request_path: Optional[str], request_method: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], changes: Optional[Dict[str, Any]], data_classification: Optional[str], requires_review: Optional[bool], success: bool, error_message: Optional[str], context: Optional[Dict[str, Any]], details: Optional[Dict[str, Any]], metadata: Optional[Dict[str, Any]], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26862.5" y="-4079.9" font-family="Arial" font-size="14.00">log_audit(user_id: str, resource_type: str, resource_id: str, action: str, user_email: Optional[str], description: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26862.5" y="-4064.9" font-family="Arial" font-size="14.00">log_crud_operation(operation: str, resource_type: str, resource_id: str, user_id: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], success: bool, error_message: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26862.5" y="-4049.9" font-family="Arial" font-size="14.00">log_data_access(resource_type: str, resource_id: str, user_id: str, access_type: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], data_classification: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
</g>
<!-- mcpgateway.cache.auth_cache.AuthCache -->
<g id="node37" class="node">
<title>mcpgateway.cache.auth_cache.AuthCache</title>
<polygon fill="white" stroke="#99ddff" points="30568,-3914.6 30568,-4300.4 31114,-4300.4 31114,-3914.6 30568,-3914.6"/>
<text text-anchor="start" x="30807.5" y="-4285.2" font-family="Arial" font-size="14.00">AuthCache</text>
<polyline fill="none" stroke="#99ddff" points="30568,-4277.4 31114,-4277.4 "/>
<polyline fill="none" stroke="#99ddff" points="30568,-4252.6 31114,-4252.6 "/>
<text text-anchor="start" x="30576" y="-4237.4" font-family="Arial" font-size="14.00">get_auth_context(email: str, jti: Optional[str]): Optional[CachedAuthContext]</text>
<text text-anchor="start" x="30576" y="-4222.4" font-family="Arial" font-size="14.00">get_team_membership_valid(user_email: str, team_ids: List[str]): Optional[bool]</text>
<text text-anchor="start" x="30576" y="-4207.4" font-family="Arial" font-size="14.00">get_team_membership_valid_sync(user_email: str, team_ids: List[str]): Optional[bool]</text>
<text text-anchor="start" x="30576" y="-4192.4" font-family="Arial" font-size="14.00">get_user_role(email: str, team_id: str): Optional[str]</text>
<text text-anchor="start" x="30576" y="-4177.4" font-family="Arial" font-size="14.00">get_user_teams(cache_key: str): Optional[List[str]]</text>
<text text-anchor="start" x="30576" y="-4162.4" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="30576" y="-4147.4" font-family="Arial" font-size="14.00">invalidate_revocation(jti: str): None</text>
<text text-anchor="start" x="30576" y="-4132.4" font-family="Arial" font-size="14.00">invalidate_team(email: str): None</text>
<text text-anchor="start" x="30576" y="-4117.4" font-family="Arial" font-size="14.00">invalidate_team_membership(user_email: str): None</text>
<text text-anchor="start" x="30576" y="-4102.4" font-family="Arial" font-size="14.00">invalidate_team_roles(team_id: str): None</text>
<text text-anchor="start" x="30576" y="-4087.4" font-family="Arial" font-size="14.00">invalidate_user(email: str): None</text>
<text text-anchor="start" x="30576" y="-4072.4" font-family="Arial" font-size="14.00">invalidate_user_role(email: str, team_id: str): None</text>
<text text-anchor="start" x="30576" y="-4057.4" font-family="Arial" font-size="14.00">invalidate_user_teams(email: str): None</text>
<text text-anchor="start" x="30576" y="-4042.4" font-family="Arial" font-size="14.00">is_token_revoked(jti: str): Optional[bool]</text>
<text text-anchor="start" x="30576" y="-4027.4" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="30576" y="-4012.4" font-family="Arial" font-size="14.00">set_auth_context(email: str, jti: Optional[str], context: CachedAuthContext): None</text>
<text text-anchor="start" x="30576" y="-3997.4" font-family="Arial" font-size="14.00">set_team_membership_valid(user_email: str, team_ids: List[str], valid: bool): None</text>
<text text-anchor="start" x="30576" y="-3982.4" font-family="Arial" font-size="14.00">set_team_membership_valid_sync(user_email: str, team_ids: List[str], valid: bool): None</text>
<text text-anchor="start" x="30576" y="-3967.4" font-family="Arial" font-size="14.00">set_user_role(email: str, team_id: str, role: Optional[str]): None</text>
<text text-anchor="start" x="30576" y="-3952.4" font-family="Arial" font-size="14.00">set_user_teams(cache_key: str, team_ids: List[str]): None</text>
<text text-anchor="start" x="30576" y="-3937.4" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
<text text-anchor="start" x="30576" y="-3922.4" font-family="Arial" font-size="14.00">sync_revoked_tokens(): None</text>
</g>
<!-- mcpgateway.middleware.auth_middleware.AuthContextMiddleware -->
<g id="node38" class="node">
<title>mcpgateway.middleware.auth_middleware.AuthContextMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="31132,-4072.1 31132,-4142.9 31496,-4142.9 31496,-4072.1 31132,-4072.1"/>
<text text-anchor="start" x="31241.5" y="-4127.7" font-family="Arial" font-size="14.00">AuthContextMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="31132,-4119.9 31496,-4119.9 "/>
<polyline fill="none" stroke="#eedd88" points="31132,-4095.1 31496,-4095.1 "/>
<text text-anchor="start" x="31140" y="-4079.9" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.schemas.AuthEventResponse -->
<g id="node39" class="node">
<title>mcpgateway.schemas.AuthEventResponse</title>
<polygon fill="white" stroke="#77aadd" points="31514.5,-4020.5 31514.5,-4194.5 31717.5,-4194.5 31717.5,-4020.5 31514.5,-4020.5"/>
<text text-anchor="start" x="31554" y="-4179.3" font-family="Arial" font-size="14.00">AuthEventResponse</text>
<polyline fill="none" stroke="#77aadd" points="31514.5,-4171.5 31717.5,-4171.5 "/>
<text text-anchor="start" x="31522.5" y="-4156.3" font-family="Arial" font-size="14.00">event_type : Optional[str]</text>
<text text-anchor="start" x="31522.5" y="-4141.3" font-family="Arial" font-size="14.00">failure_reason : Optional[str]</text>
<text text-anchor="start" x="31522.5" y="-4126.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="31522.5" y="-4111.3" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="31522.5" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="31522.5" y="-4081.3" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<text text-anchor="start" x="31522.5" y="-4066.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="31522.5" y="-4051.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="31514.5,-4043.5 31717.5,-4043.5 "/>
<text text-anchor="start" x="31614" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cli_export_import.AuthenticationError -->
<g id="node40" class="node">
<title>mcpgateway.cli_export_import.AuthenticationError</title>
<polygon fill="white" stroke="#77aadd" points="31736,-4072.1 31736,-4142.9 31868,-4142.9 31868,-4072.1 31736,-4072.1"/>
<text text-anchor="start" x="31744" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">AuthenticationError</text>
<polyline fill="none" stroke="#77aadd" points="31736,-4119.9 31868,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="31736,-4095.1 31868,-4095.1 "/>
<text text-anchor="start" x="31800" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.cli_export_import.CLIError -->
<g id="node55" class="node">
<title>mcpgateway.cli_export_import.CLIError</title>
<polygon fill="white" stroke="#77aadd" points="31768,-8423.1 31768,-8493.9 31836,-8493.9 31836,-8423.1 31768,-8423.1"/>
<text text-anchor="start" x="31776" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">CLIError</text>
<polyline fill="none" stroke="#77aadd" points="31768,-8470.9 31836,-8470.9 "/>
<polyline fill="none" stroke="#77aadd" points="31768,-8446.1 31836,-8446.1 "/>
<text text-anchor="start" x="31800" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.cli_export_import.AuthenticationError&#45;&gt;mcpgateway.cli_export_import.CLIError -->
<g id="edge2" class="edge">
<title>mcpgateway.cli_export_import.AuthenticationError&#45;&gt;mcpgateway.cli_export_import.CLIError</title>
<path fill="none" stroke="gray" d="M31802,-4143.19C31802,-4527.25 31802,-7979.28 31802,-8412.83"/>
<polygon fill="none" stroke="gray" points="31798.5,-8413.08 31802,-8423.08 31805.5,-8413.08 31798.5,-8413.08"/>
</g>
<!-- mcpgateway.services.email_auth_service.AuthenticationError -->
<g id="node41" class="node">
<title>mcpgateway.services.email_auth_service.AuthenticationError</title>
<polygon fill="white" stroke="#ffaabb" points="31886,-4072.1 31886,-4142.9 32018,-4142.9 32018,-4072.1 31886,-4072.1"/>
<text text-anchor="start" x="31894" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">AuthenticationError</text>
<polyline fill="none" stroke="#ffaabb" points="31886,-4119.9 32018,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="31886,-4095.1 32018,-4095.1 "/>
<text text-anchor="start" x="31950" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.AuthenticationResponse -->
<g id="node42" class="node">
<title>mcpgateway.schemas.AuthenticationResponse</title>
<polygon fill="white" stroke="#77aadd" points="32036,-4050.5 32036,-4164.5 32272,-4164.5 32272,-4050.5 32036,-4050.5"/>
<text text-anchor="start" x="32080.5" y="-4149.3" font-family="Arial" font-size="14.00">AuthenticationResponse</text>
<polyline fill="none" stroke="#77aadd" points="32036,-4141.5 32272,-4141.5 "/>
<text text-anchor="start" x="32044" y="-4126.3" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="32044" y="-4111.3" font-family="Arial" font-size="14.00">expires_in : Optional[int]</text>
<text text-anchor="start" x="32044" y="-4096.3" font-family="Arial" font-size="14.00">token_type : Optional[str]</text>
<text text-anchor="start" x="32044" y="-4081.3" font-family="Arial" font-size="14.00">user : Optional[EmailUserResponse]</text>
<polyline fill="none" stroke="#77aadd" points="32036,-4073.5 32272,-4073.5 "/>
<text text-anchor="start" x="32152" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.AuthenticationValues -->
<g id="node43" class="node">
<title>mcpgateway.schemas.AuthenticationValues</title>
<polygon fill="white" stroke="#77aadd" points="32290.5,-4028 32290.5,-4187 32507.5,-4187 32507.5,-4028 32290.5,-4028"/>
<text text-anchor="start" x="32335.5" y="-4171.8" font-family="Arial" font-size="14.00">AuthenticationValues</text>
<polyline fill="none" stroke="#77aadd" points="32290.5,-4164 32507.5,-4164 "/>
<text text-anchor="start" x="32298.5" y="-4148.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4133.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4118.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4103.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4088.8" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4073.8" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<text text-anchor="start" x="32298.5" y="-4058.8" font-family="Arial" font-size="14.00">username : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="32290.5,-4051 32507.5,-4051 "/>
<text text-anchor="start" x="32397" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.AzureOpenAIConfig -->
<g id="node44" class="node">
<title>mcpgateway.llm_provider_configs.AzureOpenAIConfig</title>
<polygon fill="white" stroke="#77aadd" points="32526,-4058 32526,-4157 32740,-4157 32740,-4058 32526,-4058"/>
<text text-anchor="start" x="32572.5" y="-4141.8" font-family="Arial" font-size="14.00">AzureOpenAIConfig</text>
<polyline fill="none" stroke="#77aadd" points="32526,-4134 32740,-4134 "/>
<text text-anchor="start" x="32534" y="-4118.8" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="32534" y="-4103.8" font-family="Arial" font-size="14.00">deployment_name : Optional[str]</text>
<text text-anchor="start" x="32534" y="-4088.8" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="32526,-4081 32740,-4081 "/>
<text text-anchor="start" x="32631" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig -->
<g id="node45" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig</title>
<polygon fill="white" stroke="#ffaabb" points="32757.5,-4005.5 32757.5,-4209.5 32970.5,-4209.5 32970.5,-4005.5 32757.5,-4005.5"/>
<text text-anchor="start" x="32803.5" y="-4194.3" font-family="Arial" font-size="14.00">AzureOpenAIConfig</text>
<polyline fill="none" stroke="#ffaabb" points="32757.5,-4186.5 32970.5,-4186.5 "/>
<text text-anchor="start" x="32765.5" y="-4171.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="32765.5" y="-4156.3" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="32765.5" y="-4141.3" font-family="Arial" font-size="14.00">azure_deployment : Optional[str]</text>
<text text-anchor="start" x="32765.5" y="-4126.3" font-family="Arial" font-size="14.00">azure_endpoint : Optional[str]</text>
<text text-anchor="start" x="32765.5" y="-4111.3" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="32765.5" y="-4096.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="32765.5" y="-4081.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="32765.5" y="-4066.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="32765.5" y="-4051.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="32765.5" y="-4036.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="32757.5,-4028.5 32970.5,-4028.5 "/>
<text text-anchor="start" x="32862" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider -->
<g id="node46" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider</title>
<polygon fill="white" stroke="#ffaabb" points="32658,-8416.5 32658,-8500.5 33070,-8500.5 33070,-8416.5 32658,-8416.5"/>
<text text-anchor="start" x="32797.5" y="-8485.3" font-family="Arial" font-size="14.00">AzureOpenAIProvider</text>
<polyline fill="none" stroke="#ffaabb" points="32658,-8477.5 33070,-8477.5 "/>
<text text-anchor="start" x="32845.5" y="-8462.3" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="32658,-8454.5 33070,-8454.5 "/>
<text text-anchor="start" x="32666" y="-8439.3" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[AzureChatOpenAI, AzureOpenAI]</text>
<text text-anchor="start" x="32666" y="-8424.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider -->
<g id="edge193" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider</title>
<path fill="none" stroke="gray" d="M32864,-4209.6C32864,-4815.63 32864,-7955.69 32864,-8404.16"/>
<polygon fill="none" stroke="gray" points="32864,-8404.34 32868,-8410.34 32864,-8416.34 32860,-8410.34 32864,-8404.34"/>
<text text-anchor="middle" x="32882.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="node48" class="node">
<title>mcpgateway.plugins.framework.models.BaseTemplate</title>
<polygon fill="white" stroke="#ee8866" points="33130,-8416.5 33130,-8500.5 33354,-8500.5 33354,-8416.5 33130,-8416.5"/>
<text text-anchor="start" x="33198.5" y="-8485.3" font-family="Arial" font-size="14.00">BaseTemplate</text>
<polyline fill="none" stroke="#ee8866" points="33130,-8477.5 33354,-8477.5 "/>
<text text-anchor="start" x="33138" y="-8462.3" font-family="Arial" font-size="14.00">context : Optional[list[str]]</text>
<text text-anchor="start" x="33138" y="-8447.3" font-family="Arial" font-size="14.00">extensions : Optional[dict[str, Any]]</text>
<polyline fill="none" stroke="#ee8866" points="33130,-8439.5 33354,-8439.5 "/>
<text text-anchor="start" x="33240" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.BlobResourceContents -->
<g id="node49" class="node">
<title>mcpgateway.common.models.BlobResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33513.5,-4073 33513.5,-4142 33668.5,-4142 33668.5,-4073 33513.5,-4073"/>
<text text-anchor="start" x="33521.5" y="-4126.8" font-family="Arial" font-size="14.00">BlobResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33513.5,-4119 33668.5,-4119 "/>
<text text-anchor="start" x="33565" y="-4103.8" font-family="Arial" font-size="14.00">blob : str</text>
<polyline fill="none" stroke="#44bb99" points="33513.5,-4096 33668.5,-4096 "/>
<text text-anchor="start" x="33589" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceContents -->
<g id="node451" class="node">
<title>mcpgateway.common.models.ResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33581,-8409 33581,-8508 33773,-8508 33773,-8409 33581,-8409"/>
<text text-anchor="start" x="33621" y="-8492.8" font-family="Arial" font-size="14.00">ResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33581,-8485 33773,-8485 "/>
<text text-anchor="start" x="33589" y="-8469.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="33589" y="-8454.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="33589" y="-8439.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="33581,-8432 33773,-8432 "/>
<text text-anchor="start" x="33675" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.BlobResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents -->
<g id="edge3" class="edge">
<title>mcpgateway.common.models.BlobResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents</title>
<path fill="none" stroke="gray" d="M33591.67,-4142.25C33599.09,-4517.68 33666.15,-7908.68 33675.84,-8398.61"/>
<polygon fill="none" stroke="gray" points="33672.34,-8398.72 33676.03,-8408.65 33679.34,-8398.58 33672.34,-8398.72"/>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedA2AAgentMetric -->
<g id="node50" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedA2AAgentMetric</title>
<polygon fill="white" stroke="#ffaabb" points="33857.5,-4035.5 33857.5,-4179.5 34050.5,-4179.5 34050.5,-4035.5 33857.5,-4035.5"/>
<text text-anchor="start" x="33879" y="-4164.3" font-family="Arial" font-size="14.00">BufferedA2AAgentMetric</text>
<polyline fill="none" stroke="#ffaabb" points="33857.5,-4156.5 34050.5,-4156.5 "/>
<text text-anchor="start" x="33865.5" y="-4141.3" font-family="Arial" font-size="14.00">a2a_agent_id : str</text>
<text text-anchor="start" x="33865.5" y="-4126.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="33865.5" y="-4111.3" font-family="Arial" font-size="14.00">interaction_type : str</text>
<text text-anchor="start" x="33865.5" y="-4096.3" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="33865.5" y="-4081.3" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="33865.5" y="-4066.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="33857.5,-4058.5 34050.5,-4058.5 "/>
<text text-anchor="start" x="33952" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedPromptMetric -->
<g id="node51" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedPromptMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34068.5,-4043 34068.5,-4172 34261.5,-4172 34261.5,-4043 34068.5,-4043"/>
<text text-anchor="start" x="34098.5" y="-4156.8" font-family="Arial" font-size="14.00">BufferedPromptMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34068.5,-4149 34261.5,-4149 "/>
<text text-anchor="start" x="34076.5" y="-4133.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34076.5" y="-4118.8" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34076.5" y="-4103.8" font-family="Arial" font-size="14.00">prompt_id : str</text>
<text text-anchor="start" x="34076.5" y="-4088.8" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34076.5" y="-4073.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="34068.5,-4066 34261.5,-4066 "/>
<text text-anchor="start" x="34163" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedResourceMetric -->
<g id="node52" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedResourceMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34279.5,-4043 34279.5,-4172 34472.5,-4172 34472.5,-4043 34279.5,-4043"/>
<text text-anchor="start" x="34302.5" y="-4156.8" font-family="Arial" font-size="14.00">BufferedResourceMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34279.5,-4149 34472.5,-4149 "/>
<text text-anchor="start" x="34287.5" y="-4133.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34287.5" y="-4118.8" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34287.5" y="-4103.8" font-family="Arial" font-size="14.00">resource_id : str</text>
<text text-anchor="start" x="34287.5" y="-4088.8" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34287.5" y="-4073.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="34279.5,-4066 34472.5,-4066 "/>
<text text-anchor="start" x="34374" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedServerMetric -->
<g id="node53" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedServerMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34490.5,-4043 34490.5,-4172 34683.5,-4172 34683.5,-4043 34490.5,-4043"/>
<text text-anchor="start" x="34522.5" y="-4156.8" font-family="Arial" font-size="14.00">BufferedServerMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34490.5,-4149 34683.5,-4149 "/>
<text text-anchor="start" x="34498.5" y="-4133.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34498.5" y="-4118.8" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34498.5" y="-4103.8" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34498.5" y="-4088.8" font-family="Arial" font-size="14.00">server_id : str</text>
<text text-anchor="start" x="34498.5" y="-4073.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="34490.5,-4066 34683.5,-4066 "/>
<text text-anchor="start" x="34585" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedToolMetric -->
<g id="node54" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedToolMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34701.5,-4043 34701.5,-4172 34894.5,-4172 34894.5,-4043 34701.5,-4043"/>
<text text-anchor="start" x="34741" y="-4156.8" font-family="Arial" font-size="14.00">BufferedToolMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34701.5,-4149 34894.5,-4149 "/>
<text text-anchor="start" x="34709.5" y="-4133.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34709.5" y="-4118.8" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34709.5" y="-4103.8" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34709.5" y="-4088.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<text text-anchor="start" x="34709.5" y="-4073.8" font-family="Arial" font-size="14.00">tool_id : str</text>
<polyline fill="none" stroke="#ffaabb" points="34701.5,-4066 34894.5,-4066 "/>
<text text-anchor="start" x="34796" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.CORSSettings -->
<g id="node56" class="node">
<title>mcpgateway.config.Settings.CORSSettings</title>
<polygon fill="white" stroke="#44bb99" points="34912.5,-4050.5 34912.5,-4164.5 35157.5,-4164.5 35157.5,-4050.5 34912.5,-4050.5"/>
<text text-anchor="start" x="34990.5" y="-4149.3" font-family="Arial" font-size="14.00">CORSSettings</text>
<polyline fill="none" stroke="#44bb99" points="34912.5,-4141.5 35157.5,-4141.5 "/>
<text text-anchor="start" x="34920.5" y="-4126.3" font-family="Arial" font-size="14.00">allow_credentials : NotRequired[bool]</text>
<text text-anchor="start" x="34920.5" y="-4111.3" font-family="Arial" font-size="14.00">allow_headers : NotRequired[List[str]]</text>
<text text-anchor="start" x="34920.5" y="-4096.3" font-family="Arial" font-size="14.00">allow_methods : NotRequired[List[str]]</text>
<text text-anchor="start" x="34920.5" y="-4081.3" font-family="Arial" font-size="14.00">allow_origins : NotRequired[List[str]]</text>
<polyline fill="none" stroke="#44bb99" points="34912.5,-4073.5 35157.5,-4073.5 "/>
<text text-anchor="start" x="35033" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.tool_lookup_cache.CacheEntry -->
<g id="node57" class="node">
<title>mcpgateway.cache.tool_lookup_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35175.5,-4065.5 35175.5,-4149.5 35310.5,-4149.5 35310.5,-4065.5 35175.5,-4065.5"/>
<text text-anchor="start" x="35207.5" y="-4134.3" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35175.5,-4126.5 35310.5,-4126.5 "/>
<text text-anchor="start" x="35183.5" y="-4111.3" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35183.5" y="-4096.3" font-family="Arial" font-size="14.00">value : Dict[str, Any]</text>
<polyline fill="none" stroke="#99ddff" points="35175.5,-4088.5 35310.5,-4088.5 "/>
<text text-anchor="start" x="35191" y="-4073.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.resource_cache.CacheEntry -->
<g id="node58" class="node">
<title>mcpgateway.cache.resource_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35329,-4065.5 35329,-4149.5 35445,-4149.5 35445,-4065.5 35329,-4065.5"/>
<text text-anchor="start" x="35351.5" y="-4134.3" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35329,-4126.5 35445,-4126.5 "/>
<text text-anchor="start" x="35337" y="-4111.3" font-family="Arial" font-size="14.00">expires_at : float</text>
<text text-anchor="start" x="35337" y="-4096.3" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35329,-4088.5 35445,-4088.5 "/>
<text text-anchor="start" x="35385" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.auth_cache.CacheEntry -->
<g id="node59" class="node">
<title>mcpgateway.cache.auth_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35463,-4065.5 35463,-4149.5 35583,-4149.5 35583,-4065.5 35463,-4065.5"/>
<text text-anchor="start" x="35487.5" y="-4134.3" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35463,-4126.5 35583,-4126.5 "/>
<text text-anchor="start" x="35486.5" y="-4111.3" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35486.5" y="-4096.3" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35463,-4088.5 35583,-4088.5 "/>
<text text-anchor="start" x="35471" y="-4073.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.admin_stats_cache.CacheEntry -->
<g id="node60" class="node">
<title>mcpgateway.cache.admin_stats_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35601,-4065.5 35601,-4149.5 35721,-4149.5 35721,-4065.5 35601,-4065.5"/>
<text text-anchor="start" x="35625.5" y="-4134.3" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35601,-4126.5 35721,-4126.5 "/>
<text text-anchor="start" x="35624.5" y="-4111.3" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35624.5" y="-4096.3" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35601,-4088.5 35721,-4088.5 "/>
<text text-anchor="start" x="35609" y="-4073.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.registry_cache.CacheEntry -->
<g id="node61" class="node">
<title>mcpgateway.cache.registry_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35739,-4065.5 35739,-4149.5 35859,-4149.5 35859,-4065.5 35739,-4065.5"/>
<text text-anchor="start" x="35763.5" y="-4134.3" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35739,-4126.5 35859,-4126.5 "/>
<text text-anchor="start" x="35762.5" y="-4111.3" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35762.5" y="-4096.3" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35739,-4088.5 35859,-4088.5 "/>
<text text-anchor="start" x="35747" y="-4073.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.registry_cache.CacheInvalidationSubscriber -->
<g id="node62" class="node">
<title>mcpgateway.cache.registry_cache.CacheInvalidationSubscriber</title>
<polygon fill="white" stroke="#99ddff" points="35877,-4064.6 35877,-4150.4 36065,-4150.4 36065,-4064.6 35877,-4064.6"/>
<text text-anchor="start" x="35885" y="-4135.2" font-family="Arial" font-size="14.00">CacheInvalidationSubscriber</text>
<polyline fill="none" stroke="#99ddff" points="35877,-4127.4 36065,-4127.4 "/>
<polyline fill="none" stroke="#99ddff" points="35877,-4102.6 36065,-4102.6 "/>
<text text-anchor="start" x="35933" y="-4087.4" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="35933" y="-4072.4" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.schemas.CacheMetricsSchema -->
<g id="node63" class="node">
<title>mcpgateway.schemas.CacheMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="36083,-4020.5 36083,-4194.5 36309,-4194.5 36309,-4020.5 36083,-4020.5"/>
<text text-anchor="start" x="36129" y="-4179.3" font-family="Arial" font-size="14.00">CacheMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="36083,-4171.5 36309,-4171.5 "/>
<text text-anchor="start" x="36091" y="-4156.3" font-family="Arial" font-size="14.00">connected : Optional[bool]</text>
<text text-anchor="start" x="36091" y="-4141.3" font-family="Arial" font-size="14.00">connected_clients : Optional[int]</text>
<text text-anchor="start" x="36091" y="-4126.3" font-family="Arial" font-size="14.00">hit_rate : Optional[float]</text>
<text text-anchor="start" x="36091" y="-4111.3" font-family="Arial" font-size="14.00">keyspace_hits : Optional[int]</text>
<text text-anchor="start" x="36091" y="-4096.3" font-family="Arial" font-size="14.00">keyspace_misses : Optional[int]</text>
<text text-anchor="start" x="36091" y="-4081.3" font-family="Arial" font-size="14.00">ops_per_second : Optional[int]</text>
<text text-anchor="start" x="36091" y="-4066.3" font-family="Arial" font-size="14.00">used_memory_mb : Optional[float]</text>
<text text-anchor="start" x="36091" y="-4051.3" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="36083,-4043.5 36309,-4043.5 "/>
<text text-anchor="start" x="36194" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.auth_cache.CachedAuthContext -->
<g id="node64" class="node">
<title>mcpgateway.cache.auth_cache.CachedAuthContext</title>
<polygon fill="white" stroke="#99ddff" points="36327.5,-4058 36327.5,-4157 36536.5,-4157 36536.5,-4058 36327.5,-4058"/>
<text text-anchor="start" x="36371.5" y="-4141.8" font-family="Arial" font-size="14.00">CachedAuthContext</text>
<polyline fill="none" stroke="#99ddff" points="36327.5,-4134 36536.5,-4134 "/>
<text text-anchor="start" x="36335.5" y="-4118.8" font-family="Arial" font-size="14.00">is_token_revoked : bool</text>
<text text-anchor="start" x="36335.5" y="-4103.8" font-family="Arial" font-size="14.00">personal_team_id : Optional[str]</text>
<text text-anchor="start" x="36335.5" y="-4088.8" font-family="Arial" font-size="14.00">user : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#99ddff" points="36327.5,-4081 36536.5,-4081 "/>
<text text-anchor="start" x="36430" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CallToolResult -->
<g id="node65" class="node">
<title>mcpgateway.common.models.CallToolResult</title>
<polygon fill="white" stroke="#44bb99" points="36554.5,-4050.5 36554.5,-4164.5 36827.5,-4164.5 36827.5,-4050.5 36554.5,-4050.5"/>
<text text-anchor="start" x="36647.5" y="-4149.3" font-family="Arial" font-size="14.00">CallToolResult</text>
<polyline fill="none" stroke="#44bb99" points="36554.5,-4141.5 36827.5,-4141.5 "/>
<text text-anchor="start" x="36562.5" y="-4126.3" font-family="Arial" font-size="14.00">content : List[&#39;ContentBlock&#39;]</text>
<text text-anchor="start" x="36562.5" y="-4111.3" font-family="Arial" font-size="14.00">is_error : Optional[bool]</text>
<text text-anchor="start" x="36562.5" y="-4096.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="36562.5" y="-4081.3" font-family="Arial" font-size="14.00">structured_content : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="36554.5,-4073.5 36827.5,-4073.5 "/>
<text text-anchor="start" x="36689" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.cancellation_service.CancellationService -->
<g id="node66" class="node">
<title>mcpgateway.services.cancellation_service.CancellationService</title>
<polygon fill="white" stroke="#ffaabb" points="36845,-4027.1 36845,-4187.9 37427,-4187.9 37427,-4027.1 36845,-4027.1"/>
<text text-anchor="start" x="37076" y="-4172.7" font-family="Arial" font-size="14.00">CancellationService</text>
<polyline fill="none" stroke="#ffaabb" points="36845,-4164.9 37427,-4164.9 "/>
<polyline fill="none" stroke="#ffaabb" points="36845,-4140.1 37427,-4140.1 "/>
<text text-anchor="start" x="36853" y="-4124.9" font-family="Arial" font-size="14.00">cancel_run(run_id: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="36853" y="-4109.9" font-family="Arial" font-size="14.00">get_status(run_id: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="36853" y="-4094.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="36853" y="-4079.9" font-family="Arial" font-size="14.00">is_registered(run_id: str): bool</text>
<text text-anchor="start" x="36853" y="-4064.9" font-family="Arial" font-size="14.00">register_run(run_id: str, name: Optional[str], cancel_callback: Optional[CancelCallback]): None</text>
<text text-anchor="start" x="36853" y="-4049.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="36853" y="-4034.9" font-family="Arial" font-size="14.00">unregister_run(run_id: str): None</text>
</g>
<!-- mcpgateway.common.models.CancelledNotification -->
<g id="node67" class="node">
<title>mcpgateway.common.models.CancelledNotification</title>
<polygon fill="white" stroke="#44bb99" points="37445,-4058 37445,-4157 37701,-4157 37701,-4058 37445,-4058"/>
<text text-anchor="start" x="37509.5" y="-4141.8" font-family="Arial" font-size="14.00">CancelledNotification</text>
<polyline fill="none" stroke="#44bb99" points="37445,-4134 37701,-4134 "/>
<text text-anchor="start" x="37453" y="-4118.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/cancelled&#39;]</text>
<text text-anchor="start" x="37453" y="-4103.8" font-family="Arial" font-size="14.00">reason : Optional[str]</text>
<text text-anchor="start" x="37453" y="-4088.8" font-family="Arial" font-size="14.00">request_id : Union[str, int]</text>
<polyline fill="none" stroke="#44bb99" points="37445,-4081 37701,-4081 "/>
<text text-anchor="start" x="37571" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogBulkRegisterRequest -->
<g id="node68" class="node">
<title>mcpgateway.schemas.CatalogBulkRegisterRequest</title>
<polygon fill="white" stroke="#77aadd" points="37719,-4065.5 37719,-4149.5 37911,-4149.5 37911,-4065.5 37719,-4065.5"/>
<text text-anchor="start" x="37728" y="-4134.3" font-family="Arial" font-size="14.00">CatalogBulkRegisterRequest</text>
<polyline fill="none" stroke="#77aadd" points="37719,-4126.5 37911,-4126.5 "/>
<text text-anchor="start" x="37727" y="-4111.3" font-family="Arial" font-size="14.00">server_ids : Optional[List[str]]</text>
<text text-anchor="start" x="37727" y="-4096.3" font-family="Arial" font-size="14.00">skip_errors : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="37719,-4088.5 37911,-4088.5 "/>
<text text-anchor="start" x="37813" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogBulkRegisterResponse -->
<g id="node69" class="node">
<title>mcpgateway.schemas.CatalogBulkRegisterResponse</title>
<polygon fill="white" stroke="#77aadd" points="37929.5,-4050.5 37929.5,-4164.5 38144.5,-4164.5 38144.5,-4050.5 37929.5,-4050.5"/>
<text text-anchor="start" x="37945" y="-4149.3" font-family="Arial" font-size="14.00">CatalogBulkRegisterResponse</text>
<polyline fill="none" stroke="#77aadd" points="37929.5,-4141.5 38144.5,-4141.5 "/>
<text text-anchor="start" x="37937.5" y="-4126.3" font-family="Arial" font-size="14.00">failed : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="37937.5" y="-4111.3" font-family="Arial" font-size="14.00">successful : Optional[List[str]]</text>
<text text-anchor="start" x="37937.5" y="-4096.3" font-family="Arial" font-size="14.00">total_attempted : Optional[int]</text>
<text text-anchor="start" x="37937.5" y="-4081.3" font-family="Arial" font-size="14.00">total_successful : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="37929.5,-4073.5 38144.5,-4073.5 "/>
<text text-anchor="start" x="38035" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogListRequest -->
<g id="node70" class="node">
<title>mcpgateway.schemas.CatalogListRequest</title>
<polygon fill="white" stroke="#77aadd" points="38162.5,-4013 38162.5,-4202 38405.5,-4202 38405.5,-4013 38162.5,-4013"/>
<text text-anchor="start" x="38225" y="-4186.8" font-family="Arial" font-size="14.00">CatalogListRequest</text>
<polyline fill="none" stroke="#77aadd" points="38162.5,-4179 38405.5,-4179 "/>
<text text-anchor="start" x="38170.5" y="-4163.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="38170.5" y="-4148.8" font-family="Arial" font-size="14.00">category : Optional[str]</text>
<text text-anchor="start" x="38170.5" y="-4133.8" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="38170.5" y="-4118.8" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="38170.5" y="-4103.8" font-family="Arial" font-size="14.00">provider : Optional[str]</text>
<text text-anchor="start" x="38170.5" y="-4088.8" font-family="Arial" font-size="14.00">search : Optional[str]</text>
<text text-anchor="start" x="38170.5" y="-4073.8" font-family="Arial" font-size="14.00">show_available_only : Optional[bool]</text>
<text text-anchor="start" x="38170.5" y="-4058.8" font-family="Arial" font-size="14.00">show_registered_only : Optional[bool]</text>
<text text-anchor="start" x="38170.5" y="-4043.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="38162.5,-4036 38405.5,-4036 "/>
<text text-anchor="start" x="38282" y="-4020.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogListResponse -->
<g id="node71" class="node">
<title>mcpgateway.schemas.CatalogListResponse</title>
<polygon fill="white" stroke="#77aadd" points="38423.5,-4035.5 38423.5,-4179.5 38668.5,-4179.5 38668.5,-4035.5 38423.5,-4035.5"/>
<text text-anchor="start" x="38481.5" y="-4164.3" font-family="Arial" font-size="14.00">CatalogListResponse</text>
<polyline fill="none" stroke="#77aadd" points="38423.5,-4156.5 38668.5,-4156.5 "/>
<text text-anchor="start" x="38431.5" y="-4141.3" font-family="Arial" font-size="14.00">all_tags : Optional[List[str]]</text>
<text text-anchor="start" x="38431.5" y="-4126.3" font-family="Arial" font-size="14.00">auth_types : Optional[List[str]]</text>
<text text-anchor="start" x="38431.5" y="-4111.3" font-family="Arial" font-size="14.00">categories : Optional[List[str]]</text>
<text text-anchor="start" x="38431.5" y="-4096.3" font-family="Arial" font-size="14.00">providers : Optional[List[str]]</text>
<text text-anchor="start" x="38431.5" y="-4081.3" font-family="Arial" font-size="14.00">servers : Optional[List[CatalogServer]]</text>
<text text-anchor="start" x="38431.5" y="-4066.3" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="38423.5,-4058.5 38668.5,-4058.5 "/>
<text text-anchor="start" x="38544" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServer -->
<g id="node72" class="node">
<title>mcpgateway.schemas.CatalogServer</title>
<polygon fill="white" stroke="#77aadd" points="38686.5,-3960.5 38686.5,-4254.5 38931.5,-4254.5 38931.5,-3960.5 38686.5,-3960.5"/>
<text text-anchor="start" x="38765.5" y="-4239.3" font-family="Arial" font-size="14.00">CatalogServer</text>
<polyline fill="none" stroke="#77aadd" points="38686.5,-4231.5 38931.5,-4231.5 "/>
<text text-anchor="start" x="38694.5" y="-4216.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4201.3" font-family="Arial" font-size="14.00">category : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4186.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4171.3" font-family="Arial" font-size="14.00">documentation_url : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4156.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4141.3" font-family="Arial" font-size="14.00">is_available : Optional[bool]</text>
<text text-anchor="start" x="38694.5" y="-4126.3" font-family="Arial" font-size="14.00">is_registered : Optional[bool]</text>
<text text-anchor="start" x="38694.5" y="-4111.3" font-family="Arial" font-size="14.00">logo_url : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4096.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4081.3" font-family="Arial" font-size="14.00">provider : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-4066.3" font-family="Arial" font-size="14.00">requires_api_key : Optional[bool]</text>
<text text-anchor="start" x="38694.5" y="-4051.3" font-family="Arial" font-size="14.00">requires_oauth_config : Optional[bool]</text>
<text text-anchor="start" x="38694.5" y="-4036.3" font-family="Arial" font-size="14.00">secure : Optional[bool]</text>
<text text-anchor="start" x="38694.5" y="-4021.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="38694.5" y="-4006.3" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="38694.5" y="-3991.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="38686.5,-3983.5 38931.5,-3983.5 "/>
<text text-anchor="start" x="38807" y="-3968.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerRegisterRequest -->
<g id="node73" class="node">
<title>mcpgateway.schemas.CatalogServerRegisterRequest</title>
<polygon fill="white" stroke="#77aadd" points="38950,-4050.5 38950,-4164.5 39218,-4164.5 39218,-4050.5 38950,-4050.5"/>
<text text-anchor="start" x="38990.5" y="-4149.3" font-family="Arial" font-size="14.00">CatalogServerRegisterRequest</text>
<polyline fill="none" stroke="#77aadd" points="38950,-4141.5 39218,-4141.5 "/>
<text text-anchor="start" x="38958" y="-4126.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="38958" y="-4111.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="38958" y="-4096.3" font-family="Arial" font-size="14.00">oauth_credentials : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="38958" y="-4081.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="38950,-4073.5 39218,-4073.5 "/>
<text text-anchor="start" x="39082" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerRegisterResponse -->
<g id="node74" class="node">
<title>mcpgateway.schemas.CatalogServerRegisterResponse</title>
<polygon fill="white" stroke="#77aadd" points="39236,-4043 39236,-4172 39450,-4172 39450,-4043 39236,-4043"/>
<text text-anchor="start" x="39244" y="-4156.8" font-family="Arial" font-size="14.00">CatalogServerRegisterResponse</text>
<polyline fill="none" stroke="#77aadd" points="39236,-4149 39450,-4149 "/>
<text text-anchor="start" x="39249.5" y="-4133.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="39249.5" y="-4118.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="39249.5" y="-4103.8" font-family="Arial" font-size="14.00">oauth_required : Optional[bool]</text>
<text text-anchor="start" x="39249.5" y="-4088.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="39249.5" y="-4073.8" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="39236,-4066 39450,-4066 "/>
<text text-anchor="start" x="39341" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerStatusRequest -->
<g id="node75" class="node">
<title>mcpgateway.schemas.CatalogServerStatusRequest</title>
<polygon fill="white" stroke="#77aadd" points="39468.5,-4073 39468.5,-4142 39659.5,-4142 39659.5,-4073 39468.5,-4073"/>
<text text-anchor="start" x="39476.5" y="-4126.8" font-family="Arial" font-size="14.00">CatalogServerStatusRequest</text>
<polyline fill="none" stroke="#77aadd" points="39468.5,-4119 39659.5,-4119 "/>
<text text-anchor="start" x="39493.5" y="-4103.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="39468.5,-4096 39659.5,-4096 "/>
<text text-anchor="start" x="39562" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerStatusResponse -->
<g id="node76" class="node">
<title>mcpgateway.schemas.CatalogServerStatusResponse</title>
<polygon fill="white" stroke="#77aadd" points="39677.5,-4035.5 39677.5,-4179.5 39904.5,-4179.5 39904.5,-4035.5 39677.5,-4035.5"/>
<text text-anchor="start" x="39698" y="-4164.3" font-family="Arial" font-size="14.00">CatalogServerStatusResponse</text>
<polyline fill="none" stroke="#77aadd" points="39677.5,-4156.5 39904.5,-4156.5 "/>
<text text-anchor="start" x="39685.5" y="-4141.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="39685.5" y="-4126.3" font-family="Arial" font-size="14.00">is_available : Optional[bool]</text>
<text text-anchor="start" x="39685.5" y="-4111.3" font-family="Arial" font-size="14.00">is_registered : Optional[bool]</text>
<text text-anchor="start" x="39685.5" y="-4096.3" font-family="Arial" font-size="14.00">last_checked : Optional[datetime]</text>
<text text-anchor="start" x="39685.5" y="-4081.3" font-family="Arial" font-size="14.00">response_time_ms : Optional[float]</text>
<text text-anchor="start" x="39685.5" y="-4066.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="39677.5,-4058.5 39904.5,-4058.5 "/>
<text text-anchor="start" x="39789" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.catalog_service.CatalogService -->
<g id="node77" class="node">
<title>mcpgateway.services.catalog_service.CatalogService</title>
<polygon fill="white" stroke="#ffaabb" points="39923,-4042.1 39923,-4172.9 40761,-4172.9 40761,-4042.1 39923,-4042.1"/>
<text text-anchor="start" x="40296" y="-4157.7" font-family="Arial" font-size="14.00">CatalogService</text>
<polyline fill="none" stroke="#ffaabb" points="39923,-4149.9 40761,-4149.9 "/>
<polyline fill="none" stroke="#ffaabb" points="39923,-4125.1 40761,-4125.1 "/>
<text text-anchor="start" x="39931" y="-4109.9" font-family="Arial" font-size="14.00">bulk_register_servers(request: CatalogBulkRegisterRequest, db: Session): CatalogBulkRegisterResponse</text>
<text text-anchor="start" x="39931" y="-4094.9" font-family="Arial" font-size="14.00">check_server_availability(catalog_id: str): CatalogServerStatusResponse</text>
<text text-anchor="start" x="39931" y="-4079.9" font-family="Arial" font-size="14.00">get_catalog_servers(request: CatalogListRequest, db): CatalogListResponse</text>
<text text-anchor="start" x="39931" y="-4064.9" font-family="Arial" font-size="14.00">load_catalog(force_reload: bool): Dict[str, Any]</text>
<text text-anchor="start" x="39931" y="-4049.9" font-family="Arial" font-size="14.00">register_catalog_server(catalog_id: str, request: Optional[CatalogServerRegisterRequest], db: Session): CatalogServerRegisterResponse</text>
</g>
<!-- mcpgateway.schemas.ChangePasswordRequest -->
<g id="node78" class="node">
<title>mcpgateway.schemas.ChangePasswordRequest</title>
<polygon fill="white" stroke="#77aadd" points="40778.5,-4058 40778.5,-4157 40999.5,-4157 40999.5,-4058 40778.5,-4058"/>
<text text-anchor="start" x="40810.5" y="-4141.8" font-family="Arial" font-size="14.00">ChangePasswordRequest</text>
<polyline fill="none" stroke="#77aadd" points="40778.5,-4134 40999.5,-4134 "/>
<text text-anchor="start" x="40801.5" y="-4118.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="40801.5" y="-4103.8" font-family="Arial" font-size="14.00">new_password : Optional[str]</text>
<text text-anchor="start" x="40801.5" y="-4088.8" font-family="Arial" font-size="14.00">old_password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="40778.5,-4081 40999.5,-4081 "/>
<text text-anchor="start" x="40786.5" y="-4065.8" font-family="Arial" font-size="14.00">validate_new_password(v: str): str</text>
</g>
<!-- mcpgateway.llm_schemas.ChatChoice -->
<g id="node79" class="node">
<title>mcpgateway.llm_schemas.ChatChoice</title>
<polygon fill="white" stroke="#77aadd" points="41099,-8409 41099,-8508 41281,-8508 41281,-8409 41099,-8409"/>
<text text-anchor="start" x="41154.5" y="-8492.8" font-family="Arial" font-size="14.00">ChatChoice</text>
<polyline fill="none" stroke="#77aadd" points="41099,-8485 41281,-8485 "/>
<text text-anchor="start" x="41107" y="-8469.8" font-family="Arial" font-size="14.00">finish_reason : Optional[str]</text>
<text text-anchor="start" x="41107" y="-8454.8" font-family="Arial" font-size="14.00">index : int</text>
<text text-anchor="start" x="41107" y="-8439.8" font-family="Arial" font-size="14.00">message</text>
<polyline fill="none" stroke="#77aadd" points="41099,-8432 41281,-8432 "/>
<text text-anchor="start" x="41188" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionChunk -->
<g id="node80" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionChunk</title>
<polygon fill="white" stroke="#77aadd" points="41380.5,-4043 41380.5,-4172 41557.5,-4172 41557.5,-4043 41380.5,-4043"/>
<text text-anchor="start" x="41400.5" y="-4156.8" font-family="Arial" font-size="14.00">ChatCompletionChunk</text>
<polyline fill="none" stroke="#77aadd" points="41380.5,-4149 41557.5,-4149 "/>
<text text-anchor="start" x="41388.5" y="-4133.8" font-family="Arial" font-size="14.00">choices : List[Dict[str, Any]]</text>
<text text-anchor="start" x="41388.5" y="-4118.8" font-family="Arial" font-size="14.00">created : int</text>
<text text-anchor="start" x="41388.5" y="-4103.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="41388.5" y="-4088.8" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="41388.5" y="-4073.8" font-family="Arial" font-size="14.00">object : str</text>
<polyline fill="none" stroke="#77aadd" points="41380.5,-4066 41557.5,-4066 "/>
<text text-anchor="start" x="41467" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionRequest -->
<g id="node81" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionRequest</title>
<polygon fill="white" stroke="#77aadd" points="41576,-3990.5 41576,-4224.5 41870,-4224.5 41870,-3990.5 41576,-3990.5"/>
<text text-anchor="start" x="41649" y="-4209.3" font-family="Arial" font-size="14.00">ChatCompletionRequest</text>
<polyline fill="none" stroke="#77aadd" points="41576,-4201.5 41870,-4201.5 "/>
<text text-anchor="start" x="41584" y="-4186.3" font-family="Arial" font-size="14.00">frequency_penalty : Optional[float]</text>
<text text-anchor="start" x="41584" y="-4171.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="41584" y="-4156.3" font-family="Arial" font-size="14.00">messages : Optional[List[ChatMessage]]</text>
<text text-anchor="start" x="41584" y="-4141.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="41584" y="-4126.3" font-family="Arial" font-size="14.00">presence_penalty : Optional[float]</text>
<text text-anchor="start" x="41584" y="-4111.3" font-family="Arial" font-size="14.00">stop : Optional[Union[str, List[str]]]</text>
<text text-anchor="start" x="41584" y="-4096.3" font-family="Arial" font-size="14.00">stream : Optional[bool]</text>
<text text-anchor="start" x="41584" y="-4081.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="41584" y="-4066.3" font-family="Arial" font-size="14.00">tool_choice : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="41584" y="-4051.3" font-family="Arial" font-size="14.00">tools : Optional[List[ToolDefinition]]</text>
<text text-anchor="start" x="41584" y="-4036.3" font-family="Arial" font-size="14.00">top_p : Optional[float]</text>
<text text-anchor="start" x="41584" y="-4021.3" font-family="Arial" font-size="14.00">user : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="41576,-4013.5 41870,-4013.5 "/>
<text text-anchor="start" x="41721" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionResponse -->
<g id="node82" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionResponse</title>
<polygon fill="white" stroke="#77aadd" points="41888.5,-4035.5 41888.5,-4179.5 42081.5,-4179.5 42081.5,-4035.5 41888.5,-4035.5"/>
<text text-anchor="start" x="41905.5" y="-4164.3" font-family="Arial" font-size="14.00">ChatCompletionResponse</text>
<polyline fill="none" stroke="#77aadd" points="41888.5,-4156.5 42081.5,-4156.5 "/>
<text text-anchor="start" x="41896.5" y="-4141.3" font-family="Arial" font-size="14.00">choices : List[ChatChoice]</text>
<text text-anchor="start" x="41896.5" y="-4126.3" font-family="Arial" font-size="14.00">created : Optional[int]</text>
<text text-anchor="start" x="41896.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="41896.5" y="-4096.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="41896.5" y="-4081.3" font-family="Arial" font-size="14.00">object : str</text>
<text text-anchor="start" x="41896.5" y="-4066.3" font-family="Arial" font-size="14.00">usage : Optional[UsageStats]</text>
<polyline fill="none" stroke="#77aadd" points="41888.5,-4058.5 42081.5,-4058.5 "/>
<text text-anchor="start" x="41983" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.ChatHistoryManager -->
<g id="node83" class="node">
<title>mcpgateway.services.mcp_client_chat_service.ChatHistoryManager</title>
<polygon fill="white" stroke="#ffaabb" points="41773,-8379 41773,-8538 42141,-8538 42141,-8379 41773,-8379"/>
<text text-anchor="start" x="41894.5" y="-8522.8" font-family="Arial" font-size="14.00">ChatHistoryManager</text>
<polyline fill="none" stroke="#ffaabb" points="41773,-8515 42141,-8515 "/>
<text text-anchor="start" x="41876" y="-8499.8" font-family="Arial" font-size="14.00">max_messages : int</text>
<text text-anchor="start" x="41876" y="-8484.8" font-family="Arial" font-size="14.00">redis_client : Optional[Any]</text>
<text text-anchor="start" x="41876" y="-8469.8" font-family="Arial" font-size="14.00">ttl : int</text>
<polyline fill="none" stroke="#ffaabb" points="41773,-8462 42141,-8462 "/>
<text text-anchor="start" x="41781" y="-8446.8" font-family="Arial" font-size="14.00">append_message(user_id: str, role: str, content: str): None</text>
<text text-anchor="start" x="41781" y="-8431.8" font-family="Arial" font-size="14.00">clear_history(user_id: str): None</text>
<text text-anchor="start" x="41781" y="-8416.8" font-family="Arial" font-size="14.00">get_history(user_id: str): List[Dict[str, str]]</text>
<text text-anchor="start" x="41781" y="-8401.8" font-family="Arial" font-size="14.00">get_langchain_messages(user_id: str): List[BaseMessage]</text>
<text text-anchor="start" x="41781" y="-8386.8" font-family="Arial" font-size="14.00">save_history(user_id: str, history: List[Dict[str, str]]): None</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="node284" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<polygon fill="white" stroke="#ffaabb" points="42097,-8777.5 42097,-9041.5 42501,-9041.5 42501,-8777.5 42097,-8777.5"/>
<text text-anchor="start" x="42246.5" y="-9026.3" font-family="Arial" font-size="14.00">MCPChatService</text>
<polyline fill="none" stroke="#ffaabb" points="42097,-9018.5 42501,-9018.5 "/>
<text text-anchor="start" x="42234" y="-9003.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="42234" y="-8988.3" font-family="Arial" font-size="14.00">history_manager</text>
<text text-anchor="start" x="42234" y="-8973.3" font-family="Arial" font-size="14.00">is_initialized</text>
<text text-anchor="start" x="42234" y="-8958.3" font-family="Arial" font-size="14.00">llm_provider</text>
<text text-anchor="start" x="42234" y="-8943.3" font-family="Arial" font-size="14.00">mcp_client</text>
<text text-anchor="start" x="42234" y="-8928.3" font-family="Arial" font-size="14.00">user_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="42097,-8920.5 42501,-8920.5 "/>
<text text-anchor="start" x="42105" y="-8905.3" font-family="Arial" font-size="14.00">chat(message: str): str</text>
<text text-anchor="start" x="42105" y="-8890.3" font-family="Arial" font-size="14.00">chat_events(message: str): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="42105" y="-8875.3" font-family="Arial" font-size="14.00">chat_stream(message: str): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="42105" y="-8860.3" font-family="Arial" font-size="14.00">chat_with_metadata(message: str): Dict[str, Any]</text>
<text text-anchor="start" x="42105" y="-8845.3" font-family="Arial" font-size="14.00">clear_history(): None</text>
<text text-anchor="start" x="42105" y="-8830.3" font-family="Arial" font-size="14.00">get_conversation_history(): List[Dict[str, str]]</text>
<text text-anchor="start" x="42105" y="-8815.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="42105" y="-8800.3" font-family="Arial" font-size="14.00">reload_tools(): int</text>
<text text-anchor="start" x="42105" y="-8785.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.ChatHistoryManager&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge178" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.ChatHistoryManager&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M42016.96,-8538.22C42065.19,-8601.54 42134.17,-8692.1 42191.84,-8767.81"/>
<polygon fill="gray" stroke="gray" points="42191.9,-8767.9 42198.72,-8770.25 42199.18,-8777.44 42192.36,-8775.09 42191.9,-8767.9"/>
<text text-anchor="middle" x="42179" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">history_manager</text>
</g>
<!-- mcpgateway.llm_schemas.ChatMessage -->
<g id="node84" class="node">
<title>mcpgateway.llm_schemas.ChatMessage</title>
<polygon fill="white" stroke="#77aadd" points="41018,-4043 41018,-4172 41362,-4172 41362,-4043 41018,-4043"/>
<text text-anchor="start" x="41147.5" y="-4156.8" font-family="Arial" font-size="14.00">ChatMessage</text>
<polyline fill="none" stroke="#77aadd" points="41018,-4149 41362,-4149 "/>
<text text-anchor="start" x="41026" y="-4133.8" font-family="Arial" font-size="14.00">content : Optional[str]</text>
<text text-anchor="start" x="41026" y="-4118.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="41026" y="-4103.8" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;system&#39;, &#39;user&#39;, &#39;assistant&#39;, &#39;tool&#39;]]</text>
<text text-anchor="start" x="41026" y="-4088.8" font-family="Arial" font-size="14.00">tool_call_id : Optional[str]</text>
<text text-anchor="start" x="41026" y="-4073.8" font-family="Arial" font-size="14.00">tool_calls : Optional[List[Dict[str, Any]]]</text>
<polyline fill="none" stroke="#77aadd" points="41018,-4066 41362,-4066 "/>
<text text-anchor="start" x="41188" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatMessage&#45;&gt;mcpgateway.llm_schemas.ChatChoice -->
<g id="edge158" class="edge">
<title>mcpgateway.llm_schemas.ChatMessage&#45;&gt;mcpgateway.llm_schemas.ChatChoice</title>
<path fill="none" stroke="gray" d="M41190,-4172.08C41190,-4668.03 41190,-7910.84 41190,-8396.64"/>
<polygon fill="gray" stroke="gray" points="41190,-8396.91 41194,-8402.91 41190,-8408.91 41186,-8402.91 41190,-8396.91"/>
<text text-anchor="middle" x="41218" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">message</text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.CleanupResult -->
<g id="node85" class="node">
<title>mcpgateway.services.metrics_cleanup_service.CleanupResult</title>
<polygon fill="white" stroke="#ffaabb" points="42516,-4035.5 42516,-4179.5 42676,-4179.5 42676,-4035.5 42516,-4035.5"/>
<text text-anchor="start" x="42551.5" y="-4164.3" font-family="Arial" font-size="14.00">CleanupResult</text>
<polyline fill="none" stroke="#ffaabb" points="42516,-4156.5 42676,-4156.5 "/>
<text text-anchor="start" x="42524" y="-4141.3" font-family="Arial" font-size="14.00">cutoff_date : datetime</text>
<text text-anchor="start" x="42524" y="-4126.3" font-family="Arial" font-size="14.00">deleted_count : int</text>
<text text-anchor="start" x="42524" y="-4111.3" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="42524" y="-4096.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="42524" y="-4081.3" font-family="Arial" font-size="14.00">remaining_count : int</text>
<text text-anchor="start" x="42524" y="-4066.3" font-family="Arial" font-size="14.00">table_name : str</text>
<polyline fill="none" stroke="#ffaabb" points="42516,-4058.5 42676,-4058.5 "/>
<text text-anchor="start" x="42594" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.CleanupSummary -->
<g id="node86" class="node">
<title>mcpgateway.services.metrics_cleanup_service.CleanupSummary</title>
<polygon fill="white" stroke="#ffaabb" points="42694.5,-4043 42694.5,-4172 42899.5,-4172 42899.5,-4043 42694.5,-4043"/>
<text text-anchor="start" x="42742" y="-4156.8" font-family="Arial" font-size="14.00">CleanupSummary</text>
<polyline fill="none" stroke="#ffaabb" points="42694.5,-4149 42899.5,-4149 "/>
<text text-anchor="start" x="42702.5" y="-4133.8" font-family="Arial" font-size="14.00">completed_at : datetime</text>
<text text-anchor="start" x="42702.5" y="-4118.8" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="42702.5" y="-4103.8" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="42702.5" y="-4088.8" font-family="Arial" font-size="14.00">tables : Dict[str, CleanupResult]</text>
<text text-anchor="start" x="42702.5" y="-4073.8" font-family="Arial" font-size="14.00">total_deleted : int</text>
<polyline fill="none" stroke="#ffaabb" points="42694.5,-4066 42899.5,-4066 "/>
<text text-anchor="start" x="42795" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ClientCapabilities -->
<g id="node87" class="node">
<title>mcpgateway.common.models.ClientCapabilities</title>
<polygon fill="white" stroke="#44bb99" points="42918,-4050.5 42918,-4164.5 43210,-4164.5 43210,-4050.5 42918,-4050.5"/>
<text text-anchor="start" x="43011.5" y="-4149.3" font-family="Arial" font-size="14.00">ClientCapabilities</text>
<polyline fill="none" stroke="#44bb99" points="42918,-4141.5 43210,-4141.5 "/>
<text text-anchor="start" x="42926" y="-4126.3" font-family="Arial" font-size="14.00">elicitation : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="42926" y="-4111.3" font-family="Arial" font-size="14.00">experimental : Optional[Dict[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="42926" y="-4096.3" font-family="Arial" font-size="14.00">roots : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="42926" y="-4081.3" font-family="Arial" font-size="14.00">sampling : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="42918,-4073.5 43210,-4073.5 "/>
<text text-anchor="start" x="43062" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.InitializeRequest -->
<g id="node233" class="node">
<title>mcpgateway.common.models.InitializeRequest</title>
<polygon fill="white" stroke="#44bb99" points="42943.5,-8401.5 42943.5,-8515.5 43184.5,-8515.5 43184.5,-8401.5 42943.5,-8401.5"/>
<text text-anchor="start" x="43014" y="-8500.3" font-family="Arial" font-size="14.00">InitializeRequest</text>
<polyline fill="none" stroke="#44bb99" points="42943.5,-8492.5 43184.5,-8492.5 "/>
<text text-anchor="start" x="42951.5" y="-8477.3" font-family="Arial" font-size="14.00">capabilities</text>
<text text-anchor="start" x="42951.5" y="-8462.3" font-family="Arial" font-size="14.00">client_info : Optional[Implementation]</text>
<text text-anchor="start" x="42951.5" y="-8447.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="42951.5" y="-8432.3" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="42943.5,-8424.5 43184.5,-8424.5 "/>
<text text-anchor="start" x="43062" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ClientCapabilities&#45;&gt;mcpgateway.common.models.InitializeRequest -->
<g id="edge139" class="edge">
<title>mcpgateway.common.models.ClientCapabilities&#45;&gt;mcpgateway.common.models.InitializeRequest</title>
<path fill="none" stroke="gray" d="M43064,-4164.68C43064,-4632.35 43064,-7874.87 43064,-8388.91"/>
<polygon fill="gray" stroke="gray" points="43064,-8389.24 43068,-8395.24 43064,-8401.24 43060,-8395.24 43064,-8389.24"/>
<text text-anchor="middle" x="43097.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">capabilities</text>
</g>
<!-- mcpgateway.llm_provider_configs.CohereConfig -->
<g id="node88" class="node">
<title>mcpgateway.llm_provider_configs.CohereConfig</title>
<polygon fill="white" stroke="#77aadd" points="43228,-4073 43228,-4142 43378,-4142 43378,-4073 43228,-4073"/>
<text text-anchor="start" x="43261" y="-4126.8" font-family="Arial" font-size="14.00">CohereConfig</text>
<polyline fill="none" stroke="#77aadd" points="43228,-4119 43378,-4119 "/>
<text text-anchor="start" x="43236" y="-4103.8" font-family="Arial" font-size="14.00">truncate : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="43228,-4096 43378,-4096 "/>
<text text-anchor="start" x="43301" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CommonAttributes -->
<g id="node89" class="node">
<title>mcpgateway.common.models.CommonAttributes</title>
<polygon fill="white" stroke="#44bb99" points="43477,-8710 43477,-9109 43705,-9109 43705,-8710 43477,-8710"/>
<text text-anchor="start" x="43534" y="-9093.8" font-family="Arial" font-size="14.00">CommonAttributes</text>
<polyline fill="none" stroke="#44bb99" points="43477,-9086 43705,-9086 "/>
<text text-anchor="start" x="43485" y="-9070.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="43485" y="-9055.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="43485" y="-9040.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="43485" y="-9025.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="43485" y="-9010.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8995.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8980.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8965.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="43485" y="-8950.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8935.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8920.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8905.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8890.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8875.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8860.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="43485" y="-8845.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8830.8" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="43485" y="-8815.8" font-family="Arial" font-size="14.00">tags : Optional[list[Dict[str, str]]]</text>
<text text-anchor="start" x="43485" y="-8800.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="43485" y="-8785.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="43485" y="-8770.8" font-family="Arial" font-size="14.00">url : AnyHttpUrl</text>
<text text-anchor="start" x="43485" y="-8755.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="43485" y="-8740.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="43477,-8733 43705,-8733 "/>
<text text-anchor="start" x="43589" y="-8717.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CompleteRequest -->
<g id="node90" class="node">
<title>mcpgateway.common.models.CompleteRequest</title>
<polygon fill="white" stroke="#44bb99" points="43901,-4065.5 43901,-4149.5 44221,-4149.5 44221,-4065.5 43901,-4065.5"/>
<text text-anchor="start" x="44006.5" y="-4134.3" font-family="Arial" font-size="14.00">CompleteRequest</text>
<polyline fill="none" stroke="#44bb99" points="43901,-4126.5 44221,-4126.5 "/>
<text text-anchor="start" x="43909" y="-4111.3" font-family="Arial" font-size="14.00">argument : Dict[str, str]</text>
<text text-anchor="start" x="43909" y="-4096.3" font-family="Arial" font-size="14.00">ref : Union[PromptReference, ResourceReference]</text>
<polyline fill="none" stroke="#44bb99" points="43901,-4088.5 44221,-4088.5 "/>
<text text-anchor="start" x="44059" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CompleteResult -->
<g id="node91" class="node">
<title>mcpgateway.common.models.CompleteResult</title>
<polygon fill="white" stroke="#44bb99" points="44239.5,-4073 44239.5,-4142 44466.5,-4142 44466.5,-4073 44239.5,-4073"/>
<text text-anchor="start" x="44304.5" y="-4126.8" font-family="Arial" font-size="14.00">CompleteResult</text>
<polyline fill="none" stroke="#44bb99" points="44239.5,-4119 44466.5,-4119 "/>
<text text-anchor="start" x="44247.5" y="-4103.8" font-family="Arial" font-size="14.00">completion : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="44239.5,-4096 44466.5,-4096 "/>
<text text-anchor="start" x="44351" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.completion_service.CompletionError -->
<g id="node92" class="node">
<title>mcpgateway.services.completion_service.CompletionError</title>
<polygon fill="white" stroke="#ffaabb" points="44485,-4072.1 44485,-4142.9 44601,-4142.9 44601,-4072.1 44485,-4072.1"/>
<text text-anchor="start" x="44493" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">CompletionError</text>
<polyline fill="none" stroke="#ffaabb" points="44485,-4119.9 44601,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="44485,-4095.1 44601,-4095.1 "/>
<text text-anchor="start" x="44541" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.completion_service.CompletionService -->
<g id="node93" class="node">
<title>mcpgateway.services.completion_service.CompletionService</title>
<polygon fill="white" stroke="#ffaabb" points="44619.5,-4042.1 44619.5,-4172.9 45068.5,-4172.9 45068.5,-4042.1 44619.5,-4042.1"/>
<text text-anchor="start" x="44786.5" y="-4157.7" font-family="Arial" font-size="14.00">CompletionService</text>
<polyline fill="none" stroke="#ffaabb" points="44619.5,-4149.9 45068.5,-4149.9 "/>
<polyline fill="none" stroke="#ffaabb" points="44619.5,-4125.1 45068.5,-4125.1 "/>
<text text-anchor="start" x="44627.5" y="-4109.9" font-family="Arial" font-size="14.00">handle_completion(db: Session, request: Dict[str, Any]): CompleteResult</text>
<text text-anchor="start" x="44627.5" y="-4094.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="44627.5" y="-4079.9" font-family="Arial" font-size="14.00">register_completions(arg_name: str, values: List[str]): None</text>
<text text-anchor="start" x="44627.5" y="-4064.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="44627.5" y="-4049.9" font-family="Arial" font-size="14.00">unregister_completions(arg_name: str): None</text>
</g>
<!-- mcpgateway.services.structured_logger.ComponentLogger -->
<g id="node94" class="node">
<title>mcpgateway.services.structured_logger.ComponentLogger</title>
<polygon fill="white" stroke="#ffaabb" points="45086.5,-4064.6 45086.5,-4150.4 45377.5,-4150.4 45377.5,-4064.6 45086.5,-4064.6"/>
<text text-anchor="start" x="45175.5" y="-4135.2" font-family="Arial" font-size="14.00">ComponentLogger</text>
<polyline fill="none" stroke="#ffaabb" points="45086.5,-4127.4 45377.5,-4127.4 "/>
<polyline fill="none" stroke="#ffaabb" points="45086.5,-4102.6 45377.5,-4102.6 "/>
<text text-anchor="start" x="45094.5" y="-4087.4" font-family="Arial" font-size="14.00">clear_loggers(): None</text>
<text text-anchor="start" x="45094.5" y="-4072.4" font-family="Arial" font-size="14.00">get_logger(component: str): StructuredLogger</text>
</g>
<!-- mcpgateway.plugins.framework.models.Config -->
<g id="node95" class="node">
<title>mcpgateway.plugins.framework.models.Config</title>
<polygon fill="white" stroke="#ee8866" points="45314,-8386.5 45314,-8530.5 45718,-8530.5 45718,-8386.5 45314,-8386.5"/>
<text text-anchor="start" x="45496" y="-8515.3" font-family="Arial" font-size="14.00">Config</text>
<polyline fill="none" stroke="#ee8866" points="45314,-8507.5 45718,-8507.5 "/>
<text text-anchor="start" x="45322" y="-8492.3" font-family="Arial" font-size="14.00">grpc_server_settings : Optional[GRPCServerConfig]</text>
<text text-anchor="start" x="45322" y="-8477.3" font-family="Arial" font-size="14.00">plugin_dirs : list[str]</text>
<text text-anchor="start" x="45322" y="-8462.3" font-family="Arial" font-size="14.00">plugin_settings</text>
<text text-anchor="start" x="45322" y="-8447.3" font-family="Arial" font-size="14.00">plugins : Optional[list[PluginConfig]]</text>
<text text-anchor="start" x="45322" y="-8432.3" font-family="Arial" font-size="14.00">server_settings : Optional[MCPServerConfig]</text>
<text text-anchor="start" x="45322" y="-8417.3" font-family="Arial" font-size="14.00">unix_socket_server_settings : Optional[UnixSocketServerConfig]</text>
<polyline fill="none" stroke="#ee8866" points="45314,-8409.5 45718,-8409.5 "/>
<text text-anchor="start" x="45514" y="-8394.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginExecutor -->
<g id="node380" class="node">
<title>mcpgateway.plugins.framework.manager.PluginExecutor</title>
<polygon fill="white" stroke="#ee8866" points="44817.5,-8860 44817.5,-8959 46214.5,-8959 46214.5,-8860 44817.5,-8860"/>
<text text-anchor="start" x="45470.5" y="-8943.8" font-family="Arial" font-size="14.00">PluginExecutor</text>
<polyline fill="none" stroke="#ee8866" points="44817.5,-8936 46214.5,-8936 "/>
<text text-anchor="start" x="45443.5" y="-8920.8" font-family="Arial" font-size="14.00">config : Optional[Config]</text>
<text text-anchor="start" x="45443.5" y="-8905.8" font-family="Arial" font-size="14.00">timeout : int</text>
<polyline fill="none" stroke="#ee8866" points="44817.5,-8898 46214.5,-8898 "/>
<text text-anchor="start" x="44825.5" y="-8882.8" font-family="Arial" font-size="14.00">execute(hook_refs: list[HookRef], payload: PluginPayload, global_context: GlobalContext, hook_type: str, local_contexts: Optional[PluginContextTable], violations_as_exceptions: bool): tuple[PluginResult, PluginContextTable | None]</text>
<text text-anchor="start" x="44825.5" y="-8867.8" font-family="Arial" font-size="14.00">execute_plugin(hook_ref: HookRef, payload: PluginPayload, local_context: PluginContext, violations_as_exceptions: bool, global_context: Optional[GlobalContext], combined_metadata: Optional[dict[str, Any]]): PluginResult</text>
</g>
<!-- mcpgateway.plugins.framework.models.Config&#45;&gt;mcpgateway.plugins.framework.manager.PluginExecutor -->
<g id="edge164" class="edge">
<title>mcpgateway.plugins.framework.models.Config&#45;&gt;mcpgateway.plugins.framework.manager.PluginExecutor</title>
<path fill="none" stroke="gray" d="M45516,-8530.65C45516,-8618.14 45516,-8765.17 45516,-8847.65"/>
<polygon fill="gray" stroke="gray" points="45516,-8847.83 45520,-8853.83 45516,-8859.83 45512,-8853.83 45516,-8847.83"/>
<text text-anchor="middle" x="45534.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.loader.config.ConfigLoader -->
<g id="node96" class="node">
<title>mcpgateway.plugins.framework.loader.config.ConfigLoader</title>
<polygon fill="white" stroke="#ee8866" points="45655.5,-4072.1 45655.5,-4142.9 45948.5,-4142.9 45948.5,-4072.1 45655.5,-4072.1"/>
<text text-anchor="start" x="45761" y="-4127.7" font-family="Arial" font-size="14.00">ConfigLoader</text>
<polyline fill="none" stroke="#ee8866" points="45655.5,-4119.9 45948.5,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="45655.5,-4095.1 45948.5,-4095.1 "/>
<text text-anchor="start" x="45663.5" y="-4079.9" font-family="Arial" font-size="14.00">load_config(config: str, use_jinja: bool): Config</text>
</g>
<!-- mcpgateway.services.import_service.ConflictStrategy -->
<g id="node97" class="node">
<title>mcpgateway.services.import_service.ConflictStrategy</title>
<polygon fill="white" stroke="#ffaabb" points="45967,-4073 45967,-4142 46079,-4142 46079,-4073 45967,-4073"/>
<text text-anchor="start" x="45975" y="-4126.8" font-family="Arial" font-size="14.00">ConflictStrategy</text>
<polyline fill="none" stroke="#ffaabb" points="45967,-4119 46079,-4119 "/>
<text text-anchor="start" x="46005.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="45967,-4096 46079,-4096 "/>
<text text-anchor="start" x="46021" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.reverse_proxy.ConnectionState -->
<g id="node98" class="node">
<title>mcpgateway.reverse_proxy.ConnectionState</title>
<polygon fill="white" stroke="#77aadd" points="46097,-4073 46097,-4142 46213,-4142 46213,-4073 46097,-4073"/>
<text text-anchor="start" x="46105" y="-4126.8" font-family="Arial" font-size="14.00">ConnectionState</text>
<polyline fill="none" stroke="#77aadd" points="46097,-4119 46213,-4119 "/>
<text text-anchor="start" x="46137.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="46097,-4096 46213,-4096 "/>
<text text-anchor="start" x="46153" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.memory.CopyOnWriteDict -->
<g id="node99" class="node">
<title>mcpgateway.plugins.framework.memory.CopyOnWriteDict</title>
<polygon fill="white" stroke="#ee8866" points="46231,-3989.6 46231,-4225.4 46493,-4225.4 46493,-3989.6 46231,-3989.6"/>
<text text-anchor="start" x="46309" y="-4210.2" font-family="Arial" font-size="14.00">CopyOnWriteDict</text>
<polyline fill="none" stroke="#ee8866" points="46231,-4202.4 46493,-4202.4 "/>
<polyline fill="none" stroke="#ee8866" points="46231,-4177.6 46493,-4177.6 "/>
<text text-anchor="start" x="46239" y="-4162.4" font-family="Arial" font-size="14.00">clear(): None</text>
<text text-anchor="start" x="46239" y="-4147.4" font-family="Arial" font-size="14.00">copy(): dict</text>
<text text-anchor="start" x="46239" y="-4132.4" font-family="Arial" font-size="14.00">get(key: Any, default: Optional[Any]): Any</text>
<text text-anchor="start" x="46239" y="-4117.4" font-family="Arial" font-size="14.00">get_deleted(): set</text>
<text text-anchor="start" x="46239" y="-4102.4" font-family="Arial" font-size="14.00">get_modifications(): dict</text>
<text text-anchor="start" x="46239" y="-4087.4" font-family="Arial" font-size="14.00">has_modifications(): bool</text>
<text text-anchor="start" x="46239" y="-4072.4" font-family="Arial" font-size="14.00">items()</text>
<text text-anchor="start" x="46239" y="-4057.4" font-family="Arial" font-size="14.00">keys()</text>
<text text-anchor="start" x="46239" y="-4042.4" font-family="Arial" font-size="14.00">pop(key: Any): Any</text>
<text text-anchor="start" x="46239" y="-4027.4" font-family="Arial" font-size="14.00">setdefault(key: Any, default: Any): Any</text>
<text text-anchor="start" x="46239" y="-4012.4" font-family="Arial" font-size="14.00">update(other): None</text>
<text text-anchor="start" x="46239" y="-3997.4" font-family="Arial" font-size="14.00">values()</text>
</g>
<!-- mcpgateway.middleware.correlation_id.CorrelationIDMiddleware -->
<g id="node100" class="node">
<title>mcpgateway.middleware.correlation_id.CorrelationIDMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="46511,-4058 46511,-4157 46875,-4157 46875,-4058 46511,-4058"/>
<text text-anchor="start" x="46618" y="-4141.8" font-family="Arial" font-size="14.00">CorrelationIDMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="46511,-4134 46875,-4134 "/>
<text text-anchor="start" x="46635.5" y="-4118.8" font-family="Arial" font-size="14.00">add_to_response</text>
<text text-anchor="start" x="46635.5" y="-4103.8" font-family="Arial" font-size="14.00">header_name</text>
<text text-anchor="start" x="46635.5" y="-4088.8" font-family="Arial" font-size="14.00">preserve_incoming</text>
<polyline fill="none" stroke="#eedd88" points="46511,-4081 46875,-4081 "/>
<text text-anchor="start" x="46519" y="-4065.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.services.logging_service.CorrelationIdJsonFormatter -->
<g id="node101" class="node">
<title>mcpgateway.services.logging_service.CorrelationIdJsonFormatter</title>
<polygon fill="white" stroke="#ffaabb" points="46893,-4072.1 46893,-4142.9 47399,-4142.9 47399,-4072.1 46893,-4072.1"/>
<text text-anchor="start" x="47063" y="-4127.7" font-family="Arial" font-size="14.00">CorrelationIdJsonFormatter</text>
<polyline fill="none" stroke="#ffaabb" points="46893,-4119.9 47399,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="46893,-4095.1 47399,-4095.1 "/>
<text text-anchor="start" x="46901" y="-4079.9" font-family="Arial" font-size="14.00">add_fields(log_record: dict, record: logging.LogRecord, message_dict: dict): None</text>
</g>
<!-- mcpgateway.common.models.CreateMessageResult -->
<g id="node102" class="node">
<title>mcpgateway.common.models.CreateMessageResult</title>
<polygon fill="white" stroke="#44bb99" points="47027,-8401.5 47027,-8515.5 47307,-8515.5 47307,-8401.5 47027,-8401.5"/>
<text text-anchor="start" x="47099.5" y="-8500.3" font-family="Arial" font-size="14.00">CreateMessageResult</text>
<polyline fill="none" stroke="#44bb99" points="47027,-8492.5 47307,-8492.5 "/>
<text text-anchor="start" x="47035" y="-8477.3" font-family="Arial" font-size="14.00">content : Union[TextContent, ImageContent]</text>
<text text-anchor="start" x="47035" y="-8462.3" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="47035" y="-8447.3" font-family="Arial" font-size="14.00">role</text>
<text text-anchor="start" x="47035" y="-8432.3" font-family="Arial" font-size="14.00">stop_reason : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="47027,-8424.5 47307,-8424.5 "/>
<text text-anchor="start" x="47165" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedA2AAgentsResponse -->
<g id="node103" class="node">
<title>mcpgateway.schemas.CursorPaginatedA2AAgentsResponse</title>
<polygon fill="white" stroke="#77aadd" points="47489,-4065.5 47489,-4149.5 47743,-4149.5 47743,-4065.5 47489,-4065.5"/>
<text text-anchor="start" x="47501" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedA2AAgentsResponse</text>
<polyline fill="none" stroke="#77aadd" points="47489,-4126.5 47743,-4126.5 "/>
<text text-anchor="start" x="47497" y="-4111.3" font-family="Arial" font-size="14.00">agents : Optional[List[&#39;A2AAgentRead&#39;]]</text>
<text text-anchor="start" x="47497" y="-4096.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="47489,-4088.5 47743,-4088.5 "/>
<text text-anchor="start" x="47614" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedGatewaysResponse -->
<g id="node104" class="node">
<title>mcpgateway.schemas.CursorPaginatedGatewaysResponse</title>
<polygon fill="white" stroke="#77aadd" points="47761,-4065.5 47761,-4149.5 48025,-4149.5 48025,-4065.5 47761,-4065.5"/>
<text text-anchor="start" x="47781.5" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedGatewaysResponse</text>
<polyline fill="none" stroke="#77aadd" points="47761,-4126.5 48025,-4126.5 "/>
<text text-anchor="start" x="47769" y="-4111.3" font-family="Arial" font-size="14.00">gateways : Optional[List[&#39;GatewayRead&#39;]]</text>
<text text-anchor="start" x="47769" y="-4096.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="47761,-4088.5 48025,-4088.5 "/>
<text text-anchor="start" x="47891" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedPromptsResponse -->
<g id="node105" class="node">
<title>mcpgateway.schemas.CursorPaginatedPromptsResponse</title>
<polygon fill="white" stroke="#77aadd" points="48043.5,-4065.5 48043.5,-4149.5 48290.5,-4149.5 48290.5,-4065.5 48043.5,-4065.5"/>
<text text-anchor="start" x="48060" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedPromptsResponse</text>
<polyline fill="none" stroke="#77aadd" points="48043.5,-4126.5 48290.5,-4126.5 "/>
<text text-anchor="start" x="48051.5" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48051.5" y="-4096.3" font-family="Arial" font-size="14.00">prompts : Optional[List[&#39;PromptRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48043.5,-4088.5 48290.5,-4088.5 "/>
<text text-anchor="start" x="48165" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedResourcesResponse -->
<g id="node106" class="node">
<title>mcpgateway.schemas.CursorPaginatedResourcesResponse</title>
<polygon fill="white" stroke="#77aadd" points="48309,-4065.5 48309,-4149.5 48579,-4149.5 48579,-4065.5 48309,-4065.5"/>
<text text-anchor="start" x="48330.5" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedResourcesResponse</text>
<polyline fill="none" stroke="#77aadd" points="48309,-4126.5 48579,-4126.5 "/>
<text text-anchor="start" x="48317" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48317" y="-4096.3" font-family="Arial" font-size="14.00">resources : Optional[List[&#39;ResourceRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48309,-4088.5 48579,-4088.5 "/>
<text text-anchor="start" x="48442" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedServersResponse -->
<g id="node107" class="node">
<title>mcpgateway.schemas.CursorPaginatedServersResponse</title>
<polygon fill="white" stroke="#77aadd" points="48597.5,-4065.5 48597.5,-4149.5 48834.5,-4149.5 48834.5,-4065.5 48597.5,-4065.5"/>
<text text-anchor="start" x="48611.5" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedServersResponse</text>
<polyline fill="none" stroke="#77aadd" points="48597.5,-4126.5 48834.5,-4126.5 "/>
<text text-anchor="start" x="48605.5" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48605.5" y="-4096.3" font-family="Arial" font-size="14.00">servers : Optional[List[&#39;ServerRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48597.5,-4088.5 48834.5,-4088.5 "/>
<text text-anchor="start" x="48714" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedTeamsResponse -->
<g id="node108" class="node">
<title>mcpgateway.schemas.CursorPaginatedTeamsResponse</title>
<polygon fill="white" stroke="#77aadd" points="48852.5,-4065.5 48852.5,-4149.5 49105.5,-4149.5 49105.5,-4065.5 48852.5,-4065.5"/>
<text text-anchor="start" x="48877.5" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedTeamsResponse</text>
<polyline fill="none" stroke="#77aadd" points="48852.5,-4126.5 49105.5,-4126.5 "/>
<text text-anchor="start" x="48860.5" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48860.5" y="-4096.3" font-family="Arial" font-size="14.00">teams : Optional[List[&#39;TeamResponse&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48852.5,-4088.5 49105.5,-4088.5 "/>
<text text-anchor="start" x="48977" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedToolsResponse -->
<g id="node109" class="node">
<title>mcpgateway.schemas.CursorPaginatedToolsResponse</title>
<polygon fill="white" stroke="#77aadd" points="49124,-4065.5 49124,-4149.5 49334,-4149.5 49334,-4065.5 49124,-4065.5"/>
<text text-anchor="start" x="49132" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedToolsResponse</text>
<polyline fill="none" stroke="#77aadd" points="49124,-4126.5 49334,-4126.5 "/>
<text text-anchor="start" x="49134" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="49134" y="-4096.3" font-family="Arial" font-size="14.00">tools : Optional[List[&#39;ToolRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="49124,-4088.5 49334,-4088.5 "/>
<text text-anchor="start" x="49227" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedUsersResponse -->
<g id="node110" class="node">
<title>mcpgateway.schemas.CursorPaginatedUsersResponse</title>
<polygon fill="white" stroke="#77aadd" points="49352,-4065.5 49352,-4149.5 49630,-4149.5 49630,-4065.5 49352,-4065.5"/>
<text text-anchor="start" x="49392" y="-4134.3" font-family="Arial" font-size="14.00">CursorPaginatedUsersResponse</text>
<polyline fill="none" stroke="#77aadd" points="49352,-4126.5 49630,-4126.5 "/>
<text text-anchor="start" x="49360" y="-4111.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="49360" y="-4096.3" font-family="Arial" font-size="14.00">users : Optional[List[&#39;EmailUserResponse&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="49352,-4088.5 49630,-4088.5 "/>
<text text-anchor="start" x="49489" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.db_query_logging.DBQueryLoggingMiddleware -->
<g id="node111" class="node">
<title>mcpgateway.middleware.db_query_logging.DBQueryLoggingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="49648,-4072.1 49648,-4142.9 49956,-4142.9 49956,-4072.1 49648,-4072.1"/>
<text text-anchor="start" x="49714.5" y="-4127.7" font-family="Arial" font-size="14.00">DBQueryLoggingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="49648,-4119.9 49956,-4119.9 "/>
<polyline fill="none" stroke="#eedd88" points="49648,-4095.1 49956,-4095.1 "/>
<text text-anchor="start" x="49656" y="-4079.9" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next): Response</text>
</g>
<!-- mcpgateway.services.audit_trail_service.DataClassification -->
<g id="node112" class="node">
<title>mcpgateway.services.audit_trail_service.DataClassification</title>
<polygon fill="white" stroke="#ffaabb" points="49974.5,-4073 49974.5,-4142 50099.5,-4142 50099.5,-4073 49974.5,-4073"/>
<text text-anchor="start" x="49982.5" y="-4126.8" font-family="Arial" font-size="14.00">DataClassification</text>
<polyline fill="none" stroke="#ffaabb" points="49974.5,-4119 50099.5,-4119 "/>
<text text-anchor="start" x="50019.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="49974.5,-4096 50099.5,-4096 "/>
<text text-anchor="start" x="50035" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.DatabaseMetricsSchema -->
<g id="node113" class="node">
<title>mcpgateway.schemas.DatabaseMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="50117.5,-4035.5 50117.5,-4179.5 50352.5,-4179.5 50352.5,-4035.5 50117.5,-4035.5"/>
<text text-anchor="start" x="50158.5" y="-4164.3" font-family="Arial" font-size="14.00">DatabaseMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="50117.5,-4156.5 50352.5,-4156.5 "/>
<text text-anchor="start" x="50125.5" y="-4141.3" font-family="Arial" font-size="14.00">connections_available : Optional[int]</text>
<text text-anchor="start" x="50125.5" y="-4126.3" font-family="Arial" font-size="14.00">connections_in_use : Optional[int]</text>
<text text-anchor="start" x="50125.5" y="-4111.3" font-family="Arial" font-size="14.00">overflow : Optional[int]</text>
<text text-anchor="start" x="50125.5" y="-4096.3" font-family="Arial" font-size="14.00">pool_size : Optional[int]</text>
<text text-anchor="start" x="50125.5" y="-4081.3" font-family="Arial" font-size="14.00">query_avg_time_ms : Optional[float]</text>
<text text-anchor="start" x="50125.5" y="-4066.3" font-family="Arial" font-size="14.00">query_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="50117.5,-4058.5 50352.5,-4058.5 "/>
<text text-anchor="start" x="50233" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.DatabaseSettings -->
<g id="node114" class="node">
<title>mcpgateway.config.Settings.DatabaseSettings</title>
<polygon fill="white" stroke="#44bb99" points="50371,-4043 50371,-4172 50553,-4172 50553,-4043 50371,-4043"/>
<text text-anchor="start" x="50408.5" y="-4156.8" font-family="Arial" font-size="14.00">DatabaseSettings</text>
<polyline fill="none" stroke="#44bb99" points="50371,-4149 50553,-4149 "/>
<text text-anchor="start" x="50379" y="-4133.8" font-family="Arial" font-size="14.00">connect_args : dict[str, Any]</text>
<text text-anchor="start" x="50379" y="-4118.8" font-family="Arial" font-size="14.00">max_overflow : int</text>
<text text-anchor="start" x="50379" y="-4103.8" font-family="Arial" font-size="14.00">pool_recycle : int</text>
<text text-anchor="start" x="50379" y="-4088.8" font-family="Arial" font-size="14.00">pool_size : int</text>
<text text-anchor="start" x="50379" y="-4073.8" font-family="Arial" font-size="14.00">pool_timeout : int</text>
<polyline fill="none" stroke="#44bb99" points="50371,-4066 50553,-4066 "/>
<text text-anchor="start" x="50460" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.dcr_service.DcrError -->
<g id="node115" class="node">
<title>mcpgateway.services.dcr_service.DcrError</title>
<polygon fill="white" stroke="#ffaabb" points="50571,-4072.1 50571,-4142.9 50639,-4142.9 50639,-4072.1 50571,-4072.1"/>
<text text-anchor="start" x="50579" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">DcrError</text>
<polyline fill="none" stroke="#ffaabb" points="50571,-4119.9 50639,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="50571,-4095.1 50639,-4095.1 "/>
<text text-anchor="start" x="50603" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.dcr_service.DcrService -->
<g id="node116" class="node">
<title>mcpgateway.services.dcr_service.DcrService</title>
<polygon fill="white" stroke="#ffaabb" points="50268,-8394 50268,-8523 51122,-8523 51122,-8394 50268,-8394"/>
<text text-anchor="start" x="50661.5" y="-8507.8" font-family="Arial" font-size="14.00">DcrService</text>
<polyline fill="none" stroke="#ffaabb" points="50268,-8500 51122,-8500 "/>
<text text-anchor="start" x="50671.5" y="-8484.8" font-family="Arial" font-size="14.00">settings</text>
<polyline fill="none" stroke="#ffaabb" points="50268,-8477 51122,-8477 "/>
<text text-anchor="start" x="50276" y="-8461.8" font-family="Arial" font-size="14.00">delete_client_registration(client_record: RegisteredOAuthClient, db: Session): bool</text>
<text text-anchor="start" x="50276" y="-8446.8" font-family="Arial" font-size="14.00">discover_as_metadata(issuer: str): Dict[str, Any]</text>
<text text-anchor="start" x="50276" y="-8431.8" font-family="Arial" font-size="14.00">get_or_register_client(gateway_id: str, gateway_name: str, issuer: str, redirect_uri: str, scopes: List[str], db: Session): RegisteredOAuthClient</text>
<text text-anchor="start" x="50276" y="-8416.8" font-family="Arial" font-size="14.00">register_client(gateway_id: str, gateway_name: str, issuer: str, redirect_uri: str, scopes: List[str], db: Session): RegisteredOAuthClient</text>
<text text-anchor="start" x="50276" y="-8401.8" font-family="Arial" font-size="14.00">update_client_registration(client_record: RegisteredOAuthClient, db: Session): RegisteredOAuthClient</text>
</g>
<!-- mcpgateway.main.DocsAuthMiddleware -->
<g id="node117" class="node">
<title>mcpgateway.main.DocsAuthMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="51178.5,-4072.1 51178.5,-4142.9 51417.5,-4142.9 51417.5,-4072.1 51178.5,-4072.1"/>
<text text-anchor="start" x="51233.5" y="-4127.7" font-family="Arial" font-size="14.00">DocsAuthMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="51178.5,-4119.9 51417.5,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="51178.5,-4095.1 51417.5,-4095.1 "/>
<text text-anchor="start" x="51186.5" y="-4079.9" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.common.models.ElicitRequestParams -->
<g id="node118" class="node">
<title>mcpgateway.common.models.ElicitRequestParams</title>
<polygon fill="white" stroke="#44bb99" points="51435.5,-4058 51435.5,-4157 51648.5,-4157 51648.5,-4058 51435.5,-4058"/>
<text text-anchor="start" x="51478.5" y="-4141.8" font-family="Arial" font-size="14.00">ElicitRequestParams</text>
<polyline fill="none" stroke="#44bb99" points="51435.5,-4134 51648.5,-4134 "/>
<text text-anchor="start" x="51443.5" y="-4118.8" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="51443.5" y="-4103.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="51443.5" y="-4088.8" font-family="Arial" font-size="14.00">requestedSchema : Dict[str, Any]</text>
<polyline fill="none" stroke="#44bb99" points="51435.5,-4081 51648.5,-4081 "/>
<text text-anchor="start" x="51540" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ElicitResult -->
<g id="node119" class="node">
<title>mcpgateway.common.models.ElicitResult</title>
<polygon fill="white" stroke="#44bb99" points="51667,-4058 51667,-4157 52035,-4157 52035,-4058 51667,-4058"/>
<text text-anchor="start" x="51817.5" y="-4141.8" font-family="Arial" font-size="14.00">ElicitResult</text>
<polyline fill="none" stroke="#44bb99" points="51667,-4134 52035,-4134 "/>
<text text-anchor="start" x="51675" y="-4118.8" font-family="Arial" font-size="14.00">action : Literal[&#39;accept&#39;, &#39;decline&#39;, &#39;cancel&#39;]</text>
<text text-anchor="start" x="51675" y="-4103.8" font-family="Arial" font-size="14.00">content : Optional[Dict[str, Union[str, int, float, bool, None]]]</text>
<text text-anchor="start" x="51675" y="-4088.8" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#44bb99" points="51667,-4081 52035,-4081 "/>
<text text-anchor="start" x="51849" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ElicitationCapability -->
<g id="node120" class="node">
<title>mcpgateway.common.models.ElicitationCapability</title>
<polygon fill="white" stroke="#44bb99" points="52053,-4073 52053,-4142 52187,-4142 52187,-4073 52053,-4073"/>
<text text-anchor="start" x="52061" y="-4126.8" font-family="Arial" font-size="14.00">ElicitationCapability</text>
<polyline fill="none" stroke="#44bb99" points="52053,-4119 52187,-4119 "/>
<text text-anchor="start" x="52079" y="-4103.8" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#44bb99" points="52053,-4096 52187,-4096 "/>
<text text-anchor="start" x="52118" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.elicitation_service.ElicitationService -->
<g id="node121" class="node">
<title>mcpgateway.services.elicitation_service.ElicitationService</title>
<polygon fill="white" stroke="#ffaabb" points="52205,-4013 52205,-4202 53165,-4202 53165,-4013 52205,-4013"/>
<text text-anchor="start" x="52633.5" y="-4186.8" font-family="Arial" font-size="14.00">ElicitationService</text>
<polyline fill="none" stroke="#ffaabb" points="52205,-4179 53165,-4179 "/>
<text text-anchor="start" x="52623" y="-4163.8" font-family="Arial" font-size="14.00">cleanup_interval : int</text>
<text text-anchor="start" x="52623" y="-4148.8" font-family="Arial" font-size="14.00">default_timeout : int</text>
<text text-anchor="start" x="52623" y="-4133.8" font-family="Arial" font-size="14.00">max_concurrent : int</text>
<polyline fill="none" stroke="#ffaabb" points="52205,-4126 53165,-4126 "/>
<text text-anchor="start" x="52213" y="-4110.8" font-family="Arial" font-size="14.00">complete_elicitation(request_id: str, result: ElicitResult): bool</text>
<text text-anchor="start" x="52213" y="-4095.8" font-family="Arial" font-size="14.00">create_elicitation(upstream_session_id: str, downstream_session_id: str, message: str, requested_schema: Dict[str, Any], timeout: Optional[float]): ElicitResult</text>
<text text-anchor="start" x="52213" y="-4080.8" font-family="Arial" font-size="14.00">get_pending_count(): int</text>
<text text-anchor="start" x="52213" y="-4065.8" font-family="Arial" font-size="14.00">get_pending_elicitation(request_id: str): Optional[PendingElicitation]</text>
<text text-anchor="start" x="52213" y="-4050.8" font-family="Arial" font-size="14.00">get_pending_for_session(session_id: str): list[PendingElicitation]</text>
<text text-anchor="start" x="52213" y="-4035.8" font-family="Arial" font-size="14.00">shutdown()</text>
<text text-anchor="start" x="52213" y="-4020.8" font-family="Arial" font-size="14.00">start()</text>
</g>
<!-- mcpgateway.db.EmailApiToken -->
<g id="node122" class="node">
<title>mcpgateway.db.EmailApiToken</title>
<polygon fill="white" stroke="#77aadd" points="1236,-3893 1236,-4322 1526,-4322 1526,-3893 1236,-3893"/>
<text text-anchor="start" x="1335.5" y="-4306.8" font-family="Arial" font-size="14.00">EmailApiToken</text>
<polyline fill="none" stroke="#77aadd" points="1236,-4299 1526,-4299 "/>
<text text-anchor="start" x="1244" y="-4283.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="1244" y="-4268.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-4253.8" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="1244" y="-4238.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-4223.8" font-family="Arial" font-size="14.00">ip_restrictions : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-4208.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="1244" y="-4193.8" font-family="Arial" font-size="14.00">jti : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-4178.8" font-family="Arial" font-size="14.00">last_used : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="1244" y="-4163.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-4148.8" font-family="Arial" font-size="14.00">resource_scopes : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-4133.8" font-family="Arial" font-size="14.00">server : Mapped[Optional[&#39;Server&#39;]]</text>
<text text-anchor="start" x="1244" y="-4118.8" font-family="Arial" font-size="14.00">server_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-4103.8" font-family="Arial" font-size="14.00">tags : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-4088.8" font-family="Arial" font-size="14.00">team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="1244" y="-4073.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-4058.8" font-family="Arial" font-size="14.00">time_restrictions : Mapped[Optional[dict]]</text>
<text text-anchor="start" x="1244" y="-4043.8" font-family="Arial" font-size="14.00">token_hash : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-4028.8" font-family="Arial" font-size="14.00">usage_limits : Mapped[Optional[dict]]</text>
<text text-anchor="start" x="1244" y="-4013.8" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="1244" y="-3998.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="1236,-3991 1526,-3991 "/>
<text text-anchor="start" x="1258.5" y="-3975.8" font-family="Arial" font-size="14.00">get_effective_permissions(): List[str]</text>
<text text-anchor="start" x="1258.5" y="-3960.8" font-family="Arial" font-size="14.00">has_permission(permission: str): bool</text>
<text text-anchor="start" x="1258.5" y="-3945.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="1258.5" y="-3930.8" font-family="Arial" font-size="14.00">is_scoped_to_server(server_id: str): bool</text>
<text text-anchor="start" x="1258.5" y="-3915.8" font-family="Arial" font-size="14.00">is_team_token(): bool</text>
<text text-anchor="start" x="1258.5" y="-3900.8" font-family="Arial" font-size="14.00">is_valid(): bool</text>
</g>
<!-- mcpgateway.db.EmailApiToken&#45;&gt;mcpgateway.db.Base -->
<g id="edge15" class="edge">
<title>mcpgateway.db.EmailApiToken&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1372.43,-4322.06C1342.37,-5126.12 1257.87,-7939.34 1535,-8215 1677.92,-8357.16 8359.83,-8446.07 9181.46,-8456.47"/>
<polygon fill="none" stroke="gray" points="9181.67,-8459.98 9191.71,-8456.6 9181.76,-8452.98 9181.67,-8459.98"/>
</g>
<!-- mcpgateway.db.EmailAuthEvent -->
<g id="node123" class="node">
<title>mcpgateway.db.EmailAuthEvent</title>
<polygon fill="white" stroke="#77aadd" points="1544,-3998 1544,-4217 2494,-4217 2494,-3998 1544,-3998"/>
<text text-anchor="start" x="1970.5" y="-4201.8" font-family="Arial" font-size="14.00">EmailAuthEvent</text>
<polyline fill="none" stroke="#77aadd" points="1544,-4194 2494,-4194 "/>
<text text-anchor="start" x="1905" y="-4178.8" font-family="Arial" font-size="14.00">details : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-4163.8" font-family="Arial" font-size="14.00">event_type : Mapped[str]</text>
<text text-anchor="start" x="1905" y="-4148.8" font-family="Arial" font-size="14.00">failure_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-4133.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="1905" y="-4118.8" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-4103.8" font-family="Arial" font-size="14.00">success : Mapped[bool]</text>
<text text-anchor="start" x="1905" y="-4088.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="1905" y="-4073.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-4058.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="1544,-4051 2494,-4051 "/>
<text text-anchor="start" x="1552" y="-4035.8" font-family="Arial" font-size="14.00">create_login_attempt(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str], failure_reason: Optional[str]): &#39;EmailAuthEvent&#39;</text>
<text text-anchor="start" x="1552" y="-4020.8" font-family="Arial" font-size="14.00">create_password_change_event(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str]): &#39;EmailAuthEvent&#39;</text>
<text text-anchor="start" x="1552" y="-4005.8" font-family="Arial" font-size="14.00">create_registration_event(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str], failure_reason: Optional[str]): &#39;EmailAuthEvent&#39;</text>
</g>
<!-- mcpgateway.db.EmailAuthEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge16" class="edge">
<title>mcpgateway.db.EmailAuthEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1989.65,-4217.02C1853.54,-4747.11 1338.34,-7084.25 2503,-8215 2754.74,-8459.41 8428.36,-8458.83 9181.66,-8457.67"/>
<polygon fill="none" stroke="gray" points="9181.87,-8461.17 9191.87,-8457.65 9181.86,-8454.17 9181.87,-8461.17"/>
</g>
<!-- mcpgateway.services.sso_service.SSOService -->
<g id="node499" class="node">
<title>mcpgateway.services.sso_service.SSOService</title>
<polygon fill="white" stroke="#ffaabb" points="26011,-8800 26011,-9019 26589,-9019 26589,-8800 26011,-8800"/>
<text text-anchor="start" x="26262.5" y="-9003.8" font-family="Arial" font-size="14.00">SSOService</text>
<polyline fill="none" stroke="#ffaabb" points="26011,-8996 26589,-8996 "/>
<text text-anchor="start" x="26261.5" y="-8980.8" font-family="Arial" font-size="14.00">auth_service</text>
<text text-anchor="start" x="26261.5" y="-8965.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="26011,-8958 26589,-8958 "/>
<text text-anchor="start" x="26019" y="-8942.8" font-family="Arial" font-size="14.00">authenticate_or_create_user(user_info: Dict[str, Any]): Optional[str]</text>
<text text-anchor="start" x="26019" y="-8927.8" font-family="Arial" font-size="14.00">create_provider(provider_data: Dict[str, Any]): SSOProvider</text>
<text text-anchor="start" x="26019" y="-8912.8" font-family="Arial" font-size="14.00">delete_provider(provider_id: str): bool</text>
<text text-anchor="start" x="26019" y="-8897.8" font-family="Arial" font-size="14.00">generate_pkce_challenge(): Tuple[str, str]</text>
<text text-anchor="start" x="26019" y="-8882.8" font-family="Arial" font-size="14.00">get_authorization_url(provider_id: str, redirect_uri: str, scopes: Optional[List[str]]): Optional[str]</text>
<text text-anchor="start" x="26019" y="-8867.8" font-family="Arial" font-size="14.00">get_provider(provider_id: str): Optional[SSOProvider]</text>
<text text-anchor="start" x="26019" y="-8852.8" font-family="Arial" font-size="14.00">get_provider_by_name(provider_name: str): Optional[SSOProvider]</text>
<text text-anchor="start" x="26019" y="-8837.8" font-family="Arial" font-size="14.00">handle_oauth_callback(provider_id: str, code: str, state: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="26019" y="-8822.8" font-family="Arial" font-size="14.00">list_enabled_providers(): List[SSOProvider]</text>
<text text-anchor="start" x="26019" y="-8807.8" font-family="Arial" font-size="14.00">update_provider(provider_id: str, provider_data: Dict[str, Any]): Optional[SSOProvider]</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailAuthService&#45;&gt;mcpgateway.services.sso_service.SSOService -->
<g id="edge170" class="edge">
<title>mcpgateway.services.email_auth_service.EmailAuthService&#45;&gt;mcpgateway.services.sso_service.SSOService</title>
<path fill="none" stroke="gray" d="M26300,-8650.57C26300,-8697.16 26300,-8745.71 26300,-8787.96"/>
<polygon fill="gray" stroke="gray" points="26300,-8787.99 26304,-8793.99 26300,-8799.99 26296,-8793.99 26300,-8787.99"/>
<text text-anchor="middle" x="26338.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">auth_service</text>
</g>
<!-- mcpgateway.schemas.EmailLoginRequest -->
<g id="node125" class="node">
<title>mcpgateway.schemas.EmailLoginRequest</title>
<polygon fill="white" stroke="#77aadd" points="53183.5,-4058 53183.5,-4157 53354.5,-4157 53354.5,-4058 53183.5,-4058"/>
<text text-anchor="start" x="53210" y="-4141.8" font-family="Arial" font-size="14.00">EmailLoginRequest</text>
<polyline fill="none" stroke="#77aadd" points="53183.5,-4134 53354.5,-4134 "/>
<text text-anchor="start" x="53191.5" y="-4118.8" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="53191.5" y="-4103.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="53191.5" y="-4088.8" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="53183.5,-4081 53354.5,-4081 "/>
<text text-anchor="start" x="53267" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.EmailTeam -->
<g id="node126" class="node">
<title>mcpgateway.db.EmailTeam</title>
<polygon fill="white" stroke="#77aadd" points="2512.5,-3953 2512.5,-4262 2815.5,-4262 2815.5,-3953 2512.5,-3953"/>
<text text-anchor="start" x="2629.5" y="-4246.8" font-family="Arial" font-size="14.00">EmailTeam</text>
<polyline fill="none" stroke="#77aadd" points="2512.5,-4239 2815.5,-4239 "/>
<text text-anchor="start" x="2521" y="-4223.8" font-family="Arial" font-size="14.00">api_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="2521" y="-4208.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="2521" y="-4193.8" font-family="Arial" font-size="14.00">created_by : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-4178.8" font-family="Arial" font-size="14.00">creator : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="2521" y="-4163.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="2521" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-4133.8" font-family="Arial" font-size="14.00">invitations : Mapped[List[&#39;EmailTeamInvitation&#39;]]</text>
<text text-anchor="start" x="2521" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="2521" y="-4103.8" font-family="Arial" font-size="14.00">is_personal : Mapped[bool]</text>
<text text-anchor="start" x="2521" y="-4088.8" font-family="Arial" font-size="14.00">max_members : Mapped[Optional[int]]</text>
<text text-anchor="start" x="2521" y="-4073.8" font-family="Arial" font-size="14.00">members : Mapped[List[&#39;EmailTeamMember&#39;]]</text>
<text text-anchor="start" x="2521" y="-4058.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-4043.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-4028.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="2521" y="-4013.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="2512.5,-4006 2815.5,-4006 "/>
<text text-anchor="start" x="2520.5" y="-3990.8" font-family="Arial" font-size="14.00">get_member_count(): int</text>
<text text-anchor="start" x="2520.5" y="-3975.8" font-family="Arial" font-size="14.00">get_member_role(user_email: str): Optional[str]</text>
<text text-anchor="start" x="2520.5" y="-3960.8" font-family="Arial" font-size="14.00">is_member(user_email: str): bool</text>
</g>
<!-- mcpgateway.db.EmailTeam&#45;&gt;mcpgateway.db.Base -->
<g id="edge17" class="edge">
<title>mcpgateway.db.EmailTeam&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M2658.53,-4262.17C2634.75,-4972.96 2553.22,-7919.84 2825,-8215 3050.98,-8460.42 8448.15,-8459.02 9181.73,-8457.69"/>
<polygon fill="none" stroke="gray" points="9181.94,-8461.19 9191.93,-8457.67 9181.93,-8454.19 9181.94,-8461.19"/>
</g>
<!-- mcpgateway.db.EmailTeamInvitation -->
<g id="node127" class="node">
<title>mcpgateway.db.EmailTeamInvitation</title>
<polygon fill="white" stroke="#77aadd" points="2834,-3990.5 2834,-4224.5 3034,-4224.5 3034,-3990.5 2834,-3990.5"/>
<text text-anchor="start" x="2872.5" y="-4209.3" font-family="Arial" font-size="14.00">EmailTeamInvitation</text>
<polyline fill="none" stroke="#77aadd" points="2834,-4201.5 3034,-4201.5 "/>
<text text-anchor="start" x="2842" y="-4186.3" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-4171.3" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="2842" y="-4156.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-4141.3" font-family="Arial" font-size="14.00">invited_at : Mapped[datetime]</text>
<text text-anchor="start" x="2842" y="-4126.3" font-family="Arial" font-size="14.00">invited_by : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-4111.3" font-family="Arial" font-size="14.00">inviter : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="2842" y="-4096.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="2842" y="-4081.3" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-4066.3" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="2842" y="-4051.3" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-4036.3" font-family="Arial" font-size="14.00">token : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="2834,-4028.5 3034,-4028.5 "/>
<text text-anchor="start" x="2882" y="-4013.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="2882" y="-3998.3" font-family="Arial" font-size="14.00">is_valid(): bool</text>
</g>
<!-- mcpgateway.db.EmailTeamInvitation&#45;&gt;mcpgateway.db.Base -->
<g id="edge18" class="edge">
<title>mcpgateway.db.EmailTeamInvitation&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M2928.16,-4224.62C2897.26,-4861.85 2764.54,-7916.01 3043,-8215 3262.4,-8450.57 8462.37,-8457.7 9181.74,-8457.56"/>
<polygon fill="none" stroke="gray" points="9181.75,-8461.06 9191.75,-8457.56 9181.75,-8454.06 9181.75,-8461.06"/>
</g>
<!-- mcpgateway.db.EmailTeamJoinRequest -->
<g id="node128" class="node">
<title>mcpgateway.db.EmailTeamJoinRequest</title>
<polygon fill="white" stroke="#77aadd" points="3052.5,-3975.5 3052.5,-4239.5 3321.5,-4239.5 3321.5,-3975.5 3052.5,-3975.5"/>
<text text-anchor="start" x="3115" y="-4224.3" font-family="Arial" font-size="14.00">EmailTeamJoinRequest</text>
<polyline fill="none" stroke="#77aadd" points="3052.5,-4216.5 3321.5,-4216.5 "/>
<text text-anchor="start" x="3060.5" y="-4201.3" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="3060.5" y="-4186.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-4171.3" font-family="Arial" font-size="14.00">message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-4156.3" font-family="Arial" font-size="14.00">notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-4141.3" font-family="Arial" font-size="14.00">requested_at : Mapped[datetime]</text>
<text text-anchor="start" x="3060.5" y="-4126.3" font-family="Arial" font-size="14.00">reviewed_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="3060.5" y="-4111.3" font-family="Arial" font-size="14.00">reviewed_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-4096.3" font-family="Arial" font-size="14.00">reviewer : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3060.5" y="-4081.3" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-4066.3" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3060.5" y="-4051.3" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-4036.3" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3060.5" y="-4021.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3052.5,-4013.5 3321.5,-4013.5 "/>
<text text-anchor="start" x="3133" y="-3998.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="3133" y="-3983.3" font-family="Arial" font-size="14.00">is_pending(): bool</text>
</g>
<!-- mcpgateway.db.EmailTeamJoinRequest&#45;&gt;mcpgateway.db.Base -->
<g id="edge19" class="edge">
<title>mcpgateway.db.EmailTeamJoinRequest&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3181.64,-4239.65C3155.59,-4908.35 3054.43,-7918.37 3331,-8215 3540,-8439.16 8481.47,-8456.12 9181.76,-8457.4"/>
<polygon fill="none" stroke="gray" points="9181.76,-8460.9 9191.76,-8457.41 9181.77,-8453.9 9181.76,-8460.9"/>
</g>
<!-- mcpgateway.db.EmailTeamMember -->
<g id="node129" class="node">
<title>mcpgateway.db.EmailTeamMember</title>
<polygon fill="white" stroke="#77aadd" points="3340,-4005.5 3340,-4209.5 3588,-4209.5 3588,-4005.5 3340,-4005.5"/>
<text text-anchor="start" x="3404" y="-4194.3" font-family="Arial" font-size="14.00">EmailTeamMember</text>
<polyline fill="none" stroke="#77aadd" points="3340,-4186.5 3588,-4186.5 "/>
<text text-anchor="start" x="3348" y="-4171.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-4156.3" font-family="Arial" font-size="14.00">invited_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3348" y="-4141.3" font-family="Arial" font-size="14.00">inviter : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3348" y="-4126.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="3348" y="-4111.3" font-family="Arial" font-size="14.00">joined_at : Mapped[datetime]</text>
<text text-anchor="start" x="3348" y="-4096.3" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-4081.3" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3348" y="-4066.3" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-4051.3" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3348" y="-4036.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3340,-4028.5 3588,-4028.5 "/>
<text text-anchor="start" x="3462" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.EmailTeamMember&#45;&gt;mcpgateway.db.Base -->
<g id="edge20" class="edge">
<title>mcpgateway.db.EmailTeamMember&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3459.47,-4209.77C3433.5,-4812.86 3314.33,-7915.35 3597,-8215 3797.5,-8427.54 8498.4,-8454.42 9181.52,-8457.21"/>
<polygon fill="none" stroke="gray" points="9181.75,-8460.71 9191.76,-8457.25 9181.78,-8453.71 9181.75,-8460.71"/>
</g>
<!-- mcpgateway.db.EmailTeamMemberHistory -->
<g id="node130" class="node">
<title>mcpgateway.db.EmailTeamMemberHistory</title>
<polygon fill="white" stroke="#77aadd" points="3606.5,-3990.5 3606.5,-4224.5 3905.5,-4224.5 3905.5,-3990.5 3606.5,-3990.5"/>
<text text-anchor="start" x="3675" y="-4209.3" font-family="Arial" font-size="14.00">EmailTeamMemberHistory</text>
<polyline fill="none" stroke="#77aadd" points="3606.5,-4201.5 3905.5,-4201.5 "/>
<text text-anchor="start" x="3614.5" y="-4186.3" font-family="Arial" font-size="14.00">action : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-4171.3" font-family="Arial" font-size="14.00">action_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3614.5" y="-4156.3" font-family="Arial" font-size="14.00">action_timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="3614.5" y="-4141.3" font-family="Arial" font-size="14.00">actor : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3614.5" y="-4126.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-4111.3" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-4096.3" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3614.5" y="-4081.3" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-4066.3" font-family="Arial" font-size="14.00">team_member : Mapped[&#39;EmailTeamMember&#39;]</text>
<text text-anchor="start" x="3614.5" y="-4051.3" font-family="Arial" font-size="14.00">team_member_id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-4036.3" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3614.5" y="-4021.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3606.5,-4013.5 3905.5,-4013.5 "/>
<text text-anchor="start" x="3754" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.EmailTeamMemberHistory&#45;&gt;mcpgateway.db.Base -->
<g id="edge21" class="edge">
<title>mcpgateway.db.EmailTeamMemberHistory&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3751.45,-4224.6C3727.6,-4862.52 3628.75,-7923.16 3915,-8215 4107.67,-8411.43 8520.04,-8451.95 9181.36,-8456.93"/>
<polygon fill="none" stroke="gray" points="9181.72,-8460.43 9191.75,-8457 9181.78,-8453.43 9181.72,-8460.43"/>
</g>
<!-- mcpgateway.db.EmailUser -->
<g id="node131" class="node">
<title>mcpgateway.db.EmailUser</title>
<polygon fill="white" stroke="#77aadd" points="3924,-3870.5 3924,-4344.5 4434,-4344.5 4434,-3870.5 3924,-3870.5"/>
<text text-anchor="start" x="4147" y="-4329.3" font-family="Arial" font-size="14.00">EmailUser</text>
<polyline fill="none" stroke="#77aadd" points="3924,-4321.5 4434,-4321.5 "/>
<text text-anchor="start" x="4007.5" y="-4306.3" font-family="Arial" font-size="14.00">admin_origin : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4007.5" y="-4291.3" font-family="Arial" font-size="14.00">api_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4276.3" font-family="Arial" font-size="14.00">auth_provider : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4261.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="4007.5" y="-4246.3" font-family="Arial" font-size="14.00">created_teams : Mapped[List[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4231.3" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4216.3" font-family="Arial" font-size="14.00">email_verified_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-4201.3" font-family="Arial" font-size="14.00">failed_login_attempts : Mapped[int]</text>
<text text-anchor="start" x="4007.5" y="-4186.3" font-family="Arial" font-size="14.00">full_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4007.5" y="-4171.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-4156.3" font-family="Arial" font-size="14.00">is_admin : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-4141.3" font-family="Arial" font-size="14.00">last_login : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-4126.3" font-family="Arial" font-size="14.00">locked_until : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-4111.3" font-family="Arial" font-size="14.00">password_change_required : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-4096.3" font-family="Arial" font-size="14.00">password_changed_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-4081.3" font-family="Arial" font-size="14.00">password_hash : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4066.3" font-family="Arial" font-size="14.00">password_hash_type : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4051.3" font-family="Arial" font-size="14.00">sent_invitations : Mapped[List[&#39;EmailTeamInvitation&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4036.3" font-family="Arial" font-size="14.00">team_memberships : Mapped[List[&#39;EmailTeamMember&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4021.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="3924,-4013.5 4434,-4013.5 "/>
<text text-anchor="start" x="3932" y="-3998.3" font-family="Arial" font-size="14.00">get_display_name(): str</text>
<text text-anchor="start" x="3932" y="-3983.3" font-family="Arial" font-size="14.00">get_personal_team(): Optional[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3932" y="-3968.3" font-family="Arial" font-size="14.00">get_team_role(team_id: str): Optional[str]</text>
<text text-anchor="start" x="3932" y="-3953.3" font-family="Arial" font-size="14.00">get_teams(): List[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3932" y="-3938.3" font-family="Arial" font-size="14.00">increment_failed_attempts(max_attempts: int, lockout_duration_minutes: int): bool</text>
<text text-anchor="start" x="3932" y="-3923.3" font-family="Arial" font-size="14.00">is_account_locked(): bool</text>
<text text-anchor="start" x="3932" y="-3908.3" font-family="Arial" font-size="14.00">is_email_verified(): bool</text>
<text text-anchor="start" x="3932" y="-3893.3" font-family="Arial" font-size="14.00">is_team_member(team_id: str): bool</text>
<text text-anchor="start" x="3932" y="-3878.3" font-family="Arial" font-size="14.00">reset_failed_attempts(): None</text>
</g>
<!-- mcpgateway.db.EmailUser&#45;&gt;mcpgateway.db.Base -->
<g id="edge22" class="edge">
<title>mcpgateway.db.EmailUser&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M4155.89,-4344.67C4084.14,-5135.11 3901.07,-7668.95 4443,-8215 4616.95,-8390.27 8558.37,-8448.37 9181.39,-8456.48"/>
<polygon fill="none" stroke="gray" points="9181.59,-8459.98 9191.63,-8456.61 9181.68,-8452.98 9181.59,-8459.98"/>
</g>
<!-- mcpgateway.schemas.EmailUserResponse -->
<g id="node132" class="node">
<title>mcpgateway.schemas.EmailUserResponse</title>
<polygon fill="white" stroke="#77aadd" points="53372.5,-4005.5 53372.5,-4209.5 53663.5,-4209.5 53663.5,-4005.5 53372.5,-4005.5"/>
<text text-anchor="start" x="53456" y="-4194.3" font-family="Arial" font-size="14.00">EmailUserResponse</text>
<polyline fill="none" stroke="#77aadd" points="53372.5,-4186.5 53663.5,-4186.5 "/>
<text text-anchor="start" x="53387" y="-4171.3" font-family="Arial" font-size="14.00">auth_provider : Optional[str]</text>
<text text-anchor="start" x="53387" y="-4156.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="53387" y="-4141.3" font-family="Arial" font-size="14.00">email : Optional[str]</text>
<text text-anchor="start" x="53387" y="-4126.3" font-family="Arial" font-size="14.00">email_verified : Optional[bool]</text>
<text text-anchor="start" x="53387" y="-4111.3" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="53387" y="-4096.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="53387" y="-4081.3" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="53387" y="-4066.3" font-family="Arial" font-size="14.00">last_login : Optional[datetime]</text>
<text text-anchor="start" x="53387" y="-4051.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="53387" y="-4036.3" font-family="Arial" font-size="14.00">password_change_required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="53372.5,-4028.5 53663.5,-4028.5 "/>
<text text-anchor="start" x="53380.5" y="-4013.3" font-family="Arial" font-size="14.00">from_email_user(user): &#39;EmailUserResponse&#39;</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailValidationError -->
<g id="node133" class="node">
<title>mcpgateway.services.email_auth_service.EmailValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="53681,-4072.1 53681,-4142.9 53821,-4142.9 53821,-4072.1 53681,-4072.1"/>
<text text-anchor="start" x="53689" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">EmailValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="53681,-4119.9 53821,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="53681,-4095.1 53821,-4095.1 "/>
<text text-anchor="start" x="53749" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.common.models.EmbeddedResource -->
<g id="node134" class="node">
<title>mcpgateway.common.models.EmbeddedResource</title>
<polygon fill="white" stroke="#44bb99" points="53839,-4050.5 53839,-4164.5 54245,-4164.5 54245,-4050.5 53839,-4050.5"/>
<text text-anchor="start" x="53980" y="-4149.3" font-family="Arial" font-size="14.00">EmbeddedResource</text>
<polyline fill="none" stroke="#44bb99" points="53839,-4141.5 54245,-4141.5 "/>
<text text-anchor="start" x="53847" y="-4126.3" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="53847" y="-4111.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="53847" y="-4096.3" font-family="Arial" font-size="14.00">resource : Union[TextResourceContents, BlobResourceContents]</text>
<text text-anchor="start" x="53847" y="-4081.3" font-family="Arial" font-size="14.00">type : Literal[&#39;resource&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="53839,-4073.5 54245,-4073.5 "/>
<text text-anchor="start" x="54040" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingData -->
<g id="node135" class="node">
<title>mcpgateway.llm_schemas.EmbeddingData</title>
<polygon fill="white" stroke="#77aadd" points="54262.5,-4058 54262.5,-4157 54411.5,-4157 54411.5,-4058 54262.5,-4058"/>
<text text-anchor="start" x="54288" y="-4141.8" font-family="Arial" font-size="14.00">EmbeddingData</text>
<polyline fill="none" stroke="#77aadd" points="54262.5,-4134 54411.5,-4134 "/>
<text text-anchor="start" x="54270.5" y="-4118.8" font-family="Arial" font-size="14.00">embedding : List[float]</text>
<text text-anchor="start" x="54270.5" y="-4103.8" font-family="Arial" font-size="14.00">index : int</text>
<text text-anchor="start" x="54270.5" y="-4088.8" font-family="Arial" font-size="14.00">object : str</text>
<polyline fill="none" stroke="#77aadd" points="54262.5,-4081 54411.5,-4081 "/>
<text text-anchor="start" x="54335" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingRequest -->
<g id="node136" class="node">
<title>mcpgateway.llm_schemas.EmbeddingRequest</title>
<polygon fill="white" stroke="#77aadd" points="54429.5,-4050.5 54429.5,-4164.5 54750.5,-4164.5 54750.5,-4050.5 54429.5,-4050.5"/>
<text text-anchor="start" x="54530" y="-4149.3" font-family="Arial" font-size="14.00">EmbeddingRequest</text>
<polyline fill="none" stroke="#77aadd" points="54429.5,-4141.5 54750.5,-4141.5 "/>
<text text-anchor="start" x="54437.5" y="-4126.3" font-family="Arial" font-size="14.00">encoding_format : Optional[Literal[&#39;float&#39;, &#39;base64&#39;]]</text>
<text text-anchor="start" x="54437.5" y="-4111.3" font-family="Arial" font-size="14.00">input : Optional[Union[str, List[str]]]</text>
<text text-anchor="start" x="54437.5" y="-4096.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="54437.5" y="-4081.3" font-family="Arial" font-size="14.00">user : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="54429.5,-4073.5 54750.5,-4073.5 "/>
<text text-anchor="start" x="54588" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingResponse -->
<g id="node137" class="node">
<title>mcpgateway.llm_schemas.EmbeddingResponse</title>
<polygon fill="white" stroke="#77aadd" points="54756,-8401.5 54756,-8515.5 54936,-8515.5 54936,-8401.5 54756,-8401.5"/>
<text text-anchor="start" x="54781" y="-8500.3" font-family="Arial" font-size="14.00">EmbeddingResponse</text>
<polyline fill="none" stroke="#77aadd" points="54756,-8492.5 54936,-8492.5 "/>
<text text-anchor="start" x="54764" y="-8477.3" font-family="Arial" font-size="14.00">data : List[EmbeddingData]</text>
<text text-anchor="start" x="54764" y="-8462.3" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="54764" y="-8447.3" font-family="Arial" font-size="14.00">object : str</text>
<text text-anchor="start" x="54764" y="-8432.3" font-family="Arial" font-size="14.00">usage</text>
<polyline fill="none" stroke="#77aadd" points="54756,-8424.5 54936,-8424.5 "/>
<text text-anchor="start" x="54844" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.encryption_service.EncryptionService -->
<g id="node138" class="node">
<title>mcpgateway.services.encryption_service.EncryptionService</title>
<polygon fill="white" stroke="#ffaabb" points="55098,-3998 55098,-4217 55760,-4217 55760,-3998 55098,-3998"/>
<text text-anchor="start" x="55374.5" y="-4201.8" font-family="Arial" font-size="14.00">EncryptionService</text>
<polyline fill="none" stroke="#ffaabb" points="55098,-4194 55760,-4194 "/>
<text text-anchor="start" x="55353.5" y="-4178.8" font-family="Arial" font-size="14.00">encryption_secret : bytes</text>
<text text-anchor="start" x="55353.5" y="-4163.8" font-family="Arial" font-size="14.00">hash_len : int</text>
<text text-anchor="start" x="55353.5" y="-4148.8" font-family="Arial" font-size="14.00">memory_cost</text>
<text text-anchor="start" x="55353.5" y="-4133.8" font-family="Arial" font-size="14.00">parallelism</text>
<text text-anchor="start" x="55353.5" y="-4118.8" font-family="Arial" font-size="14.00">salt_len : int</text>
<text text-anchor="start" x="55353.5" y="-4103.8" font-family="Arial" font-size="14.00">time_cost</text>
<polyline fill="none" stroke="#ffaabb" points="55098,-4096 55760,-4096 "/>
<text text-anchor="start" x="55106" y="-4080.8" font-family="Arial" font-size="14.00">decrypt_secret(bundle_json: str): Optional[str]</text>
<text text-anchor="start" x="55106" y="-4065.8" font-family="Arial" font-size="14.00">decrypt_secret_async(bundle_json: str): Optional[str]</text>
<text text-anchor="start" x="55106" y="-4050.8" font-family="Arial" font-size="14.00">derive_key_argon2id(passphrase: bytes, salt: bytes, time_cost: int, memory_cost: int, parallelism: int): bytes</text>
<text text-anchor="start" x="55106" y="-4035.8" font-family="Arial" font-size="14.00">encrypt_secret(plaintext: str): str</text>
<text text-anchor="start" x="55106" y="-4020.8" font-family="Arial" font-size="14.00">encrypt_secret_async(plaintext: str): str</text>
<text text-anchor="start" x="55106" y="-4005.8" font-family="Arial" font-size="14.00">is_encrypted(text: str): bool</text>
</g>
<!-- mcpgateway.services.token_storage_service.TokenStorageService -->
<g id="node584" class="node">
<title>mcpgateway.services.token_storage_service.TokenStorageService</title>
<polygon fill="white" stroke="#ffaabb" points="54954,-8386.5 54954,-8530.5 55904,-8530.5 55904,-8386.5 54954,-8386.5"/>
<text text-anchor="start" x="55364.5" y="-8515.3" font-family="Arial" font-size="14.00">TokenStorageService</text>
<polyline fill="none" stroke="#ffaabb" points="54954,-8507.5 55904,-8507.5 "/>
<text text-anchor="start" x="55361" y="-8492.3" font-family="Arial" font-size="14.00">db</text>
<text text-anchor="start" x="55361" y="-8477.3" font-family="Arial" font-size="14.00">encryption : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="54954,-8469.5 55904,-8469.5 "/>
<text text-anchor="start" x="54962" y="-8454.3" font-family="Arial" font-size="14.00">cleanup_expired_tokens(max_age_days: int): int</text>
<text text-anchor="start" x="54962" y="-8439.3" font-family="Arial" font-size="14.00">get_token_info(gateway_id: str, app_user_email: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="54962" y="-8424.3" font-family="Arial" font-size="14.00">get_user_token(gateway_id: str, app_user_email: str, threshold_seconds: int): Optional[str]</text>
<text text-anchor="start" x="54962" y="-8409.3" font-family="Arial" font-size="14.00">revoke_user_tokens(gateway_id: str, app_user_email: str): bool</text>
<text text-anchor="start" x="54962" y="-8394.3" font-family="Arial" font-size="14.00">store_tokens(gateway_id: str, user_id: str, app_user_email: str, access_token: str, refresh_token: Optional[str], expires_in: int, scopes: List[str]): OAuthToken</text>
</g>
<!-- mcpgateway.services.encryption_service.EncryptionService&#45;&gt;mcpgateway.services.token_storage_service.TokenStorageService -->
<g id="edge171" class="edge">
<title>mcpgateway.services.encryption_service.EncryptionService&#45;&gt;mcpgateway.services.token_storage_service.TokenStorageService</title>
<path fill="none" stroke="gray" d="M55429,-4217.09C55429,-4828.43 55429,-7832.78 55429,-8373.91"/>
<polygon fill="gray" stroke="gray" points="55429,-8374.24 55433,-8380.24 55429,-8386.24 55425,-8380.24 55429,-8374.24"/>
<text text-anchor="middle" x="55460.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">encryption</text>
</g>
<!-- mcpgateway.schemas.ErrorResponse -->
<g id="node139" class="node">
<title>mcpgateway.schemas.ErrorResponse</title>
<polygon fill="white" stroke="#77aadd" points="55778.5,-4058 55778.5,-4157 55935.5,-4157 55935.5,-4058 55778.5,-4058"/>
<text text-anchor="start" x="55811.5" y="-4141.8" font-family="Arial" font-size="14.00">ErrorResponse</text>
<polyline fill="none" stroke="#77aadd" points="55778.5,-4134 55935.5,-4134 "/>
<text text-anchor="start" x="55786.5" y="-4118.8" font-family="Arial" font-size="14.00">details : Optional[dict]</text>
<text text-anchor="start" x="55786.5" y="-4103.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="55786.5" y="-4088.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="55778.5,-4081 55935.5,-4081 "/>
<text text-anchor="start" x="55855" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.EventEntry -->
<g id="node140" class="node">
<title>mcpgateway.transports.streamablehttp_transport.EventEntry</title>
<polygon fill="white" stroke="#77aadd" points="55954,-4050.5 55954,-4164.5 56158,-4164.5 56158,-4050.5 55954,-4050.5"/>
<text text-anchor="start" x="56022.5" y="-4149.3" font-family="Arial" font-size="14.00">EventEntry</text>
<polyline fill="none" stroke="#77aadd" points="55954,-4141.5 56158,-4141.5 "/>
<text text-anchor="start" x="55962" y="-4126.3" font-family="Arial" font-size="14.00">event_id : str</text>
<text text-anchor="start" x="55962" y="-4111.3" font-family="Arial" font-size="14.00">message : JSONRPCMessage</text>
<text text-anchor="start" x="55962" y="-4096.3" font-family="Arial" font-size="14.00">seq_num : int</text>
<text text-anchor="start" x="55962" y="-4081.3" font-family="Arial" font-size="14.00">stream_id : str</text>
<polyline fill="none" stroke="#77aadd" points="55954,-4073.5 56158,-4073.5 "/>
<text text-anchor="start" x="56054" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.EventMessage -->
<g id="node141" class="node">
<title>mcpgateway.schemas.EventMessage</title>
<polygon fill="white" stroke="#77aadd" points="56176,-4058 56176,-4157 56416,-4157 56416,-4058 56176,-4058"/>
<text text-anchor="start" x="56250.5" y="-4141.8" font-family="Arial" font-size="14.00">EventMessage</text>
<polyline fill="none" stroke="#77aadd" points="56176,-4134 56416,-4134 "/>
<text text-anchor="start" x="56202.5" y="-4118.8" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="56202.5" y="-4103.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="56202.5" y="-4088.8" font-family="Arial" font-size="14.00">type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="56176,-4081 56416,-4081 "/>
<text text-anchor="start" x="56184" y="-4065.8" font-family="Arial" font-size="14.00">serialize_timestamp(dt: datetime): str</text>
</g>
<!-- mcpgateway.services.event_service.EventService -->
<g id="node142" class="node">
<title>mcpgateway.services.event_service.EventService</title>
<polygon fill="white" stroke="#ffaabb" points="56434,-4035.5 56434,-4179.5 56792,-4179.5 56792,-4035.5 56434,-4035.5"/>
<text text-anchor="start" x="56573" y="-4164.3" font-family="Arial" font-size="14.00">EventService</text>
<polyline fill="none" stroke="#ffaabb" points="56434,-4156.5 56792,-4156.5 "/>
<text text-anchor="start" x="56550.5" y="-4141.3" font-family="Arial" font-size="14.00">channel_name : str</text>
<text text-anchor="start" x="56550.5" y="-4126.3" font-family="Arial" font-size="14.00">redis_url : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="56434,-4118.5 56792,-4118.5 "/>
<text text-anchor="start" x="56442" y="-4103.3" font-family="Arial" font-size="14.00">event_generator(): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="56442" y="-4088.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="56442" y="-4073.3" font-family="Arial" font-size="14.00">publish_event(event: Dict[str, Any]): None</text>
<text text-anchor="start" x="56442" y="-4058.3" font-family="Arial" font-size="14.00">shutdown()</text>
<text text-anchor="start" x="56442" y="-4043.3" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
</g>
<!-- mcpgateway.transports.sse_transport.EventSourceResponse -->
<g id="node143" class="node">
<title>mcpgateway.transports.sse_transport.EventSourceResponse</title>
<polygon fill="white" stroke="#77aadd" points="56810,-4072.1 56810,-4142.9 57064,-4142.9 57064,-4072.1 56810,-4072.1"/>
<text text-anchor="start" x="56867.5" y="-4127.7" font-family="Arial" font-size="14.00">EventSourceResponse</text>
<polyline fill="none" stroke="#77aadd" points="56810,-4119.9 57064,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="56810,-4095.1 57064,-4095.1 "/>
<text text-anchor="start" x="56818" y="-4080.9" font-family="Arial" font-style="italic" font-size="14.00">enable_compression</text>
<text text-anchor="start" x="56944" y="-4080.9" font-family="Arial" font-size="14.00">(force: bool): None</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportData -->
<g id="node144" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportData</title>
<polygon fill="white" stroke="#ffaabb" points="57062.5,-8830 57062.5,-8989 57289.5,-8989 57289.5,-8830 57062.5,-8830"/>
<text text-anchor="start" x="57142" y="-8973.8" font-family="Arial" font-size="14.00">ExportData</text>
<polyline fill="none" stroke="#ffaabb" points="57062.5,-8966 57289.5,-8966 "/>
<text text-anchor="start" x="57070.5" y="-8950.8" font-family="Arial" font-size="14.00">encryption_method : str</text>
<text text-anchor="start" x="57070.5" y="-8935.8" font-family="Arial" font-size="14.00">entities : Dict[str, List[Dict[str, Any]]]</text>
<text text-anchor="start" x="57070.5" y="-8920.8" font-family="Arial" font-size="14.00">exported_at : str</text>
<text text-anchor="start" x="57070.5" y="-8905.8" font-family="Arial" font-size="14.00">exported_by : str</text>
<text text-anchor="start" x="57070.5" y="-8890.8" font-family="Arial" font-size="14.00">metadata</text>
<text text-anchor="start" x="57070.5" y="-8875.8" font-family="Arial" font-size="14.00">source_gateway : str</text>
<text text-anchor="start" x="57070.5" y="-8860.8" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ffaabb" points="57062.5,-8853 57289.5,-8853 "/>
<text text-anchor="start" x="57174" y="-8837.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportError -->
<g id="node145" class="node">
<title>mcpgateway.services.export_service.ExportError</title>
<polygon fill="white" stroke="#ffaabb" points="57317,-8423.1 57317,-8493.9 57403,-8493.9 57403,-8423.1 57317,-8423.1"/>
<text text-anchor="start" x="57325" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ExportError</text>
<polyline fill="none" stroke="#ffaabb" points="57317,-8470.9 57403,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="57317,-8446.1 57403,-8446.1 "/>
<text text-anchor="start" x="57358" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata -->
<g id="node146" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata</title>
<polygon fill="white" stroke="#ffaabb" points="57082.5,-8409 57082.5,-8508 57269.5,-8508 57269.5,-8409 57082.5,-8409"/>
<text text-anchor="start" x="57127.5" y="-8492.8" font-family="Arial" font-size="14.00">ExportMetadata</text>
<polyline fill="none" stroke="#ffaabb" points="57082.5,-8485 57269.5,-8485 "/>
<text text-anchor="start" x="57090.5" y="-8469.8" font-family="Arial" font-size="14.00">dependencies : Dict[str, Any]</text>
<text text-anchor="start" x="57090.5" y="-8454.8" font-family="Arial" font-size="14.00">entity_counts : Dict[str, int]</text>
<text text-anchor="start" x="57090.5" y="-8439.8" font-family="Arial" font-size="14.00">export_options</text>
<polyline fill="none" stroke="#ffaabb" points="57082.5,-8432 57269.5,-8432 "/>
<text text-anchor="start" x="57174" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportData -->
<g id="edge172" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportData</title>
<path fill="none" stroke="gray" d="M57176,-8508.41C57176,-8582.47 57176,-8724.33 57176,-8817.68"/>
<polygon fill="gray" stroke="gray" points="57176,-8817.95 57180,-8823.95 57176,-8829.95 57172,-8823.95 57176,-8817.95"/>
<text text-anchor="middle" x="57205" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">metadata</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions -->
<g id="node147" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions</title>
<polygon fill="white" stroke="#ffaabb" points="57082,-4050.5 57082,-4164.5 57270,-4164.5 57270,-4050.5 57082,-4050.5"/>
<text text-anchor="start" x="57132.5" y="-4149.3" font-family="Arial" font-size="14.00">ExportOptions</text>
<polyline fill="none" stroke="#ffaabb" points="57082,-4141.5 57270,-4141.5 "/>
<text text-anchor="start" x="57090" y="-4126.3" font-family="Arial" font-size="14.00">filter_tags : List[str]</text>
<text text-anchor="start" x="57090" y="-4111.3" font-family="Arial" font-size="14.00">include_dependencies : bool</text>
<text text-anchor="start" x="57090" y="-4096.3" font-family="Arial" font-size="14.00">include_inactive : bool</text>
<text text-anchor="start" x="57090" y="-4081.3" font-family="Arial" font-size="14.00">selected_types : List[str]</text>
<polyline fill="none" stroke="#ffaabb" points="57082,-4073.5 57270,-4073.5 "/>
<text text-anchor="start" x="57174" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata -->
<g id="edge173" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata</title>
<path fill="none" stroke="gray" d="M57176,-4164.68C57176,-4634.71 57176,-7907.56 57176,-8396.46"/>
<polygon fill="gray" stroke="gray" points="57176,-8396.81 57180,-8402.81 57176,-8408.81 57172,-8402.81 57176,-8396.81"/>
<text text-anchor="middle" x="57220.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">export_options</text>
</g>
<!-- mcpgateway.services.export_service.ExportService -->
<g id="node148" class="node">
<title>mcpgateway.services.export_service.ExportService</title>
<polygon fill="white" stroke="#ffaabb" points="57450,-4013 57450,-4202 58798,-4202 58798,-4013 57450,-4013"/>
<text text-anchor="start" x="58081.5" y="-4186.8" font-family="Arial" font-size="14.00">ExportService</text>
<polyline fill="none" stroke="#ffaabb" points="57450,-4179 58798,-4179 "/>
<text text-anchor="start" x="58072.5" y="-4163.8" font-family="Arial" font-size="14.00">gateway_service</text>
<text text-anchor="start" x="58072.5" y="-4148.8" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="58072.5" y="-4133.8" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="58072.5" y="-4118.8" font-family="Arial" font-size="14.00">root_service</text>
<text text-anchor="start" x="58072.5" y="-4103.8" font-family="Arial" font-size="14.00">server_service</text>
<text text-anchor="start" x="58072.5" y="-4088.8" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="57450,-4081 58798,-4081 "/>
<text text-anchor="start" x="57458" y="-4065.8" font-family="Arial" font-size="14.00">export_configuration(db: Session, include_types: Optional[List[str]], exclude_types: Optional[List[str]], tags: Optional[List[str]], include_inactive: bool, include_dependencies: bool, exported_by: str, root_path: str): Dict[str, Any]</text>
<text text-anchor="start" x="57458" y="-4050.8" font-family="Arial" font-size="14.00">export_selective(db: Session, entity_selections: Dict[str, List[str]], include_dependencies: bool, exported_by: str, root_path: str): Dict[str, Any]</text>
<text text-anchor="start" x="57458" y="-4035.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="57458" y="-4020.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.services.export_service.ExportValidationError -->
<g id="node149" class="node">
<title>mcpgateway.services.export_service.ExportValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="57288,-4072.1 57288,-4142.9 57432,-4142.9 57432,-4072.1 57288,-4072.1"/>
<text text-anchor="start" x="57296" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ExportValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="57288,-4119.9 57432,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="57288,-4095.1 57432,-4095.1 "/>
<text text-anchor="start" x="57358" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportValidationError&#45;&gt;mcpgateway.services.export_service.ExportError -->
<g id="edge96" class="edge">
<title>mcpgateway.services.export_service.ExportValidationError&#45;&gt;mcpgateway.services.export_service.ExportError</title>
<path fill="none" stroke="gray" d="M57360,-4143.19C57360,-4527.25 57360,-7979.28 57360,-8412.83"/>
<polygon fill="none" stroke="gray" points="57356.5,-8413.08 57360,-8423.08 57363.5,-8413.08 57356.5,-8413.08"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef -->
<g id="node150" class="node">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef</title>
<polygon fill="white" stroke="#ee8866" points="58816.5,-4072.1 58816.5,-4142.9 58935.5,-4142.9 58935.5,-4072.1 58816.5,-4072.1"/>
<text text-anchor="start" x="58824.5" y="-4127.7" font-family="Arial" font-size="14.00">ExternalHookRef</text>
<polyline fill="none" stroke="#ee8866" points="58816.5,-4119.9 58935.5,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="58816.5,-4095.1 58935.5,-4095.1 "/>
<text text-anchor="start" x="58874" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.base.HookRef -->
<g id="node212" class="node">
<title>mcpgateway.plugins.framework.base.HookRef</title>
<polygon fill="white" stroke="#ee8866" points="58838,-8409 58838,-8508 58914,-8508 58914,-8409 58838,-8409"/>
<text text-anchor="start" x="58849.5" y="-8492.8" font-family="Arial" font-size="14.00">HookRef</text>
<polyline fill="none" stroke="#ee8866" points="58838,-8485 58914,-8485 "/>
<text text-anchor="start" x="58846" y="-8469.8" font-family="Arial" font-size="14.00">hook</text>
<text text-anchor="start" x="58846" y="-8454.8" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="58846" y="-8439.8" font-family="Arial" font-size="14.00">plugin_ref</text>
<polyline fill="none" stroke="#ee8866" points="58838,-8432 58914,-8432 "/>
<text text-anchor="start" x="58874" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef&#45;&gt;mcpgateway.plugins.framework.base.HookRef -->
<g id="edge70" class="edge">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef&#45;&gt;mcpgateway.plugins.framework.base.HookRef</title>
<path fill="none" stroke="gray" d="M58876,-4143.19C58876,-4523.35 58876,-7909.5 58876,-8398.7"/>
<polygon fill="none" stroke="gray" points="58872.5,-8398.72 58876,-8408.72 58879.5,-8398.72 58872.5,-8398.72"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin -->
<g id="node151" class="node">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin</title>
<polygon fill="white" stroke="#ee8866" points="58954,-4057.1 58954,-4157.9 59514,-4157.9 59514,-4057.1 58954,-4057.1"/>
<text text-anchor="start" x="59190" y="-4142.7" font-family="Arial" font-size="14.00">ExternalPlugin</text>
<polyline fill="none" stroke="#ee8866" points="58954,-4134.9 59514,-4134.9 "/>
<polyline fill="none" stroke="#ee8866" points="58954,-4110.1 59514,-4110.1 "/>
<text text-anchor="start" x="58962" y="-4094.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="58962" y="-4079.9" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: PluginPayload, context: PluginContext): PluginResult</text>
<text text-anchor="start" x="58962" y="-4064.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.base.Plugin -->
<g id="node373" class="node">
<title>mcpgateway.plugins.framework.base.Plugin</title>
<polygon fill="white" stroke="#ee8866" points="59601.5,-8358.5 59601.5,-8558.5 60022.5,-8558.5 60022.5,-8358.5 59601.5,-8358.5"/>
<text text-anchor="start" x="59793" y="-8543.3" font-family="Arial" font-size="14.00">Plugin</text>
<polyline fill="none" stroke="#ee8866" points="59601.5,-8535.5 60022.5,-8535.5 "/>
<text text-anchor="start" x="59781.5" y="-8520.3" font-family="Arial" font-size="14.00">conditions</text>
<text text-anchor="start" x="59781.5" y="-8505.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="59781.5" y="-8490.3" font-family="Arial" font-size="14.00">hooks</text>
<text text-anchor="start" x="59781.5" y="-8475.3" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="59781.5" y="-8460.3" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="59781.5" y="-8445.3" font-family="Arial" font-size="14.00">priority</text>
<text text-anchor="start" x="59781.5" y="-8430.3" font-family="Arial" font-size="14.00">tags</text>
<polyline fill="none" stroke="#ee8866" points="59601.5,-8422.5 60022.5,-8422.5 "/>
<text text-anchor="start" x="59609.5" y="-8408.3" font-family="Arial" font-style="italic" font-size="14.00">initialize</text>
<text text-anchor="start" x="59658.5" y="-8408.3" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="59609.5" y="-8394.3" font-family="Arial" font-size="14.00">json_to_payload(hook: str, payload: Union[str | dict]): PluginPayload</text>
<text text-anchor="start" x="59609.5" y="-8380.3" font-family="Arial" font-size="14.00">json_to_result(hook: str, result: Union[str | dict]): PluginResult</text>
<text text-anchor="start" x="59609.5" y="-8366.3" font-family="Arial" font-style="italic" font-size="14.00">shutdown</text>
<text text-anchor="start" x="59667.5" y="-8366.3" font-family="Arial" font-size="14.00">(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin -->
<g id="edge71" class="edge">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin</title>
<path fill="none" stroke="gray" d="M59223.84,-4158.08C59153.27,-4514.98 58761.19,-6720.68 59523,-8215 59550.21,-8268.37 59594.86,-8314.55 59641.02,-8351.88"/>
<polygon fill="none" stroke="gray" points="59639.04,-8354.78 59649.05,-8358.27 59643.4,-8349.3 59639.04,-8354.78"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer -->
<g id="node152" class="node">
<title>mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer</title>
<polygon fill="white" stroke="#ee8866" points="60623.5,-4027.1 60623.5,-4187.9 61310.5,-4187.9 61310.5,-4027.1 60623.5,-4027.1"/>
<text text-anchor="start" x="60903.5" y="-4172.7" font-family="Arial" font-size="14.00">ExternalPluginServer</text>
<polyline fill="none" stroke="#ee8866" points="60623.5,-4164.9 61310.5,-4164.9 "/>
<polyline fill="none" stroke="#ee8866" points="60623.5,-4140.1 61310.5,-4140.1 "/>
<text text-anchor="start" x="60631.5" y="-4124.9" font-family="Arial" font-size="14.00">get_grpc_server_config(): GRPCServerConfig | None</text>
<text text-anchor="start" x="60631.5" y="-4109.9" font-family="Arial" font-size="14.00">get_plugin_config(name: str): dict | None</text>
<text text-anchor="start" x="60631.5" y="-4094.9" font-family="Arial" font-size="14.00">get_plugin_configs(): list[dict]</text>
<text text-anchor="start" x="60631.5" y="-4079.9" font-family="Arial" font-size="14.00">get_server_config(): MCPServerConfig</text>
<text text-anchor="start" x="60631.5" y="-4064.9" font-family="Arial" font-size="14.00">initialize(): bool</text>
<text text-anchor="start" x="60631.5" y="-4049.9" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, plugin_name: str, payload: Dict[str, Any], context: Dict[str, Any] | PluginContext): dict</text>
<text text-anchor="start" x="60631.5" y="-4034.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.schemas.FederatedPrompt -->
<g id="node153" class="node">
<title>mcpgateway.schemas.FederatedPrompt</title>
<polygon fill="white" stroke="#77aadd" points="61328.5,-8852.5 61328.5,-8966.5 61463.5,-8966.5 61463.5,-8852.5 61328.5,-8852.5"/>
<text text-anchor="start" x="61343" y="-8951.3" font-family="Arial" font-size="14.00">FederatedPrompt</text>
<polyline fill="none" stroke="#77aadd" points="61328.5,-8943.5 61463.5,-8943.5 "/>
<text text-anchor="start" x="61336.5" y="-8928.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="61336.5" y="-8913.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="61336.5" y="-8898.3" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="61336.5" y="-8883.3" font-family="Arial" font-size="14.00">prompt</text>
<polyline fill="none" stroke="#77aadd" points="61328.5,-8875.5 61463.5,-8875.5 "/>
<text text-anchor="start" x="61394" y="-8860.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedPrompt -->
<g id="node154" class="node">
<title>mcpgateway.common.models.FederatedPrompt</title>
<polygon fill="white" stroke="#44bb99" points="61328.5,-4065.5 61328.5,-4149.5 61463.5,-4149.5 61463.5,-4065.5 61328.5,-4065.5"/>
<text text-anchor="start" x="61343" y="-4134.3" font-family="Arial" font-size="14.00">FederatedPrompt</text>
<polyline fill="none" stroke="#44bb99" points="61328.5,-4126.5 61463.5,-4126.5 "/>
<text text-anchor="start" x="61336.5" y="-4111.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="61336.5" y="-4096.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="61328.5,-4088.5 61463.5,-4088.5 "/>
<text text-anchor="start" x="61394" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Prompt -->
<g id="node404" class="node">
<title>mcpgateway.common.models.Prompt</title>
<polygon fill="white" stroke="#44bb99" points="61284,-8401.5 61284,-8515.5 61508,-8515.5 61508,-8401.5 61284,-8401.5"/>
<text text-anchor="start" x="61373.5" y="-8500.3" font-family="Arial" font-size="14.00">Prompt</text>
<polyline fill="none" stroke="#44bb99" points="61284,-8492.5 61508,-8492.5 "/>
<text text-anchor="start" x="61292" y="-8477.3" font-family="Arial" font-size="14.00">arguments : List[PromptArgument]</text>
<text text-anchor="start" x="61292" y="-8462.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="61292" y="-8447.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="61292" y="-8432.3" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#44bb99" points="61284,-8424.5 61508,-8424.5 "/>
<text text-anchor="start" x="61394" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedPrompt&#45;&gt;mcpgateway.common.models.Prompt -->
<g id="edge4" class="edge">
<title>mcpgateway.common.models.FederatedPrompt&#45;&gt;mcpgateway.common.models.Prompt</title>
<path fill="none" stroke="gray" d="M61396,-4149.8C61396,-4558.79 61396,-7878.09 61396,-8391.03"/>
<polygon fill="none" stroke="gray" points="61392.5,-8391.22 61396,-8401.22 61399.5,-8391.22 61392.5,-8391.22"/>
</g>
<!-- mcpgateway.schemas.FederatedResource -->
<g id="node155" class="node">
<title>mcpgateway.schemas.FederatedResource</title>
<polygon fill="white" stroke="#77aadd" points="61625,-8852.5 61625,-8966.5 61761,-8966.5 61761,-8852.5 61625,-8852.5"/>
<text text-anchor="start" x="61633" y="-8951.3" font-family="Arial" font-size="14.00">FederatedResource</text>
<polyline fill="none" stroke="#77aadd" points="61625,-8943.5 61761,-8943.5 "/>
<text text-anchor="start" x="61633.5" y="-8928.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="61633.5" y="-8913.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="61633.5" y="-8898.3" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="61633.5" y="-8883.3" font-family="Arial" font-size="14.00">resource</text>
<polyline fill="none" stroke="#77aadd" points="61625,-8875.5 61761,-8875.5 "/>
<text text-anchor="start" x="61691" y="-8860.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedResource -->
<g id="node156" class="node">
<title>mcpgateway.common.models.FederatedResource</title>
<polygon fill="white" stroke="#44bb99" points="61518,-4065.5 61518,-4149.5 61654,-4149.5 61654,-4065.5 61518,-4065.5"/>
<text text-anchor="start" x="61526" y="-4134.3" font-family="Arial" font-size="14.00">FederatedResource</text>
<polyline fill="none" stroke="#44bb99" points="61518,-4126.5 61654,-4126.5 "/>
<text text-anchor="start" x="61526.5" y="-4111.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="61526.5" y="-4096.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="61518,-4088.5 61654,-4088.5 "/>
<text text-anchor="start" x="61584" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Resource -->
<g id="node447" class="node">
<title>mcpgateway.common.models.Resource</title>
<polygon fill="white" stroke="#44bb99" points="61597,-8386.5 61597,-8530.5 61789,-8530.5 61789,-8386.5 61597,-8386.5"/>
<text text-anchor="start" x="61664" y="-8515.3" font-family="Arial" font-size="14.00">Resource</text>
<polyline fill="none" stroke="#44bb99" points="61597,-8507.5 61789,-8507.5 "/>
<text text-anchor="start" x="61605" y="-8492.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="61605" y="-8477.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="61605" y="-8462.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="61605" y="-8447.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="61605" y="-8432.3" font-family="Arial" font-size="14.00">size : Optional[int]</text>
<text text-anchor="start" x="61605" y="-8417.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="61597,-8409.5 61789,-8409.5 "/>
<text text-anchor="start" x="61691" y="-8394.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedResource&#45;&gt;mcpgateway.common.models.Resource -->
<g id="edge5" class="edge">
<title>mcpgateway.common.models.FederatedResource&#45;&gt;mcpgateway.common.models.Resource</title>
<path fill="none" stroke="gray" d="M61585.14,-4149.54C61578.89,-4464.99 61543.82,-6537.3 61663,-8215 61666.83,-8268.91 61674.28,-8329.22 61680.79,-8376.21"/>
<polygon fill="none" stroke="gray" points="61677.36,-8376.91 61682.21,-8386.33 61684.29,-8375.94 61677.36,-8376.91"/>
</g>
<!-- mcpgateway.schemas.FederatedTool -->
<g id="node157" class="node">
<title>mcpgateway.schemas.FederatedTool</title>
<polygon fill="white" stroke="#77aadd" points="43747.5,-8852.5 43747.5,-8966.5 43882.5,-8966.5 43882.5,-8852.5 43747.5,-8852.5"/>
<text text-anchor="start" x="43771.5" y="-8951.3" font-family="Arial" font-size="14.00">FederatedTool</text>
<polyline fill="none" stroke="#77aadd" points="43747.5,-8943.5 43882.5,-8943.5 "/>
<text text-anchor="start" x="43755.5" y="-8928.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="43755.5" y="-8913.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="43755.5" y="-8898.3" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="43755.5" y="-8883.3" font-family="Arial" font-size="14.00">tool</text>
<polyline fill="none" stroke="#77aadd" points="43747.5,-8875.5 43882.5,-8875.5 "/>
<text text-anchor="start" x="43813" y="-8860.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedTool -->
<g id="node158" class="node">
<title>mcpgateway.common.models.FederatedTool</title>
<polygon fill="white" stroke="#44bb99" points="43747.5,-4065.5 43747.5,-4149.5 43882.5,-4149.5 43882.5,-4065.5 43747.5,-4065.5"/>
<text text-anchor="start" x="43771.5" y="-4134.3" font-family="Arial" font-size="14.00">FederatedTool</text>
<polyline fill="none" stroke="#44bb99" points="43747.5,-4126.5 43882.5,-4126.5 "/>
<text text-anchor="start" x="43755.5" y="-4111.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="43755.5" y="-4096.3" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="43747.5,-4088.5 43882.5,-4088.5 "/>
<text text-anchor="start" x="43813" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Tool -->
<g id="node589" class="node">
<title>mcpgateway.common.models.Tool</title>
<polygon fill="white" stroke="#44bb99" points="43688,-8311.5 43688,-8605.5 43942,-8605.5 43942,-8311.5 43688,-8311.5"/>
<text text-anchor="start" x="43802.5" y="-8590.3" font-family="Arial" font-size="14.00">Tool</text>
<polyline fill="none" stroke="#44bb99" points="43688,-8582.5 43942,-8582.5 "/>
<text text-anchor="start" x="43696" y="-8567.3" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43696" y="-8552.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8537.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8522.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8507.3" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8492.3" font-family="Arial" font-size="14.00">custom_name_slug : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8477.3" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8462.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8447.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43696" y="-8432.3" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43696" y="-8417.3" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="43696" y="-8402.3" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8387.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="43696" y="-8372.3" font-family="Arial" font-size="14.00">original_name : Optional[str]</text>
<text text-anchor="start" x="43696" y="-8357.3" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43696" y="-8342.3" font-family="Arial" font-size="14.00">request_type : str</text>
<polyline fill="none" stroke="#44bb99" points="43688,-8334.5 43942,-8334.5 "/>
<text text-anchor="start" x="43813" y="-8319.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedTool&#45;&gt;mcpgateway.common.models.Tool -->
<g id="edge6" class="edge">
<title>mcpgateway.common.models.FederatedTool&#45;&gt;mcpgateway.common.models.Tool</title>
<path fill="none" stroke="gray" d="M43815,-4149.8C43815,-4539.71 43815,-7574.67 43815,-8301.48"/>
<polygon fill="none" stroke="gray" points="43811.5,-8301.49 43815,-8311.49 43818.5,-8301.49 43811.5,-8301.49"/>
</g>
<!-- mcpgateway.common.models.FileUrl -->
<g id="node159" class="node">
<title>mcpgateway.common.models.FileUrl</title>
<polygon fill="white" stroke="#44bb99" points="61874,-4065.5 61874,-4149.5 62028,-4149.5 62028,-4065.5 61874,-4065.5"/>
<text text-anchor="start" x="61931" y="-4134.3" font-family="Arial" font-size="14.00">FileUrl</text>
<polyline fill="none" stroke="#44bb99" points="61874,-4126.5 62028,-4126.5 "/>
<text text-anchor="start" x="61882" y="-4111.3" font-family="Arial" font-size="14.00">allowed_schemes : set</text>
<text text-anchor="start" x="61882" y="-4096.3" font-family="Arial" font-size="14.00">host_required : bool</text>
<polyline fill="none" stroke="#44bb99" points="61874,-4088.5 62028,-4088.5 "/>
<text text-anchor="start" x="61949" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.FunctionDefinition -->
<g id="node160" class="node">
<title>mcpgateway.llm_schemas.FunctionDefinition</title>
<polygon fill="white" stroke="#77aadd" points="62046,-4058 62046,-4157 62276,-4157 62276,-4058 62046,-4058"/>
<text text-anchor="start" x="62106.5" y="-4141.8" font-family="Arial" font-size="14.00">FunctionDefinition</text>
<polyline fill="none" stroke="#77aadd" points="62046,-4134 62276,-4134 "/>
<text text-anchor="start" x="62054" y="-4118.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="62054" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="62054" y="-4088.8" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="62046,-4081 62276,-4081 "/>
<text text-anchor="start" x="62159" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ToolDefinition -->
<g id="node592" class="node">
<title>mcpgateway.llm_schemas.ToolDefinition</title>
<polygon fill="white" stroke="#77aadd" points="62085.5,-8416.5 62085.5,-8500.5 62236.5,-8500.5 62236.5,-8416.5 62085.5,-8416.5"/>
<text text-anchor="start" x="62120" y="-8485.3" font-family="Arial" font-size="14.00">ToolDefinition</text>
<polyline fill="none" stroke="#77aadd" points="62085.5,-8477.5 62236.5,-8477.5 "/>
<text text-anchor="start" x="62093.5" y="-8462.3" font-family="Arial" font-size="14.00">function</text>
<text text-anchor="start" x="62093.5" y="-8447.3" font-family="Arial" font-size="14.00">type : Literal[&#39;function&#39;]</text>
<polyline fill="none" stroke="#77aadd" points="62085.5,-8439.5 62236.5,-8439.5 "/>
<text text-anchor="start" x="62159" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.FunctionDefinition&#45;&gt;mcpgateway.llm_schemas.ToolDefinition -->
<g id="edge159" class="edge">
<title>mcpgateway.llm_schemas.FunctionDefinition&#45;&gt;mcpgateway.llm_schemas.ToolDefinition</title>
<path fill="none" stroke="gray" d="M62161,-4157.34C62161,-4601.81 62161,-7940.58 62161,-8404.15"/>
<polygon fill="gray" stroke="gray" points="62161,-8404.41 62165,-8410.41 62161,-8416.41 62157,-8410.41 62161,-8404.41"/>
<text text-anchor="middle" x="62185" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">function</text>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCClientConfig -->
<g id="node161" class="node">
<title>mcpgateway.plugins.framework.models.GRPCClientConfig</title>
<polygon fill="white" stroke="#ee8866" points="62294.5,-4035.5 62294.5,-4179.5 62575.5,-4179.5 62575.5,-4035.5 62294.5,-4035.5"/>
<text text-anchor="start" x="62378" y="-4164.3" font-family="Arial" font-size="14.00">GRPCClientConfig</text>
<polyline fill="none" stroke="#ee8866" points="62294.5,-4156.5 62575.5,-4156.5 "/>
<text text-anchor="start" x="62324" y="-4141.3" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="62324" y="-4126.3" font-family="Arial" font-size="14.00">tls : Optional[GRPCClientTLSConfig]</text>
<text text-anchor="start" x="62324" y="-4111.3" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="62294.5,-4103.5 62575.5,-4103.5 "/>
<text text-anchor="start" x="62302.5" y="-4088.3" font-family="Arial" font-size="14.00">get_target(): str</text>
<text text-anchor="start" x="62302.5" y="-4073.3" font-family="Arial" font-size="14.00">validate_target(target: str | None): str | None</text>
<text text-anchor="start" x="62302.5" y="-4058.3" font-family="Arial" font-size="14.00">validate_target_or_uds(): Self</text>
<text text-anchor="start" x="62302.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCClientTLSConfig -->
<g id="node162" class="node">
<title>mcpgateway.plugins.framework.models.GRPCClientTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="62593.5,-4073 62593.5,-4142 62886.5,-4142 62886.5,-4073 62593.5,-4073"/>
<text text-anchor="start" x="62670.5" y="-4126.8" font-family="Arial" font-size="14.00">GRPCClientTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="62593.5,-4119 62886.5,-4119 "/>
<text text-anchor="start" x="62676" y="-4103.8" font-family="Arial" font-size="14.00">verify : Optional[bool]</text>
<polyline fill="none" stroke="#ee8866" points="62593.5,-4096 62886.5,-4096 "/>
<text text-anchor="start" x="62601.5" y="-4080.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;GRPCClientTLSConfig&#39;]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="node295" class="node">
<title>mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<polygon fill="white" stroke="#ee8866" points="63059,-8394 63059,-8523 63359,-8523 63359,-8394 63059,-8394"/>
<text text-anchor="start" x="63117" y="-8507.8" font-family="Arial" font-size="14.00">MCPTransportTLSConfigBase</text>
<polyline fill="none" stroke="#ee8866" points="63059,-8500 63359,-8500 "/>
<text text-anchor="start" x="63114.5" y="-8484.8" font-family="Arial" font-size="14.00">ca_bundle : Optional[str]</text>
<text text-anchor="start" x="63114.5" y="-8469.8" font-family="Arial" font-size="14.00">certfile : Optional[str]</text>
<text text-anchor="start" x="63114.5" y="-8454.8" font-family="Arial" font-size="14.00">keyfile : Optional[str]</text>
<text text-anchor="start" x="63114.5" y="-8439.8" font-family="Arial" font-size="14.00">keyfile_password : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="63059,-8432 63359,-8432 "/>
<text text-anchor="start" x="63067" y="-8416.8" font-family="Arial" font-size="14.00">validate_cert_key(): Self</text>
<text text-anchor="start" x="63067" y="-8401.8" font-family="Arial" font-size="14.00">validate_path(value: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge74" class="edge">
<title>mcpgateway.plugins.framework.models.GRPCClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M62737.44,-4142.08C62711.36,-4490.64 62503.28,-7450.99 62896,-8215 62934.2,-8289.31 63006.68,-8347.72 63072.28,-8388.58"/>
<polygon fill="none" stroke="gray" points="63070.72,-8391.73 63081.07,-8393.98 63074.38,-8385.76 63070.72,-8391.73"/>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCServerConfig -->
<g id="node163" class="node">
<title>mcpgateway.plugins.framework.models.GRPCServerConfig</title>
<polygon fill="white" stroke="#ee8866" points="63830.5,-4028 63830.5,-4187 64103.5,-4187 64103.5,-4028 63830.5,-4028"/>
<text text-anchor="start" x="63907.5" y="-4171.8" font-family="Arial" font-size="14.00">GRPCServerConfig</text>
<polyline fill="none" stroke="#ee8866" points="63830.5,-4164 64103.5,-4164 "/>
<text text-anchor="start" x="63853.5" y="-4148.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="63853.5" y="-4133.8" font-family="Arial" font-size="14.00">port : Optional[int]</text>
<text text-anchor="start" x="63853.5" y="-4118.8" font-family="Arial" font-size="14.00">tls : Optional[GRPCServerTLSConfig]</text>
<text text-anchor="start" x="63853.5" y="-4103.8" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="63830.5,-4096 64103.5,-4096 "/>
<text text-anchor="start" x="63838.5" y="-4080.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;GRPCServerConfig&#39;]</text>
<text text-anchor="start" x="63838.5" y="-4065.8" font-family="Arial" font-size="14.00">get_bind_address(): str</text>
<text text-anchor="start" x="63838.5" y="-4050.8" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
<text text-anchor="start" x="63838.5" y="-4035.8" font-family="Arial" font-size="14.00">validate_uds_tls(): Self</text>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCServerTLSConfig -->
<g id="node164" class="node">
<title>mcpgateway.plugins.framework.models.GRPCServerTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="62905,-4065.5 62905,-4149.5 63203,-4149.5 63203,-4065.5 62905,-4065.5"/>
<text text-anchor="start" x="62982" y="-4134.3" font-family="Arial" font-size="14.00">GRPCServerTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="62905,-4126.5 63203,-4126.5 "/>
<text text-anchor="start" x="62978.5" y="-4111.3" font-family="Arial" font-size="14.00">client_auth : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="62905,-4103.5 63203,-4103.5 "/>
<text text-anchor="start" x="62913" y="-4088.3" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;GRPCServerTLSConfig&#39;]</text>
<text text-anchor="start" x="62913" y="-4073.3" font-family="Arial" font-size="14.00">validate_client_auth(value: str): str</text>
</g>
<!-- mcpgateway.plugins.framework.models.GRPCServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge75" class="edge">
<title>mcpgateway.plugins.framework.models.GRPCServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M63055.47,-4149.8C63069.98,-4556.85 63187.23,-7846.62 63206.36,-8383.53"/>
<polygon fill="none" stroke="gray" points="63202.88,-8383.99 63206.73,-8393.86 63209.87,-8383.74 63202.88,-8383.99"/>
</g>
<!-- mcpgateway.db.Gateway -->
<g id="node165" class="node">
<title>mcpgateway.db.Gateway</title>
<polygon fill="white" stroke="#77aadd" points="4452.5,-3743 4452.5,-4472 4857.5,-4472 4857.5,-3743 4452.5,-3743"/>
<text text-anchor="start" x="4627.5" y="-4456.8" font-family="Arial" font-size="14.00">Gateway</text>
<polyline fill="none" stroke="#77aadd" points="4452.5,-4449 4857.5,-4449 "/>
<text text-anchor="start" x="4460.5" y="-4433.8" font-family="Arial" font-size="14.00">auth_query_params : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-4418.8" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4403.8" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-4388.8" font-family="Arial" font-size="14.00">ca_certificate : Mapped[Optional[bytes]]</text>
<text text-anchor="start" x="4460.5" y="-4373.8" font-family="Arial" font-size="14.00">ca_certificate_sig : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4358.8" font-family="Arial" font-size="14.00">capabilities : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="4460.5" y="-4343.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="4460.5" y="-4328.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4313.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4298.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4283.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4268.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4253.8" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-4238.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="4460.5" y="-4223.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4208.8" font-family="Arial" font-size="14.00">gateway_mode : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-4193.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-4178.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4163.8" font-family="Arial" font-size="14.00">last_refresh_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4460.5" y="-4148.8" font-family="Arial" font-size="14.00">last_seen : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4460.5" y="-4133.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4118.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4103.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4088.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4073.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-4058.8" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="4460.5" y="-4043.8" font-family="Arial" font-size="14.00">oauth_tokens : Mapped[List[&#39;OAuthToken&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-4028.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4013.8" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="4460.5" y="-3998.8" font-family="Arial" font-size="14.00">prompts : Mapped[List[&#39;Prompt&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3983.8" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="4460.5" y="-3968.8" font-family="Arial" font-size="14.00">refresh_interval_seconds : Mapped[Optional[int]]</text>
<text text-anchor="start" x="4460.5" y="-3953.8" font-family="Arial" font-size="14.00">registered_oauth_clients : Mapped[List[&#39;RegisteredOAuthClient&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3938.8" font-family="Arial" font-size="14.00">resources : Mapped[List[&#39;Resource&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3923.8" font-family="Arial" font-size="14.00">signing_algorithm : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3908.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3893.8" font-family="Arial" font-size="14.00">tags : Mapped[List[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-3878.8" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="4460.5" y="-3863.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3848.8" font-family="Arial" font-size="14.00">tools : Mapped[List[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3833.8" font-family="Arial" font-size="14.00">transport : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3818.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="4460.5" y="-3803.8" font-family="Arial" font-size="14.00">url : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3788.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="4460.5" y="-3773.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="4452.5,-3766 4857.5,-3766 "/>
<text text-anchor="start" x="4653" y="-3750.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Gateway&#45;&gt;mcpgateway.db.Base -->
<g id="edge23" class="edge">
<title>mcpgateway.db.Gateway&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M4616.12,-4472.21C4528.2,-5375.9 4359.01,-7688.32 4866,-8215 5021.65,-8376.7 8591.63,-8445.78 9181.74,-8456.11"/>
<polygon fill="none" stroke="gray" points="9181.8,-8459.62 9191.86,-8456.29 9181.93,-8452.62 9181.8,-8459.62"/>
</g>
<!-- mcpgateway.common.models.Gateway -->
<g id="node166" class="node">
<title>mcpgateway.common.models.Gateway</title>
<polygon fill="white" stroke="#44bb99" points="43414,-8371.5 43414,-8545.5 43670,-8545.5 43670,-8371.5 43414,-8371.5"/>
<text text-anchor="start" x="43514.5" y="-8530.3" font-family="Arial" font-size="14.00">Gateway</text>
<polyline fill="none" stroke="#44bb99" points="43414,-8522.5 43670,-8522.5 "/>
<text text-anchor="start" x="43422" y="-8507.3" font-family="Arial" font-size="14.00">auth_value : Optional[str | dict]</text>
<text text-anchor="start" x="43422" y="-8492.3" font-family="Arial" font-size="14.00">capabilities</text>
<text text-anchor="start" x="43422" y="-8477.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="43422" y="-8462.3" font-family="Arial" font-size="14.00">last_seen : Optional[datetime]</text>
<text text-anchor="start" x="43422" y="-8447.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="43422" y="-8432.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[list[str]]</text>
<text text-anchor="start" x="43422" y="-8417.3" font-family="Arial" font-size="14.00">slug : str</text>
<text text-anchor="start" x="43422" y="-8402.3" font-family="Arial" font-size="14.00">transport : str</text>
<polyline fill="none" stroke="#44bb99" points="43414,-8394.5 43670,-8394.5 "/>
<text text-anchor="start" x="43540" y="-8379.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Gateway&#45;&gt;mcpgateway.common.models.CommonAttributes -->
<g id="edge7" class="edge">
<title>mcpgateway.common.models.Gateway&#45;&gt;mcpgateway.common.models.CommonAttributes</title>
<path fill="none" stroke="gray" d="M43551.39,-8545.54C43556.19,-8589.53 43562.26,-8645.15 43568.2,-8699.55"/>
<polygon fill="none" stroke="gray" points="43564.74,-8700.13 43569.3,-8709.69 43571.7,-8699.37 43564.74,-8700.13"/>
</g>
<!-- mcpgateway.services.notification_service.GatewayCapabilities -->
<g id="node167" class="node">
<title>mcpgateway.services.notification_service.GatewayCapabilities</title>
<polygon fill="white" stroke="#ffaabb" points="64122,-4058 64122,-4157 64318,-4157 64318,-4058 64122,-4058"/>
<text text-anchor="start" x="64158" y="-4141.8" font-family="Arial" font-size="14.00">GatewayCapabilities</text>
<polyline fill="none" stroke="#ffaabb" points="64122,-4134 64318,-4134 "/>
<text text-anchor="start" x="64130" y="-4118.8" font-family="Arial" font-size="14.00">prompts_list_changed : bool</text>
<text text-anchor="start" x="64130" y="-4103.8" font-family="Arial" font-size="14.00">resources_list_changed : bool</text>
<text text-anchor="start" x="64130" y="-4088.8" font-family="Arial" font-size="14.00">tools_list_changed : bool</text>
<polyline fill="none" stroke="#ffaabb" points="64122,-4081 64318,-4081 "/>
<text text-anchor="start" x="64218" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayConfig -->
<g id="node168" class="node">
<title>mcpgateway.services.mcp_client_chat_service.GatewayConfig</title>
<polygon fill="white" stroke="#ffaabb" points="64335.5,-4035.5 64335.5,-4179.5 64520.5,-4179.5 64520.5,-4035.5 64335.5,-4035.5"/>
<text text-anchor="start" x="64381" y="-4164.3" font-family="Arial" font-size="14.00">GatewayConfig</text>
<polyline fill="none" stroke="#ffaabb" points="64335.5,-4156.5 64520.5,-4156.5 "/>
<text text-anchor="start" x="64343.5" y="-4141.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="64343.5" y="-4126.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="64343.5" y="-4111.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="64343.5" y="-4096.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="64343.5" y="-4081.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="64343.5" y="-4066.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="64335.5,-4058.5 64520.5,-4058.5 "/>
<text text-anchor="start" x="64426" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayProvider -->
<g id="node177" class="node">
<title>mcpgateway.services.mcp_client_chat_service.GatewayProvider</title>
<polygon fill="white" stroke="#ffaabb" points="64258,-8409 64258,-8508 64598,-8508 64598,-8409 64258,-8409"/>
<text text-anchor="start" x="64375.5" y="-8492.8" font-family="Arial" font-size="14.00">GatewayProvider</text>
<polyline fill="none" stroke="#ffaabb" points="64258,-8485 64598,-8485 "/>
<text text-anchor="start" x="64382.5" y="-8469.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="64382.5" y="-8454.8" font-family="Arial" font-size="14.00">llm : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="64258,-8447 64598,-8447 "/>
<text text-anchor="start" x="64266" y="-8431.8" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[BaseChatModel, Any]</text>
<text text-anchor="start" x="64266" y="-8416.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.GatewayProvider -->
<g id="edge194" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.GatewayConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.GatewayProvider</title>
<path fill="none" stroke="gray" d="M64428,-4179.91C64428,-4701.09 64428,-7912.46 64428,-8396.44"/>
<polygon fill="none" stroke="gray" points="64428,-8396.67 64432,-8402.67 64428,-8408.67 64424,-8402.67 64428,-8396.67"/>
<text text-anchor="middle" x="64446.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayConnectionError -->
<g id="node169" class="node">
<title>mcpgateway.services.gateway_service.GatewayConnectionError</title>
<polygon fill="white" stroke="#ffaabb" points="65214.5,-8423.1 65214.5,-8493.9 65383.5,-8493.9 65383.5,-8423.1 65214.5,-8423.1"/>
<text text-anchor="start" x="65222.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">GatewayConnectionError</text>
<polyline fill="none" stroke="#ffaabb" points="65214.5,-8470.9 65383.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="65214.5,-8446.1 65383.5,-8446.1 "/>
<text text-anchor="start" x="65297" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayError -->
<g id="node172" class="node">
<title>mcpgateway.services.gateway_service.GatewayError</title>
<polygon fill="white" stroke="#ffaabb" points="64971.5,-8874.1 64971.5,-8944.9 65072.5,-8944.9 65072.5,-8874.1 64971.5,-8874.1"/>
<text text-anchor="start" x="64979.5" y="-8929.7" font-family="Arial" font-size="14.00" fill="red">GatewayError</text>
<polyline fill="none" stroke="#ffaabb" points="64971.5,-8921.9 65072.5,-8921.9 "/>
<polyline fill="none" stroke="#ffaabb" points="64971.5,-8897.1 65072.5,-8897.1 "/>
<text text-anchor="start" x="65020" y="-8881.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayConnectionError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge97" class="edge">
<title>mcpgateway.services.gateway_service.GatewayConnectionError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M65284.13,-8493.93C65266.82,-8532.95 65236.55,-8598.02 65205,-8651 65157.95,-8730.01 65094.03,-8815.98 65055.52,-8865.9"/>
<polygon fill="none" stroke="gray" points="65052.69,-8863.85 65049.34,-8873.9 65058.22,-8868.13 65052.69,-8863.85"/>
</g>
<!-- mcpgateway.schemas.GatewayCreate -->
<g id="node170" class="node">
<title>mcpgateway.schemas.GatewayCreate</title>
<polygon fill="white" stroke="#77aadd" points="65402,-3825.5 65402,-4389.5 65716,-4389.5 65716,-3825.5 65402,-3825.5"/>
<text text-anchor="start" x="65511.5" y="-4374.3" font-family="Arial" font-size="14.00">GatewayCreate</text>
<polyline fill="none" stroke="#77aadd" points="65402,-4366.5 65716,-4366.5 "/>
<text text-anchor="start" x="65419" y="-4351.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4336.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4321.3" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="65419" y="-4306.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4291.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4276.3" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="65419" y="-4261.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4246.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4231.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4216.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4201.3" font-family="Arial" font-size="14.00">ca_certificate : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4186.3" font-family="Arial" font-size="14.00">ca_certificate_sig : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4171.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4156.3" font-family="Arial" font-size="14.00">gateway_mode : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4141.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="65419" y="-4126.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4111.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="65419" y="-4096.3" font-family="Arial" font-size="14.00">one_time_auth : Optional[bool]</text>
<text text-anchor="start" x="65419" y="-4081.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4066.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="65419" y="-4051.3" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="65419" y="-4036.3" font-family="Arial" font-size="14.00">signing_algorithm : Optional[str]</text>
<text text-anchor="start" x="65419" y="-4021.3" font-family="Arial" font-size="14.00">tags : Optional[List[Union[str, Dict[str, str]]]]</text>
<text text-anchor="start" x="65419" y="-4006.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="65419" y="-3991.3" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="65419" y="-3976.3" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="65419" y="-3961.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="65402,-3953.5 65716,-3953.5 "/>
<text text-anchor="start" x="65410" y="-3938.3" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="65410" y="-3923.3" font-family="Arial" font-size="14.00">default_gateway_mode(v: Optional[str]): str</text>
<text text-anchor="start" x="65410" y="-3908.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="65410" y="-3893.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="65410" y="-3878.3" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;GatewayCreate&#39;</text>
<text text-anchor="start" x="65410" y="-3863.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="65410" y="-3848.3" font-family="Arial" font-size="14.00">validate_transport(v: str): str</text>
<text text-anchor="start" x="65410" y="-3833.3" font-family="Arial" font-size="14.00">validate_url(v: str): str</text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayDuplicateConflictError -->
<g id="node171" class="node">
<title>mcpgateway.services.gateway_service.GatewayDuplicateConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="64616,-8379 64616,-8538 64818,-8538 64818,-8379 64616,-8379"/>
<text text-anchor="start" x="64624" y="-8522.8" font-family="Arial" font-size="14.00" fill="red">GatewayDuplicateConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="64616,-8515 64818,-8515 "/>
<text text-anchor="start" x="64647.5" y="-8499.8" font-family="Arial" font-size="14.00" fill="red">duplicate_gateway : str</text>
<text text-anchor="start" x="64647.5" y="-8484.8" font-family="Arial" font-size="14.00" fill="red">enabled</text>
<text text-anchor="start" x="64647.5" y="-8469.8" font-family="Arial" font-size="14.00" fill="red">gateway_id</text>
<text text-anchor="start" x="64647.5" y="-8454.8" font-family="Arial" font-size="14.00" fill="red">name</text>
<text text-anchor="start" x="64647.5" y="-8439.8" font-family="Arial" font-size="14.00" fill="red">team_id</text>
<text text-anchor="start" x="64647.5" y="-8424.8" font-family="Arial" font-size="14.00" fill="red">url</text>
<text text-anchor="start" x="64647.5" y="-8409.8" font-family="Arial" font-size="14.00" fill="red">visibility</text>
<polyline fill="none" stroke="#ffaabb" points="64616,-8402 64818,-8402 "/>
<text text-anchor="start" x="64715" y="-8386.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayDuplicateConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge98" class="edge">
<title>mcpgateway.services.gateway_service.GatewayDuplicateConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M64759.24,-8538.19C64778.85,-8573.33 64803.08,-8614.87 64827,-8651 64878.9,-8729.4 64946.46,-8815.56 64986.91,-8865.69"/>
<polygon fill="none" stroke="gray" points="64984.39,-8868.14 64993.4,-8873.71 64989.84,-8863.74 64984.39,-8868.14"/>
</g>
<!-- mcpgateway.llm_schemas.GatewayModelInfo -->
<g id="node173" class="node">
<title>mcpgateway.llm_schemas.GatewayModelInfo</title>
<polygon fill="white" stroke="#77aadd" points="65734,-4005.5 65734,-4209.5 65940,-4209.5 65940,-4005.5 65734,-4005.5"/>
<text text-anchor="start" x="65779.5" y="-4194.3" font-family="Arial" font-size="14.00">GatewayModelInfo</text>
<polyline fill="none" stroke="#77aadd" points="65734,-4186.5 65940,-4186.5 "/>
<text text-anchor="start" x="65742" y="-4171.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4156.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="65742" y="-4141.3" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4126.3" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4111.3" font-family="Arial" font-size="14.00">provider_id : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4096.3" font-family="Arial" font-size="14.00">provider_name : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4081.3" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<text text-anchor="start" x="65742" y="-4066.3" font-family="Arial" font-size="14.00">supports_function_calling : bool</text>
<text text-anchor="start" x="65742" y="-4051.3" font-family="Arial" font-size="14.00">supports_streaming : bool</text>
<text text-anchor="start" x="65742" y="-4036.3" font-family="Arial" font-size="14.00">supports_vision : bool</text>
<polyline fill="none" stroke="#77aadd" points="65734,-4028.5 65940,-4028.5 "/>
<text text-anchor="start" x="65835" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.GatewayModelsResponse -->
<g id="node174" class="node">
<title>mcpgateway.llm_schemas.GatewayModelsResponse</title>
<polygon fill="white" stroke="#77aadd" points="65958.5,-4065.5 65958.5,-4149.5 66173.5,-4149.5 66173.5,-4065.5 65958.5,-4065.5"/>
<text text-anchor="start" x="65986" y="-4134.3" font-family="Arial" font-size="14.00">GatewayModelsResponse</text>
<polyline fill="none" stroke="#77aadd" points="65958.5,-4126.5 66173.5,-4126.5 "/>
<text text-anchor="start" x="65966.5" y="-4111.3" font-family="Arial" font-size="14.00">count : int</text>
<text text-anchor="start" x="65966.5" y="-4096.3" font-family="Arial" font-size="14.00">models : List[GatewayModelInfo]</text>
<polyline fill="none" stroke="#77aadd" points="65958.5,-4088.5 66173.5,-4088.5 "/>
<text text-anchor="start" x="66064" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNameConflictError -->
<g id="node175" class="node">
<title>mcpgateway.services.gateway_service.GatewayNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="64836,-8409 64836,-8508 65018,-8508 65018,-8409 64836,-8409"/>
<text text-anchor="start" x="64844" y="-8492.8" font-family="Arial" font-size="14.00" fill="red">GatewayNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="64836,-8485 65018,-8485 "/>
<text text-anchor="start" x="64850.5" y="-8469.8" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="64850.5" y="-8454.8" font-family="Arial" font-size="14.00" fill="red">gateway_id : Optional[int]</text>
<text text-anchor="start" x="64850.5" y="-8439.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<polyline fill="none" stroke="#ffaabb" points="64836,-8432 65018,-8432 "/>
<text text-anchor="start" x="64925" y="-8416.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNameConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge99" class="edge">
<title>mcpgateway.services.gateway_service.GatewayNameConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M64937.35,-8508.41C64955.95,-8596.32 64994.75,-8779.73 65012.62,-8864.18"/>
<polygon fill="none" stroke="gray" points="65009.2,-8864.92 65014.7,-8873.98 65016.05,-8863.47 65009.2,-8864.92"/>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNotFoundError -->
<g id="node176" class="node">
<title>mcpgateway.services.gateway_service.GatewayNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="65036,-8423.1 65036,-8493.9 65196,-8493.9 65196,-8423.1 65036,-8423.1"/>
<text text-anchor="start" x="65044" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">GatewayNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="65036,-8470.9 65196,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="65036,-8446.1 65196,-8446.1 "/>
<text text-anchor="start" x="65114" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNotFoundError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge100" class="edge">
<title>mcpgateway.services.gateway_service.GatewayNotFoundError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M65108.78,-8493.99C65091.93,-8574.46 65050.03,-8774.59 65031.3,-8864.06"/>
<polygon fill="none" stroke="gray" points="65027.87,-8863.39 65029.24,-8873.9 65034.72,-8864.83 65027.87,-8863.39"/>
</g>
<!-- mcpgateway.schemas.GatewayRead -->
<g id="node178" class="node">
<title>mcpgateway.schemas.GatewayRead</title>
<polygon fill="white" stroke="#77aadd" points="66191.5,-3728 66191.5,-4487 66526.5,-4487 66526.5,-3728 66191.5,-3728"/>
<text text-anchor="start" x="66315.5" y="-4471.8" font-family="Arial" font-size="14.00">GatewayRead</text>
<polyline fill="none" stroke="#77aadd" points="66191.5,-4464 66526.5,-4464 "/>
<text text-anchor="start" x="66199.5" y="-4448.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4433.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4418.8" font-family="Arial" font-size="14.00">auth_header_value_unmasked : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4403.8" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="66199.5" y="-4388.8" font-family="Arial" font-size="14.00">auth_headers_unmasked : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="66199.5" y="-4373.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4358.8" font-family="Arial" font-size="14.00">auth_password_unmasked : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4343.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4328.8" font-family="Arial" font-size="14.00">auth_query_param_value_masked : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4313.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4298.8" font-family="Arial" font-size="14.00">auth_token_unmasked : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4283.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4268.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4253.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4238.8" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="66199.5" y="-4223.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="66199.5" y="-4208.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4193.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4178.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4163.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4148.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4133.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="66199.5" y="-4118.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4103.8" font-family="Arial" font-size="14.00">gateway_mode : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4088.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4073.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4058.8" font-family="Arial" font-size="14.00">last_refresh_at : Optional[datetime]</text>
<text text-anchor="start" x="66199.5" y="-4043.8" font-family="Arial" font-size="14.00">last_seen : Optional[datetime]</text>
<text text-anchor="start" x="66199.5" y="-4028.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-4013.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3998.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3983.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3968.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3953.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="66199.5" y="-3938.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3923.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="66199.5" y="-3908.8" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="66199.5" y="-3893.8" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="66199.5" y="-3878.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3863.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="66199.5" y="-3848.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3833.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3818.8" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3803.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="66199.5" y="-3788.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="66199.5" y="-3773.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="66199.5" y="-3758.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="66191.5,-3751 66526.5,-3751 "/>
<text text-anchor="start" x="66280.5" y="-3735.8" font-family="Arial" font-size="14.00">masked(): &#39;GatewayRead&#39;</text>
</g>
<!-- mcpgateway.schemas.GatewayRefreshResponse -->
<g id="node179" class="node">
<title>mcpgateway.schemas.GatewayRefreshResponse</title>
<polygon fill="white" stroke="#77aadd" points="66545,-3968 66545,-4247 66775,-4247 66775,-3968 66545,-3968"/>
<text text-anchor="start" x="66578.5" y="-4231.8" font-family="Arial" font-size="14.00">GatewayRefreshResponse</text>
<polyline fill="none" stroke="#77aadd" points="66545,-4224 66775,-4224 "/>
<text text-anchor="start" x="66553" y="-4208.8" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="66553" y="-4193.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="66553" y="-4178.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="66553" y="-4163.8" font-family="Arial" font-size="14.00">prompts_added : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4148.8" font-family="Arial" font-size="14.00">prompts_removed : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4133.8" font-family="Arial" font-size="14.00">prompts_updated : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4118.8" font-family="Arial" font-size="14.00">refreshed_at : Optional[datetime]</text>
<text text-anchor="start" x="66553" y="-4103.8" font-family="Arial" font-size="14.00">resources_added : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4088.8" font-family="Arial" font-size="14.00">resources_removed : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4073.8" font-family="Arial" font-size="14.00">resources_updated : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4058.8" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<text text-anchor="start" x="66553" y="-4043.8" font-family="Arial" font-size="14.00">tools_added : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4028.8" font-family="Arial" font-size="14.00">tools_removed : Optional[int]</text>
<text text-anchor="start" x="66553" y="-4013.8" font-family="Arial" font-size="14.00">tools_updated : Optional[int]</text>
<text text-anchor="start" x="66553" y="-3998.8" font-family="Arial" font-size="14.00">validation_errors : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="66545,-3991 66775,-3991 "/>
<text text-anchor="start" x="66658" y="-3975.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayService -->
<g id="node180" class="node">
<title>mcpgateway.services.gateway_service.GatewayService</title>
<polygon fill="white" stroke="#ffaabb" points="48315.5,-8702.5 48315.5,-9116.5 50260.5,-9116.5 50260.5,-8702.5 48315.5,-8702.5"/>
<text text-anchor="start" x="49238" y="-9101.3" font-family="Arial" font-size="14.00">GatewayService</text>
<polyline fill="none" stroke="#ffaabb" points="48315.5,-9093.5 50260.5,-9093.5 "/>
<text text-anchor="start" x="49225.5" y="-9078.3" font-family="Arial" font-size="14.00">oauth_manager</text>
<text text-anchor="start" x="49225.5" y="-9063.3" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="49225.5" y="-9048.3" font-family="Arial" font-size="14.00">redis_url : NoneType</text>
<text text-anchor="start" x="49225.5" y="-9033.3" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="49225.5" y="-9018.3" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="48315.5,-9010.5 50260.5,-9010.5 "/>
<text text-anchor="start" x="48323.5" y="-8995.3" font-family="Arial" font-size="14.00">aggregate_capabilities(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="48323.5" y="-8980.3" font-family="Arial" font-size="14.00">check_health_of_gateways(gateways: List[DbGateway], user_email: Optional[str]): bool</text>
<text text-anchor="start" x="48323.5" y="-8965.3" font-family="Arial" font-size="14.00">connect_to_sse_server(server_url: str, authentication: Optional[Dict[str, str]], ca_certificate: Optional[bytes], include_prompts: bool, include_resources: bool, auth_query_params: Optional[Dict[str, str]])</text>
<text text-anchor="start" x="48323.5" y="-8950.3" font-family="Arial" font-size="14.00">connect_to_streamablehttp_server(server_url: str, authentication: Optional[Dict[str, str]], ca_certificate: Optional[bytes], include_prompts: bool, include_resources: bool, auth_query_params: Optional[Dict[str, str]])</text>
<text text-anchor="start" x="48323.5" y="-8935.3" font-family="Arial" font-size="14.00">convert_gateway_to_read(gateway: DbGateway): GatewayRead</text>
<text text-anchor="start" x="48323.5" y="-8920.3" font-family="Arial" font-size="14.00">create_ssl_context(ca_certificate: str): ssl.SSLContext</text>
<text text-anchor="start" x="48323.5" y="-8905.3" font-family="Arial" font-size="14.00">delete_gateway(db: Session, gateway_id: str, user_email: Optional[str]): None</text>
<text text-anchor="start" x="48323.5" y="-8890.3" font-family="Arial" font-size="14.00">fetch_tools_after_oauth(db: Session, gateway_id: str, app_user_email: str): Dict[str, Any]</text>
<text text-anchor="start" x="48323.5" y="-8875.3" font-family="Arial" font-size="14.00">get_first_gateway_by_url(db: Session, url: str, team_id: Optional[str], include_inactive: bool): Optional[GatewayRead]</text>
<text text-anchor="start" x="48323.5" y="-8860.3" font-family="Arial" font-size="14.00">get_gateway(db: Session, gateway_id: str, include_inactive: bool): GatewayRead</text>
<text text-anchor="start" x="48323.5" y="-8845.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="48323.5" y="-8830.3" font-family="Arial" font-size="14.00">list_gateways(db: Session, include_inactive: bool, tags: Optional[List[str]], cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[GatewayRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="48323.5" y="-8815.3" font-family="Arial" font-size="14.00">list_gateways_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[GatewayRead]</text>
<text text-anchor="start" x="48323.5" y="-8800.3" font-family="Arial" font-size="14.00">normalize_url(url: str): str</text>
<text text-anchor="start" x="48323.5" y="-8785.3" font-family="Arial" font-size="14.00">refresh_gateway_manually(gateway_id: str, include_resources: bool, include_prompts: bool, user_email: Optional[str], request_headers: Optional[Dict[str, str]]): Dict[str, Any]</text>
<text text-anchor="start" x="48323.5" y="-8770.3" font-family="Arial" font-size="14.00">register_gateway(db: Session, gateway: GatewayCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], initialize_timeout: Optional[float]): GatewayRead</text>
<text text-anchor="start" x="48323.5" y="-8755.3" font-family="Arial" font-size="14.00">set_gateway_state(db: Session, gateway_id: str, activate: bool, reachable: bool, only_update_reachable: bool, user_email: Optional[str]): GatewayRead</text>
<text text-anchor="start" x="48323.5" y="-8740.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="48323.5" y="-8725.3" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="48323.5" y="-8710.3" font-family="Arial" font-size="14.00">update_gateway(db: Session, gateway_id: str, gateway_update: GatewayUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], include_inactive: bool, user_email: Optional[str]): GatewayRead</text>
</g>
<!-- mcpgateway.schemas.GatewayTestRequest -->
<g id="node181" class="node">
<title>mcpgateway.schemas.GatewayTestRequest</title>
<polygon fill="white" stroke="#77aadd" points="66793.5,-4035.5 66793.5,-4179.5 67048.5,-4179.5 67048.5,-4035.5 66793.5,-4035.5"/>
<text text-anchor="start" x="66856" y="-4164.3" font-family="Arial" font-size="14.00">GatewayTestRequest</text>
<polyline fill="none" stroke="#77aadd" points="66793.5,-4156.5 67048.5,-4156.5 "/>
<text text-anchor="start" x="66801.5" y="-4141.3" font-family="Arial" font-size="14.00">base_url : Optional[AnyHttpUrl]</text>
<text text-anchor="start" x="66801.5" y="-4126.3" font-family="Arial" font-size="14.00">body : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="66801.5" y="-4111.3" font-family="Arial" font-size="14.00">content_type : Optional[str]</text>
<text text-anchor="start" x="66801.5" y="-4096.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="66801.5" y="-4081.3" font-family="Arial" font-size="14.00">method : Optional[str]</text>
<text text-anchor="start" x="66801.5" y="-4066.3" font-family="Arial" font-size="14.00">path : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="66793.5,-4058.5 67048.5,-4058.5 "/>
<text text-anchor="start" x="66919" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GatewayTestResponse -->
<g id="node182" class="node">
<title>mcpgateway.schemas.GatewayTestResponse</title>
<polygon fill="white" stroke="#77aadd" points="67066.5,-4058 67066.5,-4157 67321.5,-4157 67321.5,-4058 67066.5,-4058"/>
<text text-anchor="start" x="67124" y="-4141.8" font-family="Arial" font-size="14.00">GatewayTestResponse</text>
<polyline fill="none" stroke="#77aadd" points="67066.5,-4134 67321.5,-4134 "/>
<text text-anchor="start" x="67074.5" y="-4118.8" font-family="Arial" font-size="14.00">body : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="67074.5" y="-4103.8" font-family="Arial" font-size="14.00">latency_ms : Optional[int]</text>
<text text-anchor="start" x="67074.5" y="-4088.8" font-family="Arial" font-size="14.00">status_code : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="67066.5,-4081 67321.5,-4081 "/>
<text text-anchor="start" x="67192" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GatewayUpdate -->
<g id="node183" class="node">
<title>mcpgateway.schemas.GatewayUpdate</title>
<polygon fill="white" stroke="#77aadd" points="67340,-3870.5 67340,-4344.5 67654,-4344.5 67654,-3870.5 67340,-3870.5"/>
<text text-anchor="start" x="67448" y="-4329.3" font-family="Arial" font-size="14.00">GatewayUpdate</text>
<polyline fill="none" stroke="#77aadd" points="67340,-4321.5 67654,-4321.5 "/>
<text text-anchor="start" x="67357" y="-4306.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4291.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4276.3" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="67357" y="-4261.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4246.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4231.3" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="67357" y="-4216.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4201.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4186.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4171.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4156.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4141.3" font-family="Arial" font-size="14.00">gateway_mode : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4126.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4111.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="67357" y="-4096.3" font-family="Arial" font-size="14.00">one_time_auth : Optional[bool]</text>
<text text-anchor="start" x="67357" y="-4081.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4066.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="67357" y="-4051.3" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="67357" y="-4036.3" font-family="Arial" font-size="14.00">tags : Optional[List[Union[str, Dict[str, str]]]]</text>
<text text-anchor="start" x="67357" y="-4021.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="67357" y="-4006.3" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="67357" y="-3991.3" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="67357" y="-3976.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="67340,-3968.5 67654,-3968.5 "/>
<text text-anchor="start" x="67348" y="-3953.3" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="67348" y="-3938.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="67348" y="-3923.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="67348" y="-3908.3" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;GatewayUpdate&#39;</text>
<text text-anchor="start" x="67348" y="-3893.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="67348" y="-3878.3" font-family="Arial" font-size="14.00">validate_url(v: str): str</text>
</g>
<!-- mcpgateway.db.GlobalConfig -->
<g id="node184" class="node">
<title>mcpgateway.db.GlobalConfig</title>
<polygon fill="white" stroke="#77aadd" points="4875.5,-4065.5 4875.5,-4149.5 5192.5,-4149.5 5192.5,-4065.5 4875.5,-4065.5"/>
<text text-anchor="start" x="4994.5" y="-4134.3" font-family="Arial" font-size="14.00">GlobalConfig</text>
<polyline fill="none" stroke="#77aadd" points="4875.5,-4126.5 5192.5,-4126.5 "/>
<text text-anchor="start" x="4883.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="4883.5" y="-4096.3" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<polyline fill="none" stroke="#77aadd" points="4875.5,-4088.5 5192.5,-4088.5 "/>
<text text-anchor="start" x="5032" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.GlobalConfig&#45;&gt;mcpgateway.db.Base -->
<g id="edge24" class="edge">
<title>mcpgateway.db.GlobalConfig&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5028.65,-4149.76C4978.93,-4540.98 4612.19,-7595.82 5201,-8215 5343.4,-8364.74 8618.43,-8443.31 9181.85,-8455.74"/>
<polygon fill="none" stroke="gray" points="9181.85,-8459.24 9191.92,-8455.97 9182,-8452.25 9181.85,-8459.24"/>
</g>
<!-- mcpgateway.common.models.GlobalConfig -->
<g id="node185" class="node">
<title>mcpgateway.common.models.GlobalConfig</title>
<polygon fill="white" stroke="#44bb99" points="67672,-4073 67672,-4142 67932,-4142 67932,-4073 67672,-4073"/>
<text text-anchor="start" x="67762.5" y="-4126.8" font-family="Arial" font-size="14.00">GlobalConfig</text>
<polyline fill="none" stroke="#44bb99" points="67672,-4119 67932,-4119 "/>
<text text-anchor="start" x="67680" y="-4103.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#44bb99" points="67672,-4096 67932,-4096 "/>
<text text-anchor="start" x="67800" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.global_config_cache.GlobalConfigCache -->
<g id="node186" class="node">
<title>mcpgateway.cache.global_config_cache.GlobalConfigCache</title>
<polygon fill="white" stroke="#99ddff" points="67950,-4050.5 67950,-4164.5 68288,-4164.5 68288,-4050.5 67950,-4050.5"/>
<text text-anchor="start" x="68060" y="-4149.3" font-family="Arial" font-size="14.00">GlobalConfigCache</text>
<polyline fill="none" stroke="#99ddff" points="67950,-4141.5 68288,-4141.5 "/>
<text text-anchor="start" x="68072" y="-4126.3" font-family="Arial" font-size="14.00">ttl_seconds : int</text>
<polyline fill="none" stroke="#99ddff" points="67950,-4118.5 68288,-4118.5 "/>
<text text-anchor="start" x="67958" y="-4103.3" font-family="Arial" font-size="14.00">get(db)</text>
<text text-anchor="start" x="67958" y="-4088.3" font-family="Arial" font-size="14.00">get_passthrough_headers(db, default: list[str]): list[str]</text>
<text text-anchor="start" x="67958" y="-4073.3" font-family="Arial" font-size="14.00">invalidate(): None</text>
<text text-anchor="start" x="67958" y="-4058.3" font-family="Arial" font-size="14.00">stats(): dict</text>
</g>
<!-- mcpgateway.schemas.GlobalConfigRead -->
<g id="node187" class="node">
<title>mcpgateway.schemas.GlobalConfigRead</title>
<polygon fill="white" stroke="#77aadd" points="68306,-4073 68306,-4142 68566,-4142 68566,-4073 68306,-4073"/>
<text text-anchor="start" x="68380" y="-4126.8" font-family="Arial" font-size="14.00">GlobalConfigRead</text>
<polyline fill="none" stroke="#77aadd" points="68306,-4119 68566,-4119 "/>
<text text-anchor="start" x="68314" y="-4103.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="68306,-4096 68566,-4096 "/>
<text text-anchor="start" x="68434" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GlobalConfigUpdate -->
<g id="node188" class="node">
<title>mcpgateway.schemas.GlobalConfigUpdate</title>
<polygon fill="white" stroke="#77aadd" points="68584,-4073 68584,-4142 68844,-4142 68844,-4073 68584,-4073"/>
<text text-anchor="start" x="68652.5" y="-4126.8" font-family="Arial" font-size="14.00">GlobalConfigUpdate</text>
<polyline fill="none" stroke="#77aadd" points="68584,-4119 68844,-4119 "/>
<text text-anchor="start" x="68592" y="-4103.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="68584,-4096 68844,-4096 "/>
<text text-anchor="start" x="68712" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.GlobalContext -->
<g id="node189" class="node">
<title>mcpgateway.plugins.framework.models.GlobalContext</title>
<polygon fill="white" stroke="#ee8866" points="68862,-4035.5 68862,-4179.5 69112,-4179.5 69112,-4035.5 68862,-4035.5"/>
<text text-anchor="start" x="68943.5" y="-4164.3" font-family="Arial" font-size="14.00">GlobalContext</text>
<polyline fill="none" stroke="#ee8866" points="68862,-4156.5 69112,-4156.5 "/>
<text text-anchor="start" x="68870" y="-4141.3" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="68870" y="-4126.3" font-family="Arial" font-size="14.00">request_id : str</text>
<text text-anchor="start" x="68870" y="-4111.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="68870" y="-4096.3" font-family="Arial" font-size="14.00">state : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="68870" y="-4081.3" font-family="Arial" font-size="14.00">tenant_id : Optional[str]</text>
<text text-anchor="start" x="68870" y="-4066.3" font-family="Arial" font-size="14.00">user : Optional[Union[str, dict[str, Any]]]</text>
<polyline fill="none" stroke="#ee8866" points="68862,-4058.5 69112,-4058.5 "/>
<text text-anchor="start" x="68985" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginContext -->
<g id="node376" class="node">
<title>mcpgateway.plugins.framework.models.PluginContext</title>
<polygon fill="white" stroke="#ee8866" points="68870.5,-8386.5 68870.5,-8530.5 69103.5,-8530.5 69103.5,-8386.5 68870.5,-8386.5"/>
<text text-anchor="start" x="68944.5" y="-8515.3" font-family="Arial" font-size="14.00">PluginContext</text>
<polyline fill="none" stroke="#ee8866" points="68870.5,-8507.5 69103.5,-8507.5 "/>
<text text-anchor="start" x="68887" y="-8492.3" font-family="Arial" font-size="14.00">global_context</text>
<text text-anchor="start" x="68887" y="-8477.3" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="68887" y="-8462.3" font-family="Arial" font-size="14.00">state : Optional[dict[str, Any]]</text>
<polyline fill="none" stroke="#ee8866" points="68870.5,-8454.5 69103.5,-8454.5 "/>
<text text-anchor="start" x="68878.5" y="-8439.3" font-family="Arial" font-size="14.00">cleanup(): None</text>
<text text-anchor="start" x="68878.5" y="-8424.3" font-family="Arial" font-size="14.00">get_state(key: str, default: Any): Any</text>
<text text-anchor="start" x="68878.5" y="-8409.3" font-family="Arial" font-size="14.00">is_empty(): bool</text>
<text text-anchor="start" x="68878.5" y="-8394.3" font-family="Arial" font-size="14.00">set_state(key: str, value: Any): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.GlobalContext&#45;&gt;mcpgateway.plugins.framework.models.PluginContext -->
<g id="edge165" class="edge">
<title>mcpgateway.plugins.framework.models.GlobalContext&#45;&gt;mcpgateway.plugins.framework.models.PluginContext</title>
<path fill="none" stroke="gray" d="M68987,-4179.91C68987,-4693.67 68987,-7821.56 68987,-8374.13"/>
<polygon fill="gray" stroke="gray" points="68987,-8374.32 68991,-8380.32 68987,-8386.32 68983,-8380.32 68987,-8374.32"/>
<text text-anchor="middle" x="69031" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">global_context</text>
</g>
<!-- mcpgateway.llm_provider_configs.GoogleVertexAIConfig -->
<g id="node190" class="node">
<title>mcpgateway.llm_provider_configs.GoogleVertexAIConfig</title>
<polygon fill="white" stroke="#77aadd" points="69130,-4050.5 69130,-4164.5 69330,-4164.5 69330,-4050.5 69130,-4050.5"/>
<text text-anchor="start" x="69162.5" y="-4149.3" font-family="Arial" font-size="14.00">GoogleVertexAIConfig</text>
<polyline fill="none" stroke="#77aadd" points="69130,-4141.5 69330,-4141.5 "/>
<text text-anchor="start" x="69138" y="-4126.3" font-family="Arial" font-size="14.00">credentials_json : Optional[str]</text>
<text text-anchor="start" x="69138" y="-4111.3" font-family="Arial" font-size="14.00">credentials_path : Optional[str]</text>
<text text-anchor="start" x="69138" y="-4096.3" font-family="Arial" font-size="14.00">location : Optional[str]</text>
<text text-anchor="start" x="69138" y="-4081.3" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="69130,-4073.5 69330,-4073.5 "/>
<text text-anchor="start" x="69228" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_grpc.GrpcEndpoint -->
<g id="node191" class="node">
<title>mcpgateway.translate_grpc.GrpcEndpoint</title>
<polygon fill="white" stroke="#77aadd" points="69348,-4034.6 69348,-4180.4 70016,-4180.4 70016,-4034.6 69348,-4034.6"/>
<text text-anchor="start" x="69640" y="-4165.2" font-family="Arial" font-size="14.00">GrpcEndpoint</text>
<polyline fill="none" stroke="#77aadd" points="69348,-4157.4 70016,-4157.4 "/>
<polyline fill="none" stroke="#77aadd" points="69348,-4132.6 70016,-4132.6 "/>
<text text-anchor="start" x="69356" y="-4117.4" font-family="Arial" font-size="14.00">close(): None</text>
<text text-anchor="start" x="69356" y="-4102.4" font-family="Arial" font-size="14.00">get_methods(service: str): List[str]</text>
<text text-anchor="start" x="69356" y="-4087.4" font-family="Arial" font-size="14.00">get_services(): List[str]</text>
<text text-anchor="start" x="69356" y="-4072.4" font-family="Arial" font-size="14.00">invoke(service: str, method: str, request_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="69356" y="-4057.4" font-family="Arial" font-size="14.00">invoke_streaming(service: str, method: str, request_data: Dict[str, Any]): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="69356" y="-4042.4" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.client.GrpcExternalPlugin -->
<g id="node192" class="node">
<title>mcpgateway.plugins.framework.external.grpc.client.GrpcExternalPlugin</title>
<polygon fill="white" stroke="#ee8866" points="59532,-4057.1 59532,-4157.9 60092,-4157.9 60092,-4057.1 59532,-4057.1"/>
<text text-anchor="start" x="59753" y="-4142.7" font-family="Arial" font-size="14.00">GrpcExternalPlugin</text>
<polyline fill="none" stroke="#ee8866" points="59532,-4134.9 60092,-4134.9 "/>
<polyline fill="none" stroke="#ee8866" points="59532,-4110.1 60092,-4110.1 "/>
<text text-anchor="start" x="59540" y="-4094.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="59540" y="-4079.9" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: PluginPayload, context: PluginContext): PluginResult</text>
<text text-anchor="start" x="59540" y="-4064.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.client.GrpcExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin -->
<g id="edge67" class="edge">
<title>mcpgateway.plugins.framework.external.grpc.client.GrpcExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin</title>
<path fill="none" stroke="gray" d="M59812,-4158.09C59812,-4590.52 59812,-7720.07 59812,-8347.97"/>
<polygon fill="none" stroke="gray" points="59808.5,-8348.37 59812,-8358.37 59815.5,-8348.37 59808.5,-8348.37"/>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.server.server.GrpcHealthServicer -->
<g id="node193" class="node">
<title>mcpgateway.plugins.framework.external.grpc.server.server.GrpcHealthServicer</title>
<polygon fill="white" stroke="#ee8866" points="70034,-4072.1 70034,-4142.9 70870,-4142.9 70870,-4072.1 70034,-4072.1"/>
<text text-anchor="start" x="70392.5" y="-4127.7" font-family="Arial" font-size="14.00">GrpcHealthServicer</text>
<polyline fill="none" stroke="#ee8866" points="70034,-4119.9 70870,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="70034,-4095.1 70870,-4095.1 "/>
<text text-anchor="start" x="70042" y="-4079.9" font-family="Arial" font-size="14.00">Check(request: plugin_service_pb2.HealthCheckRequest, context: grpc.aio.ServicerContext): plugin_service_pb2.HealthCheckResponse</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthServicer -->
<g id="node208" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthServicer</title>
<polygon fill="white" stroke="#ee8866" points="70372,-8423.1 70372,-8493.9 70532,-8493.9 70532,-8423.1 70372,-8423.1"/>
<text text-anchor="start" x="70407.5" y="-8478.7" font-family="Arial" font-size="14.00">HealthServicer</text>
<polyline fill="none" stroke="#ee8866" points="70372,-8470.9 70532,-8470.9 "/>
<polyline fill="none" stroke="#ee8866" points="70372,-8446.1 70532,-8446.1 "/>
<text text-anchor="start" x="70380" y="-8430.9" font-family="Arial" font-size="14.00">Check(request, context)</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.server.server.GrpcHealthServicer&#45;&gt;mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthServicer -->
<g id="edge68" class="edge">
<title>mcpgateway.plugins.framework.external.grpc.server.server.GrpcHealthServicer&#45;&gt;mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthServicer</title>
<path fill="none" stroke="gray" d="M70452,-4143.19C70452,-4527.25 70452,-7979.28 70452,-8412.83"/>
<polygon fill="none" stroke="gray" points="70448.5,-8413.08 70452,-8423.08 70455.5,-8413.08 70448.5,-8413.08"/>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.server.runtime.GrpcPluginRuntime -->
<g id="node194" class="node">
<title>mcpgateway.plugins.framework.external.grpc.server.runtime.GrpcPluginRuntime</title>
<polygon fill="white" stroke="#ee8866" points="70888,-4057.1 70888,-4157.9 71064,-4157.9 71064,-4057.1 70888,-4057.1"/>
<text text-anchor="start" x="70916.5" y="-4142.7" font-family="Arial" font-size="14.00">GrpcPluginRuntime</text>
<polyline fill="none" stroke="#ee8866" points="70888,-4134.9 71064,-4134.9 "/>
<polyline fill="none" stroke="#ee8866" points="70888,-4110.1 71064,-4110.1 "/>
<text text-anchor="start" x="70896" y="-4094.9" font-family="Arial" font-size="14.00">request_shutdown(): None</text>
<text text-anchor="start" x="70896" y="-4079.9" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="70896" y="-4064.9" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.server.server.GrpcPluginServicer -->
<g id="node195" class="node">
<title>mcpgateway.plugins.framework.external.grpc.server.server.GrpcPluginServicer</title>
<polygon fill="white" stroke="#ee8866" points="71082,-4057.1 71082,-4157.9 72042,-4157.9 72042,-4057.1 71082,-4057.1"/>
<text text-anchor="start" x="71503" y="-4142.7" font-family="Arial" font-size="14.00">GrpcPluginServicer</text>
<polyline fill="none" stroke="#ee8866" points="71082,-4134.9 72042,-4134.9 "/>
<polyline fill="none" stroke="#ee8866" points="71082,-4110.1 72042,-4110.1 "/>
<text text-anchor="start" x="71090" y="-4094.9" font-family="Arial" font-size="14.00">GetPluginConfig(request: plugin_service_pb2.GetPluginConfigRequest, context: grpc.aio.ServicerContext): plugin_service_pb2.GetPluginConfigResponse</text>
<text text-anchor="start" x="71090" y="-4079.9" font-family="Arial" font-size="14.00">GetPluginConfigs(request: plugin_service_pb2.GetPluginConfigsRequest, context: grpc.aio.ServicerContext): plugin_service_pb2.GetPluginConfigsResponse</text>
<text text-anchor="start" x="71090" y="-4064.9" font-family="Arial" font-size="14.00">InvokeHook(request: plugin_service_pb2.InvokeHookRequest, context: grpc.aio.ServicerContext): plugin_service_pb2.InvokeHookResponse</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceServicer -->
<g id="node391" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceServicer</title>
<polygon fill="white" stroke="#ee8866" points="71448.5,-8408.1 71448.5,-8508.9 71675.5,-8508.9 71675.5,-8408.1 71448.5,-8408.1"/>
<text text-anchor="start" x="71495.5" y="-8493.7" font-family="Arial" font-size="14.00">PluginServiceServicer</text>
<polyline fill="none" stroke="#ee8866" points="71448.5,-8485.9 71675.5,-8485.9 "/>
<polyline fill="none" stroke="#ee8866" points="71448.5,-8461.1 71675.5,-8461.1 "/>
<text text-anchor="start" x="71456.5" y="-8445.9" font-family="Arial" font-size="14.00">GetPluginConfig(request, context)</text>
<text text-anchor="start" x="71456.5" y="-8430.9" font-family="Arial" font-size="14.00">GetPluginConfigs(request, context)</text>
<text text-anchor="start" x="71456.5" y="-8415.9" font-family="Arial" font-size="14.00">InvokeHook(request, context)</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.server.server.GrpcPluginServicer&#45;&gt;mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceServicer -->
<g id="edge69" class="edge">
<title>mcpgateway.plugins.framework.external.grpc.server.server.GrpcPluginServicer&#45;&gt;mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceServicer</title>
<path fill="none" stroke="gray" d="M71562,-4158.09C71562,-4603.54 71562,-7910.86 71562,-8397.72"/>
<polygon fill="none" stroke="gray" points="71558.5,-8398.03 71562,-8408.03 71565.5,-8398.03 71558.5,-8398.03"/>
</g>
<!-- mcpgateway.db.GrpcService -->
<g id="node196" class="node">
<title>mcpgateway.db.GrpcService</title>
<polygon fill="white" stroke="#77aadd" points="5210.5,-3833 5210.5,-4382 5495.5,-4382 5495.5,-3833 5210.5,-3833"/>
<text text-anchor="start" x="5315" y="-4366.8" font-family="Arial" font-size="14.00">GrpcService</text>
<polyline fill="none" stroke="#77aadd" points="5210.5,-4359 5495.5,-4359 "/>
<text text-anchor="start" x="5218.5" y="-4343.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5218.5" y="-4328.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4313.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4298.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4283.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4268.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4253.8" font-family="Arial" font-size="14.00">discovered_services : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="5218.5" y="-4238.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-4223.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4208.8" font-family="Arial" font-size="14.00">grpc_metadata : Mapped[Dict[str, str]]</text>
<text text-anchor="start" x="5218.5" y="-4193.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-4178.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4163.8" font-family="Arial" font-size="14.00">last_reflection : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="5218.5" y="-4148.8" font-family="Arial" font-size="14.00">method_count : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-4133.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4118.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4103.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4088.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4073.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-4058.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4043.8" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-4028.8" font-family="Arial" font-size="14.00">reflection_enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-4013.8" font-family="Arial" font-size="14.00">service_count : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-3998.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3983.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="5218.5" y="-3968.8" font-family="Arial" font-size="14.00">target : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3953.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3938.8" font-family="Arial" font-size="14.00">tls_cert_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3923.8" font-family="Arial" font-size="14.00">tls_enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-3908.8" font-family="Arial" font-size="14.00">tls_key_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3893.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="5218.5" y="-3878.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-3863.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="5210.5,-3856 5495.5,-3856 "/>
<text text-anchor="start" x="5351" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.GrpcService&#45;&gt;mcpgateway.db.Base -->
<g id="edge25" class="edge">
<title>mcpgateway.db.GrpcService&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5342.75,-4382.18C5312.77,-5255.91 5243.06,-7937.54 5505,-8215 5635.76,-8353.51 8642.69,-8440.78 9181.67,-8455.34"/>
<polygon fill="none" stroke="gray" points="9181.61,-8458.83 9191.7,-8455.61 9181.79,-8451.84 9181.61,-8458.83"/>
</g>
<!-- mcpgateway.services.grpc_service.GrpcService -->
<g id="node197" class="node">
<title>mcpgateway.services.grpc_service.GrpcService</title>
<polygon fill="white" stroke="#ffaabb" points="72060.5,-4012.1 72060.5,-4202.9 73023.5,-4202.9 73023.5,-4012.1 72060.5,-4012.1"/>
<text text-anchor="start" x="72504" y="-4187.7" font-family="Arial" font-size="14.00">GrpcService</text>
<polyline fill="none" stroke="#ffaabb" points="72060.5,-4179.9 73023.5,-4179.9 "/>
<polyline fill="none" stroke="#ffaabb" points="72060.5,-4155.1 73023.5,-4155.1 "/>
<text text-anchor="start" x="72068.5" y="-4139.9" font-family="Arial" font-size="14.00">delete_service(db: Session, service_id: str): None</text>
<text text-anchor="start" x="72068.5" y="-4124.9" font-family="Arial" font-size="14.00">get_service(db: Session, service_id: str, user_email: Optional[str]): GrpcServiceRead</text>
<text text-anchor="start" x="72068.5" y="-4109.9" font-family="Arial" font-size="14.00">get_service_methods(db: Session, service_id: str): List[Dict[str, Any]]</text>
<text text-anchor="start" x="72068.5" y="-4094.9" font-family="Arial" font-size="14.00">invoke_method(db: Session, service_id: str, method_name: str, request_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="72068.5" y="-4079.9" font-family="Arial" font-size="14.00">list_services(db: Session, include_inactive: bool, user_email: Optional[str], team_id: Optional[str]): List[GrpcServiceRead]</text>
<text text-anchor="start" x="72068.5" y="-4064.9" font-family="Arial" font-size="14.00">reflect_service(db: Session, service_id: str): GrpcServiceRead</text>
<text text-anchor="start" x="72068.5" y="-4049.9" font-family="Arial" font-size="14.00">register_service(db: Session, service_data: GrpcServiceCreate, user_email: Optional[str], metadata: Optional[Dict[str, Any]]): GrpcServiceRead</text>
<text text-anchor="start" x="72068.5" y="-4034.9" font-family="Arial" font-size="14.00">set_service_state(db: Session, service_id: str, activate: bool): GrpcServiceRead</text>
<text text-anchor="start" x="72068.5" y="-4019.9" font-family="Arial" font-size="14.00">update_service(db: Session, service_id: str, service_data: GrpcServiceUpdate, user_email: Optional[str], metadata: Optional[Dict[str, Any]]): GrpcServiceRead</text>
</g>
<!-- mcpgateway.schemas.GrpcServiceCreate -->
<g id="node198" class="node">
<title>mcpgateway.schemas.GrpcServiceCreate</title>
<polygon fill="white" stroke="#77aadd" points="73042,-3975.5 73042,-4239.5 73356,-4239.5 73356,-3975.5 73042,-3975.5"/>
<text text-anchor="start" x="73141" y="-4224.3" font-family="Arial" font-size="14.00">GrpcServiceCreate</text>
<polyline fill="none" stroke="#77aadd" points="73042,-4216.5 73356,-4216.5 "/>
<text text-anchor="start" x="73084.5" y="-4201.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4186.3" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="73084.5" y="-4171.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4156.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4141.3" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="73084.5" y="-4126.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="73084.5" y="-4111.3" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4096.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4081.3" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4066.3" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="73084.5" y="-4051.3" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="73084.5" y="-4036.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="73042,-4028.5 73356,-4028.5 "/>
<text text-anchor="start" x="73050" y="-4013.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="73050" y="-3998.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="73050" y="-3983.3" font-family="Arial" font-size="14.00">validate_target(v: str): str</text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="node199" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceError</title>
<polygon fill="white" stroke="#ffaabb" points="73520,-8423.1 73520,-8493.9 73642,-8493.9 73642,-8423.1 73520,-8423.1"/>
<text text-anchor="start" x="73528" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">GrpcServiceError</text>
<polyline fill="none" stroke="#ffaabb" points="73520,-8470.9 73642,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="73520,-8446.1 73642,-8446.1 "/>
<text text-anchor="start" x="73579" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNameConflictError -->
<g id="node200" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="73374.5,-4058 73374.5,-4157 73577.5,-4157 73577.5,-4058 73374.5,-4058"/>
<text text-anchor="start" x="73382.5" y="-4141.8" font-family="Arial" font-size="14.00" fill="red">GrpcServiceNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="73374.5,-4134 73577.5,-4134 "/>
<text text-anchor="start" x="73403" y="-4118.8" font-family="Arial" font-size="14.00" fill="red">is_active : bool</text>
<text text-anchor="start" x="73403" y="-4103.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="73403" y="-4088.8" font-family="Arial" font-size="14.00" fill="red">service_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="73374.5,-4081 73577.5,-4081 "/>
<text text-anchor="start" x="73474" y="-4065.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNameConflictError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="edge102" class="edge">
<title>mcpgateway.services.grpc_service.GrpcServiceNameConflictError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError</title>
<path fill="none" stroke="gray" d="M73477.18,-4157.34C73487.98,-4604.68 73569.56,-7983.78 73579.92,-8412.76"/>
<polygon fill="none" stroke="gray" points="73576.42,-8413 73580.16,-8422.91 73583.42,-8412.83 73576.42,-8413"/>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNotFoundError -->
<g id="node201" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="73595.5,-4072.1 73595.5,-4142.9 73776.5,-4142.9 73776.5,-4072.1 73595.5,-4072.1"/>
<text text-anchor="start" x="73603.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">GrpcServiceNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="73595.5,-4119.9 73776.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="73595.5,-4095.1 73776.5,-4095.1 "/>
<text text-anchor="start" x="73684" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNotFoundError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="edge103" class="edge">
<title>mcpgateway.services.grpc_service.GrpcServiceNotFoundError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError</title>
<path fill="none" stroke="gray" d="M73685.46,-4143.03C73680.82,-4436.33 73646.46,-6540.75 73590,-8248 73588.12,-8304.98 73585.17,-8370.63 73583.17,-8413.04"/>
<polygon fill="none" stroke="gray" points="73579.67,-8412.88 73582.69,-8423.03 73586.66,-8413.21 73579.67,-8412.88"/>
</g>
<!-- mcpgateway.schemas.GrpcServiceRead -->
<g id="node202" class="node">
<title>mcpgateway.schemas.GrpcServiceRead</title>
<polygon fill="white" stroke="#77aadd" points="73795,-3908 73795,-4307 74079,-4307 74079,-3908 73795,-3908"/>
<text text-anchor="start" x="73883" y="-4291.8" font-family="Arial" font-size="14.00">GrpcServiceRead</text>
<polyline fill="none" stroke="#77aadd" points="73795,-4284 74079,-4284 "/>
<text text-anchor="start" x="73803" y="-4268.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="73803" y="-4253.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4238.8" font-family="Arial" font-size="14.00">discovered_services : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="73803" y="-4223.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="73803" y="-4208.8" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="73803" y="-4193.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4178.8" font-family="Arial" font-size="14.00">last_reflection : Optional[datetime]</text>
<text text-anchor="start" x="73803" y="-4163.8" font-family="Arial" font-size="14.00">method_count : Optional[int]</text>
<text text-anchor="start" x="73803" y="-4148.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="73803" y="-4133.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4118.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4103.8" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="73803" y="-4088.8" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="73803" y="-4073.8" font-family="Arial" font-size="14.00">service_count : Optional[int]</text>
<text text-anchor="start" x="73803" y="-4058.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4043.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="73803" y="-4028.8" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="73803" y="-4013.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="73803" y="-3998.8" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="73803" y="-3983.8" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="73803" y="-3968.8" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="73803" y="-3953.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="73803" y="-3938.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="73795,-3931 74079,-3931 "/>
<text text-anchor="start" x="73935" y="-3915.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GrpcServiceUpdate -->
<g id="node203" class="node">
<title>mcpgateway.schemas.GrpcServiceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="74097,-3990.5 74097,-4224.5 74411,-4224.5 74411,-3990.5 74097,-3990.5"/>
<text text-anchor="start" x="74194.5" y="-4209.3" font-family="Arial" font-size="14.00">GrpcServiceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="74097,-4201.5 74411,-4201.5 "/>
<text text-anchor="start" x="74139.5" y="-4186.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="74139.5" y="-4171.3" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="74139.5" y="-4156.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="74139.5" y="-4141.3" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="74139.5" y="-4126.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="74139.5" y="-4111.3" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="74139.5" y="-4096.3" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="74139.5" y="-4081.3" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="74139.5" y="-4066.3" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="74139.5" y="-4051.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="74097,-4043.5 74411,-4043.5 "/>
<text text-anchor="start" x="74105" y="-4028.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="74105" y="-4013.3" font-family="Arial" font-size="14.00">validate_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="74105" y="-3998.3" font-family="Arial" font-size="14.00">validate_target(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.translate_grpc.GrpcToMcpTranslator -->
<g id="node204" class="node">
<title>mcpgateway.translate_grpc.GrpcToMcpTranslator</title>
<polygon fill="white" stroke="#77aadd" points="74429.5,-4057.1 74429.5,-4157.9 74848.5,-4157.9 74848.5,-4057.1 74429.5,-4057.1"/>
<text text-anchor="start" x="74573" y="-4142.7" font-family="Arial" font-size="14.00">GrpcToMcpTranslator</text>
<polyline fill="none" stroke="#77aadd" points="74429.5,-4134.9 74848.5,-4134.9 "/>
<polyline fill="none" stroke="#77aadd" points="74429.5,-4110.1 74848.5,-4110.1 "/>
<text text-anchor="start" x="74437.5" y="-4094.9" font-family="Arial" font-size="14.00">grpc_methods_to_mcp_tools(service_name: str): List[Dict[str, Any]]</text>
<text text-anchor="start" x="74437.5" y="-4079.9" font-family="Arial" font-size="14.00">grpc_service_to_mcp_server(service_name: str): Dict[str, Any]</text>
<text text-anchor="start" x="74437.5" y="-4064.9" font-family="Arial" font-size="14.00">protobuf_to_json_schema(message_descriptor: Any): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.GunicornMetricsSchema -->
<g id="node205" class="node">
<title>mcpgateway.schemas.GunicornMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="74866.5,-4043 74866.5,-4172 75057.5,-4172 75057.5,-4043 74866.5,-4043"/>
<text text-anchor="start" x="74886.5" y="-4156.8" font-family="Arial" font-size="14.00">GunicornMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="74866.5,-4149 75057.5,-4149 "/>
<text text-anchor="start" x="74874.5" y="-4133.8" font-family="Arial" font-size="14.00">master_pid : Optional[int]</text>
<text text-anchor="start" x="74874.5" y="-4118.8" font-family="Arial" font-size="14.00">max_requests : Optional[int]</text>
<text text-anchor="start" x="74874.5" y="-4103.8" font-family="Arial" font-size="14.00">workers_active : Optional[int]</text>
<text text-anchor="start" x="74874.5" y="-4088.8" font-family="Arial" font-size="14.00">workers_idle : Optional[int]</text>
<text text-anchor="start" x="74874.5" y="-4073.8" font-family="Arial" font-size="14.00">workers_total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="74866.5,-4066 75057.5,-4066 "/>
<text text-anchor="start" x="74960" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_header_utils.HeaderMappingError -->
<g id="node206" class="node">
<title>mcpgateway.translate_header_utils.HeaderMappingError</title>
<polygon fill="white" stroke="#77aadd" points="75075.5,-4072.1 75075.5,-4142.9 75218.5,-4142.9 75218.5,-4072.1 75075.5,-4072.1"/>
<text text-anchor="start" x="75083.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">HeaderMappingError</text>
<polyline fill="none" stroke="#77aadd" points="75075.5,-4119.9 75218.5,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="75075.5,-4095.1 75218.5,-4095.1 "/>
<text text-anchor="start" x="75145" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.Health -->
<g id="node207" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.Health</title>
<polygon fill="white" stroke="#ee8866" points="75236.5,-4072.1 75236.5,-4142.9 76021.5,-4142.9 76021.5,-4072.1 75236.5,-4072.1"/>
<text text-anchor="start" x="75609" y="-4127.7" font-family="Arial" font-size="14.00">Health</text>
<polyline fill="none" stroke="#ee8866" points="75236.5,-4119.9 76021.5,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="75236.5,-4095.1 76021.5,-4095.1 "/>
<text text-anchor="start" x="75244.5" y="-4079.9" font-family="Arial" font-size="14.00">Check(request, target, options, channel_credentials, call_credentials, insecure, compression, wait_for_ready, timeout, metadata)</text>
</g>
<!-- mcpgateway.llm_schemas.HealthStatus -->
<g id="node209" class="node">
<title>mcpgateway.llm_schemas.HealthStatus</title>
<polygon fill="white" stroke="#77aadd" points="76039,-4073 76039,-4142 76133,-4142 76133,-4073 76039,-4073"/>
<text text-anchor="start" x="76047" y="-4126.8" font-family="Arial" font-size="14.00">HealthStatus</text>
<polyline fill="none" stroke="#77aadd" points="76039,-4119 76133,-4119 "/>
<text text-anchor="start" x="76068.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="76039,-4096 76133,-4096 "/>
<text text-anchor="start" x="76084" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ProviderHealthCheck -->
<g id="node432" class="node">
<title>mcpgateway.llm_schemas.ProviderHealthCheck</title>
<polygon fill="white" stroke="#77aadd" points="75972.5,-8379 75972.5,-8538 76199.5,-8538 76199.5,-8379 75972.5,-8379"/>
<text text-anchor="start" x="76022" y="-8522.8" font-family="Arial" font-size="14.00">ProviderHealthCheck</text>
<polyline fill="none" stroke="#77aadd" points="75972.5,-8515 76199.5,-8515 "/>
<text text-anchor="start" x="75980.5" y="-8499.8" font-family="Arial" font-size="14.00">checked_at : datetime</text>
<text text-anchor="start" x="75980.5" y="-8484.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="75980.5" y="-8469.8" font-family="Arial" font-size="14.00">provider_id : str</text>
<text text-anchor="start" x="75980.5" y="-8454.8" font-family="Arial" font-size="14.00">provider_name : str</text>
<text text-anchor="start" x="75980.5" y="-8439.8" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="75980.5" y="-8424.8" font-family="Arial" font-size="14.00">response_time_ms : Optional[float]</text>
<text text-anchor="start" x="75980.5" y="-8409.8" font-family="Arial" font-size="14.00">status</text>
<polyline fill="none" stroke="#77aadd" points="75972.5,-8402 76199.5,-8402 "/>
<text text-anchor="start" x="76084" y="-8386.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.HealthStatus&#45;&gt;mcpgateway.llm_schemas.ProviderHealthCheck -->
<g id="edge160" class="edge">
<title>mcpgateway.llm_schemas.HealthStatus&#45;&gt;mcpgateway.llm_schemas.ProviderHealthCheck</title>
<path fill="none" stroke="gray" d="M76086,-4142.25C76086,-4510.32 76086,-7776.89 76086,-8366.5"/>
<polygon fill="gray" stroke="gray" points="76086,-8366.7 76090,-8372.7 76086,-8378.7 76082,-8372.7 76086,-8366.7"/>
<text text-anchor="middle" x="76104.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">status</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthStub -->
<g id="node210" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.HealthStub</title>
<polygon fill="white" stroke="#ee8866" points="76151.5,-4073 76151.5,-4142 76234.5,-4142 76234.5,-4073 76151.5,-4073"/>
<text text-anchor="start" x="76159.5" y="-4126.8" font-family="Arial" font-size="14.00">HealthStub</text>
<polyline fill="none" stroke="#ee8866" points="76151.5,-4119 76234.5,-4119 "/>
<text text-anchor="start" x="76173.5" y="-4103.8" font-family="Arial" font-size="14.00">Check</text>
<polyline fill="none" stroke="#ee8866" points="76151.5,-4096 76234.5,-4096 "/>
<text text-anchor="start" x="76191" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.decorator.HookMetadata -->
<g id="node211" class="node">
<title>mcpgateway.plugins.framework.decorator.HookMetadata</title>
<polygon fill="white" stroke="#ee8866" points="76253,-4058 76253,-4157 76525,-4157 76525,-4058 76253,-4058"/>
<text text-anchor="start" x="76344.5" y="-4141.8" font-family="Arial" font-size="14.00">HookMetadata</text>
<polyline fill="none" stroke="#ee8866" points="76253,-4134 76525,-4134 "/>
<text text-anchor="start" x="76261" y="-4118.8" font-family="Arial" font-size="14.00">hook_type : str</text>
<text text-anchor="start" x="76261" y="-4103.8" font-family="Arial" font-size="14.00">payload_type : Optional[Type[BaseModel]]</text>
<text text-anchor="start" x="76261" y="-4088.8" font-family="Arial" font-size="14.00">result_type : Optional[Type[BaseModel]]</text>
<polyline fill="none" stroke="#ee8866" points="76253,-4081 76525,-4081 "/>
<text text-anchor="start" x="76387" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.registry.HookRegistry -->
<g id="node213" class="node">
<title>mcpgateway.plugins.framework.hooks.registry.HookRegistry</title>
<polygon fill="white" stroke="#ee8866" points="76543.5,-4027.1 76543.5,-4187.9 77196.5,-4187.9 77196.5,-4027.1 76543.5,-4027.1"/>
<text text-anchor="start" x="76829" y="-4172.7" font-family="Arial" font-size="14.00">HookRegistry</text>
<polyline fill="none" stroke="#ee8866" points="76543.5,-4164.9 77196.5,-4164.9 "/>
<polyline fill="none" stroke="#ee8866" points="76543.5,-4140.1 77196.5,-4140.1 "/>
<text text-anchor="start" x="76551.5" y="-4124.9" font-family="Arial" font-size="14.00">get_payload_type(hook_type: str): Optional[Type[PluginPayload]]</text>
<text text-anchor="start" x="76551.5" y="-4109.9" font-family="Arial" font-size="14.00">get_registered_hooks(): list[str]</text>
<text text-anchor="start" x="76551.5" y="-4094.9" font-family="Arial" font-size="14.00">get_result_type(hook_type: str): Optional[Type[PluginResult]]</text>
<text text-anchor="start" x="76551.5" y="-4079.9" font-family="Arial" font-size="14.00">is_registered(hook_type: str): bool</text>
<text text-anchor="start" x="76551.5" y="-4064.9" font-family="Arial" font-size="14.00">json_to_payload(hook_type: str, payload: Union[str, dict]): PluginPayload</text>
<text text-anchor="start" x="76551.5" y="-4049.9" font-family="Arial" font-size="14.00">json_to_result(hook_type: str, result: Union[str, dict]): PluginResult</text>
<text text-anchor="start" x="76551.5" y="-4034.9" font-family="Arial" font-size="14.00">register_hook(hook_type: str, payload_class: Type[PluginPayload], result_class: Type[PluginResult]): None</text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.HourlyAggregation -->
<g id="node214" class="node">
<title>mcpgateway.services.metrics_rollup_service.HourlyAggregation</title>
<polygon fill="white" stroke="#ffaabb" points="77214.5,-3983 77214.5,-4232 77449.5,-4232 77449.5,-3983 77214.5,-3983"/>
<text text-anchor="start" x="77276" y="-4216.8" font-family="Arial" font-size="14.00">HourlyAggregation</text>
<polyline fill="none" stroke="#ffaabb" points="77214.5,-4209 77449.5,-4209 "/>
<text text-anchor="start" x="77222.5" y="-4193.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4178.8" font-family="Arial" font-size="14.00">entity_id : str</text>
<text text-anchor="start" x="77222.5" y="-4163.8" font-family="Arial" font-size="14.00">entity_name : str</text>
<text text-anchor="start" x="77222.5" y="-4148.8" font-family="Arial" font-size="14.00">failure_count : int</text>
<text text-anchor="start" x="77222.5" y="-4133.8" font-family="Arial" font-size="14.00">hour_start : datetime</text>
<text text-anchor="start" x="77222.5" y="-4118.8" font-family="Arial" font-size="14.00">interaction_type : Optional[str]</text>
<text text-anchor="start" x="77222.5" y="-4103.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4088.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4073.8" font-family="Arial" font-size="14.00">p50_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4058.8" font-family="Arial" font-size="14.00">p95_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4043.8" font-family="Arial" font-size="14.00">p99_response_time : Optional[float]</text>
<text text-anchor="start" x="77222.5" y="-4028.8" font-family="Arial" font-size="14.00">success_count : int</text>
<text text-anchor="start" x="77222.5" y="-4013.8" font-family="Arial" font-size="14.00">total_count : int</text>
<polyline fill="none" stroke="#ffaabb" points="77214.5,-4006 77449.5,-4006 "/>
<text text-anchor="start" x="77330" y="-3990.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionPayload -->
<g id="node215" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionPayload</title>
<polygon fill="white" stroke="#ee8866" points="77468,-4020.5 77468,-4194.5 77692,-4194.5 77692,-4020.5 77468,-4020.5"/>
<text text-anchor="start" x="77476" y="-4179.3" font-family="Arial" font-size="14.00">HttpAuthCheckPermissionPayload</text>
<polyline fill="none" stroke="#ee8866" points="77468,-4171.5 77692,-4171.5 "/>
<text text-anchor="start" x="77502" y="-4156.3" font-family="Arial" font-size="14.00">auth_method : str | None</text>
<text text-anchor="start" x="77502" y="-4141.3" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="77502" y="-4126.3" font-family="Arial" font-size="14.00">is_admin : bool</text>
<text text-anchor="start" x="77502" y="-4111.3" font-family="Arial" font-size="14.00">permission : str</text>
<text text-anchor="start" x="77502" y="-4096.3" font-family="Arial" font-size="14.00">resource_type : str | None</text>
<text text-anchor="start" x="77502" y="-4081.3" font-family="Arial" font-size="14.00">team_id : str | None</text>
<text text-anchor="start" x="77502" y="-4066.3" font-family="Arial" font-size="14.00">user_agent : str | None</text>
<text text-anchor="start" x="77502" y="-4051.3" font-family="Arial" font-size="14.00">user_email : str</text>
<polyline fill="none" stroke="#ee8866" points="77468,-4043.5 77692,-4043.5 "/>
<text text-anchor="start" x="77578" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionResultPayload -->
<g id="node216" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionResultPayload</title>
<polygon fill="white" stroke="#ee8866" points="77710,-4065.5 77710,-4149.5 77972,-4149.5 77972,-4065.5 77710,-4065.5"/>
<text text-anchor="start" x="77718" y="-4134.3" font-family="Arial" font-size="14.00">HttpAuthCheckPermissionResultPayload</text>
<polyline fill="none" stroke="#ee8866" points="77710,-4126.5 77972,-4126.5 "/>
<text text-anchor="start" x="77785" y="-4111.3" font-family="Arial" font-size="14.00">granted : bool</text>
<text text-anchor="start" x="77785" y="-4096.3" font-family="Arial" font-size="14.00">reason : str | None</text>
<polyline fill="none" stroke="#ee8866" points="77710,-4088.5 77972,-4088.5 "/>
<text text-anchor="start" x="77839" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.http_auth_middleware.HttpAuthMiddleware -->
<g id="node217" class="node">
<title>mcpgateway.middleware.http_auth_middleware.HttpAuthMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="77990,-4073 77990,-4142 78250,-4142 78250,-4073 77990,-4073"/>
<text text-anchor="start" x="78058.5" y="-4126.8" font-family="Arial" font-size="14.00">HttpAuthMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="77990,-4119 78250,-4119 "/>
<text text-anchor="start" x="77998" y="-4103.8" font-family="Arial" font-size="14.00">plugin_manager : PluginManager | None</text>
<polyline fill="none" stroke="#eedd88" points="77990,-4096 78250,-4096 "/>
<text text-anchor="start" x="78008.5" y="-4080.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload -->
<g id="node218" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload</title>
<polygon fill="white" stroke="#ee8866" points="78237.5,-8401.5 78237.5,-8515.5 78432.5,-8515.5 78432.5,-8401.5 78237.5,-8401.5"/>
<text text-anchor="start" x="78245.5" y="-8500.3" font-family="Arial" font-size="14.00">HttpAuthResolveUserPayload</text>
<polyline fill="none" stroke="#ee8866" points="78237.5,-8492.5 78432.5,-8492.5 "/>
<text text-anchor="start" x="78264" y="-8477.3" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="78264" y="-8462.3" font-family="Arial" font-size="14.00">client_port : int | None</text>
<text text-anchor="start" x="78264" y="-8447.3" font-family="Arial" font-size="14.00">credentials : dict | None</text>
<text text-anchor="start" x="78264" y="-8432.3" font-family="Arial" font-size="14.00">headers</text>
<polyline fill="none" stroke="#ee8866" points="78237.5,-8424.5 78432.5,-8424.5 "/>
<text text-anchor="start" x="78333" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload -->
<g id="node219" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload</title>
<polygon fill="white" stroke="#ee8866" points="78268,-4072.1 78268,-4142.9 78402,-4142.9 78402,-4072.1 78268,-4072.1"/>
<text text-anchor="start" x="78276" y="-4127.7" font-family="Arial" font-size="14.00">HttpHeaderPayload</text>
<polyline fill="none" stroke="#ee8866" points="78268,-4119.9 78402,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="78268,-4095.1 78402,-4095.1 "/>
<text text-anchor="start" x="78333" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload -->
<g id="edge162" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload</title>
<path fill="none" stroke="gray" d="M78335,-4143.19C78335,-4520.99 78335,-7867.59 78335,-8389.26"/>
<polygon fill="gray" stroke="gray" points="78335,-8389.41 78339,-8395.41 78335,-8401.41 78331,-8395.41 78335,-8389.41"/>
<text text-anchor="middle" x="78359.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">headers</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="node222" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<polygon fill="white" stroke="#ee8866" points="78470.5,-8394 78470.5,-8523 78631.5,-8523 78631.5,-8394 78470.5,-8394"/>
<text text-anchor="start" x="78478.5" y="-8507.8" font-family="Arial" font-size="14.00">HttpPreRequestPayload</text>
<polyline fill="none" stroke="#ee8866" points="78470.5,-8500 78631.5,-8500 "/>
<text text-anchor="start" x="78483.5" y="-8484.8" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="78483.5" y="-8469.8" font-family="Arial" font-size="14.00">client_port : int | None</text>
<text text-anchor="start" x="78483.5" y="-8454.8" font-family="Arial" font-size="14.00">headers</text>
<text text-anchor="start" x="78483.5" y="-8439.8" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="78483.5" y="-8424.8" font-family="Arial" font-size="14.00">path : str</text>
<polyline fill="none" stroke="#ee8866" points="78470.5,-8417 78631.5,-8417 "/>
<text text-anchor="start" x="78549" y="-8401.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="edge163" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<path fill="none" stroke="gray" d="M78333.23,-4143.04C78315.65,-4492.3 78178.13,-7390.01 78411,-8215 78418.14,-8240.31 78427.78,-8243.26 78441,-8266 78463.35,-8304.45 78488.03,-8347.38 78508.34,-8382.82"/>
<polygon fill="gray" stroke="gray" points="78508.53,-8383.16 78514.99,-8386.38 78514.5,-8393.57 78508.05,-8390.35 78508.53,-8383.16"/>
<text text-anchor="middle" x="78453.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">headers</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHookType -->
<g id="node220" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpHookType</title>
<polygon fill="white" stroke="#ee8866" points="78740,-4073 78740,-4142 78842,-4142 78842,-4073 78740,-4073"/>
<text text-anchor="start" x="78748" y="-4126.8" font-family="Arial" font-size="14.00">HttpHookType</text>
<polyline fill="none" stroke="#ee8866" points="78740,-4119 78842,-4119 "/>
<text text-anchor="start" x="78773.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="78740,-4096 78842,-4096 "/>
<text text-anchor="start" x="78789" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload -->
<g id="node221" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload</title>
<polygon fill="white" stroke="#ee8866" points="78420.5,-4065.5 78420.5,-4149.5 78721.5,-4149.5 78721.5,-4065.5 78420.5,-4065.5"/>
<text text-anchor="start" x="78495.5" y="-4134.3" font-family="Arial" font-size="14.00">HttpPostRequestPayload</text>
<polyline fill="none" stroke="#ee8866" points="78420.5,-4126.5 78721.5,-4126.5 "/>
<text text-anchor="start" x="78428.5" y="-4111.3" font-family="Arial" font-size="14.00">response_headers : HttpHeaderPayload | None</text>
<text text-anchor="start" x="78428.5" y="-4096.3" font-family="Arial" font-size="14.00">status_code : int | None</text>
<polyline fill="none" stroke="#ee8866" points="78420.5,-4088.5 78721.5,-4088.5 "/>
<text text-anchor="start" x="78569" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="edge73" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<path fill="none" stroke="gray" d="M78570.81,-4149.8C78568.94,-4556.85 78553.81,-7846.62 78551.34,-8383.53"/>
<polygon fill="none" stroke="gray" points="78547.84,-8383.84 78551.29,-8393.86 78554.84,-8383.87 78547.84,-8383.84"/>
</g>
<!-- mcpgateway.llm_provider_configs.HuggingFaceConfig -->
<g id="node223" class="node">
<title>mcpgateway.llm_provider_configs.HuggingFaceConfig</title>
<polygon fill="white" stroke="#77aadd" points="78860,-4058 78860,-4157 79064,-4157 79064,-4058 78860,-4058"/>
<text text-anchor="start" x="78902" y="-4141.8" font-family="Arial" font-size="14.00">HuggingFaceConfig</text>
<polyline fill="none" stroke="#77aadd" points="78860,-4134 79064,-4134 "/>
<text text-anchor="start" x="78868" y="-4118.8" font-family="Arial" font-size="14.00">task : Optional[str]</text>
<text text-anchor="start" x="78868" y="-4103.8" font-family="Arial" font-size="14.00">use_cache : Optional[bool]</text>
<text text-anchor="start" x="78868" y="-4088.8" font-family="Arial" font-size="14.00">wait_for_model : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="78860,-4081 79064,-4081 "/>
<text text-anchor="start" x="78960" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.IBMWatsonXConfig -->
<g id="node224" class="node">
<title>mcpgateway.llm_provider_configs.IBMWatsonXConfig</title>
<polygon fill="white" stroke="#77aadd" points="79082,-4035.5 79082,-4179.5 79272,-4179.5 79272,-4035.5 79082,-4035.5"/>
<text text-anchor="start" x="79117.5" y="-4164.3" font-family="Arial" font-size="14.00">IBMWatsonXConfig</text>
<polyline fill="none" stroke="#77aadd" points="79082,-4156.5 79272,-4156.5 "/>
<text text-anchor="start" x="79090" y="-4141.3" font-family="Arial" font-size="14.00">deployment_id : Optional[str]</text>
<text text-anchor="start" x="79090" y="-4126.3" font-family="Arial" font-size="14.00">instance_id : Optional[str]</text>
<text text-anchor="start" x="79090" y="-4111.3" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<text text-anchor="start" x="79090" y="-4096.3" font-family="Arial" font-size="14.00">space_id : Optional[str]</text>
<text text-anchor="start" x="79090" y="-4081.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="79090" y="-4066.3" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="79082,-4058.5 79272,-4058.5 "/>
<text text-anchor="start" x="79175" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ImageContent -->
<g id="node225" class="node">
<title>mcpgateway.common.models.ImageContent</title>
<polygon fill="white" stroke="#44bb99" points="79290.5,-4043 79290.5,-4172 79517.5,-4172 79517.5,-4043 79290.5,-4043"/>
<text text-anchor="start" x="79361" y="-4156.8" font-family="Arial" font-size="14.00">ImageContent</text>
<polyline fill="none" stroke="#44bb99" points="79290.5,-4149 79517.5,-4149 "/>
<text text-anchor="start" x="79298.5" y="-4133.8" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="79298.5" y="-4118.8" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="79298.5" y="-4103.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="79298.5" y="-4088.8" font-family="Arial" font-size="14.00">mime_type : str</text>
<text text-anchor="start" x="79298.5" y="-4073.8" font-family="Arial" font-size="14.00">type : Literal[&#39;image&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="79290.5,-4066 79517.5,-4066 "/>
<text text-anchor="start" x="79402" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Implementation -->
<g id="node226" class="node">
<title>mcpgateway.common.models.Implementation</title>
<polygon fill="white" stroke="#44bb99" points="79536,-4065.5 79536,-4149.5 79646,-4149.5 79646,-4065.5 79536,-4065.5"/>
<text text-anchor="start" x="79544" y="-4134.3" font-family="Arial" font-size="14.00">Implementation</text>
<polyline fill="none" stroke="#44bb99" points="79536,-4126.5 79646,-4126.5 "/>
<text text-anchor="start" x="79556" y="-4111.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="79556" y="-4096.3" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#44bb99" points="79536,-4088.5 79646,-4088.5 "/>
<text text-anchor="start" x="79589" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportConflictError -->
<g id="node227" class="node">
<title>mcpgateway.services.import_service.ImportConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="79664.5,-4072.1 79664.5,-4142.9 79795.5,-4142.9 79795.5,-4072.1 79664.5,-4072.1"/>
<text text-anchor="start" x="79672.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ImportConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="79664.5,-4119.9 79795.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="79664.5,-4095.1 79795.5,-4095.1 "/>
<text text-anchor="start" x="79728" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportError -->
<g id="node228" class="node">
<title>mcpgateway.services.import_service.ImportError</title>
<polygon fill="white" stroke="#ffaabb" points="79765,-8423.1 79765,-8493.9 79851,-8493.9 79851,-8423.1 79765,-8423.1"/>
<text text-anchor="start" x="79773" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ImportError</text>
<polyline fill="none" stroke="#ffaabb" points="79765,-8470.9 79851,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="79765,-8446.1 79851,-8446.1 "/>
<text text-anchor="start" x="79806" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportConflictError&#45;&gt;mcpgateway.services.import_service.ImportError -->
<g id="edge104" class="edge">
<title>mcpgateway.services.import_service.ImportConflictError&#45;&gt;mcpgateway.services.import_service.ImportError</title>
<path fill="none" stroke="gray" d="M79730.62,-4143.19C79737.51,-4527.25 79799.42,-7979.28 79807.2,-8412.83"/>
<polygon fill="none" stroke="gray" points="79803.7,-8413.15 79807.38,-8423.08 79810.7,-8413.02 79803.7,-8413.15"/>
</g>
<!-- mcpgateway.services.import_service.ImportService -->
<g id="node229" class="node">
<title>mcpgateway.services.import_service.ImportService</title>
<polygon fill="white" stroke="#ffaabb" points="79975.5,-3975.5 79975.5,-4239.5 81274.5,-4239.5 81274.5,-3975.5 79975.5,-3975.5"/>
<text text-anchor="start" x="80582.5" y="-4224.3" font-family="Arial" font-size="14.00">ImportService</text>
<polyline fill="none" stroke="#ffaabb" points="79975.5,-4216.5 81274.5,-4216.5 "/>
<text text-anchor="start" x="80510.5" y="-4201.3" font-family="Arial" font-size="14.00">active_imports : Dict[str, ImportStatus]</text>
<text text-anchor="start" x="80510.5" y="-4186.3" font-family="Arial" font-size="14.00">gateway_service</text>
<text text-anchor="start" x="80510.5" y="-4171.3" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="80510.5" y="-4156.3" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="80510.5" y="-4141.3" font-family="Arial" font-size="14.00">root_service</text>
<text text-anchor="start" x="80510.5" y="-4126.3" font-family="Arial" font-size="14.00">server_service</text>
<text text-anchor="start" x="80510.5" y="-4111.3" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="79975.5,-4103.5 81274.5,-4103.5 "/>
<text text-anchor="start" x="79983.5" y="-4088.3" font-family="Arial" font-size="14.00">cleanup_completed_imports(max_age_hours: int): int</text>
<text text-anchor="start" x="79983.5" y="-4073.3" font-family="Arial" font-size="14.00">get_import_status(import_id: str): Optional[ImportStatus]</text>
<text text-anchor="start" x="79983.5" y="-4058.3" font-family="Arial" font-size="14.00">import_configuration(db: Session, import_data: Dict[str, Any], conflict_strategy: ConflictStrategy, dry_run: bool, rekey_secret: Optional[str], imported_by: str, selected_entities: Optional[Dict[str, List[str]]]): ImportStatus</text>
<text text-anchor="start" x="79983.5" y="-4043.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="79983.5" y="-4028.3" font-family="Arial" font-size="14.00">list_import_statuses(): List[ImportStatus]</text>
<text text-anchor="start" x="79983.5" y="-4013.3" font-family="Arial" font-size="14.00">preview_import(db: Session, import_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="79983.5" y="-3998.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="79983.5" y="-3983.3" font-family="Arial" font-size="14.00">validate_import_data(import_data: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.services.import_service.ImportStatus -->
<g id="node230" class="node">
<title>mcpgateway.services.import_service.ImportStatus</title>
<polygon fill="white" stroke="#ffaabb" points="81292.5,-3990.5 81292.5,-4224.5 81513.5,-4224.5 81513.5,-3990.5 81292.5,-3990.5"/>
<text text-anchor="start" x="81364" y="-4209.3" font-family="Arial" font-size="14.00">ImportStatus</text>
<polyline fill="none" stroke="#ffaabb" points="81292.5,-4201.5 81513.5,-4201.5 "/>
<text text-anchor="start" x="81300.5" y="-4186.3" font-family="Arial" font-size="14.00">completed_at : Optional[datetime]</text>
<text text-anchor="start" x="81300.5" y="-4171.3" font-family="Arial" font-size="14.00">created_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4156.3" font-family="Arial" font-size="14.00">errors : List[str]</text>
<text text-anchor="start" x="81300.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4126.3" font-family="Arial" font-size="14.00">import_id : str</text>
<text text-anchor="start" x="81300.5" y="-4111.3" font-family="Arial" font-size="14.00">processed_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4096.3" font-family="Arial" font-size="14.00">skipped_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4081.3" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="81300.5" y="-4066.3" font-family="Arial" font-size="14.00">status : str</text>
<text text-anchor="start" x="81300.5" y="-4051.3" font-family="Arial" font-size="14.00">total_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4036.3" font-family="Arial" font-size="14.00">updated_entities : int</text>
<text text-anchor="start" x="81300.5" y="-4021.3" font-family="Arial" font-size="14.00">warnings : List[str]</text>
<polyline fill="none" stroke="#ffaabb" points="81292.5,-4013.5 81513.5,-4013.5 "/>
<text text-anchor="start" x="81337" y="-3998.3" font-family="Arial" font-size="14.00">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.import_service.ImportValidationError -->
<g id="node231" class="node">
<title>mcpgateway.services.import_service.ImportValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="79814,-4072.1 79814,-4142.9 79958,-4142.9 79958,-4072.1 79814,-4072.1"/>
<text text-anchor="start" x="79822" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ImportValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="79814,-4119.9 79958,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="79814,-4095.1 79958,-4095.1 "/>
<text text-anchor="start" x="79884" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportValidationError&#45;&gt;mcpgateway.services.import_service.ImportError -->
<g id="edge105" class="edge">
<title>mcpgateway.services.import_service.ImportValidationError&#45;&gt;mcpgateway.services.import_service.ImportError</title>
<path fill="none" stroke="gray" d="M79885.92,-4143.04C79885.14,-4436.38 79877.61,-6541.06 79819,-8248 79817.04,-8305 79813.36,-8370.65 79810.8,-8413.05"/>
<polygon fill="none" stroke="gray" points="79807.31,-8412.85 79810.19,-8423.04 79814.3,-8413.27 79807.31,-8412.85"/>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.InMemoryEventStore -->
<g id="node232" class="node">
<title>mcpgateway.transports.streamablehttp_transport.InMemoryEventStore</title>
<polygon fill="white" stroke="#77aadd" points="81531.5,-4050.5 81531.5,-4164.5 82140.5,-4164.5 82140.5,-4050.5 81531.5,-4050.5"/>
<text text-anchor="start" x="81771.5" y="-4149.3" font-family="Arial" font-size="14.00">InMemoryEventStore</text>
<polyline fill="none" stroke="#77aadd" points="81531.5,-4141.5 82140.5,-4141.5 "/>
<text text-anchor="start" x="81720" y="-4126.3" font-family="Arial" font-size="14.00">event_index : dict[EventId, EventEntry]</text>
<text text-anchor="start" x="81720" y="-4111.3" font-family="Arial" font-size="14.00">max_events_per_stream : int</text>
<text text-anchor="start" x="81720" y="-4096.3" font-family="Arial" font-size="14.00">streams : dict[StreamId, StreamBuffer]</text>
<polyline fill="none" stroke="#77aadd" points="81531.5,-4088.5 82140.5,-4088.5 "/>
<text text-anchor="start" x="81539.5" y="-4073.3" font-family="Arial" font-size="14.00">replay_events_after(last_event_id: EventId, send_callback: EventCallback): Union[StreamId, None]</text>
<text text-anchor="start" x="81539.5" y="-4058.3" font-family="Arial" font-size="14.00">store_event(stream_id: StreamId, message: JSONRPCMessage): EventId</text>
</g>
<!-- mcpgateway.common.models.InitializeResult -->
<g id="node234" class="node">
<title>mcpgateway.common.models.InitializeResult</title>
<polygon fill="white" stroke="#44bb99" points="82158.5,-4043 82158.5,-4172 82421.5,-4172 82421.5,-4043 82158.5,-4043"/>
<text text-anchor="start" x="82246" y="-4156.8" font-family="Arial" font-size="14.00">InitializeResult</text>
<polyline fill="none" stroke="#44bb99" points="82158.5,-4149 82421.5,-4149 "/>
<text text-anchor="start" x="82166.5" y="-4133.8" font-family="Arial" font-size="14.00">capabilities : Optional[ServerCapabilities]</text>
<text text-anchor="start" x="82166.5" y="-4118.8" font-family="Arial" font-size="14.00">instructions : Optional[str]</text>
<text text-anchor="start" x="82166.5" y="-4103.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="82166.5" y="-4088.8" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="82166.5" y="-4073.8" font-family="Arial" font-size="14.00">server_info : Optional[Implementation]</text>
<polyline fill="none" stroke="#44bb99" points="82158.5,-4066 82421.5,-4066 "/>
<text text-anchor="start" x="82288" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.tools.models.InstallManifest -->
<g id="node235" class="node">
<title>mcpgateway.plugins.tools.models.InstallManifest</title>
<polygon fill="white" stroke="#ee8866" points="82439.5,-4073 82439.5,-4142 82688.5,-4142 82688.5,-4073 82439.5,-4073"/>
<text text-anchor="start" x="82520" y="-4126.8" font-family="Arial" font-size="14.00">InstallManifest</text>
<polyline fill="none" stroke="#ee8866" points="82439.5,-4119 82688.5,-4119 "/>
<text text-anchor="start" x="82447.5" y="-4103.8" font-family="Arial" font-size="14.00">packages : list[InstallManifestPackage]</text>
<polyline fill="none" stroke="#ee8866" points="82439.5,-4096 82688.5,-4096 "/>
<text text-anchor="start" x="82562" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.tools.models.InstallManifestPackage -->
<g id="node236" class="node">
<title>mcpgateway.plugins.tools.models.InstallManifestPackage</title>
<polygon fill="white" stroke="#ee8866" points="82707,-4058 82707,-4157 82863,-4157 82863,-4058 82707,-4058"/>
<text text-anchor="start" x="82715" y="-4141.8" font-family="Arial" font-size="14.00">InstallManifestPackage</text>
<polyline fill="none" stroke="#ee8866" points="82707,-4134 82863,-4134 "/>
<text text-anchor="start" x="82719.5" y="-4118.8" font-family="Arial" font-size="14.00">extras : list[str] | None</text>
<text text-anchor="start" x="82719.5" y="-4103.8" font-family="Arial" font-size="14.00">package : str</text>
<text text-anchor="start" x="82719.5" y="-4088.8" font-family="Arial" font-size="14.00">repository : str</text>
<polyline fill="none" stroke="#ee8866" points="82707,-4081 82863,-4081 "/>
<text text-anchor="start" x="82783" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.InvalidRoleError -->
<g id="node237" class="node">
<title>mcpgateway.services.team_management_service.InvalidRoleError</title>
<polygon fill="white" stroke="#ffaabb" points="82881.5,-4072.1 82881.5,-4142.9 82994.5,-4142.9 82994.5,-4072.1 82881.5,-4072.1"/>
<text text-anchor="start" x="82889.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">InvalidRoleError</text>
<polyline fill="none" stroke="#ffaabb" points="82881.5,-4119.9 82994.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="82881.5,-4095.1 82994.5,-4095.1 "/>
<text text-anchor="start" x="82936" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamManagementError -->
<g id="node562" class="node">
<title>mcpgateway.services.team_management_service.TeamManagementError</title>
<polygon fill="white" stroke="#ffaabb" points="83309.5,-8423.1 83309.5,-8493.9 83470.5,-8493.9 83470.5,-8423.1 83309.5,-8423.1"/>
<text text-anchor="start" x="83317.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">TeamManagementError</text>
<polyline fill="none" stroke="#ffaabb" points="83309.5,-8470.9 83470.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83309.5,-8446.1 83470.5,-8446.1 "/>
<text text-anchor="start" x="83388" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.InvalidRoleError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge124" class="edge">
<title>mcpgateway.services.team_management_service.InvalidRoleError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M82936.57,-4142.92C82921.2,-4518.04 82791.56,-7840.02 83003,-8215 83066.63,-8327.84 83206.68,-8395.43 83299.68,-8429.56"/>
<polygon fill="none" stroke="gray" points="83298.5,-8432.85 83309.09,-8432.96 83300.88,-8426.27 83298.5,-8432.85"/>
</g>
<!-- mcpgateway.common.models.JSONRPCError -->
<g id="node238" class="node">
<title>mcpgateway.common.models.JSONRPCError</title>
<polygon fill="white" stroke="#44bb99" points="83932,-4058 83932,-4157 84068,-4157 84068,-4058 83932,-4058"/>
<text text-anchor="start" x="83952" y="-4141.8" font-family="Arial" font-size="14.00">JSONRPCError</text>
<polyline fill="none" stroke="#44bb99" points="83932,-4134 84068,-4134 "/>
<text text-anchor="start" x="83940" y="-4118.8" font-family="Arial" font-size="14.00">code : int</text>
<text text-anchor="start" x="83940" y="-4103.8" font-family="Arial" font-size="14.00">data : Optional[Any]</text>
<text text-anchor="start" x="83940" y="-4088.8" font-family="Arial" font-size="14.00">message : str</text>
<polyline fill="none" stroke="#44bb99" points="83932,-4081 84068,-4081 "/>
<text text-anchor="start" x="83998" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.validation.jsonrpc.JSONRPCError -->
<g id="node239" class="node">
<title>mcpgateway.validation.jsonrpc.JSONRPCError</title>
<polygon fill="white" stroke="#99ddff" points="84086,-4050.5 84086,-4164.5 84314,-4164.5 84314,-4050.5 84086,-4050.5"/>
<text text-anchor="start" x="84152" y="-4149.3" font-family="Arial" font-size="14.00" fill="red">JSONRPCError</text>
<polyline fill="none" stroke="#99ddff" points="84086,-4141.5 84314,-4141.5 "/>
<text text-anchor="start" x="84094" y="-4126.3" font-family="Arial" font-size="14.00" fill="red">code : int</text>
<text text-anchor="start" x="84094" y="-4111.3" font-family="Arial" font-size="14.00" fill="red">data : Optional[Any]</text>
<text text-anchor="start" x="84094" y="-4096.3" font-family="Arial" font-size="14.00" fill="red">message : str</text>
<text text-anchor="start" x="84094" y="-4081.3" font-family="Arial" font-size="14.00" fill="red">request_id : Optional[Union[str, int]]</text>
<polyline fill="none" stroke="#99ddff" points="84086,-4073.5 84314,-4073.5 "/>
<text text-anchor="start" x="84134" y="-4058.3" font-family="Arial" font-size="14.00" fill="red">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.common.models.JSONRPCRequest -->
<g id="node240" class="node">
<title>mcpgateway.common.models.JSONRPCRequest</title>
<polygon fill="white" stroke="#44bb99" points="84332.5,-4050.5 84332.5,-4164.5 84539.5,-4164.5 84539.5,-4050.5 84332.5,-4050.5"/>
<text text-anchor="start" x="84378" y="-4149.3" font-family="Arial" font-size="14.00">JSONRPCRequest</text>
<polyline fill="none" stroke="#44bb99" points="84332.5,-4141.5 84539.5,-4141.5 "/>
<text text-anchor="start" x="84340.5" y="-4126.3" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="84340.5" y="-4111.3" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="84340.5" y="-4096.3" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="84340.5" y="-4081.3" font-family="Arial" font-size="14.00">params : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="84332.5,-4073.5 84539.5,-4073.5 "/>
<text text-anchor="start" x="84434" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.JSONRPCResponse -->
<g id="node241" class="node">
<title>mcpgateway.common.models.JSONRPCResponse</title>
<polygon fill="white" stroke="#44bb99" points="84558,-4050.5 84558,-4164.5 84748,-4164.5 84748,-4050.5 84558,-4050.5"/>
<text text-anchor="start" x="84589.5" y="-4149.3" font-family="Arial" font-size="14.00">JSONRPCResponse</text>
<polyline fill="none" stroke="#44bb99" points="84558,-4141.5 84748,-4141.5 "/>
<text text-anchor="start" x="84566" y="-4126.3" font-family="Arial" font-size="14.00">error : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="84566" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="84566" y="-4096.3" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="84566" y="-4081.3" font-family="Arial" font-size="14.00">result : Optional[Any]</text>
<polyline fill="none" stroke="#44bb99" points="84558,-4073.5 84748,-4073.5 "/>
<text text-anchor="start" x="84651" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.JsonPathModifier -->
<g id="node242" class="node">
<title>mcpgateway.schemas.JsonPathModifier</title>
<polygon fill="white" stroke="#77aadd" points="84766,-4065.5 84766,-4149.5 84972,-4149.5 84972,-4065.5 84766,-4065.5"/>
<text text-anchor="start" x="84816" y="-4134.3" font-family="Arial" font-size="14.00">JsonPathModifier</text>
<polyline fill="none" stroke="#77aadd" points="84766,-4126.5 84972,-4126.5 "/>
<text text-anchor="start" x="84774" y="-4111.3" font-family="Arial" font-size="14.00">jsonpath : Optional[str]</text>
<text text-anchor="start" x="84774" y="-4096.3" font-family="Arial" font-size="14.00">mapping : Optional[Dict[str, str]]</text>
<polyline fill="none" stroke="#77aadd" points="84766,-4088.5 84972,-4088.5 "/>
<text text-anchor="start" x="84867" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.LLMConfig -->
<g id="node243" class="node">
<title>mcpgateway.services.mcp_client_chat_service.LLMConfig</title>
<polygon fill="white" stroke="#ffaabb" points="84990,-4065.5 84990,-4149.5 85988,-4149.5 85988,-4065.5 84990,-4065.5"/>
<text text-anchor="start" x="85455.5" y="-4134.3" font-family="Arial" font-size="14.00">LLMConfig</text>
<polyline fill="none" stroke="#ffaabb" points="84990,-4126.5 85988,-4126.5 "/>
<text text-anchor="start" x="85047.5" y="-4111.3" font-family="Arial" font-size="14.00">config : Optional[Union[AzureOpenAIConfig, OpenAIConfig, AnthropicConfig, AWSBedrockConfig, OllamaConfig, WatsonxConfig, GatewayConfig]]</text>
<text text-anchor="start" x="85047.5" y="-4096.3" font-family="Arial" font-size="14.00">provider : Optional[Literal[&#39;azure_openai&#39;, &#39;openai&#39;, &#39;anthropic&#39;, &#39;aws_bedrock&#39;, &#39;ollama&#39;, &#39;watsonx&#39;, &#39;gateway&#39;]]</text>
<polyline fill="none" stroke="#ffaabb" points="84990,-4088.5 85988,-4088.5 "/>
<text text-anchor="start" x="84998" y="-4073.3" font-family="Arial" font-size="14.00">validate_config_type(v: Any, info): Union[AzureOpenAIConfig, OpenAIConfig, AnthropicConfig, AWSBedrockConfig, OllamaConfig, WatsonxConfig, GatewayConfig]</text>
</g>
<!-- mcpgateway.db.LLMModel -->
<g id="node244" class="node">
<title>mcpgateway.db.LLMModel</title>
<polygon fill="white" stroke="#77aadd" points="5514,-3953 5514,-4262 5790,-4262 5790,-3953 5514,-3953"/>
<text text-anchor="start" x="5619.5" y="-4246.8" font-family="Arial" font-size="14.00">LLMModel</text>
<polyline fill="none" stroke="#77aadd" points="5514,-4239 5790,-4239 "/>
<text text-anchor="start" x="5522" y="-4223.8" font-family="Arial" font-size="14.00">context_window : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5522" y="-4208.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5522" y="-4193.8" font-family="Arial" font-size="14.00">deprecated : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-4178.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5522" y="-4163.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-4133.8" font-family="Arial" font-size="14.00">max_output_tokens : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5522" y="-4118.8" font-family="Arial" font-size="14.00">model_alias : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5522" y="-4103.8" font-family="Arial" font-size="14.00">model_id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-4088.8" font-family="Arial" font-size="14.00">model_name : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-4073.8" font-family="Arial" font-size="14.00">provider : Mapped[&#39;LLMProvider&#39;]</text>
<text text-anchor="start" x="5522" y="-4058.8" font-family="Arial" font-size="14.00">provider_id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-4043.8" font-family="Arial" font-size="14.00">supports_chat : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-4028.8" font-family="Arial" font-size="14.00">supports_function_calling : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-4013.8" font-family="Arial" font-size="14.00">supports_streaming : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3998.8" font-family="Arial" font-size="14.00">supports_vision : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3983.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="5514,-3976 5790,-3976 "/>
<text text-anchor="start" x="5650" y="-3960.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMModel&#45;&gt;mcpgateway.db.Base -->
<g id="edge26" class="edge">
<title>mcpgateway.db.LLMModel&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5645.8,-4262.04C5618.64,-4973.04 5523.29,-7923.51 5799,-8215 5919.19,-8342.07 8667.96,-8438.01 9181.7,-8454.86"/>
<polygon fill="none" stroke="gray" points="9181.88,-8458.37 9191.99,-8455.2 9182.11,-8451.37 9181.88,-8458.37"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelBase -->
<g id="node245" class="node">
<title>mcpgateway.llm_schemas.LLMModelBase</title>
<polygon fill="white" stroke="#77aadd" points="85958,-8341.5 85958,-8575.5 86222,-8575.5 86222,-8341.5 85958,-8341.5"/>
<text text-anchor="start" x="86042" y="-8560.3" font-family="Arial" font-size="14.00">LLMModelBase</text>
<polyline fill="none" stroke="#77aadd" points="85958,-8552.5 86222,-8552.5 "/>
<text text-anchor="start" x="85966" y="-8537.3" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="85966" y="-8522.3" font-family="Arial" font-size="14.00">deprecated : Optional[bool]</text>
<text text-anchor="start" x="85966" y="-8507.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="85966" y="-8492.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="85966" y="-8477.3" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="85966" y="-8462.3" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="85966" y="-8447.3" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="85966" y="-8432.3" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="85966" y="-8417.3" font-family="Arial" font-size="14.00">supports_chat : Optional[bool]</text>
<text text-anchor="start" x="85966" y="-8402.3" font-family="Arial" font-size="14.00">supports_function_calling : Optional[bool]</text>
<text text-anchor="start" x="85966" y="-8387.3" font-family="Arial" font-size="14.00">supports_streaming : Optional[bool]</text>
<text text-anchor="start" x="85966" y="-8372.3" font-family="Arial" font-size="14.00">supports_vision : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="85958,-8364.5 86222,-8364.5 "/>
<text text-anchor="start" x="86088" y="-8349.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelConflictError -->
<g id="node246" class="node">
<title>mcpgateway.services.llm_provider_service.LLMModelConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="86192,-4072.1 86192,-4142.9 86348,-4142.9 86348,-4072.1 86192,-4072.1"/>
<text text-anchor="start" x="86200" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">LLMModelConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="86192,-4119.9 86348,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="86192,-4095.1 86348,-4095.1 "/>
<text text-anchor="start" x="86268" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="node255" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderError</title>
<polygon fill="white" stroke="#ffaabb" points="86492,-8423.1 86492,-8493.9 86616,-8493.9 86616,-8423.1 86492,-8423.1"/>
<text text-anchor="start" x="86500" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">LLMProviderError</text>
<polyline fill="none" stroke="#ffaabb" points="86492,-8470.9 86616,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="86492,-8446.1 86616,-8446.1 "/>
<text text-anchor="start" x="86552" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge106" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMModelConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M86267.67,-4142.99C86244.44,-4493.24 86061.59,-7410 86357,-8215 86387.15,-8297.17 86457.57,-8372.1 86505.5,-8416.27"/>
<polygon fill="none" stroke="gray" points="86503.25,-8418.95 86513,-8423.09 86507.96,-8413.77 86503.25,-8418.95"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelCreate -->
<g id="node247" class="node">
<title>mcpgateway.llm_schemas.LLMModelCreate</title>
<polygon fill="white" stroke="#77aadd" points="86006,-4073 86006,-4142 86174,-4142 86174,-4073 86006,-4073"/>
<text text-anchor="start" x="86037" y="-4126.8" font-family="Arial" font-size="14.00">LLMModelCreate</text>
<polyline fill="none" stroke="#77aadd" points="86006,-4119 86174,-4119 "/>
<text text-anchor="start" x="86014" y="-4103.8" font-family="Arial" font-size="14.00">provider_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="86006,-4096 86174,-4096 "/>
<text text-anchor="start" x="86088" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMModelCreate&#45;&gt;mcpgateway.llm_schemas.LLMModelBase -->
<g id="edge65" class="edge">
<title>mcpgateway.llm_schemas.LLMModelCreate&#45;&gt;mcpgateway.llm_schemas.LLMModelBase</title>
<path fill="none" stroke="gray" d="M86090,-4142.25C86090,-4503.52 86090,-7657.23 86090,-8331.13"/>
<polygon fill="none" stroke="gray" points="86086.5,-8331.35 86090,-8341.35 86093.5,-8331.35 86086.5,-8331.35"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelListResponse -->
<g id="node248" class="node">
<title>mcpgateway.llm_schemas.LLMModelListResponse</title>
<polygon fill="white" stroke="#77aadd" points="86980,-4050.5 86980,-4164.5 87206,-4164.5 87206,-4050.5 86980,-4050.5"/>
<text text-anchor="start" x="87019.5" y="-4149.3" font-family="Arial" font-size="14.00">LLMModelListResponse</text>
<polyline fill="none" stroke="#77aadd" points="86980,-4141.5 87206,-4141.5 "/>
<text text-anchor="start" x="86988" y="-4126.3" font-family="Arial" font-size="14.00">models : List[LLMModelResponse]</text>
<text text-anchor="start" x="86988" y="-4111.3" font-family="Arial" font-size="14.00">page : int</text>
<text text-anchor="start" x="86988" y="-4096.3" font-family="Arial" font-size="14.00">page_size : int</text>
<text text-anchor="start" x="86988" y="-4081.3" font-family="Arial" font-size="14.00">total : int</text>
<polyline fill="none" stroke="#77aadd" points="86980,-4073.5 87206,-4073.5 "/>
<text text-anchor="start" x="87091" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelNotFoundError -->
<g id="node249" class="node">
<title>mcpgateway.services.llm_provider_service.LLMModelNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="86366,-4072.1 86366,-4142.9 86536,-4142.9 86536,-4072.1 86366,-4072.1"/>
<text text-anchor="start" x="86374" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">LLMModelNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="86366,-4119.9 86536,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="86366,-4095.1 86536,-4095.1 "/>
<text text-anchor="start" x="86449" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge107" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMModelNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M86451.61,-4143.21C86456.75,-4435.9 86494.21,-6522.1 86545,-8215 86547.07,-8284.05 86550.18,-8364.13 86552.15,-8412.78"/>
<polygon fill="none" stroke="gray" points="86548.66,-8413.12 86552.56,-8422.97 86555.65,-8412.84 86548.66,-8413.12"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelResponse -->
<g id="node250" class="node">
<title>mcpgateway.llm_schemas.LLMModelResponse</title>
<polygon fill="white" stroke="#77aadd" points="87224.5,-3938 87224.5,-4277 87443.5,-4277 87443.5,-3938 87224.5,-3938"/>
<text text-anchor="start" x="87271" y="-4261.8" font-family="Arial" font-size="14.00">LLMModelResponse</text>
<polyline fill="none" stroke="#77aadd" points="87224.5,-4254 87443.5,-4254 "/>
<text text-anchor="start" x="87232.5" y="-4238.8" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="87232.5" y="-4223.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="87232.5" y="-4208.8" font-family="Arial" font-size="14.00">deprecated : bool</text>
<text text-anchor="start" x="87232.5" y="-4193.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="87232.5" y="-4178.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="87232.5" y="-4163.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="87232.5" y="-4148.8" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="87232.5" y="-4133.8" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="87232.5" y="-4118.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="87232.5" y="-4103.8" font-family="Arial" font-size="14.00">model_id : str</text>
<text text-anchor="start" x="87232.5" y="-4088.8" font-family="Arial" font-size="14.00">model_name : str</text>
<text text-anchor="start" x="87232.5" y="-4073.8" font-family="Arial" font-size="14.00">provider_id : str</text>
<text text-anchor="start" x="87232.5" y="-4058.8" font-family="Arial" font-size="14.00">provider_name : Optional[str]</text>
<text text-anchor="start" x="87232.5" y="-4043.8" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<text text-anchor="start" x="87232.5" y="-4028.8" font-family="Arial" font-size="14.00">supports_chat : bool</text>
<text text-anchor="start" x="87232.5" y="-4013.8" font-family="Arial" font-size="14.00">supports_function_calling : bool</text>
<text text-anchor="start" x="87232.5" y="-3998.8" font-family="Arial" font-size="14.00">supports_streaming : bool</text>
<text text-anchor="start" x="87232.5" y="-3983.8" font-family="Arial" font-size="14.00">supports_vision : bool</text>
<text text-anchor="start" x="87232.5" y="-3968.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<polyline fill="none" stroke="#77aadd" points="87224.5,-3961 87443.5,-3961 "/>
<text text-anchor="start" x="87332" y="-3945.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMModelUpdate -->
<g id="node251" class="node">
<title>mcpgateway.llm_schemas.LLMModelUpdate</title>
<polygon fill="white" stroke="#77aadd" points="87462,-3990.5 87462,-4224.5 87726,-4224.5 87726,-3990.5 87462,-3990.5"/>
<text text-anchor="start" x="87539.5" y="-4209.3" font-family="Arial" font-size="14.00">LLMModelUpdate</text>
<polyline fill="none" stroke="#77aadd" points="87462,-4201.5 87726,-4201.5 "/>
<text text-anchor="start" x="87470" y="-4186.3" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="87470" y="-4171.3" font-family="Arial" font-size="14.00">deprecated : Optional[bool]</text>
<text text-anchor="start" x="87470" y="-4156.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="87470" y="-4141.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="87470" y="-4126.3" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="87470" y="-4111.3" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="87470" y="-4096.3" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="87470" y="-4081.3" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="87470" y="-4066.3" font-family="Arial" font-size="14.00">supports_chat : Optional[bool]</text>
<text text-anchor="start" x="87470" y="-4051.3" font-family="Arial" font-size="14.00">supports_function_calling : Optional[bool]</text>
<text text-anchor="start" x="87470" y="-4036.3" font-family="Arial" font-size="14.00">supports_streaming : Optional[bool]</text>
<text text-anchor="start" x="87470" y="-4021.3" font-family="Arial" font-size="14.00">supports_vision : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="87462,-4013.5 87726,-4013.5 "/>
<text text-anchor="start" x="87592" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMProvider -->
<g id="node252" class="node">
<title>mcpgateway.db.LLMProvider</title>
<polygon fill="white" stroke="#77aadd" points="5808,-3923 5808,-4292 6112,-4292 6112,-3923 5808,-3923"/>
<text text-anchor="start" x="5921" y="-4276.8" font-family="Arial" font-size="14.00">LLMProvider</text>
<polyline fill="none" stroke="#77aadd" points="5808,-4269 6112,-4269 "/>
<text text-anchor="start" x="5816" y="-4253.8" font-family="Arial" font-size="14.00">api_base : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4238.8" font-family="Arial" font-size="14.00">api_key : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4223.8" font-family="Arial" font-size="14.00">api_version : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4208.8" font-family="Arial" font-size="14.00">config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="5816" y="-4193.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5816" y="-4178.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4163.8" font-family="Arial" font-size="14.00">default_max_tokens : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5816" y="-4148.8" font-family="Arial" font-size="14.00">default_model : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4133.8" font-family="Arial" font-size="14.00">default_temperature : Mapped[float]</text>
<text text-anchor="start" x="5816" y="-4118.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4103.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5816" y="-4088.8" font-family="Arial" font-size="14.00">health_status : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-4073.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-4058.8" font-family="Arial" font-size="14.00">last_health_check : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="5816" y="-4043.8" font-family="Arial" font-size="14.00">models : Mapped[List[&#39;LLMModel&#39;]]</text>
<text text-anchor="start" x="5816" y="-4028.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4013.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3998.8" font-family="Arial" font-size="14.00">plugin_ids : Mapped[List[str]]</text>
<text text-anchor="start" x="5816" y="-3983.8" font-family="Arial" font-size="14.00">provider_type : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3968.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3953.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="5808,-3946 6112,-3946 "/>
<text text-anchor="start" x="5958" y="-3930.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMProvider&#45;&gt;mcpgateway.db.Base -->
<g id="edge27" class="edge">
<title>mcpgateway.db.LLMProvider&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5953.48,-4292.17C5928.32,-5052.17 5851.79,-7924.83 6121,-8215 6335.31,-8445.99 8707.67,-8457.63 9181.82,-8457.64"/>
<polygon fill="none" stroke="gray" points="9182,-8461.14 9192,-8457.64 9182,-8454.14 9182,-8461.14"/>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderBase -->
<g id="node253" class="node">
<title>mcpgateway.llm_schemas.LLMProviderBase</title>
<polygon fill="white" stroke="#77aadd" points="87662.5,-8349 87662.5,-8568 87973.5,-8568 87973.5,-8349 87662.5,-8349"/>
<text text-anchor="start" x="87763.5" y="-8552.8" font-family="Arial" font-size="14.00">LLMProviderBase</text>
<polyline fill="none" stroke="#77aadd" points="87662.5,-8545 87973.5,-8545 "/>
<text text-anchor="start" x="87670.5" y="-8529.8" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="87670.5" y="-8514.8" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="87670.5" y="-8499.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="87670.5" y="-8484.8" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="87670.5" y="-8469.8" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="87670.5" y="-8454.8" font-family="Arial" font-size="14.00">default_temperature : Optional[float]</text>
<text text-anchor="start" x="87670.5" y="-8439.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="87670.5" y="-8424.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="87670.5" y="-8409.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="87670.5" y="-8394.8" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="87670.5" y="-8379.8" font-family="Arial" font-size="14.00">provider_type : Optional[LLMProviderTypeEnum]</text>
<polyline fill="none" stroke="#77aadd" points="87662.5,-8372 87973.5,-8372 "/>
<text text-anchor="start" x="87720" y="-8356.8" font-family="Arial" font-size="14.00">validate_provider_config(): None</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderCreate -->
<g id="node254" class="node">
<title>mcpgateway.llm_schemas.LLMProviderCreate</title>
<polygon fill="white" stroke="#77aadd" points="87744,-4073 87744,-4142 87892,-4142 87892,-4073 87744,-4073"/>
<text text-anchor="start" x="87759" y="-4126.8" font-family="Arial" font-size="14.00">LLMProviderCreate</text>
<polyline fill="none" stroke="#77aadd" points="87744,-4119 87892,-4119 "/>
<text text-anchor="start" x="87752" y="-4103.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="87744,-4096 87892,-4096 "/>
<text text-anchor="start" x="87816" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderCreate&#45;&gt;mcpgateway.llm_schemas.LLMProviderBase -->
<g id="edge66" class="edge">
<title>mcpgateway.llm_schemas.LLMProviderCreate&#45;&gt;mcpgateway.llm_schemas.LLMProviderBase</title>
<path fill="none" stroke="gray" d="M87818,-4142.25C87818,-4504.86 87818,-7680.6 87818,-8338.51"/>
<polygon fill="none" stroke="gray" points="87814.5,-8338.95 87818,-8348.95 87821.5,-8338.95 87814.5,-8338.95"/>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.LLMProviderFactory -->
<g id="node256" class="node">
<title>mcpgateway.services.mcp_client_chat_service.LLMProviderFactory</title>
<polygon fill="white" stroke="#ffaabb" points="87910,-4072.1 87910,-4142.9 88966,-4142.9 88966,-4072.1 87910,-4072.1"/>
<text text-anchor="start" x="88376.5" y="-4127.7" font-family="Arial" font-size="14.00">LLMProviderFactory</text>
<polyline fill="none" stroke="#ffaabb" points="87910,-4119.9 88966,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="87910,-4095.1 88966,-4095.1 "/>
<text text-anchor="start" x="87918" y="-4079.9" font-family="Arial" font-size="14.00">create(llm_config: LLMConfig): Union[AzureOpenAIProvider, OpenAIProvider, AnthropicProvider, AWSBedrockProvider, OllamaProvider, WatsonxProvider, GatewayProvider]</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderListResponse -->
<g id="node257" class="node">
<title>mcpgateway.llm_schemas.LLMProviderListResponse</title>
<polygon fill="white" stroke="#77aadd" points="88984,-4050.5 88984,-4164.5 89234,-4164.5 89234,-4050.5 88984,-4050.5"/>
<text text-anchor="start" x="89029" y="-4149.3" font-family="Arial" font-size="14.00">LLMProviderListResponse</text>
<polyline fill="none" stroke="#77aadd" points="88984,-4141.5 89234,-4141.5 "/>
<text text-anchor="start" x="88992" y="-4126.3" font-family="Arial" font-size="14.00">page : int</text>
<text text-anchor="start" x="88992" y="-4111.3" font-family="Arial" font-size="14.00">page_size : int</text>
<text text-anchor="start" x="88992" y="-4096.3" font-family="Arial" font-size="14.00">providers : List[LLMProviderResponse]</text>
<text text-anchor="start" x="88992" y="-4081.3" font-family="Arial" font-size="14.00">total : int</text>
<polyline fill="none" stroke="#77aadd" points="88984,-4073.5 89234,-4073.5 "/>
<text text-anchor="start" x="89107" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNameConflictError -->
<g id="node258" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="86554,-4065.5 86554,-4149.5 86760,-4149.5 86760,-4065.5 86554,-4065.5"/>
<text text-anchor="start" x="86562" y="-4134.3" font-family="Arial" font-size="14.00" fill="red">LLMProviderNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="86554,-4126.5 86760,-4126.5 "/>
<text text-anchor="start" x="86581" y="-4111.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="86581" y="-4096.3" font-family="Arial" font-size="14.00" fill="red">provider_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="86554,-4088.5 86760,-4088.5 "/>
<text text-anchor="start" x="86655" y="-4073.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNameConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge108" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMProviderNameConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M86656.12,-4149.55C86649.31,-4466.15 86604.14,-6552.51 86560,-8248 86558.52,-8304.96 86556.6,-8370.62 86555.34,-8413.03"/>
<polygon fill="none" stroke="gray" points="86551.84,-8412.93 86555.04,-8423.03 86558.84,-8413.13 86551.84,-8412.93"/>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNotFoundError -->
<g id="node259" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="86778.5,-4072.1 86778.5,-4142.9 86961.5,-4142.9 86961.5,-4072.1 86778.5,-4072.1"/>
<text text-anchor="start" x="86786.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">LLMProviderNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="86778.5,-4119.9 86961.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="86778.5,-4095.1 86961.5,-4095.1 "/>
<text text-anchor="start" x="86868" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge109" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMProviderNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M86872.39,-4143.06C86896.17,-4494.09 87083.08,-7417.02 86769,-8215 86735.97,-8298.91 86660.03,-8372.8 86607.85,-8416.33"/>
<polygon fill="none" stroke="gray" points="86605.5,-8413.73 86600.01,-8422.79 86609.96,-8419.13 86605.5,-8413.73"/>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderResponse -->
<g id="node260" class="node">
<title>mcpgateway.llm_schemas.LLMProviderResponse</title>
<polygon fill="white" stroke="#77aadd" points="89252.5,-3923 89252.5,-4292 89499.5,-4292 89499.5,-3923 89252.5,-3923"/>
<text text-anchor="start" x="89306.5" y="-4276.8" font-family="Arial" font-size="14.00">LLMProviderResponse</text>
<polyline fill="none" stroke="#77aadd" points="89252.5,-4269 89499.5,-4269 "/>
<text text-anchor="start" x="89260.5" y="-4253.8" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4238.8" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4223.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="89260.5" y="-4208.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="89260.5" y="-4193.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4178.8" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="89260.5" y="-4163.8" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4148.8" font-family="Arial" font-size="14.00">default_temperature : float</text>
<text text-anchor="start" x="89260.5" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4118.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="89260.5" y="-4103.8" font-family="Arial" font-size="14.00">health_status : str</text>
<text text-anchor="start" x="89260.5" y="-4088.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="89260.5" y="-4073.8" font-family="Arial" font-size="14.00">last_health_check : Optional[datetime]</text>
<text text-anchor="start" x="89260.5" y="-4058.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="89260.5" y="-4043.8" font-family="Arial" font-size="14.00">model_count : Optional[int]</text>
<text text-anchor="start" x="89260.5" y="-4028.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="89260.5" y="-4013.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="89260.5" y="-3998.8" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="89260.5" y="-3983.8" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="89260.5" y="-3968.8" font-family="Arial" font-size="14.00">slug : str</text>
<text text-anchor="start" x="89260.5" y="-3953.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<polyline fill="none" stroke="#77aadd" points="89252.5,-3946 89499.5,-3946 "/>
<text text-anchor="start" x="89374" y="-3930.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderService -->
<g id="node261" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderService</title>
<polygon fill="white" stroke="#ffaabb" points="89517.5,-3937.1 89517.5,-4277.9 90272.5,-4277.9 90272.5,-3937.1 89517.5,-3937.1"/>
<text text-anchor="start" x="89833.5" y="-4262.7" font-family="Arial" font-size="14.00">LLMProviderService</text>
<polyline fill="none" stroke="#ffaabb" points="89517.5,-4254.9 90272.5,-4254.9 "/>
<polyline fill="none" stroke="#ffaabb" points="89517.5,-4230.1 90272.5,-4230.1 "/>
<text text-anchor="start" x="89525.5" y="-4214.9" font-family="Arial" font-size="14.00">check_provider_health(db: Session, provider_id: str): ProviderHealthCheck</text>
<text text-anchor="start" x="89525.5" y="-4199.9" font-family="Arial" font-size="14.00">create_model(db: Session, model_data: LLMModelCreate): LLMModel</text>
<text text-anchor="start" x="89525.5" y="-4184.9" font-family="Arial" font-size="14.00">create_provider(db: Session, provider_data: LLMProviderCreate, created_by: Optional[str]): LLMProvider</text>
<text text-anchor="start" x="89525.5" y="-4169.9" font-family="Arial" font-size="14.00">delete_model(db: Session, model_id: str): bool</text>
<text text-anchor="start" x="89525.5" y="-4154.9" font-family="Arial" font-size="14.00">delete_provider(db: Session, provider_id: str): bool</text>
<text text-anchor="start" x="89525.5" y="-4139.9" font-family="Arial" font-size="14.00">get_gateway_models(db: Session): List[GatewayModelInfo]</text>
<text text-anchor="start" x="89525.5" y="-4124.9" font-family="Arial" font-size="14.00">get_model(db: Session, model_id: str): LLMModel</text>
<text text-anchor="start" x="89525.5" y="-4109.9" font-family="Arial" font-size="14.00">get_provider(db: Session, provider_id: str): LLMProvider</text>
<text text-anchor="start" x="89525.5" y="-4094.9" font-family="Arial" font-size="14.00">get_provider_by_slug(db: Session, slug: str): LLMProvider</text>
<text text-anchor="start" x="89525.5" y="-4079.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="89525.5" y="-4064.9" font-family="Arial" font-size="14.00">list_models(db: Session, provider_id: Optional[str], enabled_only: bool, page: int, page_size: int): Tuple[List[LLMModel], int]</text>
<text text-anchor="start" x="89525.5" y="-4049.9" font-family="Arial" font-size="14.00">list_providers(db: Session, enabled_only: bool, page: int, page_size: int): Tuple[List[LLMProvider], int]</text>
<text text-anchor="start" x="89525.5" y="-4034.9" font-family="Arial" font-size="14.00">set_model_state(db: Session, model_id: str, activate: Optional[bool]): LLMModel</text>
<text text-anchor="start" x="89525.5" y="-4019.9" font-family="Arial" font-size="14.00">set_provider_state(db: Session, provider_id: str, activate: Optional[bool]): LLMProvider</text>
<text text-anchor="start" x="89525.5" y="-4004.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="89525.5" y="-3989.9" font-family="Arial" font-size="14.00">to_model_response(model: LLMModel, provider: Optional[LLMProvider]): LLMModelResponse</text>
<text text-anchor="start" x="89525.5" y="-3974.9" font-family="Arial" font-size="14.00">to_provider_response(provider: LLMProvider, model_count: int): LLMProviderResponse</text>
<text text-anchor="start" x="89525.5" y="-3959.9" font-family="Arial" font-size="14.00">update_model(db: Session, model_id: str, model_data: LLMModelUpdate): LLMModel</text>
<text text-anchor="start" x="89525.5" y="-3944.9" font-family="Arial" font-size="14.00">update_provider(db: Session, provider_id: str, provider_data: LLMProviderUpdate, modified_by: Optional[str]): LLMProvider</text>
</g>
<!-- mcpgateway.db.LLMProviderType -->
<g id="node262" class="node">
<title>mcpgateway.db.LLMProviderType</title>
<polygon fill="white" stroke="#77aadd" points="90291,-3983 90291,-4232 90581,-4232 90581,-3983 90291,-3983"/>
<text text-anchor="start" x="90382.5" y="-4216.8" font-family="Arial" font-size="14.00">LLMProviderType</text>
<polyline fill="none" stroke="#77aadd" points="90291,-4209 90581,-4209 "/>
<text text-anchor="start" x="90349.5" y="-4193.8" font-family="Arial" font-size="14.00">ANTHROPIC : str</text>
<text text-anchor="start" x="90349.5" y="-4178.8" font-family="Arial" font-size="14.00">AZURE_OPENAI : str</text>
<text text-anchor="start" x="90349.5" y="-4163.8" font-family="Arial" font-size="14.00">BEDROCK : str</text>
<text text-anchor="start" x="90349.5" y="-4148.8" font-family="Arial" font-size="14.00">COHERE : str</text>
<text text-anchor="start" x="90349.5" y="-4133.8" font-family="Arial" font-size="14.00">GOOGLE_VERTEX : str</text>
<text text-anchor="start" x="90349.5" y="-4118.8" font-family="Arial" font-size="14.00">GROQ : str</text>
<text text-anchor="start" x="90349.5" y="-4103.8" font-family="Arial" font-size="14.00">MISTRAL : str</text>
<text text-anchor="start" x="90349.5" y="-4088.8" font-family="Arial" font-size="14.00">OLLAMA : str</text>
<text text-anchor="start" x="90349.5" y="-4073.8" font-family="Arial" font-size="14.00">OPENAI : str</text>
<text text-anchor="start" x="90349.5" y="-4058.8" font-family="Arial" font-size="14.00">OPENAI_COMPATIBLE : str</text>
<text text-anchor="start" x="90349.5" y="-4043.8" font-family="Arial" font-size="14.00">TOGETHER : str</text>
<text text-anchor="start" x="90349.5" y="-4028.8" font-family="Arial" font-size="14.00">WATSONX : str</text>
<polyline fill="none" stroke="#77aadd" points="90291,-4021 90581,-4021 "/>
<text text-anchor="start" x="90299" y="-4005.8" font-family="Arial" font-size="14.00">get_all_types(): List[str]</text>
<text text-anchor="start" x="90299" y="-3990.8" font-family="Arial" font-size="14.00">get_provider_defaults(): Dict[str, Dict[str, Any]]</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderTypeEnum -->
<g id="node263" class="node">
<title>mcpgateway.llm_schemas.LLMProviderTypeEnum</title>
<polygon fill="white" stroke="#77aadd" points="90599.5,-4073 90599.5,-4142 90758.5,-4142 90758.5,-4073 90599.5,-4073"/>
<text text-anchor="start" x="90607.5" y="-4126.8" font-family="Arial" font-size="14.00">LLMProviderTypeEnum</text>
<polyline fill="none" stroke="#77aadd" points="90599.5,-4119 90758.5,-4119 "/>
<text text-anchor="start" x="90661.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="90599.5,-4096 90758.5,-4096 "/>
<text text-anchor="start" x="90677" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderUpdate -->
<g id="node264" class="node">
<title>mcpgateway.llm_schemas.LLMProviderUpdate</title>
<polygon fill="white" stroke="#77aadd" points="90776.5,-3990.5 90776.5,-4224.5 91087.5,-4224.5 91087.5,-3990.5 90776.5,-3990.5"/>
<text text-anchor="start" x="90871.5" y="-4209.3" font-family="Arial" font-size="14.00">LLMProviderUpdate</text>
<polyline fill="none" stroke="#77aadd" points="90776.5,-4201.5 91087.5,-4201.5 "/>
<text text-anchor="start" x="90784.5" y="-4186.3" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4171.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4156.3" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4141.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="90784.5" y="-4126.3" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="90784.5" y="-4111.3" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4096.3" font-family="Arial" font-size="14.00">default_temperature : Optional[float]</text>
<text text-anchor="start" x="90784.5" y="-4081.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4066.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="90784.5" y="-4051.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="90784.5" y="-4036.3" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="90784.5" y="-4021.3" font-family="Arial" font-size="14.00">provider_type : Optional[LLMProviderTypeEnum]</text>
<polyline fill="none" stroke="#77aadd" points="90776.5,-4013.5 91087.5,-4013.5 "/>
<text text-anchor="start" x="90930" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyAuthError -->
<g id="node265" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyAuthError</title>
<polygon fill="white" stroke="#ffaabb" points="91106,-4072.1 91106,-4142.9 91242,-4142.9 91242,-4072.1 91106,-4072.1"/>
<text text-anchor="start" x="91114" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">LLMProxyAuthError</text>
<polyline fill="none" stroke="#ffaabb" points="91106,-4119.9 91242,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="91106,-4095.1 91242,-4095.1 "/>
<text text-anchor="start" x="91172" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="node266" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<polygon fill="white" stroke="#ffaabb" points="91203,-8423.1 91203,-8493.9 91311,-8493.9 91311,-8423.1 91203,-8423.1"/>
<text text-anchor="start" x="91211" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">LLMProxyError</text>
<polyline fill="none" stroke="#ffaabb" points="91203,-8470.9 91311,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="91203,-8446.1 91311,-8446.1 "/>
<text text-anchor="start" x="91255" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyAuthError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="edge110" class="edge">
<title>mcpgateway.services.llm_proxy_service.LLMProxyAuthError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<path fill="none" stroke="gray" d="M91174.57,-4143.21C91179.41,-4435.86 91214.18,-6521.88 91251,-8215 91252.5,-8284.04 91254.54,-8364.12 91255.81,-8412.78"/>
<polygon fill="none" stroke="gray" points="91252.32,-8413.06 91256.08,-8422.97 91259.32,-8412.88 91252.32,-8413.06"/>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyRequestError -->
<g id="node267" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyRequestError</title>
<polygon fill="white" stroke="#ffaabb" points="91260,-4072.1 91260,-4142.9 91418,-4142.9 91418,-4072.1 91260,-4072.1"/>
<text text-anchor="start" x="91268" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">LLMProxyRequestError</text>
<polyline fill="none" stroke="#ffaabb" points="91260,-4119.9 91418,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="91260,-4095.1 91418,-4095.1 "/>
<text text-anchor="start" x="91337" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyRequestError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="edge111" class="edge">
<title>mcpgateway.services.llm_proxy_service.LLMProxyRequestError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<path fill="none" stroke="gray" d="M91338.35,-4143.19C91331.1,-4527.25 91266.02,-7979.28 91257.84,-8412.83"/>
<polygon fill="none" stroke="gray" points="91254.34,-8413.02 91257.65,-8423.08 91261.34,-8413.15 91254.34,-8413.02"/>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyService -->
<g id="node268" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyService</title>
<polygon fill="white" stroke="#ffaabb" points="91436.5,-4049.6 91436.5,-4165.4 92055.5,-4165.4 92055.5,-4049.6 91436.5,-4049.6"/>
<text text-anchor="start" x="91692.5" y="-4150.2" font-family="Arial" font-size="14.00">LLMProxyService</text>
<polyline fill="none" stroke="#ffaabb" points="91436.5,-4142.4 92055.5,-4142.4 "/>
<polyline fill="none" stroke="#ffaabb" points="91436.5,-4117.6 92055.5,-4117.6 "/>
<text text-anchor="start" x="91444.5" y="-4102.4" font-family="Arial" font-size="14.00">chat_completion(db: Session, request: ChatCompletionRequest): ChatCompletionResponse</text>
<text text-anchor="start" x="91444.5" y="-4087.4" font-family="Arial" font-size="14.00">chat_completion_stream(db: Session, request: ChatCompletionRequest): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="91444.5" y="-4072.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="91444.5" y="-4057.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.config.LazySettingsWrapper -->
<g id="node269" class="node">
<title>mcpgateway.config.LazySettingsWrapper</title>
<polygon fill="white" stroke="#77aadd" points="92073.5,-4073 92073.5,-4142 92230.5,-4142 92230.5,-4073 92073.5,-4073"/>
<text text-anchor="start" x="92087" y="-4126.8" font-family="Arial" font-size="14.00">LazySettingsWrapper</text>
<polyline fill="none" stroke="#77aadd" points="92073.5,-4119 92230.5,-4119 "/>
<text text-anchor="start" x="92081.5" y="-4103.8" font-family="Arial" font-size="14.00">auth_encryption_secret</text>
<polyline fill="none" stroke="#77aadd" points="92073.5,-4096 92230.5,-4096 "/>
<text text-anchor="start" x="92150" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ListFilters -->
<g id="node270" class="node">
<title>mcpgateway.schemas.ListFilters</title>
<polygon fill="white" stroke="#77aadd" points="92249,-4073 92249,-4142 92457,-4142 92457,-4073 92249,-4073"/>
<text text-anchor="start" x="92324" y="-4126.8" font-family="Arial" font-size="14.00">ListFilters</text>
<polyline fill="none" stroke="#77aadd" points="92249,-4119 92457,-4119 "/>
<text text-anchor="start" x="92257" y="-4103.8" font-family="Arial" font-size="14.00">include_inactive : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="92249,-4096 92457,-4096 "/>
<text text-anchor="start" x="92351" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ListResourceTemplatesResult -->
<g id="node271" class="node">
<title>mcpgateway.common.models.ListResourceTemplatesResult</title>
<polygon fill="white" stroke="#44bb99" points="92475.5,-4050.5 92475.5,-4164.5 92822.5,-4164.5 92822.5,-4050.5 92475.5,-4050.5"/>
<text text-anchor="start" x="92559" y="-4149.3" font-family="Arial" font-size="14.00">ListResourceTemplatesResult</text>
<polyline fill="none" stroke="#44bb99" points="92475.5,-4141.5 92822.5,-4141.5 "/>
<text text-anchor="start" x="92483.5" y="-4126.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="92483.5" y="-4111.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="92483.5" y="-4096.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="92483.5" y="-4081.3" font-family="Arial" font-size="14.00">resource_templates : Optional[List[ResourceTemplate]]</text>
<polyline fill="none" stroke="#44bb99" points="92475.5,-4073.5 92822.5,-4073.5 "/>
<text text-anchor="start" x="92647" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_aggregator.LogAggregator -->
<g id="node272" class="node">
<title>mcpgateway.services.log_aggregator.LogAggregator</title>
<polygon fill="white" stroke="#ffaabb" points="92840,-4028 92840,-4187 94112,-4187 94112,-4028 92840,-4028"/>
<text text-anchor="start" x="93431" y="-4171.8" font-family="Arial" font-size="14.00">LogAggregator</text>
<polyline fill="none" stroke="#ffaabb" points="92840,-4164 94112,-4164 "/>
<text text-anchor="start" x="93386" y="-4148.8" font-family="Arial" font-size="14.00">aggregation_window_minutes</text>
<text text-anchor="start" x="93386" y="-4133.8" font-family="Arial" font-size="14.00">enabled</text>
<polyline fill="none" stroke="#ffaabb" points="92840,-4126 94112,-4126 "/>
<text text-anchor="start" x="92848" y="-4110.8" font-family="Arial" font-size="14.00">aggregate_all_components(window_start: Optional[datetime], window_end: Optional[datetime], db: Optional[Session]): List[PerformanceMetric]</text>
<text text-anchor="start" x="92848" y="-4095.8" font-family="Arial" font-size="14.00">aggregate_all_components_batch(window_starts: List[datetime], window_minutes: int, db: Optional[Session]): List[PerformanceMetric]</text>
<text text-anchor="start" x="92848" y="-4080.8" font-family="Arial" font-size="14.00">aggregate_performance_metrics(component: Optional[str], operation_type: Optional[str], window_start: Optional[datetime], window_end: Optional[datetime], db: Optional[Session]): Optional[PerformanceMetric]</text>
<text text-anchor="start" x="92848" y="-4065.8" font-family="Arial" font-size="14.00">backfill(hours: float, db: Optional[Session]): int</text>
<text text-anchor="start" x="92848" y="-4050.8" font-family="Arial" font-size="14.00">get_degradation_alerts(threshold_multiplier: float, hours: int, db: Optional[Session]): List[Dict[str, Any]]</text>
<text text-anchor="start" x="92848" y="-4035.8" font-family="Arial" font-size="14.00">get_recent_metrics(component: Optional[str], operation: Optional[str], hours: int, db: Optional[Session]): List[PerformanceMetric]</text>
</g>
<!-- mcpgateway.services.structured_logger.LogCategory -->
<g id="node273" class="node">
<title>mcpgateway.services.structured_logger.LogCategory</title>
<polygon fill="white" stroke="#ffaabb" points="94130,-4073 94130,-4142 94224,-4142 94224,-4073 94130,-4073"/>
<text text-anchor="start" x="94138" y="-4126.8" font-family="Arial" font-size="14.00">LogCategory</text>
<polyline fill="none" stroke="#ffaabb" points="94130,-4119 94224,-4119 "/>
<text text-anchor="start" x="94159.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="94130,-4096 94224,-4096 "/>
<text text-anchor="start" x="94175" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.structured_logger.LogEnricher -->
<g id="node274" class="node">
<title>mcpgateway.services.structured_logger.LogEnricher</title>
<polygon fill="white" stroke="#ffaabb" points="94242.5,-4072.1 94242.5,-4142.9 94499.5,-4142.9 94499.5,-4072.1 94242.5,-4072.1"/>
<text text-anchor="start" x="94334.5" y="-4127.7" font-family="Arial" font-size="14.00">LogEnricher</text>
<polyline fill="none" stroke="#ffaabb" points="94242.5,-4119.9 94499.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="94242.5,-4095.1 94499.5,-4095.1 "/>
<text text-anchor="start" x="94250.5" y="-4079.9" font-family="Arial" font-size="14.00">enrich(entry: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.structured_logger.StructuredLogger -->
<g id="node543" class="node">
<title>mcpgateway.services.structured_logger.StructuredLogger</title>
<polygon fill="white" stroke="#ffaabb" points="93599,-8371.5 93599,-8545.5 95461,-8545.5 95461,-8371.5 93599,-8371.5"/>
<text text-anchor="start" x="94477.5" y="-8530.3" font-family="Arial" font-size="14.00">StructuredLogger</text>
<polyline fill="none" stroke="#ffaabb" points="93599,-8522.5 95461,-8522.5 "/>
<text text-anchor="start" x="94483" y="-8507.3" font-family="Arial" font-size="14.00">component : str</text>
<text text-anchor="start" x="94483" y="-8492.3" font-family="Arial" font-size="14.00">enricher</text>
<text text-anchor="start" x="94483" y="-8477.3" font-family="Arial" font-size="14.00">router</text>
<polyline fill="none" stroke="#ffaabb" points="93599,-8469.5 95461,-8469.5 "/>
<text text-anchor="start" x="93607" y="-8454.3" font-family="Arial" font-size="14.00">critical(message: str, error: Optional[Exception]): None</text>
<text text-anchor="start" x="93607" y="-8439.3" font-family="Arial" font-size="14.00">debug(message: str): None</text>
<text text-anchor="start" x="93607" y="-8424.3" font-family="Arial" font-size="14.00">error(message: str, error: Optional[Exception]): None</text>
<text text-anchor="start" x="93607" y="-8409.3" font-family="Arial" font-size="14.00">info(message: str): None</text>
<text text-anchor="start" x="93607" y="-8394.3" font-family="Arial" font-size="14.00">log(level: Union[LogLevel, str], message: str, category: Optional[Union[LogCategory, str]], user_id: Optional[str], user_email: Optional[str], team_id: Optional[str], error: Optional[Exception], duration_ms: Optional[float], custom_fields: Optional[Dict[str, Any]], tags: Optional[List[str]], db: Optional[Session]): None</text>
<text text-anchor="start" x="93607" y="-8379.3" font-family="Arial" font-size="14.00">warning(message: str): None</text>
</g>
<!-- mcpgateway.services.structured_logger.LogEnricher&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger -->
<g id="edge185" class="edge">
<title>mcpgateway.services.structured_logger.LogEnricher&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger</title>
<path fill="none" stroke="gray" d="M94371.4,-4143.25C94374.94,-4436.18 94403.18,-6524.09 94508,-8215 94510.95,-8262.53 94515.56,-8315.19 94519.8,-8359.26"/>
<polygon fill="gray" stroke="gray" points="94519.83,-8359.51 94524.39,-8365.1 94520.99,-8371.45 94516.43,-8365.87 94519.83,-8359.51"/>
<text text-anchor="middle" x="94534.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">enricher</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntry -->
<g id="node275" class="node">
<title>mcpgateway.services.log_storage_service.LogEntry</title>
<polygon fill="white" stroke="#ffaabb" points="95479,-8356.5 95479,-8560.5 95667,-8560.5 95667,-8356.5 95479,-8356.5"/>
<text text-anchor="start" x="95545.5" y="-8545.3" font-family="Arial" font-size="14.00">LogEntry</text>
<polyline fill="none" stroke="#ffaabb" points="95479,-8537.5 95667,-8537.5 "/>
<text text-anchor="start" x="95487" y="-8522.3" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="95487" y="-8507.3" font-family="Arial" font-size="14.00">entity_id : Optional[str]</text>
<text text-anchor="start" x="95487" y="-8492.3" font-family="Arial" font-size="14.00">entity_name : Optional[str]</text>
<text text-anchor="start" x="95487" y="-8477.3" font-family="Arial" font-size="14.00">entity_type : Optional[str]</text>
<text text-anchor="start" x="95487" y="-8462.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="95487" y="-8447.3" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="95487" y="-8432.3" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="95487" y="-8417.3" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="95487" y="-8402.3" font-family="Arial" font-size="14.00">request_id : Optional[str]</text>
<text text-anchor="start" x="95487" y="-8387.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="95479,-8379.5 95667,-8379.5 "/>
<text text-anchor="start" x="95506" y="-8364.3" font-family="Arial" font-size="14.00">to_dict(): LogEntryDict</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntryDict -->
<g id="node276" class="node">
<title>mcpgateway.services.log_storage_service.LogEntryDict</title>
<polygon fill="white" stroke="#ffaabb" points="95685,-8356.5 95685,-8560.5 95873,-8560.5 95873,-8356.5 95685,-8356.5"/>
<text text-anchor="start" x="95740" y="-8545.3" font-family="Arial" font-size="14.00">LogEntryDict</text>
<polyline fill="none" stroke="#ffaabb" points="95685,-8537.5 95873,-8537.5 "/>
<text text-anchor="start" x="95693" y="-8522.3" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="95693" y="-8507.3" font-family="Arial" font-size="14.00">entity_id : Optional[str]</text>
<text text-anchor="start" x="95693" y="-8492.3" font-family="Arial" font-size="14.00">entity_name : Optional[str]</text>
<text text-anchor="start" x="95693" y="-8477.3" font-family="Arial" font-size="14.00">entity_type : Optional[str]</text>
<text text-anchor="start" x="95693" y="-8462.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="95693" y="-8447.3" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="95693" y="-8432.3" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="95693" y="-8417.3" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="95693" y="-8402.3" font-family="Arial" font-size="14.00">request_id : Optional[str]</text>
<text text-anchor="start" x="95693" y="-8387.3" font-family="Arial" font-size="14.00">timestamp : str</text>
<polyline fill="none" stroke="#ffaabb" points="95685,-8379.5 95873,-8379.5 "/>
<text text-anchor="start" x="95777" y="-8364.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageMessage -->
<g id="node280" class="node">
<title>mcpgateway.services.log_storage_service.LogStorageMessage</title>
<polygon fill="white" stroke="#ffaabb" points="95708,-8867.5 95708,-8951.5 95850,-8951.5 95850,-8867.5 95708,-8867.5"/>
<text text-anchor="start" x="95716" y="-8936.3" font-family="Arial" font-size="14.00">LogStorageMessage</text>
<polyline fill="none" stroke="#ffaabb" points="95708,-8928.5 95850,-8928.5 "/>
<text text-anchor="start" x="95753" y="-8913.3" font-family="Arial" font-size="14.00">data</text>
<text text-anchor="start" x="95753" y="-8898.3" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#ffaabb" points="95708,-8890.5 95850,-8890.5 "/>
<text text-anchor="start" x="95777" y="-8875.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntryDict&#45;&gt;mcpgateway.services.log_storage_service.LogStorageMessage -->
<g id="edge176" class="edge">
<title>mcpgateway.services.log_storage_service.LogEntryDict&#45;&gt;mcpgateway.services.log_storage_service.LogStorageMessage</title>
<path fill="none" stroke="gray" d="M95779,-8560.54C95779,-8651.78 95779,-8782.5 95779,-8854.97"/>
<polygon fill="gray" stroke="gray" points="95779,-8855.37 95783,-8861.37 95779,-8867.37 95775,-8861.37 95779,-8855.37"/>
<text text-anchor="middle" x="95792.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">data</text>
</g>
<!-- mcpgateway.services.structured_logger.LogLevel -->
<g id="node277" class="node">
<title>mcpgateway.services.structured_logger.LogLevel</title>
<polygon fill="white" stroke="#ffaabb" points="96011.5,-4073 96011.5,-4142 96082.5,-4142 96082.5,-4073 96011.5,-4073"/>
<text text-anchor="start" x="96019.5" y="-4126.8" font-family="Arial" font-size="14.00">LogLevel</text>
<polyline fill="none" stroke="#ffaabb" points="96011.5,-4119 96082.5,-4119 "/>
<text text-anchor="start" x="96029.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="96011.5,-4096 96082.5,-4096 "/>
<text text-anchor="start" x="96045" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel -->
<g id="node278" class="node">
<title>mcpgateway.common.models.LogLevel</title>
<polygon fill="white" stroke="#44bb99" points="95922.5,-4073 95922.5,-4142 95993.5,-4142 95993.5,-4073 95922.5,-4073"/>
<text text-anchor="start" x="95930.5" y="-4126.8" font-family="Arial" font-size="14.00">LogLevel</text>
<polyline fill="none" stroke="#44bb99" points="95922.5,-4119 95993.5,-4119 "/>
<text text-anchor="start" x="95940.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="95922.5,-4096 95993.5,-4096 "/>
<text text-anchor="start" x="95956" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntry -->
<g id="edge187" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntry</title>
<path fill="none" stroke="gray" d="M95955.01,-4142.25C95922.82,-4505.93 95640.12,-7699.33 95583.03,-8344.26"/>
<polygon fill="none" stroke="gray" points="95583.02,-8344.35 95586.47,-8350.68 95581.96,-8356.3 95578.5,-8349.97 95583.02,-8344.35"/>
<text text-anchor="middle" x="95607" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntryDict -->
<g id="edge141" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntryDict</title>
<path fill="none" stroke="gray" d="M95956.61,-4142.25C95941.64,-4505.93 95810.21,-7699.33 95783.66,-8344.26"/>
<polygon fill="gray" stroke="gray" points="95783.66,-8344.31 95787.41,-8350.47 95783.17,-8356.3 95779.42,-8350.14 95783.66,-8344.31"/>
<text text-anchor="middle" x="95802" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.common.models.LoggingNotification -->
<g id="node282" class="node">
<title>mcpgateway.common.models.LoggingNotification</title>
<polygon fill="white" stroke="#44bb99" points="95891,-8401.5 95891,-8515.5 96145,-8515.5 96145,-8401.5 95891,-8401.5"/>
<text text-anchor="start" x="95960.5" y="-8500.3" font-family="Arial" font-size="14.00">LoggingNotification</text>
<polyline fill="none" stroke="#44bb99" points="95891,-8492.5 96145,-8492.5 "/>
<text text-anchor="start" x="95899" y="-8477.3" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="95899" y="-8462.3" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="95899" y="-8447.3" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="95899" y="-8432.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/message&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="95891,-8424.5 96145,-8424.5 "/>
<text text-anchor="start" x="96016" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.common.models.LoggingNotification -->
<g id="edge140" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.common.models.LoggingNotification</title>
<path fill="none" stroke="gray" d="M95957.65,-4142.31C95954.8,-4431.62 95937.1,-6521.15 96002,-8215 96004.25,-8273.76 96008.79,-8340.41 96012.46,-8388.95"/>
<polygon fill="gray" stroke="gray" points="96012.49,-8389.23 96016.93,-8394.91 96013.4,-8401.2 96008.96,-8395.52 96012.49,-8389.23"/>
<text text-anchor="middle" x="96018" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.services.logging_service._LogMessageData -->
<g id="node642" class="node">
<title>mcpgateway.services.logging_service._LogMessageData</title>
<polygon fill="white" stroke="#ffaabb" points="96163,-8401.5 96163,-8515.5 96327,-8515.5 96327,-8401.5 96163,-8401.5"/>
<text text-anchor="start" x="96187.5" y="-8500.3" font-family="Arial" font-size="14.00">_LogMessageData</text>
<polyline fill="none" stroke="#ffaabb" points="96163,-8492.5 96327,-8492.5 "/>
<text text-anchor="start" x="96171" y="-8477.3" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="96171" y="-8462.3" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="96171" y="-8447.3" font-family="Arial" font-size="14.00">logger : NotRequired[str]</text>
<text text-anchor="start" x="96171" y="-8432.3" font-family="Arial" font-size="14.00">timestamp : str</text>
<polyline fill="none" stroke="#ffaabb" points="96163,-8424.5 96327,-8424.5 "/>
<text text-anchor="start" x="96243" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.logging_service._LogMessageData -->
<g id="edge142" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.logging_service._LogMessageData</title>
<path fill="none" stroke="gray" d="M95945.3,-4142.19C95830.52,-4452.77 94999.62,-6837 96002,-8215 96012.48,-8229.41 96140.67,-8254.18 96154,-8266 96190.55,-8298.41 96213.66,-8348.68 96227.44,-8389.59"/>
<polygon fill="gray" stroke="gray" points="96227.48,-8389.71 96233.13,-8394.19 96231.17,-8401.13 96225.52,-8396.65 96227.48,-8389.71"/>
<text text-anchor="middle" x="96112" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.services.structured_logger.LogRouter -->
<g id="node279" class="node">
<title>mcpgateway.services.structured_logger.LogRouter</title>
<polygon fill="white" stroke="#ffaabb" points="94517.5,-4065.5 94517.5,-4149.5 94862.5,-4149.5 94862.5,-4065.5 94517.5,-4065.5"/>
<text text-anchor="start" x="94658" y="-4134.3" font-family="Arial" font-size="14.00">LogRouter</text>
<polyline fill="none" stroke="#ffaabb" points="94517.5,-4126.5 94862.5,-4126.5 "/>
<text text-anchor="start" x="94634" y="-4111.3" font-family="Arial" font-size="14.00">database_enabled</text>
<text text-anchor="start" x="94634" y="-4096.3" font-family="Arial" font-size="14.00">external_enabled</text>
<polyline fill="none" stroke="#ffaabb" points="94517.5,-4088.5 94862.5,-4088.5 "/>
<text text-anchor="start" x="94525.5" y="-4073.3" font-family="Arial" font-size="14.00">route(entry: Dict[str, Any], db: Optional[Session]): None</text>
</g>
<!-- mcpgateway.services.structured_logger.LogRouter&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger -->
<g id="edge186" class="edge">
<title>mcpgateway.services.structured_logger.LogRouter&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger</title>
<path fill="none" stroke="gray" d="M94690.7,-4149.67C94695.69,-4467.16 94721.3,-6559.01 94563,-8248 94559.58,-8284.48 94553.83,-8324.26 94548.08,-8359.26"/>
<polygon fill="gray" stroke="gray" points="94548.03,-8359.59 94550.99,-8366.16 94546.05,-8371.42 94543.1,-8364.85 94548.03,-8359.59"/>
<text text-anchor="middle" x="94581" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">router</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageService -->
<g id="node281" class="node">
<title>mcpgateway.services.log_storage_service.LogStorageService</title>
<polygon fill="white" stroke="#ffaabb" points="96100.5,-4042.1 96100.5,-4172.9 97557.5,-4172.9 97557.5,-4042.1 96100.5,-4042.1"/>
<text text-anchor="start" x="96771.5" y="-4157.7" font-family="Arial" font-size="14.00">LogStorageService</text>
<polyline fill="none" stroke="#ffaabb" points="96100.5,-4149.9 97557.5,-4149.9 "/>
<polyline fill="none" stroke="#ffaabb" points="96100.5,-4125.1 97557.5,-4125.1 "/>
<text text-anchor="start" x="96108.5" y="-4109.9" font-family="Arial" font-size="14.00">add_log(level: LogLevel, message: str, entity_type: Optional[str], entity_id: Optional[str], entity_name: Optional[str], logger: Optional[str], data: Optional[Dict[str, Any]], request_id: Optional[str]): LogEntry</text>
<text text-anchor="start" x="96108.5" y="-4094.9" font-family="Arial" font-size="14.00">clear(): int</text>
<text text-anchor="start" x="96108.5" y="-4079.9" font-family="Arial" font-size="14.00">get_logs(entity_type: Optional[str], entity_id: Optional[str], level: Optional[LogLevel], start_time: Optional[datetime], end_time: Optional[datetime], request_id: Optional[str], search: Optional[str], limit: int, offset: int, order: str): List[LogEntryDict]</text>
<text text-anchor="start" x="96108.5" y="-4064.9" font-family="Arial" font-size="14.00">get_stats(): Dict[str, Any]</text>
<text text-anchor="start" x="96108.5" y="-4049.9" font-family="Arial" font-size="14.00">subscribe(): AsyncGenerator[LogStorageMessage, None]</text>
</g>
<!-- mcpgateway.services.logging_service.StorageHandler -->
<g id="node540" class="node">
<title>mcpgateway.services.logging_service.StorageHandler</title>
<polygon fill="white" stroke="#ffaabb" points="96703.5,-8416.5 96703.5,-8500.5 96954.5,-8500.5 96954.5,-8416.5 96703.5,-8416.5"/>
<text text-anchor="start" x="96781.5" y="-8485.3" font-family="Arial" font-size="14.00">StorageHandler</text>
<polyline fill="none" stroke="#ffaabb" points="96703.5,-8477.5 96954.5,-8477.5 "/>
<text text-anchor="start" x="96732" y="-8462.3" font-family="Arial" font-size="14.00">loop : AbstractEventLoop | None</text>
<text text-anchor="start" x="96732" y="-8447.3" font-family="Arial" font-size="14.00">storage</text>
<polyline fill="none" stroke="#ffaabb" points="96703.5,-8439.5 96954.5,-8439.5 "/>
<text text-anchor="start" x="96711.5" y="-8424.3" font-family="Arial" font-size="14.00">emit(record: logging.LogRecord): None</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageService&#45;&gt;mcpgateway.services.logging_service.StorageHandler -->
<g id="edge190" class="edge">
<title>mcpgateway.services.log_storage_service.LogStorageService&#45;&gt;mcpgateway.services.logging_service.StorageHandler</title>
<path fill="none" stroke="gray" d="M96829,-4172.93C96829,-4674.37 96829,-7945.57 96829,-8404.13"/>
<polygon fill="none" stroke="gray" points="96829,-8404.27 96833,-8410.27 96829,-8416.27 96825,-8410.27 96829,-8404.27"/>
<text text-anchor="middle" x="96852" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">storage</text>
</g>
<!-- mcpgateway.services.logging_service.LoggingService -->
<g id="node283" class="node">
<title>mcpgateway.services.logging_service.LoggingService</title>
<polygon fill="white" stroke="#ffaabb" points="97576,-4019.6 97576,-4195.4 98814,-4195.4 98814,-4019.6 97576,-4019.6"/>
<text text-anchor="start" x="98148" y="-4180.2" font-family="Arial" font-size="14.00">LoggingService</text>
<polyline fill="none" stroke="#ffaabb" points="97576,-4172.4 98814,-4172.4 "/>
<polyline fill="none" stroke="#ffaabb" points="97576,-4147.6 98814,-4147.6 "/>
<text text-anchor="start" x="97584" y="-4132.4" font-family="Arial" font-size="14.00">configure_uvicorn_after_startup(): None</text>
<text text-anchor="start" x="97584" y="-4117.4" font-family="Arial" font-size="14.00">get_logger(name: str): logging.Logger</text>
<text text-anchor="start" x="97584" y="-4102.4" font-family="Arial" font-size="14.00">get_storage(): Optional[LogStorageService]</text>
<text text-anchor="start" x="97584" y="-4087.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="97584" y="-4072.4" font-family="Arial" font-size="14.00">notify(data: Any, level: LogLevel, logger_name: Optional[str], entity_type: Optional[str], entity_id: Optional[str], entity_name: Optional[str], request_id: Optional[str], extra_data: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="97584" y="-4057.4" font-family="Arial" font-size="14.00">set_level(level: LogLevel): None</text>
<text text-anchor="start" x="97584" y="-4042.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="97584" y="-4027.4" font-family="Arial" font-size="14.00">subscribe(): AsyncGenerator[_LogMessage, None]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClient -->
<g id="node285" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPClient</title>
<polygon fill="white" stroke="#ffaabb" points="42159,-8401.5 42159,-8515.5 42439,-8515.5 42439,-8401.5 42159,-8401.5"/>
<text text-anchor="start" x="42266" y="-8500.3" font-family="Arial" font-size="14.00">MCPClient</text>
<polyline fill="none" stroke="#ffaabb" points="42159,-8492.5 42439,-8492.5 "/>
<text text-anchor="start" x="42259" y="-8477.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="42259" y="-8462.3" font-family="Arial" font-size="14.00">is_connected</text>
<polyline fill="none" stroke="#ffaabb" points="42159,-8454.5 42439,-8454.5 "/>
<text text-anchor="start" x="42167" y="-8439.3" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="42167" y="-8424.3" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="42167" y="-8409.3" font-family="Arial" font-size="14.00">get_tools(force_reload: bool): List[BaseTool]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClient&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge179" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPClient&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M42299,-8515.91C42299,-8578.05 42299,-8680.38 42299,-8764.99"/>
<polygon fill="gray" stroke="gray" points="42299,-8765.07 42303,-8771.07 42299,-8777.07 42295,-8771.07 42299,-8765.07"/>
<text text-anchor="middle" x="42332" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">mcp_client</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClientConfig -->
<g id="node286" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPClientConfig</title>
<polygon fill="white" stroke="#ffaabb" points="42457.5,-8394 42457.5,-8523 42724.5,-8523 42724.5,-8394 42457.5,-8394"/>
<text text-anchor="start" x="42538.5" y="-8507.8" font-family="Arial" font-size="14.00">MCPClientConfig</text>
<polyline fill="none" stroke="#ffaabb" points="42457.5,-8500 42724.5,-8500 "/>
<text text-anchor="start" x="42465.5" y="-8484.8" font-family="Arial" font-size="14.00">chat_history_max_messages : int</text>
<text text-anchor="start" x="42465.5" y="-8469.8" font-family="Arial" font-size="14.00">enable_streaming : Optional[bool]</text>
<text text-anchor="start" x="42465.5" y="-8454.8" font-family="Arial" font-size="14.00">llm : Optional[LLMConfig]</text>
<text text-anchor="start" x="42465.5" y="-8439.8" font-family="Arial" font-size="14.00">mcp_server : Optional[MCPServerConfig]</text>
<text text-anchor="start" x="42465.5" y="-8424.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#ffaabb" points="42457.5,-8417 42724.5,-8417 "/>
<text text-anchor="start" x="42589" y="-8401.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClientConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge195" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPClientConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M42549.47,-8523.35C42508.4,-8586.51 42444.17,-8685.28 42391.03,-8766.98"/>
<polygon fill="none" stroke="gray" points="42390.82,-8767.31 42390.9,-8774.52 42384.28,-8777.37 42384.2,-8770.16 42390.82,-8767.31"/>
<text text-anchor="middle" x="42472.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientConfig -->
<g id="node287" class="node">
<title>mcpgateway.plugins.framework.models.MCPClientConfig</title>
<polygon fill="white" stroke="#ee8866" points="98706,-8319 98706,-8598 99062,-8598 99062,-8319 98706,-8319"/>
<text text-anchor="start" x="98831.5" y="-8582.8" font-family="Arial" font-size="14.00">MCPClientConfig</text>
<polyline fill="none" stroke="#ee8866" points="98706,-8575 99062,-8575 "/>
<text text-anchor="start" x="98777.5" y="-8559.8" font-family="Arial" font-size="14.00">cmd : Optional[list[str]]</text>
<text text-anchor="start" x="98777.5" y="-8544.8" font-family="Arial" font-size="14.00">cwd : Optional[str]</text>
<text text-anchor="start" x="98777.5" y="-8529.8" font-family="Arial" font-size="14.00">env : Optional[dict[str, str]]</text>
<text text-anchor="start" x="98777.5" y="-8514.8" font-family="Arial" font-size="14.00">proto</text>
<text text-anchor="start" x="98777.5" y="-8499.8" font-family="Arial" font-size="14.00">script : Optional[str]</text>
<text text-anchor="start" x="98777.5" y="-8484.8" font-family="Arial" font-size="14.00">tls : Optional[MCPClientTLSConfig]</text>
<text text-anchor="start" x="98777.5" y="-8469.8" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<text text-anchor="start" x="98777.5" y="-8454.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="98706,-8447 99062,-8447 "/>
<text text-anchor="start" x="98714" y="-8431.8" font-family="Arial" font-size="14.00">validate_cmd(cmd: list[str] | None): list[str] | None</text>
<text text-anchor="start" x="98714" y="-8416.8" font-family="Arial" font-size="14.00">validate_cwd(cwd: str | None): str | None</text>
<text text-anchor="start" x="98714" y="-8401.8" font-family="Arial" font-size="14.00">validate_env(env: dict[str, str] | None): dict[str, str] | None</text>
<text text-anchor="start" x="98714" y="-8386.8" font-family="Arial" font-size="14.00">validate_script(script: str | None): str | None</text>
<text text-anchor="start" x="98714" y="-8371.8" font-family="Arial" font-size="14.00">validate_tls_usage(): Self</text>
<text text-anchor="start" x="98714" y="-8356.8" font-family="Arial" font-size="14.00">validate_transport_fields(): Self</text>
<text text-anchor="start" x="98714" y="-8341.8" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
<text text-anchor="start" x="98714" y="-8326.8" font-family="Arial" font-size="14.00">validate_url(url: str | None): str | None</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientTLSConfig -->
<g id="node288" class="node">
<title>mcpgateway.plugins.framework.models.MCPClientTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="63221,-4065.5 63221,-4149.5 63505,-4149.5 63505,-4065.5 63221,-4065.5"/>
<text text-anchor="start" x="63298" y="-4134.3" font-family="Arial" font-size="14.00">MCPClientTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="63221,-4126.5 63505,-4126.5 "/>
<text text-anchor="start" x="63263.5" y="-4111.3" font-family="Arial" font-size="14.00">check_hostname : Optional[bool]</text>
<text text-anchor="start" x="63263.5" y="-4096.3" font-family="Arial" font-size="14.00">verify : Optional[bool]</text>
<polyline fill="none" stroke="#ee8866" points="63221,-4088.5 63505,-4088.5 "/>
<text text-anchor="start" x="63229" y="-4073.3" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPClientTLSConfig&#39;]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge76" class="edge">
<title>mcpgateway.plugins.framework.models.MCPClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M63361.54,-4149.8C63347.12,-4556.85 63230.63,-7846.62 63211.62,-8383.53"/>
<polygon fill="none" stroke="gray" points="63208.11,-8383.74 63211.25,-8393.86 63215.11,-8383.99 63208.11,-8383.74"/>
</g>
<!-- mcpgateway.main.MCPPathRewriteMiddleware -->
<g id="node289" class="node">
<title>mcpgateway.main.MCPPathRewriteMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="98954.5,-4065.5 98954.5,-4149.5 99145.5,-4149.5 99145.5,-4065.5 98954.5,-4065.5"/>
<text text-anchor="start" x="98962.5" y="-4134.3" font-family="Arial" font-size="14.00">MCPPathRewriteMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="98954.5,-4126.5 99145.5,-4126.5 "/>
<text text-anchor="start" x="98988" y="-4111.3" font-family="Arial" font-size="14.00">application</text>
<text text-anchor="start" x="98988" y="-4096.3" font-family="Arial" font-size="14.00">dispatch : NoneType</text>
<polyline fill="none" stroke="#77aadd" points="98954.5,-4088.5 99145.5,-4088.5 "/>
<text text-anchor="start" x="99048" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.protocol_version.MCPProtocolVersionMiddleware -->
<g id="node290" class="node">
<title>mcpgateway.middleware.protocol_version.MCPProtocolVersionMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="99164,-4072.1 99164,-4142.9 99528,-4142.9 99528,-4072.1 99164,-4072.1"/>
<text text-anchor="start" x="99248" y="-4127.7" font-family="Arial" font-size="14.00">MCPProtocolVersionMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="99164,-4119.9 99528,-4119.9 "/>
<polyline fill="none" stroke="#eedd88" points="99164,-4095.1 99528,-4095.1 "/>
<text text-anchor="start" x="99172" y="-4079.9" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPServerConfig -->
<g id="node291" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPServerConfig</title>
<polygon fill="white" stroke="#ffaabb" points="42100,-4013 42100,-4202 42498,-4202 42498,-4013 42100,-4013"/>
<text text-anchor="start" x="42244" y="-4186.8" font-family="Arial" font-size="14.00">MCPServerConfig</text>
<polyline fill="none" stroke="#ffaabb" points="42100,-4179 42498,-4179 "/>
<text text-anchor="start" x="42125" y="-4163.8" font-family="Arial" font-size="14.00">args : Optional[list[str]]</text>
<text text-anchor="start" x="42125" y="-4148.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="42125" y="-4133.8" font-family="Arial" font-size="14.00">command : Optional[str]</text>
<text text-anchor="start" x="42125" y="-4118.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="42125" y="-4103.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="42125" y="-4088.8" font-family="Arial" font-size="14.00">transport : Optional[Literal[&#39;streamable_http&#39;, &#39;sse&#39;, &#39;stdio&#39;]]</text>
<text text-anchor="start" x="42125" y="-4073.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="42100,-4066 42498,-4066 "/>
<text text-anchor="start" x="42108" y="-4050.8" font-family="Arial" font-size="14.00">add_auth_to_headers(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="42108" y="-4035.8" font-family="Arial" font-size="14.00">validate_command_for_stdio(v: Optional[str], info): Optional[str]</text>
<text text-anchor="start" x="42108" y="-4020.8" font-family="Arial" font-size="14.00">validate_url_for_transport(v: Optional[str], info): Optional[str]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPServerConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPClient -->
<g id="edge196" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPServerConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPClient</title>
<path fill="none" stroke="gray" d="M42299,-4202.11C42299,-4783.2 42299,-7889 42299,-8389.41"/>
<polygon fill="none" stroke="gray" points="42299,-8389.43 42303,-8395.43 42299,-8401.43 42295,-8395.43 42299,-8389.43"/>
<text text-anchor="middle" x="42317.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerConfig -->
<g id="node292" class="node">
<title>mcpgateway.plugins.framework.models.MCPServerConfig</title>
<polygon fill="white" stroke="#ee8866" points="99546,-4035.5 99546,-4179.5 99810,-4179.5 99810,-4035.5 99546,-4035.5"/>
<text text-anchor="start" x="99623" y="-4164.3" font-family="Arial" font-size="14.00">MCPServerConfig</text>
<polyline fill="none" stroke="#ee8866" points="99546,-4156.5 99810,-4156.5 "/>
<text text-anchor="start" x="99569" y="-4141.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="99569" y="-4126.3" font-family="Arial" font-size="14.00">port : Optional[int]</text>
<text text-anchor="start" x="99569" y="-4111.3" font-family="Arial" font-size="14.00">tls : Optional[MCPServerTLSConfig]</text>
<text text-anchor="start" x="99569" y="-4096.3" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="99546,-4088.5 99810,-4088.5 "/>
<text text-anchor="start" x="99554" y="-4073.3" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPServerConfig&#39;]</text>
<text text-anchor="start" x="99554" y="-4058.3" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
<text text-anchor="start" x="99554" y="-4043.3" font-family="Arial" font-size="14.00">validate_uds_tls(): Self</text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP -->
<g id="node493" class="node">
<title>mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP</title>
<polygon fill="white" stroke="#ee8866" points="99561.5,-8424 99561.5,-8493 99794.5,-8493 99794.5,-8424 99561.5,-8424"/>
<text text-anchor="start" x="99611.5" y="-8477.8" font-family="Arial" font-size="14.00">SSLCapableFastMCP</text>
<polyline fill="none" stroke="#ee8866" points="99561.5,-8470 99794.5,-8470 "/>
<text text-anchor="start" x="99637" y="-8454.8" font-family="Arial" font-size="14.00">server_config</text>
<polyline fill="none" stroke="#ee8866" points="99561.5,-8447 99794.5,-8447 "/>
<text text-anchor="start" x="99569.5" y="-8431.8" font-family="Arial" font-size="14.00">run_streamable_http_async(): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerConfig&#45;&gt;mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP -->
<g id="edge188" class="edge">
<title>mcpgateway.plugins.framework.models.MCPServerConfig&#45;&gt;mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP</title>
<path fill="none" stroke="gray" d="M99678,-4179.91C99678,-4706.99 99678,-7985.52 99678,-8411.83"/>
<polygon fill="none" stroke="gray" points="99678,-8411.88 99682,-8417.88 99678,-8423.88 99674,-8417.88 99678,-8411.88"/>
<text text-anchor="middle" x="99719" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">server_config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerTLSConfig -->
<g id="node293" class="node">
<title>mcpgateway.plugins.framework.models.MCPServerTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="63523.5,-4073 63523.5,-4142 63812.5,-4142 63812.5,-4073 63523.5,-4073"/>
<text text-anchor="start" x="63600.5" y="-4126.8" font-family="Arial" font-size="14.00">MCPServerTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="63523.5,-4119 63812.5,-4119 "/>
<text text-anchor="start" x="63585.5" y="-4103.8" font-family="Arial" font-size="14.00">ssl_cert_reqs : Optional[int]</text>
<polyline fill="none" stroke="#ee8866" points="63523.5,-4096 63812.5,-4096 "/>
<text text-anchor="start" x="63531.5" y="-4080.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPServerTLSConfig&#39;]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge77" class="edge">
<title>mcpgateway.plugins.framework.models.MCPServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M63670.53,-4142.05C63696.27,-4490.34 63901.72,-7448.45 63514,-8215 63476.67,-8288.8 63405.43,-8347.42 63341.19,-8388.53"/>
<polygon fill="none" stroke="gray" points="63339.17,-8385.66 63332.58,-8393.96 63342.9,-8391.58 63339.17,-8385.66"/>
</g>
<!-- mcpgateway.services.mcp_session_pool.MCPSessionPool -->
<g id="node294" class="node">
<title>mcpgateway.services.mcp_session_pool.MCPSessionPool</title>
<polygon fill="white" stroke="#ffaabb" points="99827.5,-3990.5 99827.5,-4224.5 101270.5,-4224.5 101270.5,-3990.5 99827.5,-3990.5"/>
<text text-anchor="start" x="100496" y="-4209.3" font-family="Arial" font-size="14.00">MCPSessionPool</text>
<polyline fill="none" stroke="#ffaabb" points="99827.5,-4201.5 101270.5,-4201.5 "/>
<text text-anchor="start" x="100403" y="-4186.3" font-family="Arial" font-size="14.00">DEFAULT_IDENTITY_HEADERS : frozenset[str]</text>
<polyline fill="none" stroke="#ffaabb" points="99827.5,-4178.5 101270.5,-4178.5 "/>
<text text-anchor="start" x="99835.5" y="-4163.3" font-family="Arial" font-size="14.00">acquire(url: str, headers: Optional[Dict[str, str]], transport_type: TransportType, httpx_client_factory: Optional[HttpxClientFactory], timeout: Optional[float], user_identity: Optional[str], gateway_id: Optional[str]): PooledSession</text>
<text text-anchor="start" x="99835.5" y="-4148.3" font-family="Arial" font-size="14.00">close_all(): None</text>
<text text-anchor="start" x="99835.5" y="-4133.3" font-family="Arial" font-size="14.00">forward_request_to_owner(mcp_session_id: str, request_data: Dict[str, Any], timeout: Optional[float]): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="99835.5" y="-4118.3" font-family="Arial" font-size="14.00">forward_streamable_http_to_owner(owner_worker_id: str, mcp_session_id: str, method: str, path: str, headers: Dict[str, str], body: bytes, query_string: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="99835.5" y="-4103.3" font-family="Arial" font-size="14.00">get_metrics(): Dict[str, Any]</text>
<text text-anchor="start" x="99835.5" y="-4088.3" font-family="Arial" font-size="14.00">get_streamable_http_session_owner(mcp_session_id: str): Optional[str]</text>
<text text-anchor="start" x="99835.5" y="-4073.3" font-family="Arial" font-size="14.00">is_valid_mcp_session_id(session_id: str): bool</text>
<text text-anchor="start" x="99835.5" y="-4058.3" font-family="Arial" font-size="14.00">register_pool_session_owner(mcp_session_id: str): None</text>
<text text-anchor="start" x="99835.5" y="-4043.3" font-family="Arial" font-size="14.00">register_session_mapping(mcp_session_id: str, url: str, gateway_id: str, transport_type: str, user_email: Optional[str]): None</text>
<text text-anchor="start" x="99835.5" y="-4028.3" font-family="Arial" font-size="14.00">release(pooled: PooledSession): None</text>
<text text-anchor="start" x="99835.5" y="-4013.3" font-family="Arial" font-size="14.00">session(url: str, headers: Optional[Dict[str, str]], transport_type: TransportType, httpx_client_factory: Optional[HttpxClientFactory], timeout: Optional[float], user_identity: Optional[str], gateway_id: Optional[str]): &#39;AsyncIterator[PooledSession]&#39;</text>
<text text-anchor="start" x="99835.5" y="-3998.3" font-family="Arial" font-size="14.00">start_rpc_listener(): None</text>
</g>
<!-- mcpgateway.services.team_management_service.MemberAlreadyExistsError -->
<g id="node296" class="node">
<title>mcpgateway.services.team_management_service.MemberAlreadyExistsError</title>
<polygon fill="white" stroke="#ffaabb" points="83012.5,-4072.1 83012.5,-4142.9 83191.5,-4142.9 83191.5,-4072.1 83012.5,-4072.1"/>
<text text-anchor="start" x="83020.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">MemberAlreadyExistsError</text>
<polyline fill="none" stroke="#ffaabb" points="83012.5,-4119.9 83191.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83012.5,-4095.1 83191.5,-4095.1 "/>
<text text-anchor="start" x="83100" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.MemberAlreadyExistsError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge125" class="edge">
<title>mcpgateway.services.team_management_service.MemberAlreadyExistsError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M83099.85,-4142.96C83078.46,-4492.97 82910.6,-7407.76 83200,-8215 83229.07,-8296.08 83296.75,-8371.11 83342.96,-8415.62"/>
<polygon fill="none" stroke="gray" points="83340.81,-8418.4 83350.47,-8422.76 83345.64,-8413.33 83340.81,-8418.4"/>
</g>
<!-- mcpgateway.common.models.Message -->
<g id="node297" class="node">
<title>mcpgateway.common.models.Message</title>
<polygon fill="white" stroke="#44bb99" points="47325.5,-8416.5 47325.5,-8500.5 47432.5,-8500.5 47432.5,-8416.5 47325.5,-8416.5"/>
<text text-anchor="start" x="47351" y="-8485.3" font-family="Arial" font-size="14.00">Message</text>
<polyline fill="none" stroke="#44bb99" points="47325.5,-8477.5 47432.5,-8477.5 "/>
<text text-anchor="start" x="47333.5" y="-8462.3" font-family="Arial" font-size="14.00">content : Union</text>
<text text-anchor="start" x="47333.5" y="-8447.3" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="47325.5,-8439.5 47432.5,-8439.5 "/>
<text text-anchor="start" x="47377" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.reverse_proxy.MessageType -->
<g id="node298" class="node">
<title>mcpgateway.reverse_proxy.MessageType</title>
<polygon fill="white" stroke="#77aadd" points="101288.5,-4073 101288.5,-4142 101389.5,-4142 101389.5,-4073 101288.5,-4073"/>
<text text-anchor="start" x="101296.5" y="-4126.8" font-family="Arial" font-size="14.00">MessageType</text>
<polyline fill="none" stroke="#77aadd" points="101288.5,-4119 101389.5,-4119 "/>
<text text-anchor="start" x="101321.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="101288.5,-4096 101389.5,-4096 "/>
<text text-anchor="start" x="101337" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.MetricsBufferService -->
<g id="node299" class="node">
<title>mcpgateway.services.metrics_buffer_service.MetricsBufferService</title>
<polygon fill="white" stroke="#ffaabb" points="101407.5,-3990.5 101407.5,-4224.5 102342.5,-4224.5 102342.5,-3990.5 101407.5,-3990.5"/>
<text text-anchor="start" x="101812" y="-4209.3" font-family="Arial" font-size="14.00">MetricsBufferService</text>
<polyline fill="none" stroke="#ffaabb" points="101407.5,-4201.5 102342.5,-4201.5 "/>
<text text-anchor="start" x="101814.5" y="-4186.3" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="101814.5" y="-4171.3" font-family="Arial" font-size="14.00">flush_interval</text>
<text text-anchor="start" x="101814.5" y="-4156.3" font-family="Arial" font-size="14.00">max_buffer_size</text>
<text text-anchor="start" x="101814.5" y="-4141.3" font-family="Arial" font-size="14.00">recording_enabled</text>
<polyline fill="none" stroke="#ffaabb" points="101407.5,-4133.5 102342.5,-4133.5 "/>
<text text-anchor="start" x="101415.5" y="-4118.3" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="101415.5" y="-4103.3" font-family="Arial" font-size="14.00">record_a2a_agent_metric(a2a_agent_id: str, start_time: float, success: bool, interaction_type: str, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4088.3" font-family="Arial" font-size="14.00">record_a2a_agent_metric_with_duration(a2a_agent_id: str, response_time: float, success: bool, interaction_type: str, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4073.3" font-family="Arial" font-size="14.00">record_prompt_metric(prompt_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4058.3" font-family="Arial" font-size="14.00">record_resource_metric(resource_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4043.3" font-family="Arial" font-size="14.00">record_server_metric(server_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4028.3" font-family="Arial" font-size="14.00">record_tool_metric(tool_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="101415.5" y="-4013.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="101415.5" y="-3998.3" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.cache.metrics_cache.MetricsCache -->
<g id="node300" class="node">
<title>mcpgateway.cache.metrics_cache.MetricsCache</title>
<polygon fill="white" stroke="#99ddff" points="102361,-4034.6 102361,-4180.4 102659,-4180.4 102659,-4034.6 102361,-4034.6"/>
<text text-anchor="start" x="102468" y="-4165.2" font-family="Arial" font-size="14.00">MetricsCache</text>
<polyline fill="none" stroke="#99ddff" points="102361,-4157.4 102659,-4157.4 "/>
<polyline fill="none" stroke="#99ddff" points="102361,-4132.6 102659,-4132.6 "/>
<text text-anchor="start" x="102369" y="-4117.4" font-family="Arial" font-size="14.00">get(metric_type: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="102369" y="-4102.4" font-family="Arial" font-size="14.00">invalidate(metric_type: Optional[str]): None</text>
<text text-anchor="start" x="102369" y="-4087.4" font-family="Arial" font-size="14.00">invalidate_prefix(prefix: str): None</text>
<text text-anchor="start" x="102369" y="-4072.4" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="102369" y="-4057.4" font-family="Arial" font-size="14.00">set(metric_type: str, value: Dict[str, Any]): None</text>
<text text-anchor="start" x="102369" y="-4042.4" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.MetricsCleanupService -->
<g id="node301" class="node">
<title>mcpgateway.services.metrics_cleanup_service.MetricsCleanupService</title>
<polygon fill="white" stroke="#ffaabb" points="102677.5,-3983 102677.5,-4232 103180.5,-4232 103180.5,-3983 102677.5,-3983"/>
<text text-anchor="start" x="102859" y="-4216.8" font-family="Arial" font-size="14.00">MetricsCleanupService</text>
<polyline fill="none" stroke="#ffaabb" points="102677.5,-4209 103180.5,-4209 "/>
<text text-anchor="start" x="102837.5" y="-4193.8" font-family="Arial" font-size="14.00">METRIC_TABLES : list</text>
<text text-anchor="start" x="102837.5" y="-4178.8" font-family="Arial" font-size="14.00">batch_size</text>
<text text-anchor="start" x="102837.5" y="-4163.8" font-family="Arial" font-size="14.00">cleanup_interval_hours</text>
<text text-anchor="start" x="102837.5" y="-4148.8" font-family="Arial" font-size="14.00">delete_raw_after_rollup</text>
<text text-anchor="start" x="102837.5" y="-4133.8" font-family="Arial" font-size="14.00">delete_raw_after_rollup_hours</text>
<text text-anchor="start" x="102837.5" y="-4118.8" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="102837.5" y="-4103.8" font-family="Arial" font-size="14.00">retention_days</text>
<text text-anchor="start" x="102837.5" y="-4088.8" font-family="Arial" font-size="14.00">rollup_retention_days</text>
<polyline fill="none" stroke="#ffaabb" points="102677.5,-4081 103180.5,-4081 "/>
<text text-anchor="start" x="102685.5" y="-4065.8" font-family="Arial" font-size="14.00">cleanup_all(retention_days: Optional[int], include_rollup: bool): CleanupSummary</text>
<text text-anchor="start" x="102685.5" y="-4050.8" font-family="Arial" font-size="14.00">cleanup_table(table_type: str, retention_days: Optional[int]): CleanupResult</text>
<text text-anchor="start" x="102685.5" y="-4035.8" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="102685.5" y="-4020.8" font-family="Arial" font-size="14.00">get_table_sizes(): Dict[str, int]</text>
<text text-anchor="start" x="102685.5" y="-4005.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="102685.5" y="-3990.8" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.MetricsRollupService -->
<g id="node302" class="node">
<title>mcpgateway.services.metrics_rollup_service.MetricsRollupService</title>
<polygon fill="white" stroke="#ffaabb" points="103198.5,-3998 103198.5,-4217 103611.5,-4217 103611.5,-3998 103198.5,-3998"/>
<text text-anchor="start" x="103341" y="-4201.8" font-family="Arial" font-size="14.00">MetricsRollupService</text>
<polyline fill="none" stroke="#ffaabb" points="103198.5,-4194 103611.5,-4194 "/>
<text text-anchor="start" x="103298" y="-4178.8" font-family="Arial" font-size="14.00">METRIC_TABLES : list</text>
<text text-anchor="start" x="103298" y="-4163.8" font-family="Arial" font-size="14.00">delete_raw_after_rollup : NoneType</text>
<text text-anchor="start" x="103298" y="-4148.8" font-family="Arial" font-size="14.00">delete_raw_after_rollup_hours</text>
<text text-anchor="start" x="103298" y="-4133.8" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="103298" y="-4118.8" font-family="Arial" font-size="14.00">rollup_interval_hours</text>
<polyline fill="none" stroke="#ffaabb" points="103198.5,-4111 103611.5,-4111 "/>
<text text-anchor="start" x="103206.5" y="-4095.8" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="103206.5" y="-4080.8" font-family="Arial" font-size="14.00">pause(reason: str): None</text>
<text text-anchor="start" x="103206.5" y="-4065.8" font-family="Arial" font-size="14.00">pause_during(reason: str)</text>
<text text-anchor="start" x="103206.5" y="-4050.8" font-family="Arial" font-size="14.00">resume(): None</text>
<text text-anchor="start" x="103206.5" y="-4035.8" font-family="Arial" font-size="14.00">rollup_all(hours_back: int, force_reprocess: bool): RollupSummary</text>
<text text-anchor="start" x="103206.5" y="-4020.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="103206.5" y="-4005.8" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.common.models.ModelHint -->
<g id="node303" class="node">
<title>mcpgateway.common.models.ModelHint</title>
<polygon fill="white" stroke="#44bb99" points="103630,-4073 103630,-4142 103766,-4142 103766,-4073 103630,-4073"/>
<text text-anchor="start" x="103667" y="-4126.8" font-family="Arial" font-size="14.00">ModelHint</text>
<polyline fill="none" stroke="#44bb99" points="103630,-4119 103766,-4119 "/>
<text text-anchor="start" x="103638" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="103630,-4096 103766,-4096 "/>
<text text-anchor="start" x="103696" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ModelPreferences -->
<g id="node304" class="node">
<title>mcpgateway.common.models.ModelPreferences</title>
<polygon fill="white" stroke="#44bb99" points="103784.5,-4050.5 103784.5,-4164.5 104011.5,-4164.5 104011.5,-4050.5 103784.5,-4050.5"/>
<text text-anchor="start" x="103842.5" y="-4149.3" font-family="Arial" font-size="14.00">ModelPreferences</text>
<polyline fill="none" stroke="#44bb99" points="103784.5,-4141.5 104011.5,-4141.5 "/>
<text text-anchor="start" x="103792.5" y="-4126.3" font-family="Arial" font-size="14.00">cost_priority : Optional[float]</text>
<text text-anchor="start" x="103792.5" y="-4111.3" font-family="Arial" font-size="14.00">hints : List[ModelHint]</text>
<text text-anchor="start" x="103792.5" y="-4096.3" font-family="Arial" font-size="14.00">intelligence_priority : Optional[float]</text>
<text text-anchor="start" x="103792.5" y="-4081.3" font-family="Arial" font-size="14.00">speed_priority : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="103784.5,-4073.5 104011.5,-4073.5 "/>
<text text-anchor="start" x="103896" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_header_utils.NormalizedMappings -->
<g id="node305" class="node">
<title>mcpgateway.translate_header_utils.NormalizedMappings</title>
<polygon fill="white" stroke="#77aadd" points="104030,-4064.6 104030,-4150.4 104302,-4150.4 104302,-4064.6 104030,-4064.6"/>
<text text-anchor="start" x="104101.5" y="-4135.2" font-family="Arial" font-size="14.00">NormalizedMappings</text>
<polyline fill="none" stroke="#77aadd" points="104030,-4127.4 104302,-4127.4 "/>
<polyline fill="none" stroke="#77aadd" points="104030,-4102.6 104302,-4102.6 "/>
<text text-anchor="start" x="104038" y="-4087.4" font-family="Arial" font-size="14.00">get_env_var(header_name: str): str | None</text>
<text text-anchor="start" x="104038" y="-4072.4" font-family="Arial" font-size="14.00">values()</text>
</g>
<!-- mcpgateway.services.notification_service.NotificationService -->
<g id="node306" class="node">
<title>mcpgateway.services.notification_service.NotificationService</title>
<polygon fill="white" stroke="#ffaabb" points="104320,-4020.5 104320,-4194.5 104912,-4194.5 104912,-4020.5 104320,-4020.5"/>
<text text-anchor="start" x="104560" y="-4179.3" font-family="Arial" font-size="14.00">NotificationService</text>
<polyline fill="none" stroke="#ffaabb" points="104320,-4171.5 104912,-4171.5 "/>
<text text-anchor="start" x="104539" y="-4156.3" font-family="Arial" font-size="14.00">debounce_seconds : float</text>
<polyline fill="none" stroke="#ffaabb" points="104320,-4148.5 104912,-4148.5 "/>
<text text-anchor="start" x="104328" y="-4133.3" font-family="Arial" font-size="14.00">create_message_handler(gateway_id: str, gateway_url: Optional[str]): MessageHandlerCallback</text>
<text text-anchor="start" x="104328" y="-4118.3" font-family="Arial" font-size="14.00">get_metrics(): Dict[str, Any]</text>
<text text-anchor="start" x="104328" y="-4103.3" font-family="Arial" font-size="14.00">initialize(gateway_service: Optional[&#39;GatewayService&#39;]): None</text>
<text text-anchor="start" x="104328" y="-4088.3" font-family="Arial" font-size="14.00">register_gateway_capabilities(gateway_id: str, capabilities: Dict[str, Any]): None</text>
<text text-anchor="start" x="104328" y="-4073.3" font-family="Arial" font-size="14.00">set_gateway_service(gateway_service: &#39;GatewayService&#39;): None</text>
<text text-anchor="start" x="104328" y="-4058.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="104328" y="-4043.3" font-family="Arial" font-size="14.00">supports_list_changed(gateway_id: str): bool</text>
<text text-anchor="start" x="104328" y="-4028.3" font-family="Arial" font-size="14.00">unregister_gateway(gateway_id: str): None</text>
</g>
<!-- mcpgateway.services.notification_service.NotificationType -->
<g id="node307" class="node">
<title>mcpgateway.services.notification_service.NotificationType</title>
<polygon fill="white" stroke="#ffaabb" points="104930.5,-4073 104930.5,-4142 105043.5,-4142 105043.5,-4073 104930.5,-4073"/>
<text text-anchor="start" x="104938.5" y="-4126.8" font-family="Arial" font-size="14.00">NotificationType</text>
<polyline fill="none" stroke="#ffaabb" points="104930.5,-4119 105043.5,-4119 "/>
<text text-anchor="start" x="104969.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="104930.5,-4096 105043.5,-4096 "/>
<text text-anchor="start" x="104985" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthError -->
<g id="node308" class="node">
<title>mcpgateway.services.oauth_manager.OAuthError</title>
<polygon fill="white" stroke="#ffaabb" points="105062,-4072.1 105062,-4142.9 105148,-4142.9 105148,-4072.1 105062,-4072.1"/>
<text text-anchor="start" x="105070" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">OAuthError</text>
<polyline fill="none" stroke="#ffaabb" points="105062,-4119.9 105148,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="105062,-4095.1 105148,-4095.1 "/>
<text text-anchor="start" x="105103" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager -->
<g id="node309" class="node">
<title>mcpgateway.services.oauth_manager.OAuthManager</title>
<polygon fill="white" stroke="#ffaabb" points="51140.5,-8356.5 51140.5,-8560.5 51819.5,-8560.5 51819.5,-8356.5 51140.5,-8356.5"/>
<text text-anchor="start" x="51433" y="-8545.3" font-family="Arial" font-size="14.00">OAuthManager</text>
<polyline fill="none" stroke="#ffaabb" points="51140.5,-8537.5 51819.5,-8537.5 "/>
<text text-anchor="start" x="51390.5" y="-8522.3" font-family="Arial" font-size="14.00">max_retries : int</text>
<text text-anchor="start" x="51390.5" y="-8507.3" font-family="Arial" font-size="14.00">request_timeout : int</text>
<text text-anchor="start" x="51390.5" y="-8492.3" font-family="Arial" font-size="14.00">settings</text>
<text text-anchor="start" x="51390.5" y="-8477.3" font-family="Arial" font-size="14.00">token_storage : Optional[Any]</text>
<polyline fill="none" stroke="#ffaabb" points="51140.5,-8469.5 51819.5,-8469.5 "/>
<text text-anchor="start" x="51148.5" y="-8454.3" font-family="Arial" font-size="14.00">complete_authorization_code_flow(gateway_id: str, code: str, state: str, credentials: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="51148.5" y="-8439.3" font-family="Arial" font-size="14.00">exchange_code_for_token(credentials: Dict[str, Any], code: str, state: str): str</text>
<text text-anchor="start" x="51148.5" y="-8424.3" font-family="Arial" font-size="14.00">get_access_token(credentials: Dict[str, Any]): str</text>
<text text-anchor="start" x="51148.5" y="-8409.3" font-family="Arial" font-size="14.00">get_access_token_for_user(gateway_id: str, app_user_email: str): Optional[str]</text>
<text text-anchor="start" x="51148.5" y="-8394.3" font-family="Arial" font-size="14.00">get_authorization_url(credentials: Dict[str, Any]): Dict[str, str]</text>
<text text-anchor="start" x="51148.5" y="-8379.3" font-family="Arial" font-size="14.00">initiate_authorization_code_flow(gateway_id: str, credentials: Dict[str, Any], app_user_email: str): Dict[str, str]</text>
<text text-anchor="start" x="51148.5" y="-8364.3" font-family="Arial" font-size="14.00">refresh_token(refresh_token: str, credentials: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.gateway_service.GatewayService -->
<g id="edge181" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.gateway_service.GatewayService</title>
<path fill="none" stroke="gray" d="M51330.47,-8560.57C51270.96,-8595.6 51200.23,-8631.06 51131,-8651 50766.09,-8756.12 50651.77,-8653.21 50272.73,-8701.55"/>
<polygon fill="gray" stroke="gray" points="50272.48,-8701.58 50267.05,-8706.33 50260.58,-8703.14 50266.01,-8698.39 50272.48,-8701.58"/>
<text text-anchor="middle" x="51096" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.services.resource_service.ResourceService -->
<g id="node467" class="node">
<title>mcpgateway.services.resource_service.ResourceService</title>
<polygon fill="white" stroke="#ffaabb" points="50278.5,-8717.5 50278.5,-9101.5 52681.5,-9101.5 52681.5,-8717.5 50278.5,-8717.5"/>
<text text-anchor="start" x="51428.5" y="-9086.3" font-family="Arial" font-size="14.00">ResourceService</text>
<polyline fill="none" stroke="#ffaabb" points="50278.5,-9078.5 52681.5,-9078.5 "/>
<text text-anchor="start" x="51432" y="-9063.3" font-family="Arial" font-size="14.00">oauth_manager</text>
<polyline fill="none" stroke="#ffaabb" points="50278.5,-9055.5 52681.5,-9055.5 "/>
<text text-anchor="start" x="50286.5" y="-9040.3" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): ResourceMetrics</text>
<text text-anchor="start" x="50286.5" y="-9025.3" font-family="Arial" font-size="14.00">convert_resource_to_read(resource: DbResource, include_metrics: bool): ResourceRead</text>
<text text-anchor="start" x="50286.5" y="-9010.3" font-family="Arial" font-size="14.00">create_ssl_context(ca_certificate: str): ssl.SSLContext</text>
<text text-anchor="start" x="50286.5" y="-8995.3" font-family="Arial" font-size="14.00">delete_resource(db: Session, resource_id: Union[int, str], user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="50286.5" y="-8980.3" font-family="Arial" font-size="14.00">get_resource_by_id(db: Session, resource_id: str, include_inactive: bool): ResourceRead</text>
<text text-anchor="start" x="50286.5" y="-8965.3" font-family="Arial" font-size="14.00">get_top_resources(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="50286.5" y="-8950.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="50286.5" y="-8935.3" font-family="Arial" font-size="14.00">invoke_resource(db: Session, resource_id: str, resource_uri: str, resource_template_uri: Optional[str], user_identity: Optional[Union[str, Dict[str, Any]]], meta_data: Optional[Dict[str, Any]], resource_obj: Optional[Any], gateway_obj: Optional[Any]): Any</text>
<text text-anchor="start" x="50286.5" y="-8920.3" font-family="Arial" font-size="14.00">list_resource_templates(db: Session, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]], tags: Optional[List[str]], visibility: Optional[str]): List[ResourceTemplate]</text>
<text text-anchor="start" x="50286.5" y="-8905.3" font-family="Arial" font-size="14.00">list_resources(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[ResourceRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="50286.5" y="-8890.3" font-family="Arial" font-size="14.00">list_resources_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[ResourceRead]</text>
<text text-anchor="start" x="50286.5" y="-8875.3" font-family="Arial" font-size="14.00">list_server_resources(db: Session, server_id: str, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]]): List[ResourceRead]</text>
<text text-anchor="start" x="50286.5" y="-8860.3" font-family="Arial" font-size="14.00">read_resource(db: Session, resource_id: Optional[Union[int, str]], resource_uri: Optional[str], request_id: Optional[str], user: Optional[str], server_id: Optional[str], include_inactive: bool, token_teams: Optional[List[str]], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], meta_data: Optional[Dict[str, Any]]): Union[ResourceContent, ResourceContents]</text>
<text text-anchor="start" x="50286.5" y="-8845.3" font-family="Arial" font-size="14.00">register_resource(db: Session, resource: ResourceCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): ResourceRead</text>
<text text-anchor="start" x="50286.5" y="-8830.3" font-family="Arial" font-size="14.00">register_resources_bulk(db: Session, resources: List[ResourceCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="50286.5" y="-8815.3" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="50286.5" y="-8800.3" font-family="Arial" font-size="14.00">set_resource_state(db: Session, resource_id: int, activate: bool, user_email: Optional[str], skip_cache_invalidation: bool): ResourceRead</text>
<text text-anchor="start" x="50286.5" y="-8785.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="50286.5" y="-8770.3" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="50286.5" y="-8755.3" font-family="Arial" font-size="14.00">subscribe_resource(db: Session, subscription: ResourceSubscription): None</text>
<text text-anchor="start" x="50286.5" y="-8740.3" font-family="Arial" font-size="14.00">unsubscribe_resource(db: Session, subscription: ResourceSubscription): None</text>
<text text-anchor="start" x="50286.5" y="-8725.3" font-family="Arial" font-size="14.00">update_resource(db: Session, resource_id: Union[int, str], resource_update: ResourceUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): ResourceRead</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.resource_service.ResourceService -->
<g id="edge182" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.resource_service.ResourceService</title>
<path fill="none" stroke="gray" d="M51480,-8560.54C51480,-8603.4 51480,-8654.96 51480,-8705.11"/>
<polygon fill="gray" stroke="gray" points="51480,-8705.14 51484,-8711.14 51480,-8717.14 51476,-8711.14 51480,-8705.14"/>
<text text-anchor="middle" x="51528" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.services.tool_service.ToolService -->
<g id="node610" class="node">
<title>mcpgateway.services.tool_service.ToolService</title>
<polygon fill="white" stroke="#ffaabb" points="52700,-8725 52700,-9094 55732,-9094 55732,-8725 52700,-8725"/>
<text text-anchor="start" x="54181" y="-9078.8" font-family="Arial" font-size="14.00">ToolService</text>
<polyline fill="none" stroke="#ffaabb" points="52700,-9071 55732,-9071 "/>
<text text-anchor="start" x="54168" y="-9055.8" font-family="Arial" font-size="14.00">oauth_manager</text>
<polyline fill="none" stroke="#ffaabb" points="52700,-9048 55732,-9048 "/>
<text text-anchor="start" x="52708" y="-9032.8" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="52708" y="-9017.8" font-family="Arial" font-size="14.00">convert_tool_to_read(tool: DbTool, include_metrics: bool, include_auth: bool, requesting_user_email: Optional[str], requesting_user_is_admin: bool, requesting_user_team_roles: Optional[Dict[str, str]]): ToolRead</text>
<text text-anchor="start" x="52708" y="-9002.8" font-family="Arial" font-size="14.00">create_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str]): DbTool</text>
<text text-anchor="start" x="52708" y="-8987.8" font-family="Arial" font-size="14.00">delete_tool(db: Session, tool_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="52708" y="-8972.8" font-family="Arial" font-size="14.00">delete_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="52708" y="-8957.8" font-family="Arial" font-size="14.00">get_tool(db: Session, tool_id: str, requesting_user_email: Optional[str], requesting_user_is_admin: bool, requesting_user_team_roles: Optional[Dict[str, str]]): ToolRead</text>
<text text-anchor="start" x="52708" y="-8942.8" font-family="Arial" font-size="14.00">get_top_tools(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="52708" y="-8927.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="52708" y="-8912.8" font-family="Arial" font-size="14.00">invoke_tool(db: Session, name: str, arguments: Dict[str, Any], request_headers: Optional[Dict[str, str]], app_user_email: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]], server_id: Optional[str], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], meta_data: Optional[Dict[str, Any]]): ToolResult</text>
<text text-anchor="start" x="52708" y="-8897.8" font-family="Arial" font-size="14.00">invoke_tool_direct(gateway_id: str, name: str, arguments: Dict[str, Any], request_headers: Optional[Dict[str, str]], meta_data: Optional[Dict[str, Any]], user_email: Optional[str], token_teams: Optional[List[str]]): types.CallToolResult</text>
<text text-anchor="start" x="52708" y="-8882.8" font-family="Arial" font-size="14.00">list_server_tools(db: Session, server_id: str, include_inactive: bool, include_metrics: bool, cursor: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]], _request_headers: Optional[Dict[str, str]], requesting_user_email: Optional[str], requesting_user_is_admin: bool, requesting_user_team_roles: Optional[Dict[str, str]]): List[ToolRead]</text>
<text text-anchor="start" x="52708" y="-8867.8" font-family="Arial" font-size="14.00">list_tools(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], gateway_id: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]], _request_headers: Optional[Dict[str, str]], requesting_user_email: Optional[str], requesting_user_is_admin: bool, requesting_user_team_roles: Optional[Dict[str, str]]): Union[tuple[List[ToolRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="52708" y="-8852.8" font-family="Arial" font-size="14.00">list_tools_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, _skip: int, _limit: int): tuple[List[ToolRead], Optional[str]]</text>
<text text-anchor="start" x="52708" y="-8837.8" font-family="Arial" font-size="14.00">register_tool(db: Session, tool: ToolCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: str): ToolRead</text>
<text text-anchor="start" x="52708" y="-8822.8" font-family="Arial" font-size="14.00">register_tools_bulk(db: Session, tools: List[ToolCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="52708" y="-8807.8" font-family="Arial" font-size="14.00">reset_metrics(db: Session, tool_id: Optional[int]): None</text>
<text text-anchor="start" x="52708" y="-8792.8" font-family="Arial" font-size="14.00">set_tool_state(db: Session, tool_id: str, activate: bool, reachable: bool, user_email: Optional[str], skip_cache_invalidation: bool): ToolRead</text>
<text text-anchor="start" x="52708" y="-8777.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="52708" y="-8762.8" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="52708" y="-8747.8" font-family="Arial" font-size="14.00">update_tool(db: Session, tool_id: str, tool_update: ToolUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): ToolRead</text>
<text text-anchor="start" x="52708" y="-8732.8" font-family="Arial" font-size="14.00">update_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str]): Optional[ToolRead]</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.tool_service.ToolService -->
<g id="edge183" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.tool_service.ToolService</title>
<path fill="none" stroke="gray" d="M51819.61,-8515.23C52137.18,-8567.35 52629.63,-8648.16 53085.71,-8723.01"/>
<polygon fill="gray" stroke="gray" points="53085.99,-8723.06 53092.56,-8720.08 53097.83,-8725 53091.26,-8727.97 53085.99,-8723.06"/>
<text text-anchor="middle" x="52896" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.db.OAuthState -->
<g id="node310" class="node">
<title>mcpgateway.db.OAuthState</title>
<polygon fill="white" stroke="#77aadd" points="6130,-4020.5 6130,-4194.5 6366,-4194.5 6366,-4020.5 6130,-4020.5"/>
<text text-anchor="start" x="6212.5" y="-4179.3" font-family="Arial" font-size="14.00">OAuthState</text>
<polyline fill="none" stroke="#77aadd" points="6130,-4171.5 6366,-4171.5 "/>
<text text-anchor="start" x="6138" y="-4156.3" font-family="Arial" font-size="14.00">code_verifier : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6138" y="-4141.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6138" y="-4126.3" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="6138" y="-4111.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="6138" y="-4096.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-4081.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-4066.3" font-family="Arial" font-size="14.00">state : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-4051.3" font-family="Arial" font-size="14.00">used : Mapped[bool]</text>
<polyline fill="none" stroke="#77aadd" points="6130,-4043.5 6366,-4043.5 "/>
<text text-anchor="start" x="6246" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.OAuthState&#45;&gt;mcpgateway.db.Base -->
<g id="edge28" class="edge">
<title>mcpgateway.db.OAuthState&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6244.05,-4194.61C6219.05,-4758.48 6092.61,-7910.24 6375,-8215 6570.96,-8426.48 8730.46,-8453.66 9181.66,-8457.04"/>
<polygon fill="none" stroke="gray" points="9181.66,-8460.54 9191.68,-8457.11 9181.71,-8453.54 9181.66,-8460.54"/>
</g>
<!-- mcpgateway.db.OAuthToken -->
<g id="node311" class="node">
<title>mcpgateway.db.OAuthToken</title>
<polygon fill="white" stroke="#77aadd" points="6384,-3983 6384,-4232 6642,-4232 6642,-3983 6384,-3983"/>
<text text-anchor="start" x="6475" y="-4216.8" font-family="Arial" font-size="14.00">OAuthToken</text>
<polyline fill="none" stroke="#77aadd" points="6384,-4209 6642,-4209 "/>
<text text-anchor="start" x="6392" y="-4193.8" font-family="Arial" font-size="14.00">access_token : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-4178.8" font-family="Arial" font-size="14.00">app_user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="6392" y="-4163.8" font-family="Arial" font-size="14.00">app_user_email : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-4148.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6392" y="-4133.8" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="6392" y="-4118.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="6392" y="-4103.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-4088.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-4073.8" font-family="Arial" font-size="14.00">refresh_token : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6392" y="-4058.8" font-family="Arial" font-size="14.00">scopes : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="6392" y="-4043.8" font-family="Arial" font-size="14.00">token_type : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-4028.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="6392" y="-4013.8" font-family="Arial" font-size="14.00">user_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="6384,-4006 6642,-4006 "/>
<text text-anchor="start" x="6511" y="-3990.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.OAuthToken&#45;&gt;mcpgateway.db.Base -->
<g id="edge29" class="edge">
<title>mcpgateway.db.OAuthToken&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6507.72,-4232.05C6481.01,-4885.28 6372.76,-7917.82 6651,-8215 6828.27,-8404.33 8757.63,-8448.71 9181.83,-8456.21"/>
<polygon fill="none" stroke="gray" points="9181.81,-8459.71 9191.87,-8456.38 9181.93,-8452.71 9181.81,-8459.71"/>
</g>
<!-- mcpgateway.services.gateway_service.OAuthToolValidationError -->
<g id="node312" class="node">
<title>mcpgateway.services.gateway_service.OAuthToolValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="65214.5,-4072.1 65214.5,-4142.9 65383.5,-4142.9 65383.5,-4072.1 65214.5,-4072.1"/>
<text text-anchor="start" x="65222.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">OAuthToolValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="65214.5,-4119.9 65383.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="65214.5,-4095.1 65383.5,-4095.1 "/>
<text text-anchor="start" x="65297" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.OAuthToolValidationError&#45;&gt;mcpgateway.services.gateway_service.GatewayConnectionError -->
<g id="edge101" class="edge">
<title>mcpgateway.services.gateway_service.OAuthToolValidationError&#45;&gt;mcpgateway.services.gateway_service.GatewayConnectionError</title>
<path fill="none" stroke="gray" d="M65299,-4143.19C65299,-4527.25 65299,-7979.28 65299,-8412.83"/>
<polygon fill="none" stroke="gray" points="65295.5,-8413.08 65299,-8423.08 65302.5,-8413.08 65295.5,-8413.08"/>
</g>
<!-- mcpgateway.db.ObservabilityEvent -->
<g id="node313" class="node">
<title>mcpgateway.db.ObservabilityEvent</title>
<polygon fill="white" stroke="#77aadd" points="6660.5,-3990.5 6660.5,-4224.5 6945.5,-4224.5 6945.5,-3990.5 6660.5,-3990.5"/>
<text text-anchor="start" x="6746" y="-4209.3" font-family="Arial" font-size="14.00">ObservabilityEvent</text>
<polyline fill="none" stroke="#77aadd" points="6660.5,-4201.5 6945.5,-4201.5 "/>
<text text-anchor="start" x="6668.5" y="-4186.3" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="6668.5" y="-4171.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6668.5" y="-4156.3" font-family="Arial" font-size="14.00">exception_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-4141.3" font-family="Arial" font-size="14.00">exception_stacktrace : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-4126.3" font-family="Arial" font-size="14.00">exception_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="6668.5" y="-4096.3" font-family="Arial" font-size="14.00">message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-4081.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="6668.5" y="-4066.3" font-family="Arial" font-size="14.00">severity : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-4051.3" font-family="Arial" font-size="14.00">span : Mapped[&#39;ObservabilitySpan&#39;]</text>
<text text-anchor="start" x="6668.5" y="-4036.3" font-family="Arial" font-size="14.00">span_id : Mapped[str]</text>
<text text-anchor="start" x="6668.5" y="-4021.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="6660.5,-4013.5 6945.5,-4013.5 "/>
<text text-anchor="start" x="6801" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge30" class="edge">
<title>mcpgateway.db.ObservabilityEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6798.46,-4224.64C6774.68,-4861.93 6675.93,-7916.39 6955,-8215 7110.37,-8381.25 8788.16,-8442.89 9181.72,-8455.11"/>
<polygon fill="none" stroke="gray" points="9181.78,-8458.62 9191.89,-8455.43 9182,-8451.62 9181.78,-8458.62"/>
</g>
<!-- mcpgateway.schemas.ObservabilityEventBase -->
<g id="node314" class="node">
<title>mcpgateway.schemas.ObservabilityEventBase</title>
<polygon fill="white" stroke="#77aadd" points="105240,-8364 105240,-8553 105468,-8553 105468,-8364 105240,-8364"/>
<text text-anchor="start" x="105281.5" y="-8537.8" font-family="Arial" font-size="14.00">ObservabilityEventBase</text>
<polyline fill="none" stroke="#77aadd" points="105240,-8530 105468,-8530 "/>
<text text-anchor="start" x="105248" y="-8514.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="105248" y="-8499.8" font-family="Arial" font-size="14.00">exception_message : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8484.8" font-family="Arial" font-size="14.00">exception_stacktrace : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8469.8" font-family="Arial" font-size="14.00">exception_type : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8454.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8439.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8424.8" font-family="Arial" font-size="14.00">severity : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8409.8" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<text text-anchor="start" x="105248" y="-8394.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="105240,-8387 105468,-8387 "/>
<text text-anchor="start" x="105352" y="-8371.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventCreate -->
<g id="node315" class="node">
<title>mcpgateway.schemas.ObservabilityEventCreate</title>
<polygon fill="white" stroke="#77aadd" points="105166,-4072.1 105166,-4142.9 105336,-4142.9 105336,-4072.1 105166,-4072.1"/>
<text text-anchor="start" x="105174" y="-4127.7" font-family="Arial" font-size="14.00">ObservabilityEventCreate</text>
<polyline fill="none" stroke="#77aadd" points="105166,-4119.9 105336,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="105166,-4095.1 105336,-4095.1 "/>
<text text-anchor="start" x="105249" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventCreate&#45;&gt;mcpgateway.schemas.ObservabilityEventBase -->
<g id="edge81" class="edge">
<title>mcpgateway.schemas.ObservabilityEventCreate&#45;&gt;mcpgateway.schemas.ObservabilityEventBase</title>
<path fill="none" stroke="gray" d="M105251.61,-4143.21C105256.75,-4435.9 105294.21,-6522.1 105345,-8215 105346.37,-8260.52 105348.18,-8310.82 105349.83,-8353.77"/>
<polygon fill="none" stroke="gray" points="105346.34,-8354.09 105350.22,-8363.95 105353.33,-8353.82 105346.34,-8354.09"/>
</g>
<!-- mcpgateway.schemas.ObservabilityEventRead -->
<g id="node316" class="node">
<title>mcpgateway.schemas.ObservabilityEventRead</title>
<polygon fill="white" stroke="#77aadd" points="105354.5,-4058 105354.5,-4157 105557.5,-4157 105557.5,-4058 105354.5,-4058"/>
<text text-anchor="start" x="105383" y="-4141.8" font-family="Arial" font-size="14.00">ObservabilityEventRead</text>
<polyline fill="none" stroke="#77aadd" points="105354.5,-4134 105557.5,-4134 "/>
<text text-anchor="start" x="105362.5" y="-4118.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="105362.5" y="-4103.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="105362.5" y="-4088.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="105354.5,-4081 105557.5,-4081 "/>
<text text-anchor="start" x="105454" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventRead&#45;&gt;mcpgateway.schemas.ObservabilityEventBase -->
<g id="edge82" class="edge">
<title>mcpgateway.schemas.ObservabilityEventRead&#45;&gt;mcpgateway.schemas.ObservabilityEventBase</title>
<path fill="none" stroke="gray" d="M105454.85,-4157.34C105444.75,-4588.14 105370.88,-7737.97 105356.44,-8353.39"/>
<polygon fill="none" stroke="gray" points="105352.94,-8353.5 105356.2,-8363.58 105359.94,-8353.66 105352.94,-8353.5"/>
</g>
<!-- mcpgateway.db.ObservabilityMetric -->
<g id="node317" class="node">
<title>mcpgateway.db.ObservabilityMetric</title>
<polygon fill="white" stroke="#77aadd" points="6964,-3998 6964,-4217 7238,-4217 7238,-3998 6964,-3998"/>
<text text-anchor="start" x="7042.5" y="-4201.8" font-family="Arial" font-size="14.00">ObservabilityMetric</text>
<polyline fill="none" stroke="#77aadd" points="6964,-4194 7238,-4194 "/>
<text text-anchor="start" x="6972" y="-4178.8" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="6972" y="-4163.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6972" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="6972" y="-4133.8" font-family="Arial" font-size="14.00">metric_type : Mapped[str]</text>
<text text-anchor="start" x="6972" y="-4118.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="6972" y="-4103.8" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-4088.8" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-4073.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="6972" y="-4058.8" font-family="Arial" font-size="14.00">trace_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-4043.8" font-family="Arial" font-size="14.00">unit : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-4028.8" font-family="Arial" font-size="14.00">value : Mapped[float]</text>
<polyline fill="none" stroke="#77aadd" points="6964,-4021 7238,-4021 "/>
<text text-anchor="start" x="7099" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge31" class="edge">
<title>mcpgateway.db.ObservabilityMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7096.64,-4217.12C7072.82,-4837.26 6969.32,-7912.93 7247,-8215 7380.43,-8360.15 8819.54,-8436.74 9181.67,-8453.81"/>
<polygon fill="none" stroke="gray" points="9181.66,-8457.31 9191.81,-8454.28 9181.98,-8450.32 9181.66,-8457.31"/>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricBase -->
<g id="node318" class="node">
<title>mcpgateway.schemas.ObservabilityMetricBase</title>
<polygon fill="white" stroke="#77aadd" points="105674.5,-8364 105674.5,-8553 105891.5,-8553 105891.5,-8364 105674.5,-8364"/>
<text text-anchor="start" x="105709" y="-8537.8" font-family="Arial" font-size="14.00">ObservabilityMetricBase</text>
<polyline fill="none" stroke="#77aadd" points="105674.5,-8530 105891.5,-8530 "/>
<text text-anchor="start" x="105682.5" y="-8514.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="105682.5" y="-8499.8" font-family="Arial" font-size="14.00">metric_type : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8484.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8469.8" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8454.8" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8439.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="105682.5" y="-8424.8" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8409.8" font-family="Arial" font-size="14.00">unit : Optional[str]</text>
<text text-anchor="start" x="105682.5" y="-8394.8" font-family="Arial" font-size="14.00">value : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="105674.5,-8387 105891.5,-8387 "/>
<text text-anchor="start" x="105781" y="-8371.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricCreate -->
<g id="node319" class="node">
<title>mcpgateway.schemas.ObservabilityMetricCreate</title>
<polygon fill="white" stroke="#77aadd" points="105575.5,-4072.1 105575.5,-4142.9 105748.5,-4142.9 105748.5,-4072.1 105575.5,-4072.1"/>
<text text-anchor="start" x="105583.5" y="-4127.7" font-family="Arial" font-size="14.00">ObservabilityMetricCreate</text>
<polyline fill="none" stroke="#77aadd" points="105575.5,-4119.9 105748.5,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="105575.5,-4095.1 105748.5,-4095.1 "/>
<text text-anchor="start" x="105660" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricCreate&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase -->
<g id="edge83" class="edge">
<title>mcpgateway.schemas.ObservabilityMetricCreate&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase</title>
<path fill="none" stroke="gray" d="M105661.69,-4143.26C105659.34,-4436.3 105647.04,-6524.9 105757,-8215 105759.96,-8260.57 105765.05,-8310.79 105769.93,-8353.64"/>
<polygon fill="none" stroke="gray" points="105766.48,-8354.27 105771.11,-8363.8 105773.44,-8353.47 105766.48,-8354.27"/>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricRead -->
<g id="node320" class="node">
<title>mcpgateway.schemas.ObservabilityMetricRead</title>
<polygon fill="white" stroke="#77aadd" points="105766.5,-4058 105766.5,-4157 105969.5,-4157 105969.5,-4058 105766.5,-4058"/>
<text text-anchor="start" x="105793.5" y="-4141.8" font-family="Arial" font-size="14.00">ObservabilityMetricRead</text>
<polyline fill="none" stroke="#77aadd" points="105766.5,-4134 105969.5,-4134 "/>
<text text-anchor="start" x="105774.5" y="-4118.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="105774.5" y="-4103.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="105774.5" y="-4088.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="105766.5,-4081 105969.5,-4081 "/>
<text text-anchor="start" x="105866" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricRead&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase -->
<g id="edge84" class="edge">
<title>mcpgateway.schemas.ObservabilityMetricRead&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase</title>
<path fill="none" stroke="gray" d="M105867.05,-4157.34C105858.63,-4588.14 105797.06,-7737.97 105785.03,-8353.39"/>
<polygon fill="none" stroke="gray" points="105781.53,-8353.51 105784.84,-8363.58 105788.53,-8353.65 105781.53,-8353.51"/>
</g>
<!-- mcpgateway.middleware.observability_middleware.ObservabilityMiddleware -->
<g id="node321" class="node">
<title>mcpgateway.middleware.observability_middleware.ObservabilityMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="107713,-8416.5 107713,-8500.5 108077,-8500.5 108077,-8416.5 107713,-8416.5"/>
<text text-anchor="start" x="107820.5" y="-8485.3" font-family="Arial" font-size="14.00">ObservabilityMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="107713,-8477.5 108077,-8477.5 "/>
<text text-anchor="start" x="107834.5" y="-8462.3" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="107834.5" y="-8447.3" font-family="Arial" font-size="14.00">service</text>
<polyline fill="none" stroke="#eedd88" points="107713,-8439.5 108077,-8439.5 "/>
<text text-anchor="start" x="107721" y="-8424.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.schemas.ObservabilityQueryParams -->
<g id="node322" class="node">
<title>mcpgateway.schemas.ObservabilityQueryParams</title>
<polygon fill="white" stroke="#77aadd" points="109820.5,-4005.5 109820.5,-4209.5 110023.5,-4209.5 110023.5,-4005.5 109820.5,-4005.5"/>
<text text-anchor="start" x="109840" y="-4194.3" font-family="Arial" font-size="14.00">ObservabilityQueryParams</text>
<polyline fill="none" stroke="#77aadd" points="109820.5,-4186.5 110023.5,-4186.5 "/>
<text text-anchor="start" x="109828.5" y="-4171.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="109828.5" y="-4156.3" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="109828.5" y="-4141.3" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="109828.5" y="-4126.3" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="109828.5" y="-4111.3" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<text text-anchor="start" x="109828.5" y="-4096.3" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="109828.5" y="-4081.3" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="109828.5" y="-4066.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="109828.5" y="-4051.3" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<text text-anchor="start" x="109828.5" y="-4036.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="109820.5,-4028.5 110023.5,-4028.5 "/>
<text text-anchor="start" x="109920" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySavedQuery -->
<g id="node323" class="node">
<title>mcpgateway.db.ObservabilitySavedQuery</title>
<polygon fill="white" stroke="#77aadd" points="7256,-4005.5 7256,-4209.5 7528,-4209.5 7528,-4005.5 7256,-4005.5"/>
<text text-anchor="start" x="7314.5" y="-4194.3" font-family="Arial" font-size="14.00">ObservabilitySavedQuery</text>
<polyline fill="none" stroke="#77aadd" points="7256,-4186.5 7528,-4186.5 "/>
<text text-anchor="start" x="7264" y="-4171.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7264" y="-4156.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7264" y="-4141.3" font-family="Arial" font-size="14.00">filter_config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="7264" y="-4126.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="7264" y="-4111.3" font-family="Arial" font-size="14.00">is_shared : Mapped[bool]</text>
<text text-anchor="start" x="7264" y="-4096.3" font-family="Arial" font-size="14.00">last_used_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7264" y="-4081.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7264" y="-4066.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="7264" y="-4051.3" font-family="Arial" font-size="14.00">use_count : Mapped[int]</text>
<text text-anchor="start" x="7264" y="-4036.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="7256,-4028.5 7528,-4028.5 "/>
<text text-anchor="start" x="7390" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySavedQuery&#45;&gt;mcpgateway.db.Base -->
<g id="edge32" class="edge">
<title>mcpgateway.db.ObservabilitySavedQuery&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7387.99,-4209.58C7365.08,-4811.61 7261.26,-7908.91 7537,-8215 7648.89,-8339.2 8853.05,-8429.59 9181.6,-8452.07"/>
<polygon fill="none" stroke="gray" points="9181.78,-8455.59 9191.99,-8452.77 9182.25,-8448.6 9181.78,-8455.59"/>
</g>
<!-- mcpgateway.services.observability_service.ObservabilityService -->
<g id="node324" class="node">
<title>mcpgateway.services.observability_service.ObservabilityService</title>
<polygon fill="white" stroke="#ffaabb" points="105988,-3959.6 105988,-4255.4 109802,-4255.4 109802,-3959.6 105988,-3959.6"/>
<text text-anchor="start" x="107833" y="-4240.2" font-family="Arial" font-size="14.00">ObservabilityService</text>
<polyline fill="none" stroke="#ffaabb" points="105988,-4232.4 109802,-4232.4 "/>
<polyline fill="none" stroke="#ffaabb" points="105988,-4207.6 109802,-4207.6 "/>
<text text-anchor="start" x="105996" y="-4192.4" font-family="Arial" font-size="14.00">add_event(db: Session, span_id: str, name: str, severity: Optional[str], message: Optional[str], exception_type: Optional[str], exception_message: Optional[str], exception_stacktrace: Optional[str], attributes: Optional[Dict[str, Any]]): int</text>
<text text-anchor="start" x="105996" y="-4177.4" font-family="Arial" font-size="14.00">delete_old_traces(db: Session, before_time: datetime): int</text>
<text text-anchor="start" x="105996" y="-4162.4" font-family="Arial" font-size="14.00">end_span(db: Session, span_id: str, status: str, status_message: Optional[str], attributes: Optional[Dict[str, Any]], commit: bool): None</text>
<text text-anchor="start" x="105996" y="-4147.4" font-family="Arial" font-size="14.00">end_trace(db: Session, trace_id: str, status: str, status_message: Optional[str], http_status_code: Optional[int], attributes: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="105996" y="-4132.4" font-family="Arial" font-size="14.00">get_trace(db: Session, trace_id: str, include_spans: bool): Optional[ObservabilityTrace]</text>
<text text-anchor="start" x="105996" y="-4117.4" font-family="Arial" font-size="14.00">get_trace_with_spans(db: Session, trace_id: str): Optional[ObservabilityTrace]</text>
<text text-anchor="start" x="105996" y="-4102.4" font-family="Arial" font-size="14.00">query_spans(db: Session, trace_id: Optional[str], trace_id_in: Optional[List[str]], resource_type: Optional[str], resource_type_in: Optional[List[str]], resource_name: Optional[str], resource_name_in: Optional[List[str]], name_contains: Optional[str], kind: Optional[str], kind_in: Optional[List[str]], status: Optional[str], status_in: Optional[List[str]], status_not_in: Optional[List[str]], start_time: Optional[datetime], end_time: Optional[datetime], min_duration_ms: Optional[float], max_duration_ms: Optional[float], attribute_filters: Optional[Dict[str, Any]], attribute_search: Optional[str], order_by: str, limit: int, offset: int): List[ObservabilitySpan]</text>
<text text-anchor="start" x="105996" y="-4087.4" font-family="Arial" font-size="14.00">query_traces(db: Session, start_time: Optional[datetime], end_time: Optional[datetime], min_duration_ms: Optional[float], max_duration_ms: Optional[float], status: Optional[str], status_in: Optional[List[str]], status_not_in: Optional[List[str]], http_status_code: Optional[int], http_status_code_in: Optional[List[int]], http_method: Optional[str], http_method_in: Optional[List[str]], user_email: Optional[str], user_email_in: Optional[List[str]], attribute_filters: Optional[Dict[str, Any]], attribute_filters_or: Optional[Dict[str, Any]], attribute_search: Optional[str], name_contains: Optional[str], order_by: str, limit: int, offset: int): List[ObservabilityTrace]</text>
<text text-anchor="start" x="105996" y="-4072.4" font-family="Arial" font-size="14.00">record_metric(db: Session, name: str, value: float, metric_type: str, unit: Optional[str], resource_type: Optional[str], resource_id: Optional[str], trace_id: Optional[str], attributes: Optional[Dict[str, Any]]): int</text>
<text text-anchor="start" x="105996" y="-4057.4" font-family="Arial" font-size="14.00">record_token_usage(db: Session, span_id: Optional[str], trace_id: Optional[str], model: Optional[str], input_tokens: int, output_tokens: int, total_tokens: Optional[int], estimated_cost_usd: Optional[float], provider: Optional[str]): None</text>
<text text-anchor="start" x="105996" y="-4042.4" font-family="Arial" font-size="14.00">record_transport_activity(db: Session, transport_type: str, operation: str, message_count: int, bytes_sent: Optional[int], bytes_received: Optional[int], connection_id: Optional[str], error: Optional[str]): None</text>
<text text-anchor="start" x="105996" y="-4027.4" font-family="Arial" font-size="14.00">start_span(db: Session, trace_id: str, name: str, parent_span_id: Optional[str], kind: str, resource_name: Optional[str], resource_type: Optional[str], resource_id: Optional[str], attributes: Optional[Dict[str, Any]], commit: bool): str</text>
<text text-anchor="start" x="105996" y="-4012.4" font-family="Arial" font-size="14.00">start_trace(db: Session, name: str, trace_id: Optional[str], parent_span_id: Optional[str], http_method: Optional[str], http_url: Optional[str], user_email: Optional[str], user_agent: Optional[str], ip_address: Optional[str], attributes: Optional[Dict[str, Any]], resource_attributes: Optional[Dict[str, Any]]): str</text>
<text text-anchor="start" x="105996" y="-3997.4" font-family="Arial" font-size="14.00">trace_a2a_request(db: Session, agent_id: str, agent_name: Optional[str], operation: Optional[str], request_data: Optional[Dict[str, Any]])</text>
<text text-anchor="start" x="105996" y="-3982.4" font-family="Arial" font-size="14.00">trace_span(db: Session, trace_id: str, name: str, parent_span_id: Optional[str], resource_type: Optional[str], resource_name: Optional[str], attributes: Optional[Dict[str, Any]])</text>
<text text-anchor="start" x="105996" y="-3967.4" font-family="Arial" font-size="14.00">trace_tool_invocation(db: Session, tool_name: str, arguments: Dict[str, Any], integration_type: Optional[str])</text>
</g>
<!-- mcpgateway.services.observability_service.ObservabilityService&#45;&gt;mcpgateway.middleware.observability_middleware.ObservabilityMiddleware -->
<g id="edge184" class="edge">
<title>mcpgateway.services.observability_service.ObservabilityService&#45;&gt;mcpgateway.middleware.observability_middleware.ObservabilityMiddleware</title>
<path fill="none" stroke="gray" d="M107895,-4255.69C107895,-4959.47 107895,-7965.42 107895,-8404.02"/>
<polygon fill="gray" stroke="gray" points="107895,-8404.24 107899,-8410.24 107895,-8416.24 107891,-8410.24 107895,-8404.24"/>
<text text-anchor="middle" x="107916.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">service</text>
</g>
<!-- mcpgateway.db.ObservabilitySpan -->
<g id="node325" class="node">
<title>mcpgateway.db.ObservabilitySpan</title>
<polygon fill="white" stroke="#77aadd" points="7546.5,-3945.5 7546.5,-4269.5 7881.5,-4269.5 7881.5,-3945.5 7546.5,-3945.5"/>
<text text-anchor="start" x="7658.5" y="-4254.3" font-family="Arial" font-size="14.00">ObservabilitySpan</text>
<polyline fill="none" stroke="#77aadd" points="7546.5,-4246.5 7881.5,-4246.5 "/>
<text text-anchor="start" x="7554.5" y="-4231.3" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7554.5" y="-4216.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7554.5" y="-4201.3" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="7554.5" y="-4186.3" font-family="Arial" font-size="14.00">end_time : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7554.5" y="-4171.3" font-family="Arial" font-size="14.00">events : Mapped[List[&#39;ObservabilityEvent&#39;]]</text>
<text text-anchor="start" x="7554.5" y="-4156.3" font-family="Arial" font-size="14.00">kind : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-4141.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-4126.3" font-family="Arial" font-size="14.00">parent_span : Mapped[Optional[&#39;ObservabilitySpan&#39;]]</text>
<text text-anchor="start" x="7554.5" y="-4111.3" font-family="Arial" font-size="14.00">parent_span_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-4096.3" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-4081.3" font-family="Arial" font-size="14.00">resource_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-4066.3" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-4051.3" font-family="Arial" font-size="14.00">span_id : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-4036.3" font-family="Arial" font-size="14.00">start_time : Mapped[datetime]</text>
<text text-anchor="start" x="7554.5" y="-4021.3" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-4006.3" font-family="Arial" font-size="14.00">status_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3991.3" font-family="Arial" font-size="14.00">trace : Mapped[&#39;ObservabilityTrace&#39;]</text>
<text text-anchor="start" x="7554.5" y="-3976.3" font-family="Arial" font-size="14.00">trace_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="7546.5,-3968.5 7881.5,-3968.5 "/>
<text text-anchor="start" x="7712" y="-3953.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySpan&#45;&gt;mcpgateway.db.Base -->
<g id="edge33" class="edge">
<title>mcpgateway.db.ObservabilitySpan&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7695.52,-4269.52C7620.58,-4954.42 7367.59,-7617.66 7891,-8215 8062.28,-8410.47 8912.29,-8448.64 9181.84,-8455.87"/>
<polygon fill="none" stroke="gray" points="9181.86,-8459.37 9191.95,-8456.13 9182.05,-8452.37 9181.86,-8459.37"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanBase -->
<g id="node326" class="node">
<title>mcpgateway.schemas.ObservabilitySpanBase</title>
<polygon fill="white" stroke="#77aadd" points="109936.5,-8785 109936.5,-9034 110153.5,-9034 110153.5,-8785 109936.5,-8785"/>
<text text-anchor="start" x="109974" y="-9018.8" font-family="Arial" font-size="14.00">ObservabilitySpanBase</text>
<polyline fill="none" stroke="#77aadd" points="109936.5,-9011 110153.5,-9011 "/>
<text text-anchor="start" x="109944.5" y="-8995.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="109944.5" y="-8980.8" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="109944.5" y="-8965.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="109944.5" y="-8950.8" font-family="Arial" font-size="14.00">kind : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8935.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8920.8" font-family="Arial" font-size="14.00">parent_span_id : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8905.8" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8890.8" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8875.8" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8860.8" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="109944.5" y="-8845.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8830.8" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<text text-anchor="start" x="109944.5" y="-8815.8" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="109936.5,-8808 110153.5,-8808 "/>
<text text-anchor="start" x="110043" y="-8792.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanCreate -->
<g id="node327" class="node">
<title>mcpgateway.schemas.ObservabilitySpanCreate</title>
<polygon fill="white" stroke="#77aadd" points="109904.5,-8424 109904.5,-8493 110071.5,-8493 110071.5,-8424 109904.5,-8424"/>
<text text-anchor="start" x="109912.5" y="-8477.8" font-family="Arial" font-size="14.00">ObservabilitySpanCreate</text>
<polyline fill="none" stroke="#77aadd" points="109904.5,-8470 110071.5,-8470 "/>
<text text-anchor="start" x="109921.5" y="-8454.8" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="109904.5,-8447 110071.5,-8447 "/>
<text text-anchor="start" x="109986" y="-8431.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanCreate&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase -->
<g id="edge85" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanCreate&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase</title>
<path fill="none" stroke="gray" d="M109992.28,-8493.25C109999.78,-8552.3 110015.66,-8677.37 110028.04,-8774.9"/>
<polygon fill="none" stroke="gray" points="110024.57,-8775.37 110029.3,-8784.85 110031.52,-8774.49 110024.57,-8775.37"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanRead -->
<g id="node328" class="node">
<title>mcpgateway.schemas.ObservabilitySpanRead</title>
<polygon fill="white" stroke="#77aadd" points="110089.5,-8409 110089.5,-8508 110292.5,-8508 110292.5,-8409 110089.5,-8409"/>
<text text-anchor="start" x="110119.5" y="-8492.8" font-family="Arial" font-size="14.00">ObservabilitySpanRead</text>
<polyline fill="none" stroke="#77aadd" points="110089.5,-8485 110292.5,-8485 "/>
<text text-anchor="start" x="110097.5" y="-8469.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="110097.5" y="-8454.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="110097.5" y="-8439.8" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110089.5,-8432 110292.5,-8432 "/>
<text text-anchor="start" x="110189" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanRead&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase -->
<g id="edge86" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanRead&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase</title>
<path fill="none" stroke="gray" d="M110175.1,-8508.41C110154.45,-8571.89 110117.61,-8685.19 110088.39,-8775.05"/>
<polygon fill="none" stroke="gray" points="110085,-8774.18 110085.23,-8784.77 110091.65,-8776.35 110085,-8774.18"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanUpdate -->
<g id="node329" class="node">
<title>mcpgateway.schemas.ObservabilitySpanUpdate</title>
<polygon fill="white" stroke="#77aadd" points="110359.5,-4043 110359.5,-4172 110576.5,-4172 110576.5,-4043 110359.5,-4043"/>
<text text-anchor="start" x="110391" y="-4156.8" font-family="Arial" font-size="14.00">ObservabilitySpanUpdate</text>
<polyline fill="none" stroke="#77aadd" points="110359.5,-4149 110576.5,-4149 "/>
<text text-anchor="start" x="110367.5" y="-4133.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="110367.5" y="-4118.8" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="110367.5" y="-4103.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="110367.5" y="-4088.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="110367.5" y="-4073.8" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110359.5,-4066 110576.5,-4066 "/>
<text text-anchor="start" x="110466" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanWithEvents -->
<g id="node330" class="node">
<title>mcpgateway.schemas.ObservabilitySpanWithEvents</title>
<polygon fill="white" stroke="#77aadd" points="110041,-4073 110041,-4142 110341,-4142 110341,-4073 110041,-4073"/>
<text text-anchor="start" x="110101" y="-4126.8" font-family="Arial" font-size="14.00">ObservabilitySpanWithEvents</text>
<polyline fill="none" stroke="#77aadd" points="110041,-4119 110341,-4119 "/>
<text text-anchor="start" x="110049" y="-4103.8" font-family="Arial" font-size="14.00">events : Optional[List[ObservabilityEventRead]]</text>
<polyline fill="none" stroke="#77aadd" points="110041,-4096 110341,-4096 "/>
<text text-anchor="start" x="110189" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanWithEvents&#45;&gt;mcpgateway.schemas.ObservabilitySpanRead -->
<g id="edge87" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanWithEvents&#45;&gt;mcpgateway.schemas.ObservabilitySpanRead</title>
<path fill="none" stroke="gray" d="M110191,-4142.25C110191,-4517.68 110191,-7908.68 110191,-8398.61"/>
<polygon fill="none" stroke="gray" points="110187.5,-8398.65 110191,-8408.65 110194.5,-8398.65 110187.5,-8398.65"/>
</g>
<!-- mcpgateway.db.ObservabilityTrace -->
<g id="node331" class="node">
<title>mcpgateway.db.ObservabilityTrace</title>
<polygon fill="white" stroke="#77aadd" points="7900,-3953 7900,-4262 8234,-4262 8234,-3953 7900,-3953"/>
<text text-anchor="start" x="8010" y="-4246.8" font-family="Arial" font-size="14.00">ObservabilityTrace</text>
<polyline fill="none" stroke="#77aadd" points="7900,-4239 8234,-4239 "/>
<text text-anchor="start" x="7908" y="-4223.8" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7908" y="-4208.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7908" y="-4193.8" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="7908" y="-4178.8" font-family="Arial" font-size="14.00">end_time : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7908" y="-4163.8" font-family="Arial" font-size="14.00">http_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-4148.8" font-family="Arial" font-size="14.00">http_status_code : Mapped[Optional[int]]</text>
<text text-anchor="start" x="7908" y="-4133.8" font-family="Arial" font-size="14.00">http_url : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-4118.8" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-4103.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-4088.8" font-family="Arial" font-size="14.00">resource_attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7908" y="-4073.8" font-family="Arial" font-size="14.00">spans : Mapped[List[&#39;ObservabilitySpan&#39;]]</text>
<text text-anchor="start" x="7908" y="-4058.8" font-family="Arial" font-size="14.00">start_time : Mapped[datetime]</text>
<text text-anchor="start" x="7908" y="-4043.8" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-4028.8" font-family="Arial" font-size="14.00">status_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-4013.8" font-family="Arial" font-size="14.00">trace_id : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-3998.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3983.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="7900,-3976 8234,-3976 "/>
<text text-anchor="start" x="8065" y="-3960.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityTrace&#45;&gt;mcpgateway.db.Base -->
<g id="edge34" class="edge">
<title>mcpgateway.db.ObservabilityTrace&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8050.06,-4262.2C7979.52,-4933.33 7735.69,-7600.61 8243,-8215 8363.47,-8360.9 8960.55,-8429.68 9181.56,-8450.44"/>
<polygon fill="none" stroke="gray" points="9181.51,-8453.95 9191.79,-8451.39 9182.16,-8446.98 9181.51,-8453.95"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceBase -->
<g id="node332" class="node">
<title>mcpgateway.schemas.ObservabilityTraceBase</title>
<polygon fill="white" stroke="#77aadd" points="110455.5,-8777.5 110455.5,-9041.5 110732.5,-9041.5 110732.5,-8777.5 110455.5,-8777.5"/>
<text text-anchor="start" x="110521.5" y="-9026.3" font-family="Arial" font-size="14.00">ObservabilityTraceBase</text>
<polyline fill="none" stroke="#77aadd" points="110455.5,-9018.5 110732.5,-9018.5 "/>
<text text-anchor="start" x="110463.5" y="-9003.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="110463.5" y="-8988.3" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="110463.5" y="-8973.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="110463.5" y="-8958.3" font-family="Arial" font-size="14.00">http_method : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8943.3" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="110463.5" y="-8928.3" font-family="Arial" font-size="14.00">http_url : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8913.3" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8898.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8883.3" font-family="Arial" font-size="14.00">resource_attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="110463.5" y="-8868.3" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="110463.5" y="-8853.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8838.3" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8823.3" font-family="Arial" font-size="14.00">user_agent : Optional[str]</text>
<text text-anchor="start" x="110463.5" y="-8808.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110455.5,-8800.5 110732.5,-8800.5 "/>
<text text-anchor="start" x="110592" y="-8785.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceCreate -->
<g id="node333" class="node">
<title>mcpgateway.schemas.ObservabilityTraceCreate</title>
<polygon fill="white" stroke="#77aadd" points="110451,-8424 110451,-8493 110621,-8493 110621,-8424 110451,-8424"/>
<text text-anchor="start" x="110459" y="-8477.8" font-family="Arial" font-size="14.00">ObservabilityTraceCreate</text>
<polyline fill="none" stroke="#77aadd" points="110451,-8470 110621,-8470 "/>
<text text-anchor="start" x="110469.5" y="-8454.8" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110451,-8447 110621,-8447 "/>
<text text-anchor="start" x="110534" y="-8431.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceCreate&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase -->
<g id="edge88" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceCreate&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase</title>
<path fill="none" stroke="gray" d="M110540.36,-8493.25C110547.79,-8550.76 110563.31,-8670.91 110575.75,-8767.23"/>
<polygon fill="none" stroke="gray" points="110572.31,-8767.9 110577.06,-8777.37 110579.25,-8767 110572.31,-8767.9"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceRead -->
<g id="node334" class="node">
<title>mcpgateway.schemas.ObservabilityTraceRead</title>
<polygon fill="white" stroke="#77aadd" points="110639.5,-8409 110639.5,-8508 110842.5,-8508 110842.5,-8409 110639.5,-8409"/>
<text text-anchor="start" x="110668" y="-8492.8" font-family="Arial" font-size="14.00">ObservabilityTraceRead</text>
<polyline fill="none" stroke="#77aadd" points="110639.5,-8485 110842.5,-8485 "/>
<text text-anchor="start" x="110647.5" y="-8469.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="110647.5" y="-8454.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="110647.5" y="-8439.8" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110639.5,-8432 110842.5,-8432 "/>
<text text-anchor="start" x="110739" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceRead&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase -->
<g id="edge89" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceRead&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase</title>
<path fill="none" stroke="gray" d="M110724.99,-8508.41C110704.78,-8570.14 110669.15,-8678.96 110640.15,-8767.55"/>
<polygon fill="none" stroke="gray" points="110636.79,-8766.55 110637,-8777.15 110643.44,-8768.73 110636.79,-8766.55"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceUpdate -->
<g id="node335" class="node">
<title>mcpgateway.schemas.ObservabilityTraceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="110905.5,-4035.5 110905.5,-4179.5 111122.5,-4179.5 111122.5,-4035.5 110905.5,-4035.5"/>
<text text-anchor="start" x="110935.5" y="-4164.3" font-family="Arial" font-size="14.00">ObservabilityTraceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="110905.5,-4156.5 111122.5,-4156.5 "/>
<text text-anchor="start" x="110913.5" y="-4141.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="110913.5" y="-4126.3" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="110913.5" y="-4111.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="110913.5" y="-4096.3" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="110913.5" y="-4081.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="110913.5" y="-4066.3" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="110905.5,-4058.5 111122.5,-4058.5 "/>
<text text-anchor="start" x="111012" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceWithSpans -->
<g id="node336" class="node">
<title>mcpgateway.schemas.ObservabilityTraceWithSpans</title>
<polygon fill="white" stroke="#77aadd" points="110594.5,-4073 110594.5,-4142 110887.5,-4142 110887.5,-4073 110594.5,-4073"/>
<text text-anchor="start" x="110651" y="-4126.8" font-family="Arial" font-size="14.00">ObservabilityTraceWithSpans</text>
<polyline fill="none" stroke="#77aadd" points="110594.5,-4119 110887.5,-4119 "/>
<text text-anchor="start" x="110602.5" y="-4103.8" font-family="Arial" font-size="14.00">spans : Optional[List[ObservabilitySpanRead]]</text>
<polyline fill="none" stroke="#77aadd" points="110594.5,-4096 110887.5,-4096 "/>
<text text-anchor="start" x="110739" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceWithSpans&#45;&gt;mcpgateway.schemas.ObservabilityTraceRead -->
<g id="edge90" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceWithSpans&#45;&gt;mcpgateway.schemas.ObservabilityTraceRead</title>
<path fill="none" stroke="gray" d="M110741,-4142.25C110741,-4517.68 110741,-7908.68 110741,-8398.61"/>
<polygon fill="none" stroke="gray" points="110737.5,-8398.65 110741,-8408.65 110744.5,-8398.65 110737.5,-8398.65"/>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaConfig -->
<g id="node337" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OllamaConfig</title>
<polygon fill="white" stroke="#ffaabb" points="111140.5,-4035.5 111140.5,-4179.5 111325.5,-4179.5 111325.5,-4035.5 111140.5,-4035.5"/>
<text text-anchor="start" x="111191" y="-4164.3" font-family="Arial" font-size="14.00">OllamaConfig</text>
<polyline fill="none" stroke="#ffaabb" points="111140.5,-4156.5 111325.5,-4156.5 "/>
<text text-anchor="start" x="111148.5" y="-4141.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="111148.5" y="-4126.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="111148.5" y="-4111.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="111148.5" y="-4096.3" font-family="Arial" font-size="14.00">num_ctx : Optional[int]</text>
<text text-anchor="start" x="111148.5" y="-4081.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="111148.5" y="-4066.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="111140.5,-4058.5 111325.5,-4058.5 "/>
<text text-anchor="start" x="111231" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaProvider -->
<g id="node338" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OllamaProvider</title>
<polygon fill="white" stroke="#ffaabb" points="111050.5,-8416.5 111050.5,-8500.5 111415.5,-8500.5 111415.5,-8416.5 111050.5,-8416.5"/>
<text text-anchor="start" x="111185.5" y="-8485.3" font-family="Arial" font-size="14.00">OllamaProvider</text>
<polyline fill="none" stroke="#ffaabb" points="111050.5,-8477.5 111415.5,-8477.5 "/>
<text text-anchor="start" x="111214.5" y="-8462.3" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="111050.5,-8454.5 111415.5,-8454.5 "/>
<text text-anchor="start" x="111058.5" y="-8439.3" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatOllama, OllamaLLM]</text>
<text text-anchor="start" x="111058.5" y="-8424.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OllamaProvider -->
<g id="edge197" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.OllamaConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OllamaProvider</title>
<path fill="none" stroke="gray" d="M111233,-4179.91C111233,-4703.97 111233,-7948.04 111233,-8404.22"/>
<polygon fill="none" stroke="gray" points="111233,-8404.29 111237,-8410.29 111233,-8416.29 111229,-8410.29 111233,-8404.29"/>
<text text-anchor="middle" x="111251.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIConfig -->
<g id="node339" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIConfig</title>
<polygon fill="white" stroke="#ffaabb" points="111492,-4013 111492,-4202 111696,-4202 111696,-4013 111492,-4013"/>
<text text-anchor="start" x="111551" y="-4186.8" font-family="Arial" font-size="14.00">OpenAIConfig</text>
<polyline fill="none" stroke="#ffaabb" points="111492,-4179 111696,-4179 "/>
<text text-anchor="start" x="111500" y="-4163.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="111500" y="-4148.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="111500" y="-4133.8" font-family="Arial" font-size="14.00">default_headers : Optional[dict]</text>
<text text-anchor="start" x="111500" y="-4118.8" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="111500" y="-4103.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="111500" y="-4088.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="111500" y="-4073.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="111500" y="-4058.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="111500" y="-4043.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="111492,-4036 111696,-4036 "/>
<text text-anchor="start" x="111592" y="-4020.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIProvider -->
<g id="node340" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIProvider</title>
<polygon fill="white" stroke="#ffaabb" points="111434,-8416.5 111434,-8500.5 111754,-8500.5 111754,-8416.5 111434,-8416.5"/>
<text text-anchor="start" x="111545.5" y="-8485.3" font-family="Arial" font-size="14.00">OpenAIProvider</text>
<polyline fill="none" stroke="#ffaabb" points="111434,-8477.5 111754,-8477.5 "/>
<text text-anchor="start" x="111575.5" y="-8462.3" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="111434,-8454.5 111754,-8454.5 "/>
<text text-anchor="start" x="111442" y="-8439.3" font-family="Arial" font-size="14.00">get_llm(model_type): Union[ChatOpenAI, OpenAI]</text>
<text text-anchor="start" x="111442" y="-8424.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OpenAIProvider -->
<g id="edge198" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OpenAIProvider</title>
<path fill="none" stroke="gray" d="M111594,-4202.11C111594,-4789.21 111594,-7953.56 111594,-8404.11"/>
<polygon fill="none" stroke="gray" points="111594,-8404.34 111598,-8410.34 111594,-8416.34 111590,-8410.34 111594,-8404.34"/>
<text text-anchor="middle" x="111612.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.schemas.PaginatedResponse -->
<g id="node341" class="node">
<title>mcpgateway.schemas.PaginatedResponse</title>
<polygon fill="white" stroke="#77aadd" points="111714.5,-4058 111714.5,-4157 111957.5,-4157 111957.5,-4058 111714.5,-4058"/>
<text text-anchor="start" x="111775" y="-4141.8" font-family="Arial" font-size="14.00">PaginatedResponse</text>
<polyline fill="none" stroke="#77aadd" points="111714.5,-4134 111957.5,-4134 "/>
<text text-anchor="start" x="111722.5" y="-4118.8" font-family="Arial" font-size="14.00">data : Optional[List[Any]]</text>
<text text-anchor="start" x="111722.5" y="-4103.8" font-family="Arial" font-size="14.00">links : Optional[PaginationLinks]</text>
<text text-anchor="start" x="111722.5" y="-4088.8" font-family="Arial" font-size="14.00">pagination : Optional[PaginationMeta]</text>
<polyline fill="none" stroke="#77aadd" points="111714.5,-4081 111957.5,-4081 "/>
<text text-anchor="start" x="111834" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginatedTeamMembersResponse -->
<g id="node342" class="node">
<title>mcpgateway.schemas.PaginatedTeamMembersResponse</title>
<polygon fill="white" stroke="#77aadd" points="111976,-4065.5 111976,-4149.5 112294,-4149.5 112294,-4065.5 111976,-4065.5"/>
<text text-anchor="start" x="112028" y="-4134.3" font-family="Arial" font-size="14.00">PaginatedTeamMembersResponse</text>
<polyline fill="none" stroke="#77aadd" points="111976,-4126.5 112294,-4126.5 "/>
<text text-anchor="start" x="111984" y="-4111.3" font-family="Arial" font-size="14.00">members : Optional[List[TeamMemberResponse]]</text>
<text text-anchor="start" x="111984" y="-4096.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="111976,-4088.5 112294,-4088.5 "/>
<text text-anchor="start" x="112133" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationLinks -->
<g id="node343" class="node">
<title>mcpgateway.schemas.PaginationLinks</title>
<polygon fill="white" stroke="#77aadd" points="112312,-4043 112312,-4172 112440,-4172 112440,-4043 112312,-4043"/>
<text text-anchor="start" x="112328" y="-4156.8" font-family="Arial" font-size="14.00">PaginationLinks</text>
<polyline fill="none" stroke="#77aadd" points="112312,-4149 112440,-4149 "/>
<text text-anchor="start" x="112320" y="-4133.8" font-family="Arial" font-size="14.00">first : Optional[str]</text>
<text text-anchor="start" x="112320" y="-4118.8" font-family="Arial" font-size="14.00">last : Optional[str]</text>
<text text-anchor="start" x="112320" y="-4103.8" font-family="Arial" font-size="14.00">next : Optional[str]</text>
<text text-anchor="start" x="112320" y="-4088.8" font-family="Arial" font-size="14.00">prev : Optional[str]</text>
<text text-anchor="start" x="112320" y="-4073.8" font-family="Arial" font-size="14.00">self : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="112312,-4066 112440,-4066 "/>
<text text-anchor="start" x="112374" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationMeta -->
<g id="node344" class="node">
<title>mcpgateway.schemas.PaginationMeta</title>
<polygon fill="white" stroke="#77aadd" points="112458.5,-4020.5 112458.5,-4194.5 112631.5,-4194.5 112631.5,-4020.5 112458.5,-4020.5"/>
<text text-anchor="start" x="112497.5" y="-4179.3" font-family="Arial" font-size="14.00">PaginationMeta</text>
<polyline fill="none" stroke="#77aadd" points="112458.5,-4171.5 112631.5,-4171.5 "/>
<text text-anchor="start" x="112466.5" y="-4156.3" font-family="Arial" font-size="14.00">has_next : Optional[bool]</text>
<text text-anchor="start" x="112466.5" y="-4141.3" font-family="Arial" font-size="14.00">has_prev : Optional[bool]</text>
<text text-anchor="start" x="112466.5" y="-4126.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="112466.5" y="-4111.3" font-family="Arial" font-size="14.00">page : Optional[int]</text>
<text text-anchor="start" x="112466.5" y="-4096.3" font-family="Arial" font-size="14.00">per_page : Optional[int]</text>
<text text-anchor="start" x="112466.5" y="-4081.3" font-family="Arial" font-size="14.00">prev_cursor : Optional[str]</text>
<text text-anchor="start" x="112466.5" y="-4066.3" font-family="Arial" font-size="14.00">total_items : Optional[int]</text>
<text text-anchor="start" x="112466.5" y="-4051.3" font-family="Arial" font-size="14.00">total_pages : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="112458.5,-4043.5 112631.5,-4043.5 "/>
<text text-anchor="start" x="112543" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationParams -->
<g id="node345" class="node">
<title>mcpgateway.schemas.PaginationParams</title>
<polygon fill="white" stroke="#77aadd" points="112649.5,-4043 112649.5,-4172 112812.5,-4172 112812.5,-4043 112649.5,-4043"/>
<text text-anchor="start" x="112675" y="-4156.8" font-family="Arial" font-size="14.00">PaginationParams</text>
<polyline fill="none" stroke="#77aadd" points="112649.5,-4149 112812.5,-4149 "/>
<text text-anchor="start" x="112657.5" y="-4133.8" font-family="Arial" font-size="14.00">cursor : Optional[str]</text>
<text text-anchor="start" x="112657.5" y="-4118.8" font-family="Arial" font-size="14.00">page : Optional[int]</text>
<text text-anchor="start" x="112657.5" y="-4103.8" font-family="Arial" font-size="14.00">per_page : Optional[int]</text>
<text text-anchor="start" x="112657.5" y="-4088.8" font-family="Arial" font-size="14.00">sort_by : Optional[str]</text>
<text text-anchor="start" x="112657.5" y="-4073.8" font-family="Arial" font-size="14.00">sort_order : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="112649.5,-4066 112812.5,-4066 "/>
<text text-anchor="start" x="112729" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.email_auth_service.PasswordValidationError -->
<g id="node346" class="node">
<title>mcpgateway.services.email_auth_service.PasswordValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="112831,-4072.1 112831,-4142.9 112995,-4142.9 112995,-4072.1 112831,-4072.1"/>
<text text-anchor="start" x="112839" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PasswordValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="112831,-4119.9 112995,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="112831,-4095.1 112995,-4095.1 "/>
<text text-anchor="start" x="112911" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PayloadSizeError -->
<g id="node347" class="node">
<title>mcpgateway.plugins.framework.manager.PayloadSizeError</title>
<polygon fill="white" stroke="#ee8866" points="113013,-4072.1 113013,-4142.9 113135,-4142.9 113135,-4072.1 113013,-4072.1"/>
<text text-anchor="start" x="113021" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PayloadSizeError</text>
<polyline fill="none" stroke="#ee8866" points="113013,-4119.9 113135,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="113013,-4095.1 113135,-4095.1 "/>
<text text-anchor="start" x="113072" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.elicitation_service.PendingElicitation -->
<g id="node348" class="node">
<title>mcpgateway.services.elicitation_service.PendingElicitation</title>
<polygon fill="white" stroke="#ffaabb" points="113153,-4020.5 113153,-4194.5 113341,-4194.5 113341,-4020.5 113153,-4020.5"/>
<text text-anchor="start" x="113193" y="-4179.3" font-family="Arial" font-size="14.00">PendingElicitation</text>
<polyline fill="none" stroke="#ffaabb" points="113153,-4171.5 113341,-4171.5 "/>
<text text-anchor="start" x="113161" y="-4156.3" font-family="Arial" font-size="14.00">created_at : float</text>
<text text-anchor="start" x="113161" y="-4141.3" font-family="Arial" font-size="14.00">downstream_session_id : str</text>
<text text-anchor="start" x="113161" y="-4126.3" font-family="Arial" font-size="14.00">future : Future</text>
<text text-anchor="start" x="113161" y="-4111.3" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="113161" y="-4096.3" font-family="Arial" font-size="14.00">request_id : str</text>
<text text-anchor="start" x="113161" y="-4081.3" font-family="Arial" font-size="14.00">schema : Dict[str, Any]</text>
<text text-anchor="start" x="113161" y="-4066.3" font-family="Arial" font-size="14.00">timeout : float</text>
<text text-anchor="start" x="113161" y="-4051.3" font-family="Arial" font-size="14.00">upstream_session_id : str</text>
<polyline fill="none" stroke="#ffaabb" points="113153,-4043.5 113341,-4043.5 "/>
<text text-anchor="start" x="113245" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.notification_service.PendingRefresh -->
<g id="node349" class="node">
<title>mcpgateway.services.notification_service.PendingRefresh</title>
<polygon fill="white" stroke="#ffaabb" points="113359.5,-4043 113359.5,-4172 113586.5,-4172 113586.5,-4043 113359.5,-4043"/>
<text text-anchor="start" x="113424.5" y="-4156.8" font-family="Arial" font-size="14.00">PendingRefresh</text>
<polyline fill="none" stroke="#ffaabb" points="113359.5,-4149 113586.5,-4149 "/>
<text text-anchor="start" x="113367.5" y="-4133.8" font-family="Arial" font-size="14.00">enqueued_at : float</text>
<text text-anchor="start" x="113367.5" y="-4118.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="113367.5" y="-4103.8" font-family="Arial" font-size="14.00">include_prompts : bool</text>
<text text-anchor="start" x="113367.5" y="-4088.8" font-family="Arial" font-size="14.00">include_resources : bool</text>
<text text-anchor="start" x="113367.5" y="-4073.8" font-family="Arial" font-size="14.00">triggered_by : Set[NotificationType]</text>
<polyline fill="none" stroke="#ffaabb" points="113359.5,-4066 113586.5,-4066 "/>
<text text-anchor="start" x="113471" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PendingUserApproval -->
<g id="node350" class="node">
<title>mcpgateway.db.PendingUserApproval</title>
<polygon fill="white" stroke="#77aadd" points="8252,-3968 8252,-4247 8642,-4247 8642,-3968 8252,-3968"/>
<text text-anchor="start" x="8381" y="-4231.8" font-family="Arial" font-size="14.00">PendingUserApproval</text>
<polyline fill="none" stroke="#77aadd" points="8252,-4224 8642,-4224 "/>
<text text-anchor="start" x="8319.5" y="-4208.8" font-family="Arial" font-size="14.00">admin_notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-4193.8" font-family="Arial" font-size="14.00">approved_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="8319.5" y="-4178.8" font-family="Arial" font-size="14.00">approved_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-4163.8" font-family="Arial" font-size="14.00">approver : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="8319.5" y="-4148.8" font-family="Arial" font-size="14.00">auth_provider : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-4133.8" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-4118.8" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="8319.5" y="-4103.8" font-family="Arial" font-size="14.00">full_name : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-4088.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-4073.8" font-family="Arial" font-size="14.00">rejection_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-4058.8" font-family="Arial" font-size="14.00">requested_at : Mapped[datetime]</text>
<text text-anchor="start" x="8319.5" y="-4043.8" font-family="Arial" font-size="14.00">sso_metadata : Mapped[Optional[Dict]]</text>
<text text-anchor="start" x="8319.5" y="-4028.8" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="8252,-4021 8642,-4021 "/>
<text text-anchor="start" x="8260" y="-4005.8" font-family="Arial" font-size="14.00">approve(admin_email: str, notes: Optional[str]): None</text>
<text text-anchor="start" x="8260" y="-3990.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="8260" y="-3975.8" font-family="Arial" font-size="14.00">reject(admin_email: str, reason: str, notes: Optional[str]): None</text>
</g>
<!-- mcpgateway.db.PendingUserApproval&#45;&gt;mcpgateway.db.Base -->
<g id="edge35" class="edge">
<title>mcpgateway.db.PendingUserApproval&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8434.56,-4247.19C8379.84,-4888.47 8183.51,-7562.75 8651,-8215 8775.8,-8389.13 9045.85,-8438.27 9182,-8452.1"/>
<polygon fill="none" stroke="gray" points="9181.67,-8455.58 9191.96,-8453.07 9182.35,-8448.62 9181.67,-8455.58"/>
</g>
<!-- mcpgateway.db.PerformanceAggregate -->
<g id="node351" class="node">
<title>mcpgateway.db.PerformanceAggregate</title>
<polygon fill="white" stroke="#77aadd" points="8660.5,-3953 8660.5,-4262 8937.5,-4262 8937.5,-3953 8660.5,-3953"/>
<text text-anchor="start" x="8728.5" y="-4246.8" font-family="Arial" font-size="14.00">PerformanceAggregate</text>
<polyline fill="none" stroke="#77aadd" points="8660.5,-4239 8937.5,-4239 "/>
<text text-anchor="start" x="8668.5" y="-4223.8" font-family="Arial" font-size="14.00">avg_cpu_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4208.8" font-family="Arial" font-size="14.00">avg_memory_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4193.8" font-family="Arial" font-size="14.00">avg_response_time_ms : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4178.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-4163.8" font-family="Arial" font-size="14.00">host : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8668.5" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-4133.8" font-family="Arial" font-size="14.00">p95_response_time_ms : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4118.8" font-family="Arial" font-size="14.00">peak_cpu_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4103.8" font-family="Arial" font-size="14.00">peak_memory_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4088.8" font-family="Arial" font-size="14.00">peak_requests_per_second : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4073.8" font-family="Arial" font-size="14.00">period_end : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-4058.8" font-family="Arial" font-size="14.00">period_start : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-4043.8" font-family="Arial" font-size="14.00">period_type : Mapped[str]</text>
<text text-anchor="start" x="8668.5" y="-4028.8" font-family="Arial" font-size="14.00">requests_2xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-4013.8" font-family="Arial" font-size="14.00">requests_4xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3998.8" font-family="Arial" font-size="14.00">requests_5xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3983.8" font-family="Arial" font-size="14.00">requests_total : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="8660.5,-3976 8937.5,-3976 "/>
<text text-anchor="start" x="8797" y="-3960.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceAggregate&#45;&gt;mcpgateway.db.Base -->
<g id="edge36" class="edge">
<title>mcpgateway.db.PerformanceAggregate&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8787.42,-4262.05C8740.3,-4921.13 8582.18,-7508.91 8947,-8215 8997.35,-8312.46 9106.66,-8382.12 9182.75,-8421.09"/>
<polygon fill="none" stroke="gray" points="9181.35,-8424.31 9191.86,-8425.69 9184.51,-8418.06 9181.35,-8424.31"/>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateBase -->
<g id="node352" class="node">
<title>mcpgateway.schemas.PerformanceAggregateBase</title>
<polygon fill="white" stroke="#77aadd" points="113673,-8319 113673,-8598 113951,-8598 113951,-8319 113673,-8319"/>
<text text-anchor="start" x="113726" y="-8582.8" font-family="Arial" font-size="14.00">PerformanceAggregateBase</text>
<polyline fill="none" stroke="#77aadd" points="113673,-8575 113951,-8575 "/>
<text text-anchor="start" x="113681" y="-8559.8" font-family="Arial" font-size="14.00">avg_cpu_percent : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8544.8" font-family="Arial" font-size="14.00">avg_memory_percent : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8529.8" font-family="Arial" font-size="14.00">avg_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8514.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="113681" y="-8499.8" font-family="Arial" font-size="14.00">p95_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8484.8" font-family="Arial" font-size="14.00">peak_cpu_percent : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8469.8" font-family="Arial" font-size="14.00">peak_memory_percent : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8454.8" font-family="Arial" font-size="14.00">peak_requests_per_second : Optional[float]</text>
<text text-anchor="start" x="113681" y="-8439.8" font-family="Arial" font-size="14.00">period_end : Optional[datetime]</text>
<text text-anchor="start" x="113681" y="-8424.8" font-family="Arial" font-size="14.00">period_start : Optional[datetime]</text>
<text text-anchor="start" x="113681" y="-8409.8" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="113681" y="-8394.8" font-family="Arial" font-size="14.00">requests_2xx : Optional[int]</text>
<text text-anchor="start" x="113681" y="-8379.8" font-family="Arial" font-size="14.00">requests_4xx : Optional[int]</text>
<text text-anchor="start" x="113681" y="-8364.8" font-family="Arial" font-size="14.00">requests_5xx : Optional[int]</text>
<text text-anchor="start" x="113681" y="-8349.8" font-family="Arial" font-size="14.00">requests_total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="113673,-8342 113951,-8342 "/>
<text text-anchor="start" x="113810" y="-8326.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateCreate -->
<g id="node353" class="node">
<title>mcpgateway.schemas.PerformanceAggregateCreate</title>
<polygon fill="white" stroke="#77aadd" points="113604.5,-4072.1 113604.5,-4142.9 113801.5,-4142.9 113801.5,-4072.1 113604.5,-4072.1"/>
<text text-anchor="start" x="113612.5" y="-4127.7" font-family="Arial" font-size="14.00">PerformanceAggregateCreate</text>
<polyline fill="none" stroke="#77aadd" points="113604.5,-4119.9 113801.5,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="113604.5,-4095.1 113801.5,-4095.1 "/>
<text text-anchor="start" x="113701" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateCreate&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase -->
<g id="edge91" class="edge">
<title>mcpgateway.schemas.PerformanceAggregateCreate&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase</title>
<path fill="none" stroke="gray" d="M113703.87,-4143.19C113712.94,-4505.06 113790.28,-7590.74 113808.27,-8308.67"/>
<polygon fill="none" stroke="gray" points="113804.77,-8308.9 113808.52,-8318.81 113811.77,-8308.73 113804.77,-8308.9"/>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateRead -->
<g id="node354" class="node">
<title>mcpgateway.schemas.PerformanceAggregateRead</title>
<polygon fill="white" stroke="#77aadd" points="113819.5,-4058 113819.5,-4157 114022.5,-4157 114022.5,-4058 113819.5,-4058"/>
<text text-anchor="start" x="113834.5" y="-4141.8" font-family="Arial" font-size="14.00">PerformanceAggregateRead</text>
<polyline fill="none" stroke="#77aadd" points="113819.5,-4134 114022.5,-4134 "/>
<text text-anchor="start" x="113827.5" y="-4118.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="113827.5" y="-4103.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="113827.5" y="-4088.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="113819.5,-4081 114022.5,-4081 "/>
<text text-anchor="start" x="113919" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateRead&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase -->
<g id="edge92" class="edge">
<title>mcpgateway.schemas.PerformanceAggregateRead&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase</title>
<path fill="none" stroke="gray" d="M113920.17,-4157.16C113914.29,-4498.24 113877.44,-6565.89 113821,-8248 113820.34,-8267.7 113819.56,-8288.44 113818.73,-8308.89"/>
<polygon fill="none" stroke="gray" points="113815.23,-8308.77 113818.32,-8318.9 113822.23,-8309.05 113815.23,-8308.77"/>
</g>
<!-- mcpgateway.schemas.PerformanceDashboard -->
<g id="node355" class="node">
<title>mcpgateway.schemas.PerformanceDashboard</title>
<polygon fill="white" stroke="#77aadd" points="114041,-3998 114041,-4217 114335,-4217 114335,-3998 114041,-3998"/>
<text text-anchor="start" x="114115.5" y="-4201.8" font-family="Arial" font-size="14.00">PerformanceDashboard</text>
<polyline fill="none" stroke="#77aadd" points="114041,-4194 114335,-4194 "/>
<text text-anchor="start" x="114049" y="-4178.8" font-family="Arial" font-size="14.00">cache : Optional[CacheMetricsSchema]</text>
<text text-anchor="start" x="114049" y="-4163.8" font-family="Arial" font-size="14.00">cluster_hosts : Optional[List[str]]</text>
<text text-anchor="start" x="114049" y="-4148.8" font-family="Arial" font-size="14.00">database : Optional[DatabaseMetricsSchema]</text>
<text text-anchor="start" x="114049" y="-4133.8" font-family="Arial" font-size="14.00">gunicorn : Optional[GunicornMetricsSchema]</text>
<text text-anchor="start" x="114049" y="-4118.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="114049" y="-4103.8" font-family="Arial" font-size="14.00">is_distributed : Optional[bool]</text>
<text text-anchor="start" x="114049" y="-4088.8" font-family="Arial" font-size="14.00">requests : Optional[RequestMetricsSchema]</text>
<text text-anchor="start" x="114049" y="-4073.8" font-family="Arial" font-size="14.00">system : Optional[SystemMetricsSchema]</text>
<text text-anchor="start" x="114049" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="114049" y="-4043.8" font-family="Arial" font-size="14.00">uptime_seconds : Optional[int]</text>
<text text-anchor="start" x="114049" y="-4028.8" font-family="Arial" font-size="14.00">workers : Optional[List[WorkerMetrics]]</text>
<polyline fill="none" stroke="#77aadd" points="114041,-4021 114335,-4021 "/>
<text text-anchor="start" x="114186" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceHistoryParams -->
<g id="node356" class="node">
<title>mcpgateway.schemas.PerformanceHistoryParams</title>
<polygon fill="white" stroke="#77aadd" points="114353.5,-4043 114353.5,-4172 114552.5,-4172 114552.5,-4043 114353.5,-4043"/>
<text text-anchor="start" x="114369" y="-4156.8" font-family="Arial" font-size="14.00">PerformanceHistoryParams</text>
<polyline fill="none" stroke="#77aadd" points="114353.5,-4149 114552.5,-4149 "/>
<text text-anchor="start" x="114361.5" y="-4133.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="114361.5" y="-4118.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="114361.5" y="-4103.8" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="114361.5" y="-4088.8" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="114361.5" y="-4073.8" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="114353.5,-4066 114552.5,-4066 "/>
<text text-anchor="start" x="114451" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceHistoryResponse -->
<g id="node357" class="node">
<title>mcpgateway.schemas.PerformanceHistoryResponse</title>
<polygon fill="white" stroke="#77aadd" points="114570.5,-4058 114570.5,-4157 114925.5,-4157 114925.5,-4058 114570.5,-4058"/>
<text text-anchor="start" x="114657.5" y="-4141.8" font-family="Arial" font-size="14.00">PerformanceHistoryResponse</text>
<polyline fill="none" stroke="#77aadd" points="114570.5,-4134 114925.5,-4134 "/>
<text text-anchor="start" x="114578.5" y="-4118.8" font-family="Arial" font-size="14.00">aggregates : Optional[List[PerformanceAggregateRead]]</text>
<text text-anchor="start" x="114578.5" y="-4103.8" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="114578.5" y="-4088.8" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="114570.5,-4081 114925.5,-4081 "/>
<text text-anchor="start" x="114746" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceMetric -->
<g id="node358" class="node">
<title>mcpgateway.db.PerformanceMetric</title>
<polygon fill="white" stroke="#77aadd" points="8956,-3953 8956,-4262 9276,-4262 9276,-3953 8956,-3953"/>
<text text-anchor="start" x="9058" y="-4246.8" font-family="Arial" font-size="14.00">PerformanceMetric</text>
<polyline fill="none" stroke="#77aadd" points="8956,-4239 9276,-4239 "/>
<text text-anchor="start" x="8964" y="-4223.8" font-family="Arial" font-size="14.00">avg_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4208.8" font-family="Arial" font-size="14.00">component : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-4193.8" font-family="Arial" font-size="14.00">error_count : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-4178.8" font-family="Arial" font-size="14.00">error_rate : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4163.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-4148.8" font-family="Arial" font-size="14.00">max_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4133.8" font-family="Arial" font-size="14.00">metric_metadata : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="8964" y="-4118.8" font-family="Arial" font-size="14.00">min_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4103.8" font-family="Arial" font-size="14.00">operation_type : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-4088.8" font-family="Arial" font-size="14.00">p50_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4073.8" font-family="Arial" font-size="14.00">p95_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4058.8" font-family="Arial" font-size="14.00">p99_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4043.8" font-family="Arial" font-size="14.00">request_count : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-4028.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="8964" y="-4013.8" font-family="Arial" font-size="14.00">window_duration_seconds : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-3998.8" font-family="Arial" font-size="14.00">window_end : Mapped[datetime]</text>
<text text-anchor="start" x="8964" y="-3983.8" font-family="Arial" font-size="14.00">window_start : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="8956,-3976 9276,-3976 "/>
<text text-anchor="start" x="9114" y="-3960.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge37" class="edge">
<title>mcpgateway.db.PerformanceMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9121.22,-4262.01C9145.75,-4982.79 9248.88,-8013.11 9262.51,-8413.71"/>
<polygon fill="none" stroke="gray" points="9259.01,-8413.87 9262.85,-8423.74 9266.01,-8413.63 9259.01,-8413.87"/>
</g>
<!-- mcpgateway.services.performance_service.PerformanceService -->
<g id="node359" class="node">
<title>mcpgateway.services.performance_service.PerformanceService</title>
<polygon fill="white" stroke="#ffaabb" points="114944,-3998 114944,-4217 115930,-4217 115930,-3998 114944,-3998"/>
<text text-anchor="start" x="115375" y="-4201.8" font-family="Arial" font-size="14.00">PerformanceService</text>
<polyline fill="none" stroke="#ffaabb" points="114944,-4194 115930,-4194 "/>
<text text-anchor="start" x="115370.5" y="-4178.8" font-family="Arial" font-size="14.00">db : Optional[Session]</text>
<polyline fill="none" stroke="#ffaabb" points="114944,-4171 115930,-4171 "/>
<text text-anchor="start" x="114952" y="-4155.8" font-family="Arial" font-size="14.00">cleanup_old_snapshots(db: Session): int</text>
<text text-anchor="start" x="114952" y="-4140.8" font-family="Arial" font-size="14.00">create_hourly_aggregate(db: Session, hour_start: datetime): Optional[PerformanceAggregate]</text>
<text text-anchor="start" x="114952" y="-4125.8" font-family="Arial" font-size="14.00">get_cache_metrics(): CacheMetricsSchema</text>
<text text-anchor="start" x="114952" y="-4110.8" font-family="Arial" font-size="14.00">get_dashboard(): PerformanceDashboard</text>
<text text-anchor="start" x="114952" y="-4095.8" font-family="Arial" font-size="14.00">get_database_metrics(_db: Optional[Session]): DatabaseMetricsSchema</text>
<text text-anchor="start" x="114952" y="-4080.8" font-family="Arial" font-size="14.00">get_gunicorn_metrics(): GunicornMetricsSchema</text>
<text text-anchor="start" x="114952" y="-4065.8" font-family="Arial" font-size="14.00">get_history(db: Session, period_type: str, start_time: Optional[datetime], end_time: Optional[datetime], host: Optional[str], limit: int): PerformanceHistoryResponse</text>
<text text-anchor="start" x="114952" y="-4050.8" font-family="Arial" font-size="14.00">get_request_metrics(): RequestMetricsSchema</text>
<text text-anchor="start" x="114952" y="-4035.8" font-family="Arial" font-size="14.00">get_system_metrics(): SystemMetricsSchema</text>
<text text-anchor="start" x="114952" y="-4020.8" font-family="Arial" font-size="14.00">get_worker_metrics(): List[WorkerMetrics]</text>
<text text-anchor="start" x="114952" y="-4005.8" font-family="Arial" font-size="14.00">save_snapshot(db: Session): Optional[PerformanceSnapshot]</text>
</g>
<!-- mcpgateway.db.PerformanceSnapshot -->
<g id="node360" class="node">
<title>mcpgateway.db.PerformanceSnapshot</title>
<polygon fill="white" stroke="#77aadd" points="9294,-4035.5 9294,-4179.5 9530,-4179.5 9530,-4035.5 9294,-4035.5"/>
<text text-anchor="start" x="9344" y="-4164.3" font-family="Arial" font-size="14.00">PerformanceSnapshot</text>
<polyline fill="none" stroke="#77aadd" points="9294,-4156.5 9530,-4156.5 "/>
<text text-anchor="start" x="9302" y="-4141.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="9302" y="-4126.3" font-family="Arial" font-size="14.00">host : Mapped[str]</text>
<text text-anchor="start" x="9302" y="-4111.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="9302" y="-4096.3" font-family="Arial" font-size="14.00">metrics_json : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="9302" y="-4081.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="9302" y="-4066.3" font-family="Arial" font-size="14.00">worker_id : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="9294,-4058.5 9530,-4058.5 "/>
<text text-anchor="start" x="9410" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceSnapshot&#45;&gt;mcpgateway.db.Base -->
<g id="edge38" class="edge">
<title>mcpgateway.db.PerformanceSnapshot&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9411.28,-4179.52C9406.9,-4578.53 9380.9,-6581.74 9285,-8215 9280.92,-8284.56 9273.38,-8365.13 9268.53,-8413.66"/>
<polygon fill="none" stroke="gray" points="9265.03,-8413.5 9267.51,-8423.81 9272,-8414.21 9265.03,-8413.5"/>
</g>
<!-- mcpgateway.schemas.PerformanceSnapshotCreate -->
<g id="node361" class="node">
<title>mcpgateway.schemas.PerformanceSnapshotCreate</title>
<polygon fill="white" stroke="#77aadd" points="115948,-4058 115948,-4157 116186,-4157 116186,-4058 115948,-4058"/>
<text text-anchor="start" x="115979" y="-4141.8" font-family="Arial" font-size="14.00">PerformanceSnapshotCreate</text>
<polyline fill="none" stroke="#77aadd" points="115948,-4134 116186,-4134 "/>
<text text-anchor="start" x="115956" y="-4118.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="115956" y="-4103.8" font-family="Arial" font-size="14.00">metrics_json : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="115956" y="-4088.8" font-family="Arial" font-size="14.00">worker_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="115948,-4081 116186,-4081 "/>
<text text-anchor="start" x="116065" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceSnapshotRead -->
<g id="node362" class="node">
<title>mcpgateway.schemas.PerformanceSnapshotRead</title>
<polygon fill="white" stroke="#77aadd" points="116204,-4028 116204,-4187 116442,-4187 116442,-4028 116204,-4028"/>
<text text-anchor="start" x="116239" y="-4171.8" font-family="Arial" font-size="14.00">PerformanceSnapshotRead</text>
<polyline fill="none" stroke="#77aadd" points="116204,-4164 116442,-4164 "/>
<text text-anchor="start" x="116212" y="-4148.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="116212" y="-4133.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="116212" y="-4118.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="116212" y="-4103.8" font-family="Arial" font-size="14.00">metrics_json : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="116212" y="-4088.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="116212" y="-4073.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="116212" y="-4058.8" font-family="Arial" font-size="14.00">worker_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="116204,-4051 116442,-4051 "/>
<text text-anchor="start" x="116321" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.performance_tracker.PerformanceTracker -->
<g id="node363" class="node">
<title>mcpgateway.services.performance_tracker.PerformanceTracker</title>
<polygon fill="white" stroke="#ffaabb" points="116460.5,-4020.5 116460.5,-4194.5 117365.5,-4194.5 117365.5,-4020.5 116460.5,-4020.5"/>
<text text-anchor="start" x="116851" y="-4179.3" font-family="Arial" font-size="14.00">PerformanceTracker</text>
<polyline fill="none" stroke="#ffaabb" points="116460.5,-4171.5 117365.5,-4171.5 "/>
<text text-anchor="start" x="116823.5" y="-4156.3" font-family="Arial" font-size="14.00">max_samples</text>
<text text-anchor="start" x="116823.5" y="-4141.3" font-family="Arial" font-size="14.00">performance_thresholds : dict</text>
<polyline fill="none" stroke="#ffaabb" points="116460.5,-4133.5 117365.5,-4133.5 "/>
<text text-anchor="start" x="116468.5" y="-4118.3" font-family="Arial" font-size="14.00">check_performance_degradation(operation_name: str, baseline_multiplier: float): Dict[str, Any]</text>
<text text-anchor="start" x="116468.5" y="-4103.3" font-family="Arial" font-size="14.00">clear_stats(operation_name: Optional[str]): None</text>
<text text-anchor="start" x="116468.5" y="-4088.3" font-family="Arial" font-size="14.00">get_operation_stats(operation_name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="116468.5" y="-4073.3" font-family="Arial" font-size="14.00">get_performance_summary(operation_name: Optional[str], min_samples: int): Dict[str, Any]</text>
<text text-anchor="start" x="116468.5" y="-4058.3" font-family="Arial" font-size="14.00">record_timing(operation_name: str, duration: float, component: Optional[str], extra_context: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="116468.5" y="-4043.3" font-family="Arial" font-size="14.00">set_threshold(operation_name: str, threshold_seconds: float): None</text>
<text text-anchor="start" x="116468.5" y="-4028.3" font-family="Arial" font-size="14.00">track_operation(operation_name: str, component: Optional[str], log_slow: bool, extra_context: Optional[Dict[str, Any]]): Generator[None, None, None]</text>
</g>
<!-- mcpgateway.common.models.PermissionAudit -->
<g id="node364" class="node">
<title>mcpgateway.common.models.PermissionAudit</title>
<polygon fill="white" stroke="#44bb99" points="117383.5,-3998 117383.5,-4217 117586.5,-4217 117586.5,-3998 117383.5,-3998"/>
<text text-anchor="start" x="117435.5" y="-4201.8" font-family="Arial" font-size="14.00">PermissionAudit</text>
<polyline fill="none" stroke="#44bb99" points="117383.5,-4194 117586.5,-4194 "/>
<text text-anchor="start" x="117391.5" y="-4178.8" font-family="Arial" font-size="14.00">granted : Optional[bool]</text>
<text text-anchor="start" x="117391.5" y="-4163.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="117391.5" y="-4148.8" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4133.8" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4118.8" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4103.8" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4088.8" font-family="Arial" font-size="14.00">roles_checked : Optional[Dict]</text>
<text text-anchor="start" x="117391.5" y="-4073.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="117391.5" y="-4043.8" font-family="Arial" font-size="14.00">user_agent : Optional[str]</text>
<text text-anchor="start" x="117391.5" y="-4028.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="117383.5,-4021 117586.5,-4021 "/>
<text text-anchor="start" x="117483" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PermissionAuditLog -->
<g id="node365" class="node">
<title>mcpgateway.db.PermissionAuditLog</title>
<polygon fill="white" stroke="#77aadd" points="9548,-3998 9548,-4217 9802,-4217 9802,-3998 9548,-3998"/>
<text text-anchor="start" x="9614.5" y="-4201.8" font-family="Arial" font-size="14.00">PermissionAuditLog</text>
<polyline fill="none" stroke="#77aadd" points="9548,-4194 9802,-4194 "/>
<text text-anchor="start" x="9556" y="-4178.8" font-family="Arial" font-size="14.00">granted : Mapped[bool]</text>
<text text-anchor="start" x="9556" y="-4163.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="9556" y="-4148.8" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-4133.8" font-family="Arial" font-size="14.00">permission : Mapped[str]</text>
<text text-anchor="start" x="9556" y="-4118.8" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-4103.8" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-4088.8" font-family="Arial" font-size="14.00">roles_checked : Mapped[Optional[Dict]]</text>
<text text-anchor="start" x="9556" y="-4073.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="9556" y="-4043.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-4028.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="9548,-4021 9802,-4021 "/>
<text text-anchor="start" x="9673" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PermissionAuditLog&#45;&gt;mcpgateway.db.Base -->
<g id="edge39" class="edge">
<title>mcpgateway.db.PermissionAuditLog&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9682.82,-4217.31C9722.48,-4792.36 9886.11,-7478.87 9539,-8215 9495.94,-8306.33 9400.65,-8377.59 9334.4,-8418.58"/>
<polygon fill="none" stroke="gray" points="9332.37,-8415.72 9325.66,-8423.92 9336.02,-8421.69 9332.37,-8415.72"/>
</g>
<!-- mcpgateway.schemas.PermissionCheckRequest -->
<g id="node366" class="node">
<title>mcpgateway.schemas.PermissionCheckRequest</title>
<polygon fill="white" stroke="#77aadd" points="117604.5,-4043 117604.5,-4172 117791.5,-4172 117791.5,-4043 117604.5,-4043"/>
<text text-anchor="start" x="117619.5" y="-4156.8" font-family="Arial" font-size="14.00">PermissionCheckRequest</text>
<polyline fill="none" stroke="#77aadd" points="117604.5,-4149 117791.5,-4149 "/>
<text text-anchor="start" x="117612.5" y="-4133.8" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="117612.5" y="-4118.8" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="117612.5" y="-4103.8" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="117612.5" y="-4088.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="117612.5" y="-4073.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="117604.5,-4066 117791.5,-4066 "/>
<text text-anchor="start" x="117696" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PermissionCheckResponse -->
<g id="node367" class="node">
<title>mcpgateway.schemas.PermissionCheckResponse</title>
<polygon fill="white" stroke="#77aadd" points="117810,-4043 117810,-4172 118018,-4172 118018,-4043 117810,-4043"/>
<text text-anchor="start" x="117830.5" y="-4156.8" font-family="Arial" font-size="14.00">PermissionCheckResponse</text>
<polyline fill="none" stroke="#77aadd" points="117810,-4149 118018,-4149 "/>
<text text-anchor="start" x="117818" y="-4133.8" font-family="Arial" font-size="14.00">checked_at : Optional[datetime]</text>
<text text-anchor="start" x="117818" y="-4118.8" font-family="Arial" font-size="14.00">checked_by : Optional[str]</text>
<text text-anchor="start" x="117818" y="-4103.8" font-family="Arial" font-size="14.00">granted : Optional[bool]</text>
<text text-anchor="start" x="117818" y="-4088.8" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="117818" y="-4073.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="117810,-4066 118018,-4066 "/>
<text text-anchor="start" x="117912" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.rbac.PermissionChecker -->
<g id="node368" class="node">
<title>mcpgateway.middleware.rbac.PermissionChecker</title>
<polygon fill="white" stroke="#eedd88" points="118035.5,-4043 118035.5,-4172 118774.5,-4172 118774.5,-4043 118035.5,-4043"/>
<text text-anchor="start" x="118346" y="-4156.8" font-family="Arial" font-size="14.00">PermissionChecker</text>
<polyline fill="none" stroke="#eedd88" points="118035.5,-4149 118774.5,-4149 "/>
<text text-anchor="start" x="118350" y="-4133.8" font-family="Arial" font-size="14.00">db_session</text>
<text text-anchor="start" x="118350" y="-4118.8" font-family="Arial" font-size="14.00">user_context : dict</text>
<polyline fill="none" stroke="#eedd88" points="118035.5,-4111 118774.5,-4111 "/>
<text text-anchor="start" x="118043.5" y="-4095.8" font-family="Arial" font-size="14.00">has_admin_permission(): bool</text>
<text text-anchor="start" x="118043.5" y="-4080.8" font-family="Arial" font-size="14.00">has_any_permission(permissions: List[str], resource_type: Optional[str], team_id: Optional[str]): bool</text>
<text text-anchor="start" x="118043.5" y="-4065.8" font-family="Arial" font-size="14.00">has_permission(permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str]): bool</text>
<text text-anchor="start" x="118043.5" y="-4050.8" font-family="Arial" font-size="14.00">require_permission(permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str]): None</text>
</g>
<!-- mcpgateway.schemas.PermissionListResponse -->
<g id="node369" class="node">
<title>mcpgateway.schemas.PermissionListResponse</title>
<polygon fill="white" stroke="#77aadd" points="118792.5,-4058 118792.5,-4157 119129.5,-4157 119129.5,-4058 118792.5,-4058"/>
<text text-anchor="start" x="118886" y="-4141.8" font-family="Arial" font-size="14.00">PermissionListResponse</text>
<polyline fill="none" stroke="#77aadd" points="118792.5,-4134 119129.5,-4134 "/>
<text text-anchor="start" x="118800.5" y="-4118.8" font-family="Arial" font-size="14.00">all_permissions : Optional[List[str]]</text>
<text text-anchor="start" x="118800.5" y="-4103.8" font-family="Arial" font-size="14.00">permissions_by_resource : Optional[Dict[str, List[str]]]</text>
<text text-anchor="start" x="118800.5" y="-4088.8" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="118792.5,-4081 119129.5,-4081 "/>
<text text-anchor="start" x="118959" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.permission_service.PermissionService -->
<g id="node370" class="node">
<title>mcpgateway.services.permission_service.PermissionService</title>
<polygon fill="white" stroke="#ffaabb" points="119147,-3998 119147,-4217 120589,-4217 120589,-3998 119147,-3998"/>
<text text-anchor="start" x="119811.5" y="-4201.8" font-family="Arial" font-size="14.00">PermissionService</text>
<polyline fill="none" stroke="#ffaabb" points="119147,-4194 120589,-4194 "/>
<text text-anchor="start" x="119777.5" y="-4178.8" font-family="Arial" font-size="14.00">audit_enabled : Optional[bool]</text>
<text text-anchor="start" x="119777.5" y="-4163.8" font-family="Arial" font-size="14.00">cache_ttl : int</text>
<text text-anchor="start" x="119777.5" y="-4148.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="119147,-4141 120589,-4141 "/>
<text text-anchor="start" x="119155" y="-4125.8" font-family="Arial" font-size="14.00">check_admin_permission(user_email: str): bool</text>
<text text-anchor="start" x="119155" y="-4110.8" font-family="Arial" font-size="14.00">check_permission(user_email: str, permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str], ip_address: Optional[str], user_agent: Optional[str], allow_admin_bypass: bool, check_any_team: bool): bool</text>
<text text-anchor="start" x="119155" y="-4095.8" font-family="Arial" font-size="14.00">check_resource_ownership(user_email: str, resource: any, allow_team_admin: bool): bool</text>
<text text-anchor="start" x="119155" y="-4080.8" font-family="Arial" font-size="14.00">clear_cache(): None</text>
<text text-anchor="start" x="119155" y="-4065.8" font-family="Arial" font-size="14.00">clear_user_cache(user_email: str): None</text>
<text text-anchor="start" x="119155" y="-4050.8" font-family="Arial" font-size="14.00">get_user_permissions(user_email: str, team_id: Optional[str], include_all_teams: bool): Set[str]</text>
<text text-anchor="start" x="119155" y="-4035.8" font-family="Arial" font-size="14.00">get_user_roles(user_email: str, scope: Optional[str], team_id: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="119155" y="-4020.8" font-family="Arial" font-size="14.00">has_admin_permission(user_email: str): bool</text>
<text text-anchor="start" x="119155" y="-4005.8" font-family="Arial" font-size="14.00">has_permission_on_resource(user_email: str, permission: str, resource_type: str, resource_id: str, team_id: Optional[str]): bool</text>
</g>
<!-- mcpgateway.db.Permissions -->
<g id="node371" class="node">
<title>mcpgateway.db.Permissions</title>
<polygon fill="white" stroke="#77aadd" points="120607,-3638 120607,-4577 120917,-4577 120917,-3638 120607,-3638"/>
<text text-anchor="start" x="120724.5" y="-4561.8" font-family="Arial" font-size="14.00">Permissions</text>
<polyline fill="none" stroke="#77aadd" points="120607,-4554 120917,-4554 "/>
<text text-anchor="start" x="120650.5" y="-4538.8" font-family="Arial" font-size="14.00">A2A_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4523.8" font-family="Arial" font-size="14.00">A2A_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-4508.8" font-family="Arial" font-size="14.00">A2A_INVOKE : str</text>
<text text-anchor="start" x="120650.5" y="-4493.8" font-family="Arial" font-size="14.00">A2A_READ : str</text>
<text text-anchor="start" x="120650.5" y="-4478.8" font-family="Arial" font-size="14.00">A2A_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-4463.8" font-family="Arial" font-size="14.00">ADMIN_DASHBOARD : str</text>
<text text-anchor="start" x="120650.5" y="-4448.8" font-family="Arial" font-size="14.00">ADMIN_EVENTS : str</text>
<text text-anchor="start" x="120650.5" y="-4433.8" font-family="Arial" font-size="14.00">ADMIN_GRPC : str</text>
<text text-anchor="start" x="120650.5" y="-4418.8" font-family="Arial" font-size="14.00">ADMIN_OVERVIEW : str</text>
<text text-anchor="start" x="120650.5" y="-4403.8" font-family="Arial" font-size="14.00">ADMIN_PLUGINS : str</text>
<text text-anchor="start" x="120650.5" y="-4388.8" font-family="Arial" font-size="14.00">ADMIN_SECURITY_AUDIT : str</text>
<text text-anchor="start" x="120650.5" y="-4373.8" font-family="Arial" font-size="14.00">ADMIN_SYSTEM_CONFIG : str</text>
<text text-anchor="start" x="120650.5" y="-4358.8" font-family="Arial" font-size="14.00">ADMIN_USER_MANAGEMENT : str</text>
<text text-anchor="start" x="120650.5" y="-4343.8" font-family="Arial" font-size="14.00">ALL_PERMISSIONS : str</text>
<text text-anchor="start" x="120650.5" y="-4328.8" font-family="Arial" font-size="14.00">GATEWAYS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4313.8" font-family="Arial" font-size="14.00">GATEWAYS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-4298.8" font-family="Arial" font-size="14.00">GATEWAYS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-4283.8" font-family="Arial" font-size="14.00">GATEWAYS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-4268.8" font-family="Arial" font-size="14.00">PROMPTS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4253.8" font-family="Arial" font-size="14.00">PROMPTS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-4238.8" font-family="Arial" font-size="14.00">PROMPTS_EXECUTE : str</text>
<text text-anchor="start" x="120650.5" y="-4223.8" font-family="Arial" font-size="14.00">PROMPTS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-4208.8" font-family="Arial" font-size="14.00">PROMPTS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-4193.8" font-family="Arial" font-size="14.00">RESOURCES_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4178.8" font-family="Arial" font-size="14.00">RESOURCES_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-4163.8" font-family="Arial" font-size="14.00">RESOURCES_READ : str</text>
<text text-anchor="start" x="120650.5" y="-4148.8" font-family="Arial" font-size="14.00">RESOURCES_SHARE : str</text>
<text text-anchor="start" x="120650.5" y="-4133.8" font-family="Arial" font-size="14.00">RESOURCES_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-4118.8" font-family="Arial" font-size="14.00">SERVERS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4103.8" font-family="Arial" font-size="14.00">SERVERS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-4088.8" font-family="Arial" font-size="14.00">SERVERS_MANAGE : str</text>
<text text-anchor="start" x="120650.5" y="-4073.8" font-family="Arial" font-size="14.00">SERVERS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-4058.8" font-family="Arial" font-size="14.00">SERVERS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-4043.8" font-family="Arial" font-size="14.00">SERVERS_USE : str</text>
<text text-anchor="start" x="120650.5" y="-4028.8" font-family="Arial" font-size="14.00">TAGS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-4013.8" font-family="Arial" font-size="14.00">TAGS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-3998.8" font-family="Arial" font-size="14.00">TAGS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-3983.8" font-family="Arial" font-size="14.00">TAGS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-3968.8" font-family="Arial" font-size="14.00">TEAMS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-3953.8" font-family="Arial" font-size="14.00">TEAMS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-3938.8" font-family="Arial" font-size="14.00">TEAMS_JOIN : str</text>
<text text-anchor="start" x="120650.5" y="-3923.8" font-family="Arial" font-size="14.00">TEAMS_MANAGE_MEMBERS : str</text>
<text text-anchor="start" x="120650.5" y="-3908.8" font-family="Arial" font-size="14.00">TEAMS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-3893.8" font-family="Arial" font-size="14.00">TEAMS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-3878.8" font-family="Arial" font-size="14.00">TOKENS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-3863.8" font-family="Arial" font-size="14.00">TOKENS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-3848.8" font-family="Arial" font-size="14.00">TOKENS_REVOKE : str</text>
<text text-anchor="start" x="120650.5" y="-3833.8" font-family="Arial" font-size="14.00">TOKENS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-3818.8" font-family="Arial" font-size="14.00">TOOLS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-3803.8" font-family="Arial" font-size="14.00">TOOLS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-3788.8" font-family="Arial" font-size="14.00">TOOLS_EXECUTE : str</text>
<text text-anchor="start" x="120650.5" y="-3773.8" font-family="Arial" font-size="14.00">TOOLS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-3758.8" font-family="Arial" font-size="14.00">TOOLS_UPDATE : str</text>
<text text-anchor="start" x="120650.5" y="-3743.8" font-family="Arial" font-size="14.00">USERS_CREATE : str</text>
<text text-anchor="start" x="120650.5" y="-3728.8" font-family="Arial" font-size="14.00">USERS_DELETE : str</text>
<text text-anchor="start" x="120650.5" y="-3713.8" font-family="Arial" font-size="14.00">USERS_INVITE : str</text>
<text text-anchor="start" x="120650.5" y="-3698.8" font-family="Arial" font-size="14.00">USERS_READ : str</text>
<text text-anchor="start" x="120650.5" y="-3683.8" font-family="Arial" font-size="14.00">USERS_UPDATE : str</text>
<polyline fill="none" stroke="#77aadd" points="120607,-3676 120917,-3676 "/>
<text text-anchor="start" x="120615" y="-3660.8" font-family="Arial" font-size="14.00">get_all_permissions(): List[str]</text>
<text text-anchor="start" x="120615" y="-3645.8" font-family="Arial" font-size="14.00">get_permissions_by_resource(): Dict[str, List[str]]</text>
</g>
<!-- mcpgateway.services.personal_team_service.PersonalTeamService -->
<g id="node372" class="node">
<title>mcpgateway.services.personal_team_service.PersonalTeamService</title>
<polygon fill="white" stroke="#ffaabb" points="120935.5,-4035.5 120935.5,-4179.5 121300.5,-4179.5 121300.5,-4035.5 120935.5,-4035.5"/>
<text text-anchor="start" x="121051.5" y="-4164.3" font-family="Arial" font-size="14.00">PersonalTeamService</text>
<polyline fill="none" stroke="#ffaabb" points="120935.5,-4156.5 121300.5,-4156.5 "/>
<text text-anchor="start" x="121110" y="-4141.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="120935.5,-4133.5 121300.5,-4133.5 "/>
<text text-anchor="start" x="120943.5" y="-4118.3" font-family="Arial" font-size="14.00">create_personal_team(user: EmailUser): EmailTeam</text>
<text text-anchor="start" x="120943.5" y="-4103.3" font-family="Arial" font-size="14.00">delete_personal_team(team_id: str): bool</text>
<text text-anchor="start" x="120943.5" y="-4088.3" font-family="Arial" font-size="14.00">ensure_personal_team(user: EmailUser): EmailTeam</text>
<text text-anchor="start" x="120943.5" y="-4073.3" font-family="Arial" font-size="14.00">get_personal_team(user_email: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="120943.5" y="-4058.3" font-family="Arial" font-size="14.00">get_personal_team_owner(team_id: str): Optional[str]</text>
<text text-anchor="start" x="120943.5" y="-4043.3" font-family="Arial" font-size="14.00">is_personal_team(team_id: str): bool</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginCondition -->
<g id="node374" class="node">
<title>mcpgateway.plugins.framework.models.PluginCondition</title>
<polygon fill="white" stroke="#ee8866" points="121319,-4020.5 121319,-4194.5 121633,-4194.5 121633,-4020.5 121319,-4020.5"/>
<text text-anchor="start" x="121428.5" y="-4179.3" font-family="Arial" font-size="14.00">PluginCondition</text>
<polyline fill="none" stroke="#ee8866" points="121319,-4171.5 121633,-4171.5 "/>
<text text-anchor="start" x="121379.5" y="-4156.3" font-family="Arial" font-size="14.00">agents : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4141.3" font-family="Arial" font-size="14.00">content_types : Optional[list[str]]</text>
<text text-anchor="start" x="121379.5" y="-4126.3" font-family="Arial" font-size="14.00">prompts : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4111.3" font-family="Arial" font-size="14.00">resources : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4096.3" font-family="Arial" font-size="14.00">server_ids : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4081.3" font-family="Arial" font-size="14.00">tenant_ids : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4066.3" font-family="Arial" font-size="14.00">tools : Optional[set[str]]</text>
<text text-anchor="start" x="121379.5" y="-4051.3" font-family="Arial" font-size="14.00">user_patterns : Optional[list[str]]</text>
<polyline fill="none" stroke="#ee8866" points="121319,-4043.5 121633,-4043.5 "/>
<text text-anchor="start" x="121327" y="-4028.3" font-family="Arial" font-size="14.00">serialize_set(value: set[str] | None): list[str] | None</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginConfig -->
<g id="node375" class="node">
<title>mcpgateway.plugins.framework.models.PluginConfig</title>
<polygon fill="white" stroke="#ee8866" points="121530.5,-8304 121530.5,-8613 121861.5,-8613 121861.5,-8304 121530.5,-8304"/>
<text text-anchor="start" x="121657.5" y="-8597.8" font-family="Arial" font-size="14.00">PluginConfig</text>
<polyline fill="none" stroke="#ee8866" points="121530.5,-8590 121861.5,-8590 "/>
<text text-anchor="start" x="121554.5" y="-8574.8" font-family="Arial" font-size="14.00">applied_to : Optional[AppliedTo]</text>
<text text-anchor="start" x="121554.5" y="-8559.8" font-family="Arial" font-size="14.00">author : Optional[str]</text>
<text text-anchor="start" x="121554.5" y="-8544.8" font-family="Arial" font-size="14.00">conditions : Optional[list[PluginCondition]]</text>
<text text-anchor="start" x="121554.5" y="-8529.8" font-family="Arial" font-size="14.00">config : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="121554.5" y="-8514.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="121554.5" y="-8499.8" font-family="Arial" font-size="14.00">grpc : Optional[GRPCClientConfig]</text>
<text text-anchor="start" x="121554.5" y="-8484.8" font-family="Arial" font-size="14.00">hooks : Optional[list[str]]</text>
<text text-anchor="start" x="121554.5" y="-8469.8" font-family="Arial" font-size="14.00">kind : str</text>
<text text-anchor="start" x="121554.5" y="-8454.8" font-family="Arial" font-size="14.00">mcp : Optional[MCPClientConfig]</text>
<text text-anchor="start" x="121554.5" y="-8439.8" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="121554.5" y="-8424.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="121554.5" y="-8409.8" font-family="Arial" font-size="14.00">namespace : Optional[str]</text>
<text text-anchor="start" x="121554.5" y="-8394.8" font-family="Arial" font-size="14.00">priority : int</text>
<text text-anchor="start" x="121554.5" y="-8379.8" font-family="Arial" font-size="14.00">tags : Optional[list[str]]</text>
<text text-anchor="start" x="121554.5" y="-8364.8" font-family="Arial" font-size="14.00">unix_socket : Optional[UnixSocketClientConfig]</text>
<text text-anchor="start" x="121554.5" y="-8349.8" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="121530.5,-8342 121861.5,-8342 "/>
<text text-anchor="start" x="121538.5" y="-8326.8" font-family="Arial" font-size="14.00">check_config_and_external(info: ValidationInfo): Self</text>
<text text-anchor="start" x="121538.5" y="-8311.8" font-family="Arial" font-size="14.00">check_url_or_script_filled(): Self</text>
</g>
<!-- mcpgateway.schemas.PluginDetail -->
<g id="node377" class="node">
<title>mcpgateway.schemas.PluginDetail</title>
<polygon fill="white" stroke="#77aadd" points="121904.5,-4043 121904.5,-4172 122117.5,-4172 122117.5,-4043 121904.5,-4043"/>
<text text-anchor="start" x="121974.5" y="-4156.8" font-family="Arial" font-size="14.00">PluginDetail</text>
<polyline fill="none" stroke="#77aadd" points="121904.5,-4149 122117.5,-4149 "/>
<text text-anchor="start" x="121912.5" y="-4133.8" font-family="Arial" font-size="14.00">conditions : Optional[List[Any]]</text>
<text text-anchor="start" x="121912.5" y="-4118.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="121912.5" y="-4103.8" font-family="Arial" font-size="14.00">kind : Optional[str]</text>
<text text-anchor="start" x="121912.5" y="-4088.8" font-family="Arial" font-size="14.00">manifest : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="121912.5" y="-4073.8" font-family="Arial" font-size="14.00">namespace : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="121904.5,-4066 122117.5,-4066 "/>
<text text-anchor="start" x="122009" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PluginSummary -->
<g id="node395" class="node">
<title>mcpgateway.schemas.PluginSummary</title>
<polygon fill="white" stroke="#77aadd" points="121880,-8356.5 121880,-8560.5 122142,-8560.5 122142,-8356.5 121880,-8356.5"/>
<text text-anchor="start" x="121962.5" y="-8545.3" font-family="Arial" font-size="14.00">PluginSummary</text>
<polyline fill="none" stroke="#77aadd" points="121880,-8537.5 122142,-8537.5 "/>
<text text-anchor="start" x="121888" y="-8522.3" font-family="Arial" font-size="14.00">author : Optional[str]</text>
<text text-anchor="start" x="121888" y="-8507.3" font-family="Arial" font-size="14.00">config_summary : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="121888" y="-8492.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="121888" y="-8477.3" font-family="Arial" font-size="14.00">hooks : Optional[List[str]]</text>
<text text-anchor="start" x="121888" y="-8462.3" font-family="Arial" font-size="14.00">mode : Optional[str]</text>
<text text-anchor="start" x="121888" y="-8447.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="121888" y="-8432.3" font-family="Arial" font-size="14.00">priority : Optional[int]</text>
<text text-anchor="start" x="121888" y="-8417.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="121888" y="-8402.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="121888" y="-8387.3" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="121880,-8379.5 122142,-8379.5 "/>
<text text-anchor="start" x="122009" y="-8364.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PluginDetail&#45;&gt;mcpgateway.schemas.PluginSummary -->
<g id="edge93" class="edge">
<title>mcpgateway.schemas.PluginDetail&#45;&gt;mcpgateway.schemas.PluginSummary</title>
<path fill="none" stroke="gray" d="M122011,-4172.08C122011,-4653.21 122011,-7719.51 122011,-8345.86"/>
<polygon fill="none" stroke="gray" points="122007.5,-8346.23 122011,-8356.23 122014.5,-8346.23 122007.5,-8346.23"/>
</g>
<!-- mcpgateway.plugins.framework.errors.PluginError -->
<g id="node378" class="node">
<title>mcpgateway.plugins.framework.errors.PluginError</title>
<polygon fill="white" stroke="#ee8866" points="122193,-8424 122193,-8493 122277,-8493 122277,-8424 122193,-8424"/>
<text text-anchor="start" x="122201" y="-8477.8" font-family="Arial" font-size="14.00" fill="red">PluginError</text>
<polyline fill="none" stroke="#ee8866" points="122193,-8470 122277,-8470 "/>
<text text-anchor="start" x="122220.5" y="-8454.8" font-family="Arial" font-size="14.00" fill="red">error</text>
<polyline fill="none" stroke="#ee8866" points="122193,-8447 122277,-8447 "/>
<text text-anchor="start" x="122233" y="-8431.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginErrorModel -->
<g id="node379" class="node">
<title>mcpgateway.plugins.framework.models.PluginErrorModel</title>
<polygon fill="white" stroke="#ee8866" points="122136,-4043 122136,-4172 122334,-4172 122334,-4043 122136,-4043"/>
<text text-anchor="start" x="122182" y="-4156.8" font-family="Arial" font-size="14.00">PluginErrorModel</text>
<polyline fill="none" stroke="#ee8866" points="122136,-4149 122334,-4149 "/>
<text text-anchor="start" x="122144" y="-4133.8" font-family="Arial" font-size="14.00">code : Optional[str]</text>
<text text-anchor="start" x="122144" y="-4118.8" font-family="Arial" font-size="14.00">details : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="122144" y="-4103.8" font-family="Arial" font-size="14.00">mcp_error_code : int</text>
<text text-anchor="start" x="122144" y="-4088.8" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="122144" y="-4073.8" font-family="Arial" font-size="14.00">plugin_name : str</text>
<polyline fill="none" stroke="#ee8866" points="122136,-4066 122334,-4066 "/>
<text text-anchor="start" x="122233" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginErrorModel&#45;&gt;mcpgateway.plugins.framework.errors.PluginError -->
<g id="edge189" class="edge">
<title>mcpgateway.plugins.framework.models.PluginErrorModel&#45;&gt;mcpgateway.plugins.framework.errors.PluginError</title>
<path fill="none" stroke="gray" d="M122235,-4172.08C122235,-4673.52 122235,-7982.87 122235,-8411.73"/>
<polygon fill="none" stroke="gray" points="122235,-8411.85 122239,-8417.85 122235,-8423.85 122231,-8417.85 122235,-8411.85"/>
<text text-anchor="middle" x="122249.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">error</text>
</g>
<!-- mcpgateway.plugins.framework.registry.PluginInstanceRegistry -->
<g id="node381" class="node">
<title>mcpgateway.plugins.framework.registry.PluginInstanceRegistry</title>
<polygon fill="white" stroke="#ee8866" points="122352.5,-4020.5 122352.5,-4194.5 122807.5,-4194.5 122807.5,-4020.5 122352.5,-4020.5"/>
<text text-anchor="start" x="122510.5" y="-4179.3" font-family="Arial" font-size="14.00">PluginInstanceRegistry</text>
<polyline fill="none" stroke="#ee8866" points="122352.5,-4171.5 122807.5,-4171.5 "/>
<text text-anchor="start" x="122541.5" y="-4156.3" font-family="Arial" font-size="14.00">plugin_count</text>
<polyline fill="none" stroke="#ee8866" points="122352.5,-4148.5 122807.5,-4148.5 "/>
<text text-anchor="start" x="122360.5" y="-4133.3" font-family="Arial" font-size="14.00">get_all_plugins(): list[PluginRef]</text>
<text text-anchor="start" x="122360.5" y="-4118.3" font-family="Arial" font-size="14.00">get_hook_refs_for_hook(hook_type: str): list[HookRef]</text>
<text text-anchor="start" x="122360.5" y="-4103.3" font-family="Arial" font-size="14.00">get_plugin(name: str): Optional[PluginRef]</text>
<text text-anchor="start" x="122360.5" y="-4088.3" font-family="Arial" font-size="14.00">get_plugin_hook_by_name(name: str, hook_type: str): Optional[HookRef]</text>
<text text-anchor="start" x="122360.5" y="-4073.3" font-family="Arial" font-size="14.00">has_hooks_for(hook_type: str): bool</text>
<text text-anchor="start" x="122360.5" y="-4058.3" font-family="Arial" font-size="14.00">register(plugin: Plugin): None</text>
<text text-anchor="start" x="122360.5" y="-4043.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="122360.5" y="-4028.3" font-family="Arial" font-size="14.00">unregister(plugin_name: str): None</text>
</g>
<!-- mcpgateway.schemas.PluginListResponse -->
<g id="node382" class="node">
<title>mcpgateway.schemas.PluginListResponse</title>
<polygon fill="white" stroke="#77aadd" points="122826,-4050.5 122826,-4164.5 123080,-4164.5 123080,-4050.5 122826,-4050.5"/>
<text text-anchor="start" x="122893" y="-4149.3" font-family="Arial" font-size="14.00">PluginListResponse</text>
<polyline fill="none" stroke="#77aadd" points="122826,-4141.5 123080,-4141.5 "/>
<text text-anchor="start" x="122834" y="-4126.3" font-family="Arial" font-size="14.00">disabled_count : Optional[int]</text>
<text text-anchor="start" x="122834" y="-4111.3" font-family="Arial" font-size="14.00">enabled_count : Optional[int]</text>
<text text-anchor="start" x="122834" y="-4096.3" font-family="Arial" font-size="14.00">plugins : Optional[List[PluginSummary]]</text>
<text text-anchor="start" x="122834" y="-4081.3" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="122826,-4073.5 123080,-4073.5 "/>
<text text-anchor="start" x="122951" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.loader.plugin.PluginLoader -->
<g id="node383" class="node">
<title>mcpgateway.plugins.framework.loader.plugin.PluginLoader</title>
<polygon fill="white" stroke="#ee8866" points="123098,-4064.6 123098,-4150.4 123500,-4150.4 123500,-4064.6 123098,-4064.6"/>
<text text-anchor="start" x="123259" y="-4135.2" font-family="Arial" font-size="14.00">PluginLoader</text>
<polyline fill="none" stroke="#ee8866" points="123098,-4127.4 123500,-4127.4 "/>
<polyline fill="none" stroke="#ee8866" points="123098,-4102.6 123500,-4102.6 "/>
<text text-anchor="start" x="123106" y="-4087.4" font-family="Arial" font-size="14.00">load_and_instantiate_plugin(config: PluginConfig): Plugin | None</text>
<text text-anchor="start" x="123106" y="-4072.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginManager -->
<g id="node384" class="node">
<title>mcpgateway.plugins.framework.manager.PluginManager</title>
<polygon fill="white" stroke="#ee8866" points="123518,-4013 123518,-4202 124822,-4202 124822,-4013 123518,-4013"/>
<text text-anchor="start" x="124124" y="-4186.8" font-family="Arial" font-size="14.00">PluginManager</text>
<polyline fill="none" stroke="#ee8866" points="123518,-4179 124822,-4179 "/>
<text text-anchor="start" x="124131.5" y="-4163.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="124131.5" y="-4148.8" font-family="Arial" font-size="14.00">initialized</text>
<text text-anchor="start" x="124131.5" y="-4133.8" font-family="Arial" font-size="14.00">plugin_count</text>
<polyline fill="none" stroke="#ee8866" points="123518,-4126 124822,-4126 "/>
<text text-anchor="start" x="123526" y="-4110.8" font-family="Arial" font-size="14.00">get_plugin(name: str): Optional[Plugin]</text>
<text text-anchor="start" x="123526" y="-4095.8" font-family="Arial" font-size="14.00">has_hooks_for(hook_type: str): bool</text>
<text text-anchor="start" x="123526" y="-4080.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="123526" y="-4065.8" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: PluginPayload, global_context: GlobalContext, local_contexts: Optional[PluginContextTable], violations_as_exceptions: bool): tuple[PluginResult, PluginContextTable | None]</text>
<text text-anchor="start" x="123526" y="-4050.8" font-family="Arial" font-size="14.00">invoke_hook_for_plugin(name: str, hook_type: str, payload: Union[PluginPayload, dict[str, Any], str], context: Union[PluginContext, GlobalContext], violations_as_exceptions: bool, payload_as_json: bool): PluginResult</text>
<text text-anchor="start" x="123526" y="-4035.8" font-family="Arial" font-size="14.00">reset(): None</text>
<text text-anchor="start" x="123526" y="-4020.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginManifest -->
<g id="node385" class="node">
<title>mcpgateway.plugins.framework.models.PluginManifest</title>
<polygon fill="white" stroke="#ee8866" points="124840.5,-4035.5 124840.5,-4179.5 125025.5,-4179.5 125025.5,-4035.5 124840.5,-4035.5"/>
<text text-anchor="start" x="124888" y="-4164.3" font-family="Arial" font-size="14.00">PluginManifest</text>
<polyline fill="none" stroke="#ee8866" points="124840.5,-4156.5 125025.5,-4156.5 "/>
<text text-anchor="start" x="124848.5" y="-4141.3" font-family="Arial" font-size="14.00">author : str</text>
<text text-anchor="start" x="124848.5" y="-4126.3" font-family="Arial" font-size="14.00">available_hooks : list[str]</text>
<text text-anchor="start" x="124848.5" y="-4111.3" font-family="Arial" font-size="14.00">default_config : dict[str, Any]</text>
<text text-anchor="start" x="124848.5" y="-4096.3" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="124848.5" y="-4081.3" font-family="Arial" font-size="14.00">tags : list[str]</text>
<text text-anchor="start" x="124848.5" y="-4066.3" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ee8866" points="124840.5,-4058.5 125025.5,-4058.5 "/>
<text text-anchor="start" x="124931" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginMode -->
<g id="node386" class="node">
<title>mcpgateway.plugins.framework.models.PluginMode</title>
<polygon fill="white" stroke="#ee8866" points="121651.5,-4073 121651.5,-4142 121740.5,-4142 121740.5,-4073 121651.5,-4073"/>
<text text-anchor="start" x="121659.5" y="-4126.8" font-family="Arial" font-size="14.00">PluginMode</text>
<polyline fill="none" stroke="#ee8866" points="121651.5,-4119 121740.5,-4119 "/>
<text text-anchor="start" x="121678.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="121651.5,-4096 121740.5,-4096 "/>
<text text-anchor="start" x="121694" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginMode&#45;&gt;mcpgateway.plugins.framework.models.PluginConfig -->
<g id="edge166" class="edge">
<title>mcpgateway.plugins.framework.models.PluginMode&#45;&gt;mcpgateway.plugins.framework.models.PluginConfig</title>
<path fill="none" stroke="gray" d="M121696,-4142.25C121696,-4496.9 121696,-7542.6 121696,-8291.62"/>
<polygon fill="gray" stroke="gray" points="121696,-8291.82 121700,-8297.82 121696,-8303.82 121692,-8297.82 121696,-8291.82"/>
<text text-anchor="middle" x="121713.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">mode</text>
</g>
<!-- mcpgateway.plugins.framework.base.PluginRef -->
<g id="node387" class="node">
<title>mcpgateway.plugins.framework.base.PluginRef</title>
<polygon fill="white" stroke="#ee8866" points="125043.5,-4020.5 125043.5,-4194.5 125120.5,-4194.5 125120.5,-4020.5 125043.5,-4020.5"/>
<text text-anchor="start" x="125052.5" y="-4179.3" font-family="Arial" font-size="14.00">PluginRef</text>
<polyline fill="none" stroke="#ee8866" points="125043.5,-4171.5 125120.5,-4171.5 "/>
<text text-anchor="start" x="125051.5" y="-4156.3" font-family="Arial" font-size="14.00">conditions</text>
<text text-anchor="start" x="125051.5" y="-4141.3" font-family="Arial" font-size="14.00">hooks</text>
<text text-anchor="start" x="125051.5" y="-4126.3" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="125051.5" y="-4111.3" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="125051.5" y="-4096.3" font-family="Arial" font-size="14.00">plugin</text>
<text text-anchor="start" x="125051.5" y="-4081.3" font-family="Arial" font-size="14.00">priority</text>
<text text-anchor="start" x="125051.5" y="-4066.3" font-family="Arial" font-size="14.00">tags</text>
<text text-anchor="start" x="125051.5" y="-4051.3" font-family="Arial" font-size="14.00">uuid</text>
<polyline fill="none" stroke="#ee8866" points="125043.5,-4043.5 125120.5,-4043.5 "/>
<text text-anchor="start" x="125080" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginResult -->
<g id="node388" class="node">
<title>mcpgateway.plugins.framework.models.PluginResult</title>
<polygon fill="white" stroke="#ee8866" points="125138.5,-4050.5 125138.5,-4164.5 125363.5,-4164.5 125363.5,-4050.5 125138.5,-4050.5"/>
<text text-anchor="start" x="125213" y="-4149.3" font-family="Arial" font-size="14.00">PluginResult</text>
<polyline fill="none" stroke="#ee8866" points="125138.5,-4141.5 125363.5,-4141.5 "/>
<text text-anchor="start" x="125146.5" y="-4126.3" font-family="Arial" font-size="14.00">continue_processing : bool</text>
<text text-anchor="start" x="125146.5" y="-4111.3" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="125146.5" y="-4096.3" font-family="Arial" font-size="14.00">modified_payload : Optional[T]</text>
<text text-anchor="start" x="125146.5" y="-4081.3" font-family="Arial" font-size="14.00">violation : Optional[PluginViolation]</text>
<polyline fill="none" stroke="#ee8866" points="125138.5,-4073.5 125363.5,-4073.5 "/>
<text text-anchor="start" x="125249" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.plugin_service.PluginService -->
<g id="node389" class="node">
<title>mcpgateway.services.plugin_service.PluginService</title>
<polygon fill="white" stroke="#ffaabb" points="125381,-4034.6 125381,-4180.4 126071,-4180.4 126071,-4034.6 125381,-4034.6"/>
<text text-anchor="start" x="125684.5" y="-4165.2" font-family="Arial" font-size="14.00">PluginService</text>
<polyline fill="none" stroke="#ffaabb" points="125381,-4157.4 126071,-4157.4 "/>
<polyline fill="none" stroke="#ffaabb" points="125381,-4132.6 126071,-4132.6 "/>
<text text-anchor="start" x="125389" y="-4117.4" font-family="Arial" font-size="14.00">get_all_plugins(): List[Dict[str, Any]]</text>
<text text-anchor="start" x="125389" y="-4102.4" font-family="Arial" font-size="14.00">get_plugin_by_name(name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="125389" y="-4087.4" font-family="Arial" font-size="14.00">get_plugin_manager(): Optional[PluginManager]</text>
<text text-anchor="start" x="125389" y="-4072.4" font-family="Arial" font-size="14.00">get_plugin_statistics(): Dict[str, Any]</text>
<text text-anchor="start" x="125389" y="-4057.4" font-family="Arial" font-size="14.00">search_plugins(query: Optional[str], mode: Optional[str], hook: Optional[str], tag: Optional[str]): List[Dict[str, Any]]</text>
<text text-anchor="start" x="125389" y="-4042.4" font-family="Arial" font-size="14.00">set_plugin_manager(manager: PluginManager): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginService -->
<g id="node390" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginService</title>
<polygon fill="white" stroke="#ee8866" points="126089.5,-4057.1 126089.5,-4157.9 126942.5,-4157.9 126942.5,-4057.1 126089.5,-4057.1"/>
<text text-anchor="start" x="126474.5" y="-4142.7" font-family="Arial" font-size="14.00">PluginService</text>
<polyline fill="none" stroke="#ee8866" points="126089.5,-4134.9 126942.5,-4134.9 "/>
<polyline fill="none" stroke="#ee8866" points="126089.5,-4110.1 126942.5,-4110.1 "/>
<text text-anchor="start" x="126097.5" y="-4094.9" font-family="Arial" font-size="14.00">GetPluginConfig(request, target, options, channel_credentials, call_credentials, insecure, compression, wait_for_ready, timeout, metadata)</text>
<text text-anchor="start" x="126097.5" y="-4079.9" font-family="Arial" font-size="14.00">GetPluginConfigs(request, target, options, channel_credentials, call_credentials, insecure, compression, wait_for_ready, timeout, metadata)</text>
<text text-anchor="start" x="126097.5" y="-4064.9" font-family="Arial" font-size="14.00">InvokeHook(request, target, options, channel_credentials, call_credentials, insecure, compression, wait_for_ready, timeout, metadata)</text>
</g>
<!-- mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceStub -->
<g id="node392" class="node">
<title>mcpgateway.plugins.framework.external.grpc.proto.plugin_service_pb2_grpc.PluginServiceStub</title>
<polygon fill="white" stroke="#ee8866" points="126960.5,-4058 126960.5,-4157 127087.5,-4157 127087.5,-4058 126960.5,-4058"/>
<text text-anchor="start" x="126968.5" y="-4141.8" font-family="Arial" font-size="14.00">PluginServiceStub</text>
<polyline fill="none" stroke="#ee8866" points="126960.5,-4134 127087.5,-4134 "/>
<text text-anchor="start" x="126971" y="-4118.8" font-family="Arial" font-size="14.00">GetPluginConfig</text>
<text text-anchor="start" x="126971" y="-4103.8" font-family="Arial" font-size="14.00">GetPluginConfigs</text>
<text text-anchor="start" x="126971" y="-4088.8" font-family="Arial" font-size="14.00">InvokeHook</text>
<polyline fill="none" stroke="#ee8866" points="126960.5,-4081 127087.5,-4081 "/>
<text text-anchor="start" x="127022" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginSettings -->
<g id="node393" class="node">
<title>mcpgateway.plugins.framework.models.PluginSettings</title>
<polygon fill="white" stroke="#ee8866" points="45395,-4035.5 45395,-4179.5 45637,-4179.5 45637,-4035.5 45395,-4035.5"/>
<text text-anchor="start" x="45472.5" y="-4164.3" font-family="Arial" font-size="14.00">PluginSettings</text>
<polyline fill="none" stroke="#ee8866" points="45395,-4156.5 45637,-4156.5 "/>
<text text-anchor="start" x="45403" y="-4141.3" font-family="Arial" font-size="14.00">enable_plugin_api : bool</text>
<text text-anchor="start" x="45403" y="-4126.3" font-family="Arial" font-size="14.00">fail_on_plugin_error : bool</text>
<text text-anchor="start" x="45403" y="-4111.3" font-family="Arial" font-size="14.00">include_user_info : bool</text>
<text text-anchor="start" x="45403" y="-4096.3" font-family="Arial" font-size="14.00">parallel_execution_within_band : bool</text>
<text text-anchor="start" x="45403" y="-4081.3" font-family="Arial" font-size="14.00">plugin_health_check_interval : int</text>
<text text-anchor="start" x="45403" y="-4066.3" font-family="Arial" font-size="14.00">plugin_timeout : int</text>
<polyline fill="none" stroke="#ee8866" points="45395,-4058.5 45637,-4058.5 "/>
<text text-anchor="start" x="45514" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginSettings&#45;&gt;mcpgateway.plugins.framework.models.Config -->
<g id="edge167" class="edge">
<title>mcpgateway.plugins.framework.models.PluginSettings&#45;&gt;mcpgateway.plugins.framework.models.Config</title>
<path fill="none" stroke="gray" d="M45516,-4179.91C45516,-4693.67 45516,-7821.56 45516,-8374.13"/>
<polygon fill="gray" stroke="gray" points="45516,-8374.32 45520,-8380.32 45516,-8386.32 45512,-8380.32 45516,-8374.32"/>
<text text-anchor="middle" x="45561.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">plugin_settings</text>
</g>
<!-- mcpgateway.schemas.PluginStatsResponse -->
<g id="node394" class="node">
<title>mcpgateway.schemas.PluginStatsResponse</title>
<polygon fill="white" stroke="#77aadd" points="127106,-4043 127106,-4172 127366,-4172 127366,-4043 127106,-4043"/>
<text text-anchor="start" x="127171" y="-4156.8" font-family="Arial" font-size="14.00">PluginStatsResponse</text>
<polyline fill="none" stroke="#77aadd" points="127106,-4149 127366,-4149 "/>
<text text-anchor="start" x="127114" y="-4133.8" font-family="Arial" font-size="14.00">disabled_plugins : Optional[int]</text>
<text text-anchor="start" x="127114" y="-4118.8" font-family="Arial" font-size="14.00">enabled_plugins : Optional[int]</text>
<text text-anchor="start" x="127114" y="-4103.8" font-family="Arial" font-size="14.00">plugins_by_hook : Optional[Dict[str, int]]</text>
<text text-anchor="start" x="127114" y="-4088.8" font-family="Arial" font-size="14.00">plugins_by_mode : Optional[Dict[str, int]]</text>
<text text-anchor="start" x="127114" y="-4073.8" font-family="Arial" font-size="14.00">total_plugins : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="127106,-4066 127366,-4066 "/>
<text text-anchor="start" x="127234" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginTimeoutError -->
<g id="node396" class="node">
<title>mcpgateway.plugins.framework.manager.PluginTimeoutError</title>
<polygon fill="white" stroke="#ee8866" points="127384,-4072.1 127384,-4142.9 127518,-4142.9 127518,-4072.1 127384,-4072.1"/>
<text text-anchor="start" x="127392" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PluginTimeoutError</text>
<polyline fill="none" stroke="#ee8866" points="127384,-4119.9 127518,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="127384,-4095.1 127518,-4095.1 "/>
<text text-anchor="start" x="127449" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginViolation -->
<g id="node397" class="node">
<title>mcpgateway.plugins.framework.models.PluginViolation</title>
<polygon fill="white" stroke="#ee8866" points="127536,-4035.5 127536,-4179.5 127736,-4179.5 127736,-4035.5 127536,-4035.5"/>
<text text-anchor="start" x="127591" y="-4164.3" font-family="Arial" font-size="14.00">PluginViolation</text>
<polyline fill="none" stroke="#ee8866" points="127536,-4156.5 127736,-4156.5 "/>
<text text-anchor="start" x="127544" y="-4141.3" font-family="Arial" font-size="14.00">code : str</text>
<text text-anchor="start" x="127544" y="-4126.3" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="127544" y="-4111.3" font-family="Arial" font-size="14.00">details : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="127544" y="-4096.3" font-family="Arial" font-size="14.00">mcp_error_code : Optional[int]</text>
<text text-anchor="start" x="127544" y="-4081.3" font-family="Arial" font-size="14.00">plugin_name</text>
<text text-anchor="start" x="127544" y="-4066.3" font-family="Arial" font-size="14.00">reason : str</text>
<polyline fill="none" stroke="#ee8866" points="127536,-4058.5 127736,-4058.5 "/>
<text text-anchor="start" x="127634" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.errors.PluginViolationError -->
<g id="node398" class="node">
<title>mcpgateway.plugins.framework.errors.PluginViolationError</title>
<polygon fill="white" stroke="#ee8866" points="127754,-4065.5 127754,-4149.5 127964,-4149.5 127964,-4065.5 127754,-4065.5"/>
<text text-anchor="start" x="127799" y="-4134.3" font-family="Arial" font-size="14.00" fill="red">PluginViolationError</text>
<polyline fill="none" stroke="#ee8866" points="127754,-4126.5 127964,-4126.5 "/>
<text text-anchor="start" x="127762" y="-4111.3" font-family="Arial" font-size="14.00" fill="red">message : str</text>
<text text-anchor="start" x="127762" y="-4096.3" font-family="Arial" font-size="14.00" fill="red">violation : PluginViolation | None</text>
<polyline fill="none" stroke="#ee8866" points="127754,-4088.5 127964,-4088.5 "/>
<text text-anchor="start" x="127857" y="-4073.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.PooledSession -->
<g id="node399" class="node">
<title>mcpgateway.services.mcp_session_pool.PooledSession</title>
<polygon fill="white" stroke="#ffaabb" points="127956,-8326.5 127956,-8590.5 128112,-8590.5 128112,-8326.5 127956,-8326.5"/>
<text text-anchor="start" x="127988.5" y="-8575.3" font-family="Arial" font-size="14.00">PooledSession</text>
<polyline fill="none" stroke="#ffaabb" points="127956,-8567.5 128112,-8567.5 "/>
<text text-anchor="start" x="127964" y="-8552.3" font-family="Arial" font-size="14.00">age_seconds</text>
<text text-anchor="start" x="127964" y="-8537.3" font-family="Arial" font-size="14.00">created_at : float</text>
<text text-anchor="start" x="127964" y="-8522.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="127964" y="-8507.3" font-family="Arial" font-size="14.00">headers : Dict[str, str]</text>
<text text-anchor="start" x="127964" y="-8492.3" font-family="Arial" font-size="14.00">identity_key : str</text>
<text text-anchor="start" x="127964" y="-8477.3" font-family="Arial" font-size="14.00">idle_seconds</text>
<text text-anchor="start" x="127964" y="-8462.3" font-family="Arial" font-size="14.00">is_closed</text>
<text text-anchor="start" x="127964" y="-8447.3" font-family="Arial" font-size="14.00">last_used : float</text>
<text text-anchor="start" x="127964" y="-8432.3" font-family="Arial" font-size="14.00">session : ClientSession</text>
<text text-anchor="start" x="127964" y="-8417.3" font-family="Arial" font-size="14.00">transport_context : Any</text>
<text text-anchor="start" x="127964" y="-8402.3" font-family="Arial" font-size="14.00">transport_type</text>
<text text-anchor="start" x="127964" y="-8387.3" font-family="Arial" font-size="14.00">url : str</text>
<text text-anchor="start" x="127964" y="-8372.3" font-family="Arial" font-size="14.00">use_count : int</text>
<text text-anchor="start" x="127964" y="-8357.3" font-family="Arial" font-size="14.00">user_identity : str</text>
<polyline fill="none" stroke="#ffaabb" points="127956,-8349.5 128112,-8349.5 "/>
<text text-anchor="start" x="127970.5" y="-8334.3" font-family="Arial" font-size="14.00">mark_closed(): None</text>
</g>
<!-- mcpgateway.common.models.Progress -->
<g id="node400" class="node">
<title>mcpgateway.common.models.Progress</title>
<polygon fill="white" stroke="#44bb99" points="128130.5,-8409 128130.5,-8508 128267.5,-8508 128267.5,-8409 128130.5,-8409"/>
<text text-anchor="start" x="128171.5" y="-8492.8" font-family="Arial" font-size="14.00">Progress</text>
<polyline fill="none" stroke="#44bb99" points="128130.5,-8485 128267.5,-8485 "/>
<text text-anchor="start" x="128138.5" y="-8469.8" font-family="Arial" font-size="14.00">progress : float</text>
<text text-anchor="start" x="128138.5" y="-8454.8" font-family="Arial" font-size="14.00">progress_token</text>
<text text-anchor="start" x="128138.5" y="-8439.8" font-family="Arial" font-size="14.00">total : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="128130.5,-8432 128267.5,-8432 "/>
<text text-anchor="start" x="128197" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressNotification -->
<g id="node401" class="node">
<title>mcpgateway.common.models.ProgressNotification</title>
<polygon fill="white" stroke="#44bb99" points="128285.5,-8401.5 128285.5,-8515.5 128536.5,-8515.5 128536.5,-8401.5 128285.5,-8401.5"/>
<text text-anchor="start" x="128350.5" y="-8500.3" font-family="Arial" font-size="14.00">ProgressNotification</text>
<polyline fill="none" stroke="#44bb99" points="128285.5,-8492.5 128536.5,-8492.5 "/>
<text text-anchor="start" x="128293.5" y="-8477.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/progress&#39;]</text>
<text text-anchor="start" x="128293.5" y="-8462.3" font-family="Arial" font-size="14.00">progress : float</text>
<text text-anchor="start" x="128293.5" y="-8447.3" font-family="Arial" font-size="14.00">progress_token</text>
<text text-anchor="start" x="128293.5" y="-8432.3" font-family="Arial" font-size="14.00">total : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="128285.5,-8424.5 128536.5,-8424.5 "/>
<text text-anchor="start" x="128409" y="-8409.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressToken -->
<g id="node402" class="node">
<title>mcpgateway.common.models.ProgressToken</title>
<polygon fill="white" stroke="#44bb99" points="128235.5,-4073 128235.5,-4142 128374.5,-4142 128374.5,-4073 128235.5,-4073"/>
<text text-anchor="start" x="128259.5" y="-4126.8" font-family="Arial" font-size="14.00">ProgressToken</text>
<polyline fill="none" stroke="#44bb99" points="128235.5,-4119 128374.5,-4119 "/>
<text text-anchor="start" x="128243.5" y="-4103.8" font-family="Arial" font-size="14.00">value : Union[str, int]</text>
<polyline fill="none" stroke="#44bb99" points="128235.5,-4096 128374.5,-4096 "/>
<text text-anchor="start" x="128303" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.Progress -->
<g id="edge143" class="edge">
<title>mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.Progress</title>
<path fill="none" stroke="gray" d="M128304.18,-4142.25C128295.04,-4517.12 128212.62,-7898.68 128200.49,-8396.43"/>
<polygon fill="gray" stroke="gray" points="128200.48,-8396.65 128204.34,-8402.75 128200.19,-8408.65 128196.34,-8402.55 128200.48,-8396.65"/>
<text text-anchor="middle" x="128252" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">progress_token</text>
</g>
<!-- mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.ProgressNotification -->
<g id="edge144" class="edge">
<title>mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.ProgressNotification</title>
<path fill="none" stroke="gray" d="M128304.4,-4142.34C128299.55,-4431.96 128269.54,-6523.49 128383,-8215 128386.96,-8274.06 128394.93,-8340.85 128401.36,-8389.37"/>
<polygon fill="gray" stroke="gray" points="128401.37,-8389.4 128406.13,-8394.81 128402.96,-8401.29 128398.2,-8395.87 128401.37,-8389.4"/>
<text text-anchor="middle" x="128432" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">progress_token</text>
</g>
<!-- mcpgateway.db.Prompt -->
<g id="node403" class="node">
<title>mcpgateway.db.Prompt</title>
<polygon fill="white" stroke="#77aadd" points="9820.5,-3758 9820.5,-4457 10105.5,-4457 10105.5,-3758 9820.5,-3758"/>
<text text-anchor="start" x="9940.5" y="-4441.8" font-family="Arial" font-size="14.00">Prompt</text>
<polyline fill="none" stroke="#77aadd" points="9820.5,-4434 10105.5,-4434 "/>
<text text-anchor="start" x="9828.5" y="-4418.8" font-family="Arial" font-size="14.00">argument_schema : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="9828.5" y="-4403.8" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="9828.5" y="-4388.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="9828.5" y="-4373.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4358.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4343.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4328.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4313.8" font-family="Arial" font-size="14.00">custom_name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-4298.8" font-family="Arial" font-size="14.00">custom_name_slug : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-4283.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4268.8" font-family="Arial" font-size="14.00">display_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4253.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="9828.5" y="-4238.8" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="9828.5" y="-4223.8" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="9828.5" y="-4208.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4193.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="9828.5" y="-4178.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4163.8" font-family="Arial" font-size="14.00">gateway_name_cache</text>
<text text-anchor="start" x="9828.5" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-4133.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4118.8" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="9828.5" y="-4103.8" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="9828.5" y="-4088.8" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;PromptMetric&#39;]]</text>
<text text-anchor="start" x="9828.5" y="-4073.8" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="9828.5" y="-4058.8" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="9828.5" y="-4043.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4028.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4013.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3998.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3983.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3968.8" font-family="Arial" font-size="14.00">original_name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3953.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3938.8" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="9828.5" y="-3923.8" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="9828.5" y="-3908.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="9828.5" y="-3893.8" font-family="Arial" font-size="14.00">team : NoneType</text>
<text text-anchor="start" x="9828.5" y="-3878.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3863.8" font-family="Arial" font-size="14.00">template : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3848.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="9828.5" y="-3833.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="9828.5" y="-3818.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="9820.5,-3811 10105.5,-3811 "/>
<text text-anchor="start" x="9828.5" y="-3795.8" font-family="Arial" font-size="14.00">execution_count(): int</text>
<text text-anchor="start" x="9828.5" y="-3780.8" font-family="Arial" font-size="14.00">gateway_slug(): Optional[str]</text>
<text text-anchor="start" x="9828.5" y="-3765.8" font-family="Arial" font-size="14.00">validate_arguments(args: Dict[str, str]): None</text>
</g>
<!-- mcpgateway.db.Prompt&#45;&gt;mcpgateway.db.Base -->
<g id="edge40" class="edge">
<title>mcpgateway.db.Prompt&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9995.85,-4457.2C10071.48,-5334.92 10221.53,-7608.77 9811,-8215 9704.49,-8372.28 9471.05,-8428.6 9346.35,-8447.94"/>
<polygon fill="none" stroke="gray" points="9345.47,-8444.54 9336.1,-8449.49 9346.51,-8451.46 9345.47,-8444.54"/>
</g>
<!-- mcpgateway.common.models.Prompt&#45;&gt;mcpgateway.schemas.FederatedPrompt -->
<g id="edge145" class="edge">
<title>mcpgateway.common.models.Prompt&#45;&gt;mcpgateway.schemas.FederatedPrompt</title>
<path fill="none" stroke="gray" d="M61396,-8515.91C61396,-8598.36 61396,-8751.57 61396,-8840.25"/>
<polygon fill="gray" stroke="gray" points="61396,-8840.32 61400,-8846.32 61396,-8852.32 61392,-8846.32 61396,-8840.32"/>
<text text-anchor="middle" x="61417.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">prompt</text>
</g>
<!-- mcpgateway.schemas.PromptArgument -->
<g id="node405" class="node">
<title>mcpgateway.schemas.PromptArgument</title>
<polygon fill="white" stroke="#77aadd" points="128392.5,-4058 128392.5,-4157 128559.5,-4157 128559.5,-4058 128392.5,-4058"/>
<text text-anchor="start" x="128424" y="-4141.8" font-family="Arial" font-size="14.00">PromptArgument</text>
<polyline fill="none" stroke="#77aadd" points="128392.5,-4134 128559.5,-4134 "/>
<text text-anchor="start" x="128400.5" y="-4118.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="128400.5" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="128400.5" y="-4088.8" font-family="Arial" font-size="14.00">required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="128392.5,-4081 128559.5,-4081 "/>
<text text-anchor="start" x="128474" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptArgument -->
<g id="node406" class="node">
<title>mcpgateway.common.models.PromptArgument</title>
<polygon fill="white" stroke="#44bb99" points="128578,-4043 128578,-4172 128770,-4172 128770,-4043 128578,-4043"/>
<text text-anchor="start" x="128622" y="-4156.8" font-family="Arial" font-size="14.00">PromptArgument</text>
<polyline fill="none" stroke="#44bb99" points="128578,-4149 128770,-4149 "/>
<text text-anchor="start" x="128586" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="128586" y="-4118.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="128586" y="-4103.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="128586" y="-4088.8" font-family="Arial" font-size="14.00">required : bool</text>
<text text-anchor="start" x="128586" y="-4073.8" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="128578,-4066 128770,-4066 "/>
<text text-anchor="start" x="128672" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptCreate -->
<g id="node407" class="node">
<title>mcpgateway.schemas.PromptCreate</title>
<polygon fill="white" stroke="#77aadd" points="128788.5,-3945.5 128788.5,-4269.5 129123.5,-4269.5 129123.5,-3945.5 128788.5,-3945.5"/>
<text text-anchor="start" x="128913.5" y="-4254.3" font-family="Arial" font-size="14.00">PromptCreate</text>
<polyline fill="none" stroke="#77aadd" points="128788.5,-4246.5 129123.5,-4246.5 "/>
<text text-anchor="start" x="128822.5" y="-4231.3" font-family="Arial" font-size="14.00">arguments : Optional[List[PromptArgument]]</text>
<text text-anchor="start" x="128822.5" y="-4216.3" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4201.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4186.3" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4171.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4156.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="128822.5" y="-4141.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4126.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4111.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="128822.5" y="-4096.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4081.3" font-family="Arial" font-size="14.00">template : Optional[str]</text>
<text text-anchor="start" x="128822.5" y="-4066.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="128788.5,-4058.5 129123.5,-4058.5 "/>
<text text-anchor="start" x="128796.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="128796.5" y="-4028.3" font-family="Arial" font-size="14.00">validate_custom_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="128796.5" y="-4013.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="128796.5" y="-3998.3" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="128796.5" y="-3983.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="128796.5" y="-3968.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="128796.5" y="-3953.3" font-family="Arial" font-size="14.00">validate_template(v: str): str</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptError -->
<g id="node408" class="node">
<title>mcpgateway.services.prompt_service.PromptError</title>
<polygon fill="white" stroke="#ffaabb" points="129455.5,-8423.1 129455.5,-8493.9 129546.5,-8493.9 129546.5,-8423.1 129455.5,-8423.1"/>
<text text-anchor="start" x="129463.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">PromptError</text>
<polyline fill="none" stroke="#ffaabb" points="129455.5,-8470.9 129546.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="129455.5,-8446.1 129546.5,-8446.1 "/>
<text text-anchor="start" x="129499" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.PromptExecuteArgs -->
<g id="node409" class="node">
<title>mcpgateway.schemas.PromptExecuteArgs</title>
<polygon fill="white" stroke="#77aadd" points="129851,-4065.5 129851,-4149.5 130031,-4149.5 130031,-4065.5 129851,-4065.5"/>
<text text-anchor="start" x="129880.5" y="-4134.3" font-family="Arial" font-size="14.00">PromptExecuteArgs</text>
<polyline fill="none" stroke="#77aadd" points="129851,-4126.5 130031,-4126.5 "/>
<text text-anchor="start" x="129859" y="-4111.3" font-family="Arial" font-size="14.00">args : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="129859" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#77aadd" points="129851,-4088.5 130031,-4088.5 "/>
<text text-anchor="start" x="129864" y="-4073.3" font-family="Arial" font-size="14.00">validate_args(v: dict): dict</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptHookType -->
<g id="node410" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptHookType</title>
<polygon fill="white" stroke="#ee8866" points="130049,-4073 130049,-4142 130171,-4142 130171,-4073 130049,-4073"/>
<text text-anchor="start" x="130057" y="-4126.8" font-family="Arial" font-size="14.00">PromptHookType</text>
<polyline fill="none" stroke="#ee8866" points="130049,-4119 130171,-4119 "/>
<text text-anchor="start" x="130092.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="130049,-4096 130171,-4096 "/>
<text text-anchor="start" x="130108" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptInvocation -->
<g id="node411" class="node">
<title>mcpgateway.schemas.PromptInvocation</title>
<polygon fill="white" stroke="#77aadd" points="130189,-4065.5 130189,-4149.5 130407,-4149.5 130407,-4065.5 130189,-4065.5"/>
<text text-anchor="start" x="130245" y="-4134.3" font-family="Arial" font-size="14.00">PromptInvocation</text>
<polyline fill="none" stroke="#77aadd" points="130189,-4126.5 130407,-4126.5 "/>
<text text-anchor="start" x="130197" y="-4111.3" font-family="Arial" font-size="14.00">arguments : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="130197" y="-4096.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="130189,-4088.5 130407,-4088.5 "/>
<text text-anchor="start" x="130296" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptListChangedNotification -->
<g id="node412" class="node">
<title>mcpgateway.common.models.PromptListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="130425,-4073 130425,-4142 130753,-4142 130753,-4073 130425,-4073"/>
<text text-anchor="start" x="130495.5" y="-4126.8" font-family="Arial" font-size="14.00">PromptListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="130425,-4119 130753,-4119 "/>
<text text-anchor="start" x="130433" y="-4103.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/prompts/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="130425,-4096 130753,-4096 "/>
<text text-anchor="start" x="130587" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptLockConflictError -->
<g id="node413" class="node">
<title>mcpgateway.services.prompt_service.PromptLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="129142,-4072.1 129142,-4142.9 129306,-4142.9 129306,-4072.1 129142,-4072.1"/>
<text text-anchor="start" x="129150" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PromptLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="129142,-4119.9 129306,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="129142,-4095.1 129306,-4095.1 "/>
<text text-anchor="start" x="129222" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptLockConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge112" class="edge">
<title>mcpgateway.services.prompt_service.PromptLockConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M129221.83,-4142.94C129200.23,-4492.76 129030.46,-7406.07 129315,-8215 129343.43,-8295.84 129410.02,-8371.2 129455.31,-8415.82"/>
<polygon fill="none" stroke="gray" points="129453.06,-8418.51 129462.66,-8422.98 129457.94,-8413.49 129453.06,-8418.51"/>
</g>
<!-- mcpgateway.common.models.PromptMessage -->
<g id="node414" class="node">
<title>mcpgateway.common.models.PromptMessage</title>
<polygon fill="white" stroke="#44bb99" points="47451,-8416.5 47451,-8500.5 47567,-8500.5 47567,-8416.5 47451,-8416.5"/>
<text text-anchor="start" x="47459" y="-8485.3" font-family="Arial" font-size="14.00">PromptMessage</text>
<polyline fill="none" stroke="#44bb99" points="47451,-8477.5 47567,-8477.5 "/>
<text text-anchor="start" x="47473.5" y="-8462.3" font-family="Arial" font-size="14.00">content : str</text>
<text text-anchor="start" x="47473.5" y="-8447.3" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="47451,-8439.5 47567,-8439.5 "/>
<text text-anchor="start" x="47507" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetric -->
<g id="node415" class="node">
<title>mcpgateway.db.PromptMetric</title>
<polygon fill="white" stroke="#77aadd" points="10124,-4028 10124,-4187 10374,-4187 10374,-4028 10124,-4028"/>
<text text-anchor="start" x="10208" y="-4171.8" font-family="Arial" font-size="14.00">PromptMetric</text>
<polyline fill="none" stroke="#77aadd" points="10124,-4164 10374,-4164 "/>
<text text-anchor="start" x="10132" y="-4148.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10132" y="-4133.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="10132" y="-4118.8" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="10132" y="-4103.8" font-family="Arial" font-size="14.00">prompt : Mapped[&#39;Prompt&#39;]</text>
<text text-anchor="start" x="10132" y="-4088.8" font-family="Arial" font-size="14.00">prompt_id : Mapped[str]</text>
<text text-anchor="start" x="10132" y="-4073.8" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="10132" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="10124,-4051 10374,-4051 "/>
<text text-anchor="start" x="10247" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge41" class="edge">
<title>mcpgateway.db.PromptMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10251.89,-4187.42C10270.98,-4729.13 10370.73,-7886.17 10114,-8215 10018.21,-8337.7 9540.44,-8418.22 9346.26,-8446.35"/>
<polygon fill="none" stroke="gray" points="9345.51,-8442.93 9336.11,-8447.81 9346.51,-8449.85 9345.51,-8442.93"/>
</g>
<!-- mcpgateway.schemas.PromptMetrics -->
<g id="node416" class="node">
<title>mcpgateway.schemas.PromptMetrics</title>
<polygon fill="white" stroke="#77aadd" points="130771.5,-4020.5 130771.5,-4194.5 131030.5,-4194.5 131030.5,-4020.5 130771.5,-4020.5"/>
<text text-anchor="start" x="130856.5" y="-4179.3" font-family="Arial" font-size="14.00">PromptMetrics</text>
<polyline fill="none" stroke="#77aadd" points="130771.5,-4171.5 131030.5,-4171.5 "/>
<text text-anchor="start" x="130779.5" y="-4156.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="130779.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="130779.5" y="-4126.3" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="130779.5" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="130779.5" y="-4096.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="130779.5" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="130779.5" y="-4066.3" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="130779.5" y="-4051.3" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="130771.5,-4043.5 131030.5,-4043.5 "/>
<text text-anchor="start" x="130899" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetricsHourly -->
<g id="node417" class="node">
<title>mcpgateway.db.PromptMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="10392,-3975.5 10392,-4239.5 10684,-4239.5 10684,-3975.5 10392,-3975.5"/>
<text text-anchor="start" x="10474" y="-4224.3" font-family="Arial" font-size="14.00">PromptMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="10392,-4216.5 10684,-4216.5 "/>
<text text-anchor="start" x="10400" y="-4201.3" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="10400" y="-4171.3" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-4156.3" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="10400" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-4126.3" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4111.3" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4096.3" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4081.3" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4066.3" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-4051.3" font-family="Arial" font-size="14.00">prompt_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10400" y="-4036.3" font-family="Arial" font-size="14.00">prompt_name : Mapped[str]</text>
<text text-anchor="start" x="10400" y="-4021.3" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-4006.3" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="10392,-3998.5 10684,-3998.5 "/>
<text text-anchor="start" x="10536" y="-3983.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge42" class="edge">
<title>mcpgateway.db.PromptMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10553.51,-4239.53C10625.32,-4871.26 10900.71,-7597.3 10383,-8215 10248.93,-8374.97 9581.81,-8435.67 9346.41,-8452.32"/>
<polygon fill="none" stroke="gray" points="9345.93,-8448.84 9336.2,-8453.03 9346.42,-8455.83 9345.93,-8448.84"/>
</g>
<!-- mcpgateway.services.prompt_service.PromptNameConflictError -->
<g id="node418" class="node">
<title>mcpgateway.services.prompt_service.PromptNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="129324.5,-4058 129324.5,-4157 129497.5,-4157 129497.5,-4058 129324.5,-4058"/>
<text text-anchor="start" x="129332.5" y="-4141.8" font-family="Arial" font-size="14.00" fill="red">PromptNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="129324.5,-4134 129497.5,-4134 "/>
<text text-anchor="start" x="129338.5" y="-4118.8" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="129338.5" y="-4103.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="129338.5" y="-4088.8" font-family="Arial" font-size="14.00" fill="red">prompt_id : Optional[int]</text>
<polyline fill="none" stroke="#ffaabb" points="129324.5,-4081 129497.5,-4081 "/>
<text text-anchor="start" x="129409" y="-4065.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptNameConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge113" class="edge">
<title>mcpgateway.services.prompt_service.PromptNameConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M129412.01,-4157.34C129421.27,-4604.68 129491.2,-7983.78 129500.07,-8412.76"/>
<polygon fill="none" stroke="gray" points="129496.58,-8412.98 129500.28,-8422.91 129503.58,-8412.84 129496.58,-8412.98"/>
</g>
<!-- mcpgateway.services.prompt_service.PromptNotFoundError -->
<g id="node419" class="node">
<title>mcpgateway.services.prompt_service.PromptNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="129516,-4072.1 129516,-4142.9 129666,-4142.9 129666,-4072.1 129516,-4072.1"/>
<text text-anchor="start" x="129524" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PromptNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="129516,-4119.9 129666,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="129516,-4095.1 129666,-4095.1 "/>
<text text-anchor="start" x="129589" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptNotFoundError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge114" class="edge">
<title>mcpgateway.services.prompt_service.PromptNotFoundError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M129590.71,-4143.03C129588.14,-4436.36 129568.23,-6540.92 129511,-8248 129509.09,-8304.99 129505.77,-8370.64 129503.49,-8413.04"/>
<polygon fill="none" stroke="gray" points="129499.99,-8412.86 129502.95,-8423.04 129506.98,-8413.24 129499.99,-8412.86"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload -->
<g id="node420" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload</title>
<polygon fill="white" stroke="#ee8866" points="131053,-8416.5 131053,-8500.5 131219,-8500.5 131219,-8416.5 131053,-8416.5"/>
<text text-anchor="start" x="131061" y="-8485.3" font-family="Arial" font-size="14.00">PromptPosthookPayload</text>
<polyline fill="none" stroke="#ee8866" points="131053,-8477.5 131219,-8477.5 "/>
<text text-anchor="start" x="131092" y="-8462.3" font-family="Arial" font-size="14.00">prompt_id : str</text>
<text text-anchor="start" x="131092" y="-8447.3" font-family="Arial" font-size="14.00">result</text>
<polyline fill="none" stroke="#ee8866" points="131053,-8439.5 131219,-8439.5 "/>
<text text-anchor="start" x="131134" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptPrehookPayload -->
<g id="node421" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptPrehookPayload</title>
<polygon fill="white" stroke="#ee8866" points="131241,-4065.5 131241,-4149.5 131419,-4149.5 131419,-4065.5 131241,-4065.5"/>
<text text-anchor="start" x="131258" y="-4134.3" font-family="Arial" font-size="14.00">PromptPrehookPayload</text>
<polyline fill="none" stroke="#ee8866" points="131241,-4126.5 131419,-4126.5 "/>
<text text-anchor="start" x="131249" y="-4111.3" font-family="Arial" font-size="14.00">args : Optional[dict[str, str]]</text>
<text text-anchor="start" x="131249" y="-4096.3" font-family="Arial" font-size="14.00">prompt_id : str</text>
<polyline fill="none" stroke="#ee8866" points="131241,-4088.5 131419,-4088.5 "/>
<text text-anchor="start" x="131328" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptRead -->
<g id="node422" class="node">
<title>mcpgateway.schemas.PromptRead</title>
<polygon fill="white" stroke="#77aadd" points="131437,-3840.5 131437,-4374.5 131665,-4374.5 131665,-3840.5 131437,-3840.5"/>
<text text-anchor="start" x="131512.5" y="-4359.3" font-family="Arial" font-size="14.00">PromptRead</text>
<polyline fill="none" stroke="#77aadd" points="131437,-4351.5 131665,-4351.5 "/>
<text text-anchor="start" x="131445" y="-4336.3" font-family="Arial" font-size="14.00">arguments : List[PromptArgument]</text>
<text text-anchor="start" x="131445" y="-4321.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="131445" y="-4306.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4291.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4276.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4261.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4246.3" font-family="Arial" font-size="14.00">custom_name : str</text>
<text text-anchor="start" x="131445" y="-4231.3" font-family="Arial" font-size="14.00">custom_name_slug : str</text>
<text text-anchor="start" x="131445" y="-4216.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4201.3" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4186.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="131445" y="-4171.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4156.3" font-family="Arial" font-size="14.00">gateway_slug : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4141.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4126.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4111.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="131445" y="-4096.3" font-family="Arial" font-size="14.00">metrics : Optional[PromptMetrics]</text>
<text text-anchor="start" x="131445" y="-4081.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4066.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4051.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4036.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="131445" y="-4021.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="131445" y="-4006.3" font-family="Arial" font-size="14.00">original_name : str</text>
<text text-anchor="start" x="131445" y="-3991.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="131445" y="-3976.3" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="131445" y="-3961.3" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="131445" y="-3946.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="131445" y="-3931.3" font-family="Arial" font-size="14.00">template : str</text>
<text text-anchor="start" x="131445" y="-3916.3" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<text text-anchor="start" x="131445" y="-3901.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="131445" y="-3886.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="131445" y="-3871.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="131437,-3863.5 131665,-3863.5 "/>
<text text-anchor="start" x="131549" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptReference -->
<g id="node423" class="node">
<title>mcpgateway.common.models.PromptReference</title>
<polygon fill="white" stroke="#44bb99" points="131683,-4065.5 131683,-4149.5 131849,-4149.5 131849,-4065.5 131683,-4065.5"/>
<text text-anchor="start" x="131712.5" y="-4134.3" font-family="Arial" font-size="14.00">PromptReference</text>
<polyline fill="none" stroke="#44bb99" points="131683,-4126.5 131849,-4126.5 "/>
<text text-anchor="start" x="131691" y="-4111.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="131691" y="-4096.3" font-family="Arial" font-size="14.00">type : Literal[&#39;ref/prompt&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="131683,-4088.5 131849,-4088.5 "/>
<text text-anchor="start" x="131764" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptResult -->
<g id="node424" class="node">
<title>mcpgateway.common.models.PromptResult</title>
<polygon fill="white" stroke="#44bb99" points="131049,-4065.5 131049,-4149.5 131223,-4149.5 131223,-4065.5 131049,-4065.5"/>
<text text-anchor="start" x="131094.5" y="-4134.3" font-family="Arial" font-size="14.00">PromptResult</text>
<polyline fill="none" stroke="#44bb99" points="131049,-4126.5 131223,-4126.5 "/>
<text text-anchor="start" x="131057" y="-4111.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="131057" y="-4096.3" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<polyline fill="none" stroke="#44bb99" points="131049,-4088.5 131223,-4088.5 "/>
<text text-anchor="start" x="131134" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptResult&#45;&gt;mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload -->
<g id="edge146" class="edge">
<title>mcpgateway.common.models.PromptResult&#45;&gt;mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload</title>
<path fill="none" stroke="gray" d="M131136,-4149.8C131136,-4562.5 131136,-7938.52 131136,-8404.29"/>
<polygon fill="gray" stroke="gray" points="131136,-8404.29 131140,-8410.29 131136,-8416.29 131132,-8410.29 131136,-8404.29"/>
<text text-anchor="middle" x="131153" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">result</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptService -->
<g id="node425" class="node">
<title>mcpgateway.services.prompt_service.PromptService</title>
<polygon fill="white" stroke="#ffaabb" points="131867.5,-3952.1 131867.5,-4262.9 134056.5,-4262.9 134056.5,-3952.1 131867.5,-3952.1"/>
<text text-anchor="start" x="132917" y="-4247.7" font-family="Arial" font-size="14.00">PromptService</text>
<polyline fill="none" stroke="#ffaabb" points="131867.5,-4239.9 134056.5,-4239.9 "/>
<polyline fill="none" stroke="#ffaabb" points="131867.5,-4215.1 134056.5,-4215.1 "/>
<text text-anchor="start" x="131875.5" y="-4199.9" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="131875.5" y="-4184.9" font-family="Arial" font-size="14.00">convert_prompt_to_read(db_prompt: DbPrompt, include_metrics: bool): PromptRead</text>
<text text-anchor="start" x="131875.5" y="-4169.9" font-family="Arial" font-size="14.00">delete_prompt(db: Session, prompt_id: Union[int, str], user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="131875.5" y="-4154.9" font-family="Arial" font-size="14.00">get_prompt(db: Session, prompt_id: Union[int, str], arguments: Optional[Dict[str, str]], user: Optional[str], tenant_id: Optional[str], server_id: Optional[str], request_id: Optional[str], token_teams: Optional[List[str]], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], _meta_data: Optional[Dict[str, Any]]): PromptResult</text>
<text text-anchor="start" x="131875.5" y="-4139.9" font-family="Arial" font-size="14.00">get_prompt_details(db: Session, prompt_id: Union[int, str], include_inactive: bool): Dict[str, Any]</text>
<text text-anchor="start" x="131875.5" y="-4124.9" font-family="Arial" font-size="14.00">get_top_prompts(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="131875.5" y="-4109.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="131875.5" y="-4094.9" font-family="Arial" font-size="14.00">list_prompts(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[PromptRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="131875.5" y="-4079.9" font-family="Arial" font-size="14.00">list_prompts_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[PromptRead]</text>
<text text-anchor="start" x="131875.5" y="-4064.9" font-family="Arial" font-size="14.00">list_server_prompts(db: Session, server_id: str, include_inactive: bool, cursor: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]]): List[PromptRead]</text>
<text text-anchor="start" x="131875.5" y="-4049.9" font-family="Arial" font-size="14.00">register_prompt(db: Session, prompt: PromptCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): PromptRead</text>
<text text-anchor="start" x="131875.5" y="-4034.9" font-family="Arial" font-size="14.00">register_prompts_bulk(db: Session, prompts: List[PromptCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="131875.5" y="-4019.9" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="131875.5" y="-4004.9" font-family="Arial" font-size="14.00">set_prompt_state(db: Session, prompt_id: int, activate: bool, user_email: Optional[str], skip_cache_invalidation: bool): PromptRead</text>
<text text-anchor="start" x="131875.5" y="-3989.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="131875.5" y="-3974.9" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="131875.5" y="-3959.9" font-family="Arial" font-size="14.00">update_prompt(db: Session, prompt_id: Union[int, str], prompt_update: PromptUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): PromptRead</text>
</g>
<!-- mcpgateway.plugins.framework.models.PromptTemplate -->
<g id="node426" class="node">
<title>mcpgateway.plugins.framework.models.PromptTemplate</title>
<polygon fill="white" stroke="#ee8866" points="32988.5,-4058 32988.5,-4157 33145.5,-4157 33145.5,-4058 32988.5,-4058"/>
<text text-anchor="start" x="33017" y="-4141.8" font-family="Arial" font-size="14.00">PromptTemplate</text>
<polyline fill="none" stroke="#ee8866" points="32988.5,-4134 33145.5,-4134 "/>
<text text-anchor="start" x="32996.5" y="-4118.8" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="32996.5" y="-4103.8" font-family="Arial" font-size="14.00">prompt_name : str</text>
<text text-anchor="start" x="32996.5" y="-4088.8" font-family="Arial" font-size="14.00">result : bool</text>
<polyline fill="none" stroke="#ee8866" points="32988.5,-4081 33145.5,-4081 "/>
<text text-anchor="start" x="33065" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PromptTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge78" class="edge">
<title>mcpgateway.plugins.framework.models.PromptTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M33065.85,-4157.01C33056.62,-4561.75 32998.57,-7382.81 33154,-8215 33166.84,-8283.72 33196.74,-8358.8 33218.12,-8406.93"/>
<polygon fill="none" stroke="gray" points="33214.98,-8408.49 33222.27,-8416.18 33221.37,-8405.63 33214.98,-8408.49"/>
</g>
<!-- mcpgateway.schemas.PromptUpdate -->
<g id="node427" class="node">
<title>mcpgateway.schemas.PromptUpdate</title>
<polygon fill="white" stroke="#77aadd" points="134074.5,-3960.5 134074.5,-4254.5 134409.5,-4254.5 134409.5,-3960.5 134074.5,-3960.5"/>
<text text-anchor="start" x="134198" y="-4239.3" font-family="Arial" font-size="14.00">PromptUpdate</text>
<polyline fill="none" stroke="#77aadd" points="134074.5,-4231.5 134409.5,-4231.5 "/>
<text text-anchor="start" x="134108.5" y="-4216.3" font-family="Arial" font-size="14.00">arguments : Optional[List[PromptArgument]]</text>
<text text-anchor="start" x="134108.5" y="-4201.3" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4186.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4171.3" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4156.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4141.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4126.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="134108.5" y="-4111.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4096.3" font-family="Arial" font-size="14.00">template : Optional[str]</text>
<text text-anchor="start" x="134108.5" y="-4081.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="134074.5,-4073.5 134409.5,-4073.5 "/>
<text text-anchor="start" x="134082.5" y="-4058.3" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="134082.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_custom_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="134082.5" y="-4028.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="134082.5" y="-4013.3" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="134082.5" y="-3998.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="134082.5" y="-3983.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="134082.5" y="-3968.3" font-family="Arial" font-size="14.00">validate_template(v: str): str</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptValidationError -->
<g id="node428" class="node">
<title>mcpgateway.services.prompt_service.PromptValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="129683.5,-4072.1 129683.5,-4142.9 129832.5,-4142.9 129832.5,-4072.1 129683.5,-4072.1"/>
<text text-anchor="start" x="129691.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">PromptValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="129683.5,-4119.9 129832.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="129683.5,-4095.1 129832.5,-4095.1 "/>
<text text-anchor="start" x="129756" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptValidationError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge115" class="edge">
<title>mcpgateway.services.prompt_service.PromptValidationError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M129760.12,-4143.16C129781.13,-4493.71 129945.72,-7401.61 129675,-8215 129648.55,-8294.48 129586.13,-8370.27 129543.71,-8415.35"/>
<polygon fill="none" stroke="gray" points="129540.92,-8413.2 129536.55,-8422.86 129545.99,-8418.03 129540.92,-8413.2"/>
</g>
<!-- mcpgateway.plugins.framework.external.unix.protocol.ProtocolError -->
<g id="node429" class="node">
<title>mcpgateway.plugins.framework.external.unix.protocol.ProtocolError</title>
<polygon fill="white" stroke="#ee8866" points="134428,-4072.1 134428,-4142.9 134524,-4142.9 134524,-4072.1 134428,-4072.1"/>
<text text-anchor="start" x="134436" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ProtocolError</text>
<polyline fill="none" stroke="#ee8866" points="134428,-4119.9 134524,-4119.9 "/>
<polyline fill="none" stroke="#ee8866" points="134428,-4095.1 134524,-4095.1 "/>
<text text-anchor="start" x="134474" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.ProviderConfigDefinition -->
<g id="node430" class="node">
<title>mcpgateway.llm_provider_configs.ProviderConfigDefinition</title>
<polygon fill="white" stroke="#77aadd" points="134542,-4005.5 134542,-4209.5 134868,-4209.5 134868,-4005.5 134542,-4005.5"/>
<text text-anchor="start" x="134632" y="-4194.3" font-family="Arial" font-size="14.00">ProviderConfigDefinition</text>
<polyline fill="none" stroke="#77aadd" points="134542,-4186.5 134868,-4186.5 "/>
<text text-anchor="start" x="134550" y="-4171.3" font-family="Arial" font-size="14.00">api_base_default : Optional[str]</text>
<text text-anchor="start" x="134550" y="-4156.3" font-family="Arial" font-size="14.00">api_base_help : Optional[str]</text>
<text text-anchor="start" x="134550" y="-4141.3" font-family="Arial" font-size="14.00">api_key_help : Optional[str]</text>
<text text-anchor="start" x="134550" y="-4126.3" font-family="Arial" font-size="14.00">api_key_label : str</text>
<text text-anchor="start" x="134550" y="-4111.3" font-family="Arial" font-size="14.00">config_fields : Optional[List[ProviderFieldDefinition]]</text>
<text text-anchor="start" x="134550" y="-4096.3" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="134550" y="-4081.3" font-family="Arial" font-size="14.00">display_name : str</text>
<text text-anchor="start" x="134550" y="-4066.3" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="134550" y="-4051.3" font-family="Arial" font-size="14.00">requires_api_base : bool</text>
<text text-anchor="start" x="134550" y="-4036.3" font-family="Arial" font-size="14.00">requires_api_key : bool</text>
<polyline fill="none" stroke="#77aadd" points="134542,-4028.5 134868,-4028.5 "/>
<text text-anchor="start" x="134703" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.ProviderFieldDefinition -->
<g id="node431" class="node">
<title>mcpgateway.llm_provider_configs.ProviderFieldDefinition</title>
<polygon fill="white" stroke="#77aadd" points="134886,-3998 134886,-4217 135112,-4217 135112,-3998 134886,-3998"/>
<text text-anchor="start" x="134931" y="-4201.8" font-family="Arial" font-size="14.00">ProviderFieldDefinition</text>
<polyline fill="none" stroke="#77aadd" points="134886,-4194 135112,-4194 "/>
<text text-anchor="start" x="134894" y="-4178.8" font-family="Arial" font-size="14.00">default_value : Optional[Any]</text>
<text text-anchor="start" x="134894" y="-4163.8" font-family="Arial" font-size="14.00">field_type : Optional[str]</text>
<text text-anchor="start" x="134894" y="-4148.8" font-family="Arial" font-size="14.00">help_text : Optional[str]</text>
<text text-anchor="start" x="134894" y="-4133.8" font-family="Arial" font-size="14.00">label : Optional[str]</text>
<text text-anchor="start" x="134894" y="-4118.8" font-family="Arial" font-size="14.00">max_value : Optional[float]</text>
<text text-anchor="start" x="134894" y="-4103.8" font-family="Arial" font-size="14.00">min_value : Optional[float]</text>
<text text-anchor="start" x="134894" y="-4088.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="134894" y="-4073.8" font-family="Arial" font-size="14.00">options : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="134894" y="-4058.8" font-family="Arial" font-size="14.00">placeholder : Optional[str]</text>
<text text-anchor="start" x="134894" y="-4043.8" font-family="Arial" font-size="14.00">required : Optional[bool]</text>
<text text-anchor="start" x="134894" y="-4028.8" font-family="Arial" font-size="14.00">validation_pattern : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="134886,-4021 135112,-4021 "/>
<text text-anchor="start" x="134997" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PublicRegistrationRequest -->
<g id="node433" class="node">
<title>mcpgateway.schemas.PublicRegistrationRequest</title>
<polygon fill="white" stroke="#77aadd" points="135130,-4050.5 135130,-4164.5 135306,-4164.5 135306,-4050.5 135130,-4050.5"/>
<text text-anchor="start" x="135138" y="-4149.3" font-family="Arial" font-size="14.00">PublicRegistrationRequest</text>
<polyline fill="none" stroke="#77aadd" points="135130,-4141.5 135306,-4141.5 "/>
<text text-anchor="start" x="135140.5" y="-4126.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="135140.5" y="-4111.3" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="135140.5" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="135140.5" y="-4081.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="135130,-4073.5 135306,-4073.5 "/>
<text text-anchor="start" x="135216" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.RBACRole -->
<g id="node434" class="node">
<title>mcpgateway.common.models.RBACRole</title>
<polygon fill="white" stroke="#44bb99" points="135324,-3998 135324,-4217 135530,-4217 135530,-3998 135324,-3998"/>
<text text-anchor="start" x="135394" y="-4201.8" font-family="Arial" font-size="14.00">RBACRole</text>
<polyline fill="none" stroke="#44bb99" points="135324,-4194 135530,-4194 "/>
<text text-anchor="start" x="135332" y="-4178.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="135332" y="-4163.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4148.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4133.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4118.8" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4103.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="135332" y="-4088.8" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="135332" y="-4073.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4058.8" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="135332" y="-4043.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="135332" y="-4028.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<polyline fill="none" stroke="#44bb99" points="135324,-4021 135530,-4021 "/>
<text text-anchor="start" x="135425" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.RPCRequest -->
<g id="node435" class="node">
<title>mcpgateway.schemas.RPCRequest</title>
<polygon fill="white" stroke="#77aadd" points="135548.5,-4035.5 135548.5,-4179.5 136001.5,-4179.5 136001.5,-4035.5 135548.5,-4035.5"/>
<text text-anchor="start" x="135735.5" y="-4164.3" font-family="Arial" font-size="14.00">RPCRequest</text>
<polyline fill="none" stroke="#77aadd" points="135548.5,-4156.5 136001.5,-4156.5 "/>
<text text-anchor="start" x="135679.5" y="-4141.3" font-family="Arial" font-size="14.00">id : Optional[Union[int, str]]</text>
<text text-anchor="start" x="135679.5" y="-4126.3" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="135679.5" y="-4111.3" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="135679.5" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="135679.5" y="-4081.3" font-family="Arial" font-size="14.00">params : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="135548.5,-4073.5 136001.5,-4073.5 "/>
<text text-anchor="start" x="135556.5" y="-4058.3" font-family="Arial" font-size="14.00">validate_method(v: str): str</text>
<text text-anchor="start" x="135556.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_params(v: Optional[Union[Dict, List]]): Optional[Union[Dict, List]]</text>
</g>
<!-- mcpgateway.schemas.RPCResponse -->
<g id="node436" class="node">
<title>mcpgateway.schemas.RPCResponse</title>
<polygon fill="white" stroke="#77aadd" points="136020,-4050.5 136020,-4164.5 136210,-4164.5 136210,-4050.5 136020,-4050.5"/>
<text text-anchor="start" x="136070" y="-4149.3" font-family="Arial" font-size="14.00">RPCResponse</text>
<polyline fill="none" stroke="#77aadd" points="136020,-4141.5 136210,-4141.5 "/>
<text text-anchor="start" x="136028" y="-4126.3" font-family="Arial" font-size="14.00">error : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="136028" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[Union[int, str]]</text>
<text text-anchor="start" x="136028" y="-4096.3" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="136028" y="-4081.3" font-family="Arial" font-size="14.00">result : Optional[Any]</text>
<polyline fill="none" stroke="#77aadd" points="136020,-4073.5 136210,-4073.5 "/>
<text text-anchor="start" x="136113" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.redis_event_store.RedisEventStore -->
<g id="node437" class="node">
<title>mcpgateway.transports.redis_event_store.RedisEventStore</title>
<polygon fill="white" stroke="#77aadd" points="136228,-4050.5 136228,-4164.5 136726,-4164.5 136726,-4050.5 136228,-4050.5"/>
<text text-anchor="start" x="136426" y="-4149.3" font-family="Arial" font-size="14.00">RedisEventStore</text>
<polyline fill="none" stroke="#77aadd" points="136228,-4141.5 136726,-4141.5 "/>
<text text-anchor="start" x="136427" y="-4126.3" font-family="Arial" font-size="14.00">key_prefix : str</text>
<text text-anchor="start" x="136427" y="-4111.3" font-family="Arial" font-size="14.00">max_events : int</text>
<text text-anchor="start" x="136427" y="-4096.3" font-family="Arial" font-size="14.00">ttl : int</text>
<polyline fill="none" stroke="#77aadd" points="136228,-4088.5 136726,-4088.5 "/>
<text text-anchor="start" x="136236" y="-4073.3" font-family="Arial" font-size="14.00">replay_events_after(last_event_id: str, send_callback: EventCallback): str | None</text>
<text text-anchor="start" x="136236" y="-4058.3" font-family="Arial" font-size="14.00">store_event(stream_id: str, message: JSONRPCMessage | None): str</text>
</g>
<!-- mcpgateway.db.RegisteredOAuthClient -->
<g id="node438" class="node">
<title>mcpgateway.db.RegisteredOAuthClient</title>
<polygon fill="white" stroke="#77aadd" points="10702,-3960.5 10702,-4254.5 11084,-4254.5 11084,-3960.5 10702,-3960.5"/>
<text text-anchor="start" x="10823.5" y="-4239.3" font-family="Arial" font-size="14.00">RegisteredOAuthClient</text>
<polyline fill="none" stroke="#77aadd" points="10702,-4231.5 11084,-4231.5 "/>
<text text-anchor="start" x="10710" y="-4216.3" font-family="Arial" font-size="14.00">client_id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4201.3" font-family="Arial" font-size="14.00">client_secret_encrypted : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="10710" y="-4171.3" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="10710" y="-4156.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="10710" y="-4141.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4126.3" font-family="Arial" font-size="14.00">grant_types : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4111.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4096.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="10710" y="-4081.3" font-family="Arial" font-size="14.00">issuer : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4066.3" font-family="Arial" font-size="14.00">redirect_uris : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4051.3" font-family="Arial" font-size="14.00">registration_access_token_encrypted : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-4036.3" font-family="Arial" font-size="14.00">registration_client_uri : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-4021.3" font-family="Arial" font-size="14.00">response_types : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-4006.3" font-family="Arial" font-size="14.00">scope : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3991.3" font-family="Arial" font-size="14.00">token_endpoint_auth_method : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="10702,-3983.5 11084,-3983.5 "/>
<text text-anchor="start" x="10891" y="-3968.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.RegisteredOAuthClient&#45;&gt;mcpgateway.db.Base -->
<g id="edge43" class="edge">
<title>mcpgateway.db.RegisteredOAuthClient&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10909.04,-4254.7C10978.21,-4915.44 11224.13,-7616.32 10693,-8215 10513.08,-8417.81 9623.62,-8451.01 9346.55,-8456.44"/>
<polygon fill="none" stroke="gray" points="9346.1,-8452.95 9336.17,-8456.64 9346.23,-8459.95 9346.1,-8452.95"/>
</g>
<!-- mcpgateway.cache.registry_cache.RegistryCache -->
<g id="node439" class="node">
<title>mcpgateway.cache.registry_cache.RegistryCache</title>
<polygon fill="white" stroke="#99ddff" points="136744,-3974.6 136744,-4240.4 137178,-4240.4 137178,-3974.6 136744,-3974.6"/>
<text text-anchor="start" x="136916.5" y="-4225.2" font-family="Arial" font-size="14.00">RegistryCache</text>
<polyline fill="none" stroke="#99ddff" points="136744,-4217.4 137178,-4217.4 "/>
<polyline fill="none" stroke="#99ddff" points="136744,-4192.6 137178,-4192.6 "/>
<text text-anchor="start" x="136752" y="-4177.4" font-family="Arial" font-size="14.00">get(cache_type: str, filters_hash: str): Optional[Any]</text>
<text text-anchor="start" x="136752" y="-4162.4" font-family="Arial" font-size="14.00">hash_filters(): str</text>
<text text-anchor="start" x="136752" y="-4147.4" font-family="Arial" font-size="14.00">invalidate(cache_type: str): None</text>
<text text-anchor="start" x="136752" y="-4132.4" font-family="Arial" font-size="14.00">invalidate_agents(): None</text>
<text text-anchor="start" x="136752" y="-4117.4" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="136752" y="-4102.4" font-family="Arial" font-size="14.00">invalidate_catalog(): None</text>
<text text-anchor="start" x="136752" y="-4087.4" font-family="Arial" font-size="14.00">invalidate_gateways(): None</text>
<text text-anchor="start" x="136752" y="-4072.4" font-family="Arial" font-size="14.00">invalidate_prompts(): None</text>
<text text-anchor="start" x="136752" y="-4057.4" font-family="Arial" font-size="14.00">invalidate_resources(): None</text>
<text text-anchor="start" x="136752" y="-4042.4" font-family="Arial" font-size="14.00">invalidate_servers(): None</text>
<text text-anchor="start" x="136752" y="-4027.4" font-family="Arial" font-size="14.00">invalidate_tools(): None</text>
<text text-anchor="start" x="136752" y="-4012.4" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="136752" y="-3997.4" font-family="Arial" font-size="14.00">set(cache_type: str, data: Any, filters_hash: str, ttl: Optional[int]): None</text>
<text text-anchor="start" x="136752" y="-3982.4" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.cache.registry_cache.RegistryCacheConfig -->
<g id="node440" class="node">
<title>mcpgateway.cache.registry_cache.RegistryCacheConfig</title>
<polygon fill="white" stroke="#99ddff" points="137196,-4020.5 137196,-4194.5 137340,-4194.5 137340,-4020.5 137196,-4020.5"/>
<text text-anchor="start" x="137204" y="-4179.3" font-family="Arial" font-size="14.00">RegistryCacheConfig</text>
<polyline fill="none" stroke="#99ddff" points="137196,-4171.5 137340,-4171.5 "/>
<text text-anchor="start" x="137216.5" y="-4156.3" font-family="Arial" font-size="14.00">agents_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4141.3" font-family="Arial" font-size="14.00">catalog_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4126.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="137216.5" y="-4111.3" font-family="Arial" font-size="14.00">gateways_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4096.3" font-family="Arial" font-size="14.00">prompts_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4081.3" font-family="Arial" font-size="14.00">resources_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4066.3" font-family="Arial" font-size="14.00">servers_ttl : int</text>
<text text-anchor="start" x="137216.5" y="-4051.3" font-family="Arial" font-size="14.00">tools_ttl : int</text>
<polyline fill="none" stroke="#99ddff" points="137196,-4043.5 137340,-4043.5 "/>
<text text-anchor="start" x="137266" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.request_logging_middleware.RequestLoggingMiddleware -->
<g id="node441" class="node">
<title>mcpgateway.middleware.request_logging_middleware.RequestLoggingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="137358,-4020.5 137358,-4194.5 137654,-4194.5 137654,-4020.5 137358,-4020.5"/>
<text text-anchor="start" x="137421.5" y="-4179.3" font-family="Arial" font-size="14.00">RequestLoggingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="137358,-4171.5 137654,-4171.5 "/>
<text text-anchor="start" x="137406.5" y="-4156.3" font-family="Arial" font-size="14.00">enable_gateway_logging : bool</text>
<text text-anchor="start" x="137406.5" y="-4141.3" font-family="Arial" font-size="14.00">log_detailed_requests : bool</text>
<text text-anchor="start" x="137406.5" y="-4126.3" font-family="Arial" font-size="14.00">log_detailed_sample_rate : float</text>
<text text-anchor="start" x="137406.5" y="-4111.3" font-family="Arial" font-size="14.00">log_detailed_skip_endpoints : list</text>
<text text-anchor="start" x="137406.5" y="-4096.3" font-family="Arial" font-size="14.00">log_level : str</text>
<text text-anchor="start" x="137406.5" y="-4081.3" font-family="Arial" font-size="14.00">log_request_start : bool</text>
<text text-anchor="start" x="137406.5" y="-4066.3" font-family="Arial" font-size="14.00">log_resolve_user_identity : bool</text>
<text text-anchor="start" x="137406.5" y="-4051.3" font-family="Arial" font-size="14.00">max_body_size : NoneType</text>
<polyline fill="none" stroke="#eedd88" points="137358,-4043.5 137654,-4043.5 "/>
<text text-anchor="start" x="137366" y="-4028.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable)</text>
</g>
<!-- mcpgateway.schemas.RequestMetricsSchema -->
<g id="node442" class="node">
<title>mcpgateway.schemas.RequestMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="137672.5,-3983 137672.5,-4232 137929.5,-4232 137929.5,-3983 137672.5,-3983"/>
<text text-anchor="start" x="137728.5" y="-4216.8" font-family="Arial" font-size="14.00">RequestMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="137672.5,-4209 137929.5,-4209 "/>
<text text-anchor="start" x="137680.5" y="-4193.8" font-family="Arial" font-size="14.00">active_requests : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4178.8" font-family="Arial" font-size="14.00">error_rate : Optional[float]</text>
<text text-anchor="start" x="137680.5" y="-4163.8" font-family="Arial" font-size="14.00">requests_1xx : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4148.8" font-family="Arial" font-size="14.00">requests_2xx : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4133.8" font-family="Arial" font-size="14.00">requests_3xx : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4118.8" font-family="Arial" font-size="14.00">requests_4xx : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4103.8" font-family="Arial" font-size="14.00">requests_5xx : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4088.8" font-family="Arial" font-size="14.00">requests_per_second : Optional[float]</text>
<text text-anchor="start" x="137680.5" y="-4073.8" font-family="Arial" font-size="14.00">requests_total : Optional[int]</text>
<text text-anchor="start" x="137680.5" y="-4058.8" font-family="Arial" font-size="14.00">response_time_avg_ms : Optional[float]</text>
<text text-anchor="start" x="137680.5" y="-4043.8" font-family="Arial" font-size="14.00">response_time_p50_ms : Optional[float]</text>
<text text-anchor="start" x="137680.5" y="-4028.8" font-family="Arial" font-size="14.00">response_time_p95_ms : Optional[float]</text>
<text text-anchor="start" x="137680.5" y="-4013.8" font-family="Arial" font-size="14.00">response_time_p99_ms : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="137672.5,-4006 137929.5,-4006 "/>
<text text-anchor="start" x="137799" y="-3990.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.RequestStatus -->
<g id="node443" class="node">
<title>mcpgateway.llm_schemas.RequestStatus</title>
<polygon fill="white" stroke="#77aadd" points="137947.5,-4073 137947.5,-4142 138052.5,-4142 138052.5,-4073 137947.5,-4073"/>
<text text-anchor="start" x="137955.5" y="-4126.8" font-family="Arial" font-size="14.00">RequestStatus</text>
<polyline fill="none" stroke="#77aadd" points="137947.5,-4119 138052.5,-4119 "/>
<text text-anchor="start" x="137982.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="137947.5,-4096 138052.5,-4096 "/>
<text text-anchor="start" x="137998" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.RequestType -->
<g id="node444" class="node">
<title>mcpgateway.llm_schemas.RequestType</title>
<polygon fill="white" stroke="#77aadd" points="138071,-4073 138071,-4142 138167,-4142 138167,-4073 138071,-4073"/>
<text text-anchor="start" x="138079" y="-4126.8" font-family="Arial" font-size="14.00">RequestType</text>
<polyline fill="none" stroke="#77aadd" points="138071,-4119 138167,-4119 "/>
<text text-anchor="start" x="138101.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="138071,-4096 138167,-4096 "/>
<text text-anchor="start" x="138117" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResilientSession -->
<g id="node445" class="node">
<title>mcpgateway.db.ResilientSession</title>
<polygon fill="white" stroke="#77aadd" points="138185,-4057.1 138185,-4157.9 138371,-4157.9 138371,-4057.1 138185,-4057.1"/>
<text text-anchor="start" x="138228" y="-4142.7" font-family="Arial" font-size="14.00">ResilientSession</text>
<polyline fill="none" stroke="#77aadd" points="138185,-4134.9 138371,-4134.9 "/>
<polyline fill="none" stroke="#77aadd" points="138185,-4110.1 138371,-4110.1 "/>
<text text-anchor="start" x="138193" y="-4094.9" font-family="Arial" font-size="14.00">execute(statement, params)</text>
<text text-anchor="start" x="138193" y="-4079.9" font-family="Arial" font-size="14.00">scalar(statement, params)</text>
<text text-anchor="start" x="138193" y="-4064.9" font-family="Arial" font-size="14.00">scalars(statement, params)</text>
</g>
<!-- mcpgateway.db.Resource -->
<g id="node446" class="node">
<title>mcpgateway.db.Resource</title>
<polygon fill="white" stroke="#77aadd" points="11102,-3765.5 11102,-4449.5 11432,-4449.5 11432,-3765.5 11102,-3765.5"/>
<text text-anchor="start" x="11238" y="-4434.3" font-family="Arial" font-size="14.00">Resource</text>
<polyline fill="none" stroke="#77aadd" points="11102,-4426.5 11432,-4426.5 "/>
<text text-anchor="start" x="11110" y="-4411.3" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="11110" y="-4396.3" font-family="Arial" font-size="14.00">binary_content : Mapped[Optional[bytes]]</text>
<text text-anchor="start" x="11110" y="-4381.3" font-family="Arial" font-size="14.00">content</text>
<text text-anchor="start" x="11110" y="-4366.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="11110" y="-4351.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4336.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4321.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4306.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4291.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4276.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="11110" y="-4261.3" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="11110" y="-4246.3" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="11110" y="-4231.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4216.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="11110" y="-4201.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4186.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-4171.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4156.3" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="11110" y="-4141.3" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="11110" y="-4126.3" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ResourceMetric&#39;]]</text>
<text text-anchor="start" x="11110" y="-4111.3" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="11110" y="-4096.3" font-family="Arial" font-size="14.00">mime_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="11110" y="-4066.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4051.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4036.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4021.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4006.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-3991.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3976.3" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="11110" y="-3961.3" font-family="Arial" font-size="14.00">size : Mapped[Optional[int]]</text>
<text text-anchor="start" x="11110" y="-3946.3" font-family="Arial" font-size="14.00">subscriptions : Mapped[List[&#39;ResourceSubscription&#39;]]</text>
<text text-anchor="start" x="11110" y="-3931.3" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="11110" y="-3916.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="11110" y="-3901.3" font-family="Arial" font-size="14.00">team : NoneType</text>
<text text-anchor="start" x="11110" y="-3886.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3871.3" font-family="Arial" font-size="14.00">text_content : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3856.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="11110" y="-3841.3" font-family="Arial" font-size="14.00">uri : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-3826.3" font-family="Arial" font-size="14.00">uri_template : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3811.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="11110" y="-3796.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="11102,-3788.5 11432,-3788.5 "/>
<text text-anchor="start" x="11202" y="-3773.3" font-family="Arial" font-size="14.00">execution_count(): int</text>
</g>
<!-- mcpgateway.db.Resource&#45;&gt;mcpgateway.db.Base -->
<g id="edge44" class="edge">
<title>mcpgateway.db.Resource&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11305.85,-4449.54C11398.59,-5334.17 11590,-7671.42 11093,-8215 10973.07,-8346.17 9686.36,-8432.17 9346.13,-8452.73"/>
<polygon fill="none" stroke="gray" points="9345.87,-8449.24 9336.1,-8453.33 9346.29,-8456.23 9345.87,-8449.24"/>
</g>
<!-- mcpgateway.common.models.Resource&#45;&gt;mcpgateway.schemas.FederatedResource -->
<g id="edge147" class="edge">
<title>mcpgateway.common.models.Resource&#45;&gt;mcpgateway.schemas.FederatedResource</title>
<path fill="none" stroke="gray" d="M61693,-8530.65C61693,-8615.52 61693,-8756.42 61693,-8840.08"/>
<polygon fill="gray" stroke="gray" points="61693,-8840.24 61697,-8846.24 61693,-8852.24 61689,-8846.24 61693,-8840.24"/>
<text text-anchor="middle" x="61719.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">resource</text>
</g>
<!-- mcpgateway.observability.init_telemetry.ResourceAttributeSpanProcessor -->
<g id="node448" class="node">
<title>mcpgateway.observability.init_telemetry.ResourceAttributeSpanProcessor</title>
<polygon fill="white" stroke="#bbcc33" points="138389.5,-4066.5 138389.5,-4148.5 138606.5,-4148.5 138606.5,-4066.5 138389.5,-4066.5"/>
<text text-anchor="start" x="138397.5" y="-4133.3" font-family="Arial" font-size="14.00">ResourceAttributeSpanProcessor</text>
<polyline fill="none" stroke="#bbcc33" points="138389.5,-4125.5 138606.5,-4125.5 "/>
<text text-anchor="start" x="138428.5" y="-4110.3" font-family="Arial" font-size="14.00">attributes_to_copy : list</text>
<polyline fill="none" stroke="#bbcc33" points="138389.5,-4102.5 138606.5,-4102.5 "/>
<text text-anchor="start" x="138402" y="-4088.3" font-family="Arial" font-style="italic" font-size="14.00">on_end</text>
<text text-anchor="start" x="138448" y="-4088.3" font-family="Arial" font-size="14.00">(span)</text>
<text text-anchor="start" x="138402" y="-4074.3" font-family="Arial" font-size="14.00">on_start(span, _parent_context)</text>
</g>
<!-- mcpgateway.cache.resource_cache.ResourceCache -->
<g id="node449" class="node">
<title>mcpgateway.cache.resource_cache.ResourceCache</title>
<polygon fill="white" stroke="#99ddff" points="138625,-4028 138625,-4187 138821,-4187 138821,-4028 138625,-4028"/>
<text text-anchor="start" x="138674.5" y="-4171.8" font-family="Arial" font-size="14.00">ResourceCache</text>
<polyline fill="none" stroke="#99ddff" points="138625,-4164 138821,-4164 "/>
<text text-anchor="start" x="138681" y="-4148.8" font-family="Arial" font-size="14.00">max_size : int</text>
<text text-anchor="start" x="138681" y="-4133.8" font-family="Arial" font-size="14.00">ttl : int</text>
<polyline fill="none" stroke="#99ddff" points="138625,-4126 138821,-4126 "/>
<text text-anchor="start" x="138633" y="-4110.8" font-family="Arial" font-size="14.00">clear(): None</text>
<text text-anchor="start" x="138633" y="-4095.8" font-family="Arial" font-size="14.00">delete(key: str): None</text>
<text text-anchor="start" x="138633" y="-4080.8" font-family="Arial" font-size="14.00">get(key: str): Optional[Any]</text>
<text text-anchor="start" x="138633" y="-4065.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="138633" y="-4050.8" font-family="Arial" font-size="14.00">set(key: str, value: Any): None</text>
<text text-anchor="start" x="138633" y="-4035.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.common.models.ResourceContent -->
<g id="node450" class="node">
<title>mcpgateway.common.models.ResourceContent</title>
<polygon fill="white" stroke="#44bb99" points="138838.5,-4035.5 138838.5,-4179.5 139007.5,-4179.5 139007.5,-4035.5 138838.5,-4035.5"/>
<text text-anchor="start" x="138870" y="-4164.3" font-family="Arial" font-size="14.00">ResourceContent</text>
<polyline fill="none" stroke="#44bb99" points="138838.5,-4156.5 139007.5,-4156.5 "/>
<text text-anchor="start" x="138846.5" y="-4141.3" font-family="Arial" font-size="14.00">blob : Optional[bytes]</text>
<text text-anchor="start" x="138846.5" y="-4126.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="138846.5" y="-4111.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="138846.5" y="-4096.3" font-family="Arial" font-size="14.00">text : Optional[str]</text>
<text text-anchor="start" x="138846.5" y="-4081.3" font-family="Arial" font-size="14.00">type : Literal[&#39;resource&#39;]</text>
<text text-anchor="start" x="138846.5" y="-4066.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="138838.5,-4058.5 139007.5,-4058.5 "/>
<text text-anchor="start" x="138921" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ResourceNotification -->
<g id="node462" class="node">
<title>mcpgateway.schemas.ResourceNotification</title>
<polygon fill="white" stroke="#77aadd" points="138803,-8409 138803,-8508 139043,-8508 139043,-8409 138803,-8409"/>
<text text-anchor="start" x="138860.5" y="-8492.8" font-family="Arial" font-size="14.00">ResourceNotification</text>
<polyline fill="none" stroke="#77aadd" points="138803,-8485 139043,-8485 "/>
<text text-anchor="start" x="138829.5" y="-8469.8" font-family="Arial" font-size="14.00">content</text>
<text text-anchor="start" x="138829.5" y="-8454.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="138829.5" y="-8439.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#77aadd" points="138803,-8432 139043,-8432 "/>
<text text-anchor="start" x="138811" y="-8416.8" font-family="Arial" font-size="14.00">serialize_timestamp(dt: datetime): str</text>
</g>
<!-- mcpgateway.common.models.ResourceContent&#45;&gt;mcpgateway.schemas.ResourceNotification -->
<g id="edge148" class="edge">
<title>mcpgateway.common.models.ResourceContent&#45;&gt;mcpgateway.schemas.ResourceNotification</title>
<path fill="none" stroke="gray" d="M138923,-4179.91C138923,-4701.09 138923,-7912.46 138923,-8396.44"/>
<polygon fill="gray" stroke="gray" points="138923,-8396.67 138927,-8402.67 138923,-8408.67 138919,-8402.67 138923,-8396.67"/>
<text text-anchor="middle" x="138945.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">content</text>
</g>
<!-- mcpgateway.schemas.ResourceCreate -->
<g id="node452" class="node">
<title>mcpgateway.schemas.ResourceCreate</title>
<polygon fill="white" stroke="#77aadd" points="139026,-3953 139026,-4262 139482,-4262 139482,-3953 139026,-3953"/>
<text text-anchor="start" x="139204.5" y="-4246.8" font-family="Arial" font-size="14.00">ResourceCreate</text>
<polyline fill="none" stroke="#77aadd" points="139026,-4239 139482,-4239 "/>
<text text-anchor="start" x="139148.5" y="-4223.8" font-family="Arial" font-size="14.00">content : Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="139148.5" y="-4208.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4193.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4178.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4163.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="139148.5" y="-4148.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4133.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4118.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="139148.5" y="-4103.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4088.8" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4073.8" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="139148.5" y="-4058.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="139026,-4051 139482,-4051 "/>
<text text-anchor="start" x="139034" y="-4035.8" font-family="Arial" font-size="14.00">validate_content(v: Optional[Union[str, bytes]]): Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="139034" y="-4020.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="139034" y="-4005.8" font-family="Arial" font-size="14.00">validate_mime_type(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="139034" y="-3990.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="139034" y="-3975.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="139034" y="-3960.8" font-family="Arial" font-size="14.00">validate_uri(v: str): str</text>
</g>
<!-- mcpgateway.services.resource_service.ResourceError -->
<g id="node453" class="node">
<title>mcpgateway.services.resource_service.ResourceError</title>
<polygon fill="white" stroke="#ffaabb" points="139819,-8423.1 139819,-8493.9 139923,-8493.9 139923,-8423.1 139819,-8423.1"/>
<text text-anchor="start" x="139827" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ResourceError</text>
<polyline fill="none" stroke="#ffaabb" points="139819,-8470.9 139923,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="139819,-8446.1 139923,-8446.1 "/>
<text text-anchor="start" x="139869" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourceHookType -->
<g id="node454" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourceHookType</title>
<polygon fill="white" stroke="#ee8866" points="140250.5,-4073 140250.5,-4142 140385.5,-4142 140385.5,-4073 140250.5,-4073"/>
<text text-anchor="start" x="140258.5" y="-4126.8" font-family="Arial" font-size="14.00">ResourceHookType</text>
<polyline fill="none" stroke="#ee8866" points="140250.5,-4119 140385.5,-4119 "/>
<text text-anchor="start" x="140300.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="140250.5,-4096 140385.5,-4096 "/>
<text text-anchor="start" x="140316" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceLink -->
<g id="node455" class="node">
<title>mcpgateway.common.models.ResourceLink</title>
<polygon fill="white" stroke="#44bb99" points="61672,-4073 61672,-4142 61856,-4142 61856,-4073 61672,-4073"/>
<text text-anchor="start" x="61722.5" y="-4126.8" font-family="Arial" font-size="14.00">ResourceLink</text>
<polyline fill="none" stroke="#44bb99" points="61672,-4119 61856,-4119 "/>
<text text-anchor="start" x="61680" y="-4103.8" font-family="Arial" font-size="14.00">type : Literal[&#39;resource_link&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="61672,-4096 61856,-4096 "/>
<text text-anchor="start" x="61762" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceLink&#45;&gt;mcpgateway.common.models.Resource -->
<g id="edge8" class="edge">
<title>mcpgateway.common.models.ResourceLink&#45;&gt;mcpgateway.common.models.Resource</title>
<path fill="none" stroke="gray" d="M61763.45,-4142.25C61757.41,-4512.35 61703.52,-7813.05 61694.33,-8376.02"/>
<polygon fill="none" stroke="gray" points="61690.83,-8376.02 61694.17,-8386.08 61697.83,-8376.14 61690.83,-8376.02"/>
</g>
<!-- mcpgateway.common.models.ResourceListChangedNotification -->
<g id="node456" class="node">
<title>mcpgateway.common.models.ResourceListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="140403,-4073 140403,-4142 140741,-4142 140741,-4073 140403,-4073"/>
<text text-anchor="start" x="140471.5" y="-4126.8" font-family="Arial" font-size="14.00">ResourceListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="140403,-4119 140741,-4119 "/>
<text text-anchor="start" x="140411" y="-4103.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/resources/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="140403,-4096 140741,-4096 "/>
<text text-anchor="start" x="140570" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceLockConflictError -->
<g id="node457" class="node">
<title>mcpgateway.services.resource_service.ResourceLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="139500,-4072.1 139500,-4142.9 139678,-4142.9 139678,-4072.1 139500,-4072.1"/>
<text text-anchor="start" x="139508" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ResourceLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="139500,-4119.9 139678,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="139500,-4095.1 139678,-4095.1 "/>
<text text-anchor="start" x="139587" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceLockConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge116" class="edge">
<title>mcpgateway.services.resource_service.ResourceLockConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M139586.92,-4142.94C139566.22,-4492.7 139403.87,-7405.54 139687,-8215 139715.18,-8295.57 139781.04,-8371 139825.82,-8415.7"/>
<polygon fill="none" stroke="gray" points="139823.52,-8418.35 139833.09,-8422.88 139828.43,-8413.37 139823.52,-8418.35"/>
</g>
<!-- mcpgateway.db.ResourceMetric -->
<g id="node458" class="node">
<title>mcpgateway.db.ResourceMetric</title>
<polygon fill="white" stroke="#77aadd" points="11450,-4028 11450,-4187 11700,-4187 11700,-4028 11450,-4028"/>
<text text-anchor="start" x="11527" y="-4171.8" font-family="Arial" font-size="14.00">ResourceMetric</text>
<polyline fill="none" stroke="#77aadd" points="11450,-4164 11700,-4164 "/>
<text text-anchor="start" x="11458" y="-4148.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11458" y="-4133.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="11458" y="-4118.8" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="11458" y="-4103.8" font-family="Arial" font-size="14.00">resource : Mapped[&#39;Resource&#39;]</text>
<text text-anchor="start" x="11458" y="-4088.8" font-family="Arial" font-size="14.00">resource_id : Mapped[str]</text>
<text text-anchor="start" x="11458" y="-4073.8" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="11458" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="11450,-4051 11700,-4051 "/>
<text text-anchor="start" x="11573" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge45" class="edge">
<title>mcpgateway.db.ResourceMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11578.46,-4187.05C11601.58,-4729.62 11724.37,-7908.53 11441,-8215 11295.85,-8371.99 9725.72,-8440.3 9346.22,-8454.58"/>
<polygon fill="none" stroke="gray" points="9346,-8451.09 9336.14,-8454.96 9346.26,-8458.08 9346,-8451.09"/>
</g>
<!-- mcpgateway.schemas.ResourceMetrics -->
<g id="node459" class="node">
<title>mcpgateway.schemas.ResourceMetrics</title>
<polygon fill="white" stroke="#77aadd" points="140759.5,-4020.5 140759.5,-4194.5 141018.5,-4194.5 141018.5,-4020.5 140759.5,-4020.5"/>
<text text-anchor="start" x="140837.5" y="-4179.3" font-family="Arial" font-size="14.00">ResourceMetrics</text>
<polyline fill="none" stroke="#77aadd" points="140759.5,-4171.5 141018.5,-4171.5 "/>
<text text-anchor="start" x="140767.5" y="-4156.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="140767.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="140767.5" y="-4126.3" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="140767.5" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="140767.5" y="-4096.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="140767.5" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="140767.5" y="-4066.3" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="140767.5" y="-4051.3" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="140759.5,-4043.5 141018.5,-4043.5 "/>
<text text-anchor="start" x="140887" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetricsHourly -->
<g id="node460" class="node">
<title>mcpgateway.db.ResourceMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="11718,-3975.5 11718,-4239.5 12010,-4239.5 12010,-3975.5 11718,-3975.5"/>
<text text-anchor="start" x="11793" y="-4224.3" font-family="Arial" font-size="14.00">ResourceMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="11718,-4216.5 12010,-4216.5 "/>
<text text-anchor="start" x="11726" y="-4201.3" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="11726" y="-4171.3" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-4156.3" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="11726" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-4126.3" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4111.3" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4096.3" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4081.3" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4066.3" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-4051.3" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11726" y="-4036.3" font-family="Arial" font-size="14.00">resource_name : Mapped[str]</text>
<text text-anchor="start" x="11726" y="-4021.3" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-4006.3" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="11718,-3998.5 12010,-3998.5 "/>
<text text-anchor="start" x="11862" y="-3983.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge46" class="edge">
<title>mcpgateway.db.ResourceMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11868.96,-4239.62C11892.94,-4908.19 11984.88,-7917.67 11709,-8215 11544.59,-8392.2 9754.46,-8445.72 9346.45,-8455.66"/>
<polygon fill="none" stroke="gray" points="9346.12,-8452.16 9336.21,-8455.91 9346.29,-8459.16 9346.12,-8452.16"/>
</g>
<!-- mcpgateway.services.resource_service.ResourceNotFoundError -->
<g id="node461" class="node">
<title>mcpgateway.services.resource_service.ResourceNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="139696,-4072.1 139696,-4142.9 139860,-4142.9 139860,-4072.1 139696,-4072.1"/>
<text text-anchor="start" x="139704" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ResourceNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="139696,-4119.9 139860,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="139696,-4095.1 139860,-4095.1 "/>
<text text-anchor="start" x="139776" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceNotFoundError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge117" class="edge">
<title>mcpgateway.services.resource_service.ResourceNotFoundError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M139778.74,-4143.19C139786.95,-4527.25 139860.77,-7979.28 139870.04,-8412.83"/>
<polygon fill="none" stroke="gray" points="139866.55,-8413.16 139870.26,-8423.08 139873.55,-8413.01 139866.55,-8413.16"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourcePostFetchPayload -->
<g id="node463" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourcePostFetchPayload</title>
<polygon fill="white" stroke="#ee8866" points="141037,-4065.5 141037,-4149.5 141221,-4149.5 141221,-4065.5 141037,-4065.5"/>
<text text-anchor="start" x="141045" y="-4134.3" font-family="Arial" font-size="14.00">ResourcePostFetchPayload</text>
<polyline fill="none" stroke="#ee8866" points="141037,-4126.5 141221,-4126.5 "/>
<text text-anchor="start" x="141089.5" y="-4111.3" font-family="Arial" font-size="14.00">content : Any</text>
<text text-anchor="start" x="141089.5" y="-4096.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#ee8866" points="141037,-4088.5 141221,-4088.5 "/>
<text text-anchor="start" x="141127" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourcePreFetchPayload -->
<g id="node464" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourcePreFetchPayload</title>
<polygon fill="white" stroke="#ee8866" points="141239,-4065.5 141239,-4149.5 141455,-4149.5 141455,-4065.5 141239,-4065.5"/>
<text text-anchor="start" x="141266" y="-4134.3" font-family="Arial" font-size="14.00">ResourcePreFetchPayload</text>
<polyline fill="none" stroke="#ee8866" points="141239,-4126.5 141455,-4126.5 "/>
<text text-anchor="start" x="141247" y="-4111.3" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="141247" y="-4096.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#ee8866" points="141239,-4088.5 141455,-4088.5 "/>
<text text-anchor="start" x="141345" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ResourceRead -->
<g id="node465" class="node">
<title>mcpgateway.schemas.ResourceRead</title>
<polygon fill="white" stroke="#77aadd" points="141473.5,-3855.5 141473.5,-4359.5 141706.5,-4359.5 141706.5,-3855.5 141473.5,-3855.5"/>
<text text-anchor="start" x="141544.5" y="-4344.3" font-family="Arial" font-size="14.00">ResourceRead</text>
<polyline fill="none" stroke="#77aadd" points="141473.5,-4336.5 141706.5,-4336.5 "/>
<text text-anchor="start" x="141481.5" y="-4321.3" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="141481.5" y="-4306.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="141481.5" y="-4291.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4276.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4261.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4246.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4231.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4216.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="141481.5" y="-4201.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4186.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4171.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4156.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="141481.5" y="-4141.3" font-family="Arial" font-size="14.00">metrics : Optional[ResourceMetrics]</text>
<text text-anchor="start" x="141481.5" y="-4126.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4111.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4096.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4081.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4066.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4051.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="141481.5" y="-4036.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-4021.3" font-family="Arial" font-size="14.00">size : Optional[int]</text>
<text text-anchor="start" x="141481.5" y="-4006.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="141481.5" y="-3991.3" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-3976.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-3961.3" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-3946.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="141481.5" y="-3931.3" font-family="Arial" font-size="14.00">uri : str</text>
<text text-anchor="start" x="141481.5" y="-3916.3" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="141481.5" y="-3901.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="141481.5" y="-3886.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="141473.5,-3878.5 141706.5,-3878.5 "/>
<text text-anchor="start" x="141588" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceReference -->
<g id="node466" class="node">
<title>mcpgateway.common.models.ResourceReference</title>
<polygon fill="white" stroke="#44bb99" points="141725,-4065.5 141725,-4149.5 141901,-4149.5 141901,-4065.5 141725,-4065.5"/>
<text text-anchor="start" x="141752.5" y="-4134.3" font-family="Arial" font-size="14.00">ResourceReference</text>
<polyline fill="none" stroke="#44bb99" points="141725,-4126.5 141901,-4126.5 "/>
<text text-anchor="start" x="141733" y="-4111.3" font-family="Arial" font-size="14.00">type : Literal[&#39;ref/resource&#39;]</text>
<text text-anchor="start" x="141733" y="-4096.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="141725,-4088.5 141901,-4088.5 "/>
<text text-anchor="start" x="141811" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceSubscription -->
<g id="node468" class="node">
<title>mcpgateway.db.ResourceSubscription</title>
<polygon fill="white" stroke="#77aadd" points="12028.5,-4035.5 12028.5,-4179.5 12317.5,-4179.5 12317.5,-4035.5 12028.5,-4035.5"/>
<text text-anchor="start" x="12106.5" y="-4164.3" font-family="Arial" font-size="14.00">ResourceSubscription</text>
<polyline fill="none" stroke="#77aadd" points="12028.5,-4156.5 12317.5,-4156.5 "/>
<text text-anchor="start" x="12036.5" y="-4141.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12036.5" y="-4126.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="12036.5" y="-4111.3" font-family="Arial" font-size="14.00">last_notification : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="12036.5" y="-4096.3" font-family="Arial" font-size="14.00">resource : Mapped[&#39;Resource&#39;]</text>
<text text-anchor="start" x="12036.5" y="-4081.3" font-family="Arial" font-size="14.00">resource_id : Mapped[str]</text>
<text text-anchor="start" x="12036.5" y="-4066.3" font-family="Arial" font-size="14.00">subscriber_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="12028.5,-4058.5 12317.5,-4058.5 "/>
<text text-anchor="start" x="12171" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceSubscription&#45;&gt;mcpgateway.db.Base -->
<g id="edge47" class="edge">
<title>mcpgateway.db.ResourceSubscription&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12175.82,-4179.86C12195.72,-4701.04 12306.04,-7909.26 12019,-8215 11831.31,-8414.93 9784.64,-8451.15 9346.33,-8456.63"/>
<polygon fill="none" stroke="gray" points="9346.23,-8453.13 9336.27,-8456.75 9346.31,-8460.13 9346.23,-8453.13"/>
</g>
<!-- mcpgateway.schemas.ResourceSubscription -->
<g id="node469" class="node">
<title>mcpgateway.schemas.ResourceSubscription</title>
<polygon fill="white" stroke="#77aadd" points="141919,-4058 141919,-4157 142131,-4157 142131,-4058 141919,-4058"/>
<text text-anchor="start" x="141958.5" y="-4141.8" font-family="Arial" font-size="14.00">ResourceSubscription</text>
<polyline fill="none" stroke="#77aadd" points="141919,-4134 142131,-4134 "/>
<text text-anchor="start" x="141942" y="-4118.8" font-family="Arial" font-size="14.00">subscriber_id : Optional[str]</text>
<text text-anchor="start" x="141942" y="-4103.8" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="141919,-4096 142131,-4096 "/>
<text text-anchor="start" x="141927" y="-4080.8" font-family="Arial" font-size="14.00">validate_subscriber_id(v: str): str</text>
<text text-anchor="start" x="141927" y="-4065.8" font-family="Arial" font-size="14.00">validate_uri(v: str): str</text>
</g>
<!-- mcpgateway.common.models.ResourceTemplate -->
<g id="node470" class="node">
<title>mcpgateway.common.models.ResourceTemplate</title>
<polygon fill="white" stroke="#44bb99" points="142148.5,-4028 142148.5,-4187 142379.5,-4187 142379.5,-4028 142148.5,-4028"/>
<text text-anchor="start" x="142207" y="-4171.8" font-family="Arial" font-size="14.00">ResourceTemplate</text>
<polyline fill="none" stroke="#44bb99" points="142148.5,-4164 142379.5,-4164 "/>
<text text-anchor="start" x="142156.5" y="-4148.8" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="142156.5" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="142156.5" y="-4118.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="142156.5" y="-4103.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="142156.5" y="-4088.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="142156.5" y="-4073.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="142156.5" y="-4058.8" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="142148.5,-4051 142379.5,-4051 "/>
<text text-anchor="start" x="142262" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ResourceTemplate -->
<g id="node471" class="node">
<title>mcpgateway.plugins.framework.models.ResourceTemplate</title>
<polygon fill="white" stroke="#ee8866" points="33163.5,-4058 33163.5,-4157 33320.5,-4157 33320.5,-4058 33163.5,-4058"/>
<text text-anchor="start" x="33185" y="-4141.8" font-family="Arial" font-size="14.00">ResourceTemplate</text>
<polyline fill="none" stroke="#ee8866" points="33163.5,-4134 33320.5,-4134 "/>
<text text-anchor="start" x="33171.5" y="-4118.8" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="33171.5" y="-4103.8" font-family="Arial" font-size="14.00">resource_uri : str</text>
<text text-anchor="start" x="33171.5" y="-4088.8" font-family="Arial" font-size="14.00">result : bool</text>
<polyline fill="none" stroke="#ee8866" points="33163.5,-4081 33320.5,-4081 "/>
<text text-anchor="start" x="33240" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ResourceTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge79" class="edge">
<title>mcpgateway.plugins.framework.models.ResourceTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M33242,-4157.34C33242,-4602.47 33242,-7950.46 33242,-8406.19"/>
<polygon fill="none" stroke="gray" points="33238.5,-8406.41 33242,-8416.41 33245.5,-8406.41 33238.5,-8406.41"/>
</g>
<!-- mcpgateway.services.resource_service.ResourceURIConflictError -->
<g id="node472" class="node">
<title>mcpgateway.services.resource_service.ResourceURIConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="139878.5,-4058 139878.5,-4157 140051.5,-4157 140051.5,-4058 139878.5,-4058"/>
<text text-anchor="start" x="139886.5" y="-4141.8" font-family="Arial" font-size="14.00" fill="red">ResourceURIConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="139878.5,-4134 140051.5,-4134 "/>
<text text-anchor="start" x="139887.5" y="-4118.8" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="139887.5" y="-4103.8" font-family="Arial" font-size="14.00" fill="red">resource_id : Optional[int]</text>
<text text-anchor="start" x="139887.5" y="-4088.8" font-family="Arial" font-size="14.00" fill="red">uri : str</text>
<polyline fill="none" stroke="#ffaabb" points="139878.5,-4081 140051.5,-4081 "/>
<text text-anchor="start" x="139963" y="-4065.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceURIConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge118" class="edge">
<title>mcpgateway.services.resource_service.ResourceURIConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M139964.52,-4157.17C139961.03,-4498.27 139938.2,-6566.06 139881,-8248 139879.06,-8304.99 139875.75,-8370.64 139873.48,-8413.04"/>
<polygon fill="none" stroke="gray" points="139869.98,-8412.86 139872.94,-8423.04 139876.97,-8413.24 139869.98,-8412.86"/>
</g>
<!-- mcpgateway.schemas.ResourceUpdate -->
<g id="node473" class="node">
<title>mcpgateway.schemas.ResourceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="142398,-3975.5 142398,-4239.5 142854,-4239.5 142854,-3975.5 142398,-3975.5"/>
<text text-anchor="start" x="142575" y="-4224.3" font-family="Arial" font-size="14.00">ResourceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="142398,-4216.5 142854,-4216.5 "/>
<text text-anchor="start" x="142520.5" y="-4201.3" font-family="Arial" font-size="14.00">content : Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="142520.5" y="-4186.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4171.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4156.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4141.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4126.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="142520.5" y="-4111.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4096.3" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4081.3" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="142520.5" y="-4066.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="142398,-4058.5 142854,-4058.5 "/>
<text text-anchor="start" x="142406" y="-4043.3" font-family="Arial" font-size="14.00">validate_content(v: Optional[Union[str, bytes]]): Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="142406" y="-4028.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="142406" y="-4013.3" font-family="Arial" font-size="14.00">validate_mime_type(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="142406" y="-3998.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="142406" y="-3983.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
</g>
<!-- mcpgateway.common.models.ResourceUpdateNotification -->
<g id="node474" class="node">
<title>mcpgateway.common.models.ResourceUpdateNotification</title>
<polygon fill="white" stroke="#44bb99" points="142872.5,-4065.5 142872.5,-4149.5 143183.5,-4149.5 143183.5,-4065.5 142872.5,-4065.5"/>
<text text-anchor="start" x="142943.5" y="-4134.3" font-family="Arial" font-size="14.00">ResourceUpdateNotification</text>
<polyline fill="none" stroke="#44bb99" points="142872.5,-4126.5 143183.5,-4126.5 "/>
<text text-anchor="start" x="142880.5" y="-4111.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/resources/updated&#39;]</text>
<text text-anchor="start" x="142880.5" y="-4096.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="142872.5,-4088.5 143183.5,-4088.5 "/>
<text text-anchor="start" x="143026" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceValidationError -->
<g id="node475" class="node">
<title>mcpgateway.services.resource_service.ResourceValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="140069.5,-4072.1 140069.5,-4142.9 140232.5,-4142.9 140232.5,-4072.1 140069.5,-4072.1"/>
<text text-anchor="start" x="140077.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ResourceValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="140069.5,-4119.9 140232.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="140069.5,-4095.1 140232.5,-4095.1 "/>
<text text-anchor="start" x="140149" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceValidationError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge119" class="edge">
<title>mcpgateway.services.resource_service.ResourceValidationError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M140153.2,-4142.96C140175.15,-4492.9 140347.67,-7407.18 140060,-8215 140031.16,-8295.98 139963.82,-8371.03 139917.82,-8415.58"/>
<polygon fill="none" stroke="gray" points="139915.16,-8413.28 139910.35,-8422.73 139920,-8418.34 139915.16,-8413.28"/>
</g>
<!-- mcpgateway.reverse_proxy.ReverseProxyClient -->
<g id="node476" class="node">
<title>mcpgateway.reverse_proxy.ReverseProxyClient</title>
<polygon fill="white" stroke="#77aadd" points="143147.5,-8326.5 143147.5,-8590.5 143560.5,-8590.5 143560.5,-8326.5 143147.5,-8326.5"/>
<text text-anchor="start" x="143294" y="-8575.3" font-family="Arial" font-size="14.00">ReverseProxyClient</text>
<polyline fill="none" stroke="#77aadd" points="143147.5,-8567.5 143560.5,-8567.5 "/>
<text text-anchor="start" x="143155.5" y="-8552.3" font-family="Arial" font-size="14.00">connection : Optional[WSClientProtocol]</text>
<text text-anchor="start" x="143155.5" y="-8537.3" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="143155.5" y="-8522.3" font-family="Arial" font-size="14.00">keepalive_interval : float</text>
<text text-anchor="start" x="143155.5" y="-8507.3" font-family="Arial" font-size="14.00">local_command : str</text>
<text text-anchor="start" x="143155.5" y="-8492.3" font-family="Arial" font-size="14.00">max_retries : int</text>
<text text-anchor="start" x="143155.5" y="-8477.3" font-family="Arial" font-size="14.00">reconnect_delay : float</text>
<text text-anchor="start" x="143155.5" y="-8462.3" font-family="Arial" font-size="14.00">retry_count : int</text>
<text text-anchor="start" x="143155.5" y="-8447.3" font-family="Arial" font-size="14.00">session_id : str</text>
<text text-anchor="start" x="143155.5" y="-8432.3" font-family="Arial" font-size="14.00">state : DISCONNECTED, RECONNECTING, SHUTTING_DOWN</text>
<text text-anchor="start" x="143155.5" y="-8417.3" font-family="Arial" font-size="14.00">stdio_process</text>
<text text-anchor="start" x="143155.5" y="-8402.3" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<text text-anchor="start" x="143155.5" y="-8387.3" font-family="Arial" font-size="14.00">use_websocket</text>
<polyline fill="none" stroke="#77aadd" points="143147.5,-8379.5 143560.5,-8379.5 "/>
<text text-anchor="start" x="143270.5" y="-8364.3" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="143270.5" y="-8349.3" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="143270.5" y="-8334.3" font-family="Arial" font-size="14.00">run_with_reconnect(): None</text>
</g>
<!-- mcpgateway.db.Role -->
<g id="node477" class="node">
<title>mcpgateway.db.Role</title>
<polygon fill="white" stroke="#77aadd" points="12336,-3983 12336,-4232 12622,-4232 12622,-3983 12336,-3983"/>
<text text-anchor="start" x="12465" y="-4216.8" font-family="Arial" font-size="14.00">Role</text>
<polyline fill="none" stroke="#77aadd" points="12336,-4209 12622,-4209 "/>
<text text-anchor="start" x="12344" y="-4193.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12344" y="-4178.8" font-family="Arial" font-size="14.00">created_by : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-4163.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12344" y="-4148.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-4133.8" font-family="Arial" font-size="14.00">inherits_from : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12344" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="12344" y="-4103.8" font-family="Arial" font-size="14.00">is_system_role : Mapped[bool]</text>
<text text-anchor="start" x="12344" y="-4088.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-4073.8" font-family="Arial" font-size="14.00">parent_role : Mapped[Optional[&#39;Role&#39;]]</text>
<text text-anchor="start" x="12344" y="-4058.8" font-family="Arial" font-size="14.00">permissions : Mapped[List[str]]</text>
<text text-anchor="start" x="12344" y="-4043.8" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-4028.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="12344" y="-4013.8" font-family="Arial" font-size="14.00">user_assignments : Mapped[List[&#39;UserRole&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="12336,-4006 12622,-4006 "/>
<text text-anchor="start" x="12370.5" y="-3990.8" font-family="Arial" font-size="14.00">get_effective_permissions(): List[str]</text>
</g>
<!-- mcpgateway.db.Role&#45;&gt;mcpgateway.db.Base -->
<g id="edge48" class="edge">
<title>mcpgateway.db.Role&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12483.81,-4232.07C12508.02,-4885.36 12604.73,-7918.21 12326,-8215 12116.15,-8438.44 9813.18,-8456.13 9346.28,-8457.42"/>
<polygon fill="none" stroke="gray" points="9346.23,-8453.92 9336.24,-8457.45 9346.25,-8460.92 9346.23,-8453.92"/>
</g>
<!-- mcpgateway.common.models.Role -->
<g id="node478" class="node">
<title>mcpgateway.common.models.Role</title>
<polygon fill="white" stroke="#44bb99" points="47417,-4073 47417,-4142 47471,-4142 47471,-4073 47417,-4073"/>
<text text-anchor="start" x="47430" y="-4126.8" font-family="Arial" font-size="14.00">Role</text>
<polyline fill="none" stroke="#44bb99" points="47417,-4119 47471,-4119 "/>
<text text-anchor="start" x="47426.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="47417,-4096 47471,-4096 "/>
<text text-anchor="start" x="47442" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.CreateMessageResult -->
<g id="edge149" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.CreateMessageResult</title>
<path fill="none" stroke="gray" d="M47444.67,-4142.04C47452.2,-4523.28 47518.3,-8029.6 47408,-8215 47402.02,-8225.04 47324.88,-8258.4 47316,-8266 47273.9,-8302.03 47235.72,-8351.6 47208.55,-8391.28"/>
<polygon fill="gray" stroke="gray" points="47208.43,-8391.46 47208.39,-8398.67 47201.71,-8401.4 47201.76,-8394.19 47208.43,-8391.46"/>
<text text-anchor="middle" x="47390.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.Message -->
<g id="edge150" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.Message</title>
<path fill="none" stroke="gray" d="M47445.13,-4142.34C47454.48,-4431.94 47516.23,-6523.39 47408,-8215 47403.81,-8280.53 47394.07,-8355.53 47387.04,-8404.55"/>
<polygon fill="gray" stroke="gray" points="47387.04,-8404.56 47390.13,-8411.07 47385.31,-8416.44 47382.22,-8409.92 47387.04,-8404.56"/>
<text text-anchor="middle" x="47418.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.PromptMessage -->
<g id="edge151" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.PromptMessage</title>
<path fill="none" stroke="gray" d="M47442.87,-4142.34C47433.52,-4431.94 47371.77,-6523.39 47480,-8215 47484.19,-8280.53 47493.93,-8355.53 47500.96,-8404.55"/>
<polygon fill="gray" stroke="gray" points="47500.96,-8404.56 47505.78,-8409.92 47502.69,-8416.44 47497.87,-8411.07 47500.96,-8404.56"/>
<text text-anchor="middle" x="47493.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.SamplingMessage -->
<g id="node502" class="node">
<title>mcpgateway.common.models.SamplingMessage</title>
<polygon fill="white" stroke="#44bb99" points="47585.5,-8416.5 47585.5,-8500.5 47714.5,-8500.5 47714.5,-8416.5 47585.5,-8416.5"/>
<text text-anchor="start" x="47593.5" y="-8485.3" font-family="Arial" font-size="14.00">SamplingMessage</text>
<polyline fill="none" stroke="#44bb99" points="47585.5,-8477.5 47714.5,-8477.5 "/>
<text text-anchor="start" x="47604.5" y="-8462.3" font-family="Arial" font-size="14.00">content : Union</text>
<text text-anchor="start" x="47604.5" y="-8447.3" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="47585.5,-8439.5 47714.5,-8439.5 "/>
<text text-anchor="start" x="47648" y="-8424.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.SamplingMessage -->
<g id="edge152" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.SamplingMessage</title>
<path fill="none" stroke="gray" d="M47443.31,-4142.05C47435.62,-4523.39 47368.05,-8030.6 47480,-8215 47486.27,-8225.32 47567.98,-8256.96 47576,-8266 47610.87,-8305.31 47630.12,-8362.87 47640.18,-8404.61"/>
<polygon fill="gray" stroke="gray" points="47640.22,-8404.78 47645.45,-8409.73 47642.89,-8416.47 47637.66,-8411.52 47640.22,-8404.78"/>
<text text-anchor="middle" x="47552.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.schemas.RoleCreateRequest -->
<g id="node479" class="node">
<title>mcpgateway.schemas.RoleCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="143524.5,-4035.5 143524.5,-4179.5 143727.5,-4179.5 143727.5,-4035.5 143524.5,-4035.5"/>
<text text-anchor="start" x="143566.5" y="-4164.3" font-family="Arial" font-size="14.00">RoleCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="143524.5,-4156.5 143727.5,-4156.5 "/>
<text text-anchor="start" x="143532.5" y="-4141.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="143532.5" y="-4126.3" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="143532.5" y="-4111.3" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="143532.5" y="-4096.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="143532.5" y="-4081.3" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="143532.5" y="-4066.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="143524.5,-4058.5 143727.5,-4058.5 "/>
<text text-anchor="start" x="143624" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.RoleResponse -->
<g id="node480" class="node">
<title>mcpgateway.schemas.RoleResponse</title>
<polygon fill="white" stroke="#77aadd" points="143746,-3983 143746,-4232 144006,-4232 144006,-3983 143746,-3983"/>
<text text-anchor="start" x="143831.5" y="-4216.8" font-family="Arial" font-size="14.00">RoleResponse</text>
<polyline fill="none" stroke="#77aadd" points="143746,-4209 144006,-4209 "/>
<text text-anchor="start" x="143754" y="-4193.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="143754" y="-4178.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4163.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4148.8" font-family="Arial" font-size="14.00">effective_permissions : Optional[List[str]]</text>
<text text-anchor="start" x="143754" y="-4133.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4118.8" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4103.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="143754" y="-4088.8" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="143754" y="-4073.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="143754" y="-4058.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4043.8" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="143754" y="-4028.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="143754" y="-4013.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="143746,-4006 144006,-4006 "/>
<text text-anchor="start" x="143874" y="-3990.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.role_service.RoleService -->
<g id="node481" class="node">
<title>mcpgateway.services.role_service.RoleService</title>
<polygon fill="white" stroke="#ffaabb" points="144024,-3990.5 144024,-4224.5 145062,-4224.5 145062,-3990.5 144024,-3990.5"/>
<text text-anchor="start" x="144506.5" y="-4209.3" font-family="Arial" font-size="14.00">RoleService</text>
<polyline fill="none" stroke="#ffaabb" points="144024,-4201.5 145062,-4201.5 "/>
<text text-anchor="start" x="144535" y="-4186.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="144024,-4178.5 145062,-4178.5 "/>
<text text-anchor="start" x="144032" y="-4163.3" font-family="Arial" font-size="14.00">assign_role_to_user(user_email: str, role_id: str, scope: str, scope_id: Optional[str], granted_by: str, expires_at: Optional[datetime]): UserRole</text>
<text text-anchor="start" x="144032" y="-4148.3" font-family="Arial" font-size="14.00">create_role(name: str, description: str, scope: str, permissions: List[str], created_by: str, inherits_from: Optional[str], is_system_role: bool): Role</text>
<text text-anchor="start" x="144032" y="-4133.3" font-family="Arial" font-size="14.00">delete_all_user_roles(user_email: str): int</text>
<text text-anchor="start" x="144032" y="-4118.3" font-family="Arial" font-size="14.00">delete_role(role_id: str): bool</text>
<text text-anchor="start" x="144032" y="-4103.3" font-family="Arial" font-size="14.00">get_role_by_id(role_id: str): Optional[Role]</text>
<text text-anchor="start" x="144032" y="-4088.3" font-family="Arial" font-size="14.00">get_role_by_name(name: str, scope: str): Optional[Role]</text>
<text text-anchor="start" x="144032" y="-4073.3" font-family="Arial" font-size="14.00">get_user_role_assignment(user_email: str, role_id: str, scope: str, scope_id: Optional[str]): Optional[UserRole]</text>
<text text-anchor="start" x="144032" y="-4058.3" font-family="Arial" font-size="14.00">list_role_assignments(role_id: str, scope: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="144032" y="-4043.3" font-family="Arial" font-size="14.00">list_roles(scope: Optional[str], include_system: bool, include_inactive: bool): List[Role]</text>
<text text-anchor="start" x="144032" y="-4028.3" font-family="Arial" font-size="14.00">list_user_roles(user_email: str, scope: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="144032" y="-4013.3" font-family="Arial" font-size="14.00">revoke_role_from_user(user_email: str, role_id: str, scope: str, scope_id: Optional[str]): bool</text>
<text text-anchor="start" x="144032" y="-3998.3" font-family="Arial" font-size="14.00">update_role(role_id: str, name: Optional[str], description: Optional[str], permissions: Optional[List[str]], inherits_from: Optional[str], is_active: Optional[bool]): Optional[Role]</text>
</g>
<!-- mcpgateway.schemas.RoleUpdateRequest -->
<g id="node482" class="node">
<title>mcpgateway.schemas.RoleUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="145080.5,-4043 145080.5,-4172 145283.5,-4172 145283.5,-4043 145080.5,-4043"/>
<text text-anchor="start" x="145121" y="-4156.8" font-family="Arial" font-size="14.00">RoleUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="145080.5,-4149 145283.5,-4149 "/>
<text text-anchor="start" x="145088.5" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="145088.5" y="-4118.8" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="145088.5" y="-4103.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="145088.5" y="-4088.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="145088.5" y="-4073.8" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="145080.5,-4066 145283.5,-4066 "/>
<text text-anchor="start" x="145180" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.RollupResult -->
<g id="node483" class="node">
<title>mcpgateway.services.metrics_rollup_service.RollupResult</title>
<polygon fill="white" stroke="#ffaabb" points="145301.5,-4020.5 145301.5,-4194.5 145464.5,-4194.5 145464.5,-4020.5 145301.5,-4020.5"/>
<text text-anchor="start" x="145344.5" y="-4179.3" font-family="Arial" font-size="14.00">RollupResult</text>
<polyline fill="none" stroke="#ffaabb" points="145301.5,-4171.5 145464.5,-4171.5 "/>
<text text-anchor="start" x="145309.5" y="-4156.3" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="145309.5" y="-4141.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="145309.5" y="-4126.3" font-family="Arial" font-size="14.00">hours_processed : int</text>
<text text-anchor="start" x="145309.5" y="-4111.3" font-family="Arial" font-size="14.00">raw_deleted : int</text>
<text text-anchor="start" x="145309.5" y="-4096.3" font-family="Arial" font-size="14.00">records_aggregated : int</text>
<text text-anchor="start" x="145309.5" y="-4081.3" font-family="Arial" font-size="14.00">rollups_created : int</text>
<text text-anchor="start" x="145309.5" y="-4066.3" font-family="Arial" font-size="14.00">rollups_updated : int</text>
<text text-anchor="start" x="145309.5" y="-4051.3" font-family="Arial" font-size="14.00">table_name : str</text>
<polyline fill="none" stroke="#ffaabb" points="145301.5,-4043.5 145464.5,-4043.5 "/>
<text text-anchor="start" x="145381" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.RollupSummary -->
<g id="node484" class="node">
<title>mcpgateway.services.metrics_rollup_service.RollupSummary</title>
<polygon fill="white" stroke="#ffaabb" points="145483,-4020.5 145483,-4194.5 145679,-4194.5 145679,-4020.5 145483,-4020.5"/>
<text text-anchor="start" x="145532" y="-4179.3" font-family="Arial" font-size="14.00">RollupSummary</text>
<polyline fill="none" stroke="#ffaabb" points="145483,-4171.5 145679,-4171.5 "/>
<text text-anchor="start" x="145491" y="-4156.3" font-family="Arial" font-size="14.00">completed_at : datetime</text>
<text text-anchor="start" x="145491" y="-4141.3" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="145491" y="-4126.3" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="145491" y="-4111.3" font-family="Arial" font-size="14.00">tables : Dict[str, RollupResult]</text>
<text text-anchor="start" x="145491" y="-4096.3" font-family="Arial" font-size="14.00">total_hours_processed : int</text>
<text text-anchor="start" x="145491" y="-4081.3" font-family="Arial" font-size="14.00">total_records_aggregated : int</text>
<text text-anchor="start" x="145491" y="-4066.3" font-family="Arial" font-size="14.00">total_rollups_created : int</text>
<text text-anchor="start" x="145491" y="-4051.3" font-family="Arial" font-size="14.00">total_rollups_updated : int</text>
<polyline fill="none" stroke="#ffaabb" points="145483,-4043.5 145679,-4043.5 "/>
<text text-anchor="start" x="145579" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Root -->
<g id="node485" class="node">
<title>mcpgateway.common.models.Root</title>
<polygon fill="white" stroke="#44bb99" points="145697,-4050.5 145697,-4164.5 145927,-4164.5 145927,-4050.5 145697,-4050.5"/>
<text text-anchor="start" x="145797.5" y="-4149.3" font-family="Arial" font-size="14.00">Root</text>
<polyline fill="none" stroke="#44bb99" points="145697,-4141.5 145927,-4141.5 "/>
<text text-anchor="start" x="145705" y="-4126.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="145705" y="-4111.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="145705" y="-4096.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="145705" y="-4081.3" font-family="Arial" font-size="14.00">uri : Optional[Union[FileUrl, AnyUrl]]</text>
<polyline fill="none" stroke="#44bb99" points="145697,-4073.5 145927,-4073.5 "/>
<text text-anchor="start" x="145810" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.root_service.RootService -->
<g id="node486" class="node">
<title>mcpgateway.services.root_service.RootService</title>
<polygon fill="white" stroke="#ffaabb" points="145945,-4019.6 145945,-4195.4 146269,-4195.4 146269,-4019.6 145945,-4019.6"/>
<text text-anchor="start" x="146070" y="-4180.2" font-family="Arial" font-size="14.00">RootService</text>
<polyline fill="none" stroke="#ffaabb" points="145945,-4172.4 146269,-4172.4 "/>
<polyline fill="none" stroke="#ffaabb" points="145945,-4147.6 146269,-4147.6 "/>
<text text-anchor="start" x="145953" y="-4132.4" font-family="Arial" font-size="14.00">add_root(uri: str, name: Optional[str]): Root</text>
<text text-anchor="start" x="145953" y="-4117.4" font-family="Arial" font-size="14.00">get_root_by_uri(root_uri: str): Root</text>
<text text-anchor="start" x="145953" y="-4102.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="145953" y="-4087.4" font-family="Arial" font-size="14.00">list_roots(): List[Root]</text>
<text text-anchor="start" x="145953" y="-4072.4" font-family="Arial" font-size="14.00">remove_root(root_uri: str): None</text>
<text text-anchor="start" x="145953" y="-4057.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="145953" y="-4042.4" font-family="Arial" font-size="14.00">subscribe_changes(): AsyncGenerator[Dict, None]</text>
<text text-anchor="start" x="145953" y="-4027.4" font-family="Arial" font-size="14.00">update_root(root_uri: str, name: Optional[str]): Root</text>
</g>
<!-- mcpgateway.services.root_service.RootServiceError -->
<g id="node487" class="node">
<title>mcpgateway.services.root_service.RootServiceError</title>
<polygon fill="white" stroke="#ffaabb" points="146317,-8423.1 146317,-8493.9 146437,-8493.9 146437,-8423.1 146317,-8423.1"/>
<text text-anchor="start" x="146325" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">RootServiceError</text>
<polyline fill="none" stroke="#ffaabb" points="146317,-8470.9 146437,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="146317,-8446.1 146437,-8446.1 "/>
<text text-anchor="start" x="146375" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.root_service.RootServiceNotFoundError -->
<g id="node488" class="node">
<title>mcpgateway.services.root_service.RootServiceNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="146287.5,-4072.1 146287.5,-4142.9 146466.5,-4142.9 146466.5,-4072.1 146287.5,-4072.1"/>
<text text-anchor="start" x="146295.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">RootServiceNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="146287.5,-4119.9 146466.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="146287.5,-4095.1 146466.5,-4095.1 "/>
<text text-anchor="start" x="146375" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.root_service.RootServiceNotFoundError&#45;&gt;mcpgateway.services.root_service.RootServiceError -->
<g id="edge120" class="edge">
<title>mcpgateway.services.root_service.RootServiceNotFoundError&#45;&gt;mcpgateway.services.root_service.RootServiceError</title>
<path fill="none" stroke="gray" d="M146377,-4143.19C146377,-4527.25 146377,-7979.28 146377,-8412.83"/>
<polygon fill="none" stroke="gray" points="146373.5,-8413.08 146377,-8423.08 146380.5,-8413.08 146373.5,-8413.08"/>
</g>
<!-- mcpgateway.middleware.compression.SSEAwareCompressMiddleware -->
<g id="node489" class="node">
<title>mcpgateway.middleware.compression.SSEAwareCompressMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="146484.5,-4035.5 146484.5,-4179.5 146733.5,-4179.5 146733.5,-4035.5 146484.5,-4035.5"/>
<text text-anchor="start" x="146510" y="-4164.3" font-family="Arial" font-size="14.00">SSEAwareCompressMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="146484.5,-4156.5 146733.5,-4156.5 "/>
<text text-anchor="start" x="146492.5" y="-4141.3" font-family="Arial" font-size="14.00">app : Callable</text>
<text text-anchor="start" x="146492.5" y="-4126.3" font-family="Arial" font-size="14.00">brotli_quality : int</text>
<text text-anchor="start" x="146492.5" y="-4111.3" font-family="Arial" font-size="14.00">compress_app : CompressMiddleware</text>
<text text-anchor="start" x="146492.5" y="-4096.3" font-family="Arial" font-size="14.00">gzip_level : int</text>
<text text-anchor="start" x="146492.5" y="-4081.3" font-family="Arial" font-size="14.00">minimum_size : int</text>
<text text-anchor="start" x="146492.5" y="-4066.3" font-family="Arial" font-size="14.00">zstd_level : int</text>
<polyline fill="none" stroke="#eedd88" points="146484.5,-4058.5 146733.5,-4058.5 "/>
<text text-anchor="start" x="146607" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate.SSEEvent -->
<g id="node490" class="node">
<title>mcpgateway.translate.SSEEvent</title>
<polygon fill="white" stroke="#77aadd" points="146752,-4050.5 146752,-4164.5 147342,-4164.5 147342,-4050.5 146752,-4050.5"/>
<text text-anchor="start" x="147016" y="-4149.3" font-family="Arial" font-size="14.00">SSEEvent</text>
<polyline fill="none" stroke="#77aadd" points="146752,-4141.5 147342,-4141.5 "/>
<text text-anchor="start" x="146979" y="-4126.3" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="146979" y="-4111.3" font-family="Arial" font-size="14.00">event : str</text>
<text text-anchor="start" x="146979" y="-4096.3" font-family="Arial" font-size="14.00">event_id : Optional[str]</text>
<text text-anchor="start" x="146979" y="-4081.3" font-family="Arial" font-size="14.00">retry : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="146752,-4073.5 147342,-4073.5 "/>
<text text-anchor="start" x="146760" y="-4058.3" font-family="Arial" font-size="14.00">parse_sse_line(line: str, current_event: Optional[&#39;SSEEvent&#39;]): Tuple[Optional[&#39;SSEEvent&#39;], bool]</text>
</g>
<!-- mcpgateway.common.models.SSEEvent -->
<g id="node491" class="node">
<title>mcpgateway.common.models.SSEEvent</title>
<polygon fill="white" stroke="#44bb99" points="147360,-4050.5 147360,-4164.5 147494,-4164.5 147494,-4050.5 147360,-4050.5"/>
<text text-anchor="start" x="147396" y="-4149.3" font-family="Arial" font-size="14.00">SSEEvent</text>
<polyline fill="none" stroke="#44bb99" points="147360,-4141.5 147494,-4141.5 "/>
<text text-anchor="start" x="147368" y="-4126.3" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="147368" y="-4111.3" font-family="Arial" font-size="14.00">event : Optional[str]</text>
<text text-anchor="start" x="147368" y="-4096.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="147368" y="-4081.3" font-family="Arial" font-size="14.00">retry : Optional[int]</text>
<polyline fill="none" stroke="#44bb99" points="147360,-4073.5 147494,-4073.5 "/>
<text text-anchor="start" x="147425" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.sse_transport.SSETransport -->
<g id="node492" class="node">
<title>mcpgateway.transports.sse_transport.SSETransport</title>
<polygon fill="white" stroke="#77aadd" points="147512.5,-4035.5 147512.5,-4179.5 148285.5,-4179.5 148285.5,-4035.5 147512.5,-4035.5"/>
<text text-anchor="start" x="147856.5" y="-4164.3" font-family="Arial" font-size="14.00">SSETransport</text>
<polyline fill="none" stroke="#77aadd" points="147512.5,-4156.5 148285.5,-4156.5 "/>
<text text-anchor="start" x="147867" y="-4141.3" font-family="Arial" font-size="14.00">session_id</text>
<polyline fill="none" stroke="#77aadd" points="147512.5,-4133.5 148285.5,-4133.5 "/>
<text text-anchor="start" x="147520.5" y="-4118.3" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="147520.5" y="-4103.3" font-family="Arial" font-size="14.00">create_sse_response(request: Request, on_disconnect_callback: Callable[[], Awaitable[None]] | None): EventSourceResponse</text>
<text text-anchor="start" x="147520.5" y="-4088.3" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="147520.5" y="-4073.3" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="147520.5" y="-4058.3" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="147520.5" y="-4043.3" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.base.Transport -->
<g id="node617" class="node">
<title>mcpgateway.transports.base.Transport</title>
<polygon fill="white" stroke="#77aadd" points="148303,-8395.6 148303,-8521.4 148663,-8521.4 148663,-8395.6 148303,-8395.6"/>
<text text-anchor="start" x="148454" y="-8506.2" font-family="Arial" font-size="14.00">Transport</text>
<polyline fill="none" stroke="#77aadd" points="148303,-8498.4 148663,-8498.4 "/>
<polyline fill="none" stroke="#77aadd" points="148303,-8473.6 148663,-8473.6 "/>
<text text-anchor="start" x="148311" y="-8459.4" font-family="Arial" font-style="italic" font-size="14.00">connect</text>
<text text-anchor="start" x="148359" y="-8459.4" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="148311" y="-8445.4" font-family="Arial" font-style="italic" font-size="14.00">disconnect</text>
<text text-anchor="start" x="148376" y="-8445.4" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="148311" y="-8431.4" font-family="Arial" font-style="italic" font-size="14.00">is_connected</text>
<text text-anchor="start" x="148391" y="-8431.4" font-family="Arial" font-size="14.00">(): bool</text>
<text text-anchor="start" x="148311" y="-8417.4" font-family="Arial" font-style="italic" font-size="14.00">receive_message</text>
<text text-anchor="start" x="148418" y="-8417.4" font-family="Arial" font-size="14.00">(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="148311" y="-8403.4" font-family="Arial" font-style="italic" font-size="14.00">send_message</text>
<text text-anchor="start" x="148404" y="-8403.4" font-family="Arial" font-size="14.00">(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.sse_transport.SSETransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge136" class="edge">
<title>mcpgateway.transports.sse_transport.SSETransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M147891.54,-4179.61C147851.37,-4589.4 147684.56,-6684.57 148294,-8215 148320.1,-8280.53 148369.61,-8343.02 148411.41,-8388.15"/>
<polygon fill="none" stroke="gray" points="148408.93,-8390.62 148418.32,-8395.53 148414.04,-8385.83 148408.93,-8390.62"/>
</g>
<!-- mcpgateway.db.SSOAuthSession -->
<g id="node494" class="node">
<title>mcpgateway.db.SSOAuthSession</title>
<polygon fill="white" stroke="#77aadd" points="12640.5,-3990.5 12640.5,-4224.5 12879.5,-4224.5 12879.5,-3990.5 12640.5,-3990.5"/>
<text text-anchor="start" x="12707" y="-4209.3" font-family="Arial" font-size="14.00">SSOAuthSession</text>
<polyline fill="none" stroke="#77aadd" points="12640.5,-4201.5 12879.5,-4201.5 "/>
<text text-anchor="start" x="12648.5" y="-4186.3" font-family="Arial" font-size="14.00">code_verifier : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12648.5" y="-4171.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12648.5" y="-4156.3" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="12648.5" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-4126.3" font-family="Arial" font-size="14.00">is_expired</text>
<text text-anchor="start" x="12648.5" y="-4111.3" font-family="Arial" font-size="14.00">nonce : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12648.5" y="-4096.3" font-family="Arial" font-size="14.00">provider : Mapped[&#39;SSOProvider&#39;]</text>
<text text-anchor="start" x="12648.5" y="-4081.3" font-family="Arial" font-size="14.00">provider_id : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-4066.3" font-family="Arial" font-size="14.00">redirect_uri : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-4051.3" font-family="Arial" font-size="14.00">state : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-4036.3" font-family="Arial" font-size="14.00">user : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="12648.5" y="-4021.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="12640.5,-4013.5 12879.5,-4013.5 "/>
<text text-anchor="start" x="12758" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOAuthSession&#45;&gt;mcpgateway.db.Base -->
<g id="edge49" class="edge">
<title>mcpgateway.db.SSOAuthSession&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12765.24,-4224.64C12792.87,-4861.93 12909.96,-7916.4 12631,-8215 12515.15,-8339.01 9851.89,-8437.16 9346.41,-8454.7"/>
<polygon fill="none" stroke="gray" points="9346.15,-8451.21 9336.28,-8455.05 9346.4,-8458.2 9346.15,-8451.21"/>
</g>
<!-- mcpgateway.schemas.SSOCallbackResponse -->
<g id="node495" class="node">
<title>mcpgateway.schemas.SSOCallbackResponse</title>
<polygon fill="white" stroke="#77aadd" points="149058,-4050.5 149058,-4164.5 149246,-4164.5 149246,-4050.5 149058,-4050.5"/>
<text text-anchor="start" x="149081" y="-4149.3" font-family="Arial" font-size="14.00">SSOCallbackResponse</text>
<polyline fill="none" stroke="#77aadd" points="149058,-4141.5 149246,-4141.5 "/>
<text text-anchor="start" x="149066" y="-4126.3" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="149066" y="-4111.3" font-family="Arial" font-size="14.00">expires_in : Optional[int]</text>
<text text-anchor="start" x="149066" y="-4096.3" font-family="Arial" font-size="14.00">token_type : Optional[str]</text>
<text text-anchor="start" x="149066" y="-4081.3" font-family="Arial" font-size="14.00">user : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="149058,-4073.5 149246,-4073.5 "/>
<text text-anchor="start" x="149150" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.SSOLoginResponse -->
<g id="node496" class="node">
<title>mcpgateway.schemas.SSOLoginResponse</title>
<polygon fill="white" stroke="#77aadd" points="149264.5,-4065.5 149264.5,-4149.5 149465.5,-4149.5 149465.5,-4065.5 149264.5,-4065.5"/>
<text text-anchor="start" x="149303" y="-4134.3" font-family="Arial" font-size="14.00">SSOLoginResponse</text>
<polyline fill="none" stroke="#77aadd" points="149264.5,-4126.5 149465.5,-4126.5 "/>
<text text-anchor="start" x="149272.5" y="-4111.3" font-family="Arial" font-size="14.00">authorization_url : Optional[str]</text>
<text text-anchor="start" x="149272.5" y="-4096.3" font-family="Arial" font-size="14.00">state : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="149264.5,-4088.5 149465.5,-4088.5 "/>
<text text-anchor="start" x="149363" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOProvider -->
<g id="node497" class="node">
<title>mcpgateway.db.SSOProvider</title>
<polygon fill="white" stroke="#77aadd" points="12898,-3945.5 12898,-4269.5 13140,-4269.5 13140,-3945.5 12898,-3945.5"/>
<text text-anchor="start" x="12979" y="-4254.3" font-family="Arial" font-size="14.00">SSOProvider</text>
<polyline fill="none" stroke="#77aadd" points="12898,-4246.5 13140,-4246.5 "/>
<text text-anchor="start" x="12906" y="-4231.3" font-family="Arial" font-size="14.00">authorization_url : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4216.3" font-family="Arial" font-size="14.00">auto_create_users : Mapped[bool]</text>
<text text-anchor="start" x="12906" y="-4201.3" font-family="Arial" font-size="14.00">client_id : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4186.3" font-family="Arial" font-size="14.00">client_secret_encrypted : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4171.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12906" y="-4156.3" font-family="Arial" font-size="14.00">display_name : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4126.3" font-family="Arial" font-size="14.00">is_enabled : Mapped[bool]</text>
<text text-anchor="start" x="12906" y="-4111.3" font-family="Arial" font-size="14.00">issuer : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12906" y="-4096.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4081.3" font-family="Arial" font-size="14.00">provider_metadata : Mapped[dict]</text>
<text text-anchor="start" x="12906" y="-4066.3" font-family="Arial" font-size="14.00">provider_type : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4051.3" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4036.3" font-family="Arial" font-size="14.00">team_mapping : Mapped[dict]</text>
<text text-anchor="start" x="12906" y="-4021.3" font-family="Arial" font-size="14.00">token_url : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4006.3" font-family="Arial" font-size="14.00">trusted_domains : Mapped[List[str]]</text>
<text text-anchor="start" x="12906" y="-3991.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="12906" y="-3976.3" font-family="Arial" font-size="14.00">userinfo_url : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="12898,-3968.5 13140,-3968.5 "/>
<text text-anchor="start" x="13017" y="-3953.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOProvider&#45;&gt;mcpgateway.db.Base -->
<g id="edge50" class="edge">
<title>mcpgateway.db.SSOProvider&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13026.06,-4269.72C13056.15,-4993.74 13160.17,-7922.25 12888,-8215 12763.17,-8349.26 9873.87,-8439.73 9346.3,-8455.15"/>
<polygon fill="none" stroke="gray" points="9346,-8451.66 9336.11,-8455.45 9346.21,-8458.66 9346,-8451.66"/>
</g>
<!-- mcpgateway.schemas.SSOProviderResponse -->
<g id="node498" class="node">
<title>mcpgateway.schemas.SSOProviderResponse</title>
<polygon fill="white" stroke="#77aadd" points="149483.5,-4035.5 149483.5,-4179.5 149684.5,-4179.5 149684.5,-4035.5 149483.5,-4035.5"/>
<text text-anchor="start" x="149513.5" y="-4164.3" font-family="Arial" font-size="14.00">SSOProviderResponse</text>
<polyline fill="none" stroke="#77aadd" points="149483.5,-4156.5 149684.5,-4156.5 "/>
<text text-anchor="start" x="149491.5" y="-4141.3" font-family="Arial" font-size="14.00">authorization_url : Optional[str]</text>
<text text-anchor="start" x="149491.5" y="-4126.3" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="149491.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="149491.5" y="-4096.3" font-family="Arial" font-size="14.00">is_enabled : Optional[bool]</text>
<text text-anchor="start" x="149491.5" y="-4081.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="149491.5" y="-4066.3" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="149483.5,-4058.5 149684.5,-4058.5 "/>
<text text-anchor="start" x="149582" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.handlers.sampling.SamplingError -->
<g id="node500" class="node">
<title>mcpgateway.handlers.sampling.SamplingError</title>
<polygon fill="white" stroke="#bbcc33" points="149703,-4072.1 149703,-4142.9 149807,-4142.9 149807,-4072.1 149703,-4072.1"/>
<text text-anchor="start" x="149711" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">SamplingError</text>
<polyline fill="none" stroke="#bbcc33" points="149703,-4119.9 149807,-4119.9 "/>
<polyline fill="none" stroke="#bbcc33" points="149703,-4095.1 149807,-4095.1 "/>
<text text-anchor="start" x="149753" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.handlers.sampling.SamplingHandler -->
<g id="node501" class="node">
<title>mcpgateway.handlers.sampling.SamplingHandler</title>
<polygon fill="white" stroke="#bbcc33" points="149825.5,-4057.1 149825.5,-4157.9 150298.5,-4157.9 150298.5,-4057.1 149825.5,-4057.1"/>
<text text-anchor="start" x="150009.5" y="-4142.7" font-family="Arial" font-size="14.00">SamplingHandler</text>
<polyline fill="none" stroke="#bbcc33" points="149825.5,-4134.9 150298.5,-4134.9 "/>
<polyline fill="none" stroke="#bbcc33" points="149825.5,-4110.1 150298.5,-4110.1 "/>
<text text-anchor="start" x="149833.5" y="-4094.9" font-family="Arial" font-size="14.00">create_message(db: Session, request: Dict[str, Any]): CreateMessageResult</text>
<text text-anchor="start" x="149833.5" y="-4079.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="149833.5" y="-4064.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.db.SecurityEvent -->
<g id="node503" class="node">
<title>mcpgateway.db.SecurityEvent</title>
<polygon fill="white" stroke="#77aadd" points="13158,-3893 13158,-4322 13436,-4322 13436,-3893 13158,-3893"/>
<text text-anchor="start" x="13255" y="-4306.8" font-family="Arial" font-size="14.00">SecurityEvent</text>
<polyline fill="none" stroke="#77aadd" points="13158,-4299 13436,-4299 "/>
<text text-anchor="start" x="13166" y="-4283.8" font-family="Arial" font-size="14.00">action_taken : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4268.8" font-family="Arial" font-size="14.00">alert_recipients : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="13166" y="-4253.8" font-family="Arial" font-size="14.00">alert_sent : Mapped[bool]</text>
<text text-anchor="start" x="13166" y="-4238.8" font-family="Arial" font-size="14.00">alert_sent_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="13166" y="-4223.8" font-family="Arial" font-size="14.00">category : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4208.8" font-family="Arial" font-size="14.00">client_ip : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4193.8" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="13166" y="-4178.8" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4163.8" font-family="Arial" font-size="14.00">description : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4148.8" font-family="Arial" font-size="14.00">detected_at : Mapped[datetime]</text>
<text text-anchor="start" x="13166" y="-4133.8" font-family="Arial" font-size="14.00">event_type : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4118.8" font-family="Arial" font-size="14.00">failed_attempts_count : Mapped[int]</text>
<text text-anchor="start" x="13166" y="-4103.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4088.8" font-family="Arial" font-size="14.00">log_entry_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4073.8" font-family="Arial" font-size="14.00">resolution_notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4058.8" font-family="Arial" font-size="14.00">resolved : Mapped[bool]</text>
<text text-anchor="start" x="13166" y="-4043.8" font-family="Arial" font-size="14.00">resolved_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="13166" y="-4028.8" font-family="Arial" font-size="14.00">resolved_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4013.8" font-family="Arial" font-size="14.00">severity : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-3998.8" font-family="Arial" font-size="14.00">threat_indicators : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="13166" y="-3983.8" font-family="Arial" font-size="14.00">threat_score : Mapped[float]</text>
<text text-anchor="start" x="13166" y="-3968.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="13166" y="-3953.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3938.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3923.8" font-family="Arial" font-size="14.00">user_id : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="13158,-3916 13436,-3916 "/>
<text text-anchor="start" x="13295" y="-3900.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SecurityEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge51" class="edge">
<title>mcpgateway.db.SecurityEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13305.26,-4322.1C13334.18,-5124.72 13415.26,-7929.01 13149,-8215 13014.66,-8359.29 9896.37,-8442.04 9346.46,-8455.53"/>
<polygon fill="none" stroke="gray" points="9346.15,-8452.04 9336.24,-8455.79 9346.32,-8459.04 9346.15,-8452.04"/>
</g>
<!-- mcpgateway.services.security_logger.SecurityEventType -->
<g id="node504" class="node">
<title>mcpgateway.services.security_logger.SecurityEventType</title>
<polygon fill="white" stroke="#ffaabb" points="150316.5,-4073 150316.5,-4142 150445.5,-4142 150445.5,-4073 150316.5,-4073"/>
<text text-anchor="start" x="150324.5" y="-4126.8" font-family="Arial" font-size="14.00">SecurityEventType</text>
<polyline fill="none" stroke="#ffaabb" points="150316.5,-4119 150445.5,-4119 "/>
<text text-anchor="start" x="150363.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="150316.5,-4096 150445.5,-4096 "/>
<text text-anchor="start" x="150379" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.security_headers.SecurityHeadersMiddleware -->
<g id="node505" class="node">
<title>mcpgateway.middleware.security_headers.SecurityHeadersMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="150464,-4072.1 150464,-4142.9 150772,-4142.9 150772,-4072.1 150464,-4072.1"/>
<text text-anchor="start" x="150533" y="-4127.7" font-family="Arial" font-size="14.00">SecurityHeadersMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="150464,-4119.9 150772,-4119.9 "/>
<polyline fill="none" stroke="#eedd88" points="150464,-4095.1 150772,-4095.1 "/>
<text text-anchor="start" x="150472" y="-4079.9" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next): Response</text>
</g>
<!-- mcpgateway.services.security_logger.SecurityLogger -->
<g id="node506" class="node">
<title>mcpgateway.services.security_logger.SecurityLogger</title>
<polygon fill="white" stroke="#ffaabb" points="150790,-4043 150790,-4172 153450,-4172 153450,-4043 150790,-4043"/>
<text text-anchor="start" x="152074.5" y="-4156.8" font-family="Arial" font-size="14.00">SecurityLogger</text>
<polyline fill="none" stroke="#ffaabb" points="150790,-4149 153450,-4149 "/>
<text text-anchor="start" x="152034" y="-4133.8" font-family="Arial" font-size="14.00">failed_auth_threshold</text>
<text text-anchor="start" x="152034" y="-4118.8" font-family="Arial" font-size="14.00">rate_limit_window_minutes</text>
<text text-anchor="start" x="152034" y="-4103.8" font-family="Arial" font-size="14.00">threat_score_alert_threshold</text>
<polyline fill="none" stroke="#ffaabb" points="150790,-4096 153450,-4096 "/>
<text text-anchor="start" x="150798" y="-4080.8" font-family="Arial" font-size="14.00">log_authentication_attempt(user_id: str, user_email: Optional[str], auth_method: str, success: bool, client_ip: str, user_agent: Optional[str], failure_reason: Optional[str], additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[SecurityEvent]</text>
<text text-anchor="start" x="150798" y="-4065.8" font-family="Arial" font-size="14.00">log_data_access(action: str, resource_type: str, resource_id: str, resource_name: Optional[str], user_id: str, user_email: Optional[str], team_id: Optional[str], client_ip: Optional[str], user_agent: Optional[str], success: bool, data_classification: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], error_message: Optional[str], additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="150798" y="-4050.8" font-family="Arial" font-size="14.00">log_suspicious_activity(activity_type: str, description: str, user_id: Optional[str], user_email: Optional[str], client_ip: str, user_agent: Optional[str], threat_score: float, severity: SecuritySeverity, threat_indicators: Dict[str, Any], action_taken: str, additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[SecurityEvent]</text>
</g>
<!-- mcpgateway.services.security_logger.SecuritySeverity -->
<g id="node507" class="node">
<title>mcpgateway.services.security_logger.SecuritySeverity</title>
<polygon fill="white" stroke="#ffaabb" points="153468,-4073 153468,-4142 153582,-4142 153582,-4073 153468,-4073"/>
<text text-anchor="start" x="153476" y="-4126.8" font-family="Arial" font-size="14.00">SecuritySeverity</text>
<polyline fill="none" stroke="#ffaabb" points="153468,-4119 153582,-4119 "/>
<text text-anchor="start" x="153507.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="153468,-4096 153582,-4096 "/>
<text text-anchor="start" x="153523" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.SecurityStatus -->
<g id="node508" class="node">
<title>mcpgateway.config.Settings.SecurityStatus</title>
<polygon fill="white" stroke="#44bb99" points="153600.5,-4020.5 153600.5,-4194.5 153749.5,-4194.5 153749.5,-4020.5 153600.5,-4020.5"/>
<text text-anchor="start" x="153631" y="-4179.3" font-family="Arial" font-size="14.00">SecurityStatus</text>
<polyline fill="none" stroke="#44bb99" points="153600.5,-4171.5 153749.5,-4171.5 "/>
<text text-anchor="start" x="153608.5" y="-4156.3" font-family="Arial" font-size="14.00">auth_enabled : bool</text>
<text text-anchor="start" x="153608.5" y="-4141.3" font-family="Arial" font-size="14.00">cors_restricted : bool</text>
<text text-anchor="start" x="153608.5" y="-4126.3" font-family="Arial" font-size="14.00">debug_disabled : bool</text>
<text text-anchor="start" x="153608.5" y="-4111.3" font-family="Arial" font-size="14.00">secure_secrets : bool</text>
<text text-anchor="start" x="153608.5" y="-4096.3" font-family="Arial" font-size="14.00">security_score : int</text>
<text text-anchor="start" x="153608.5" y="-4081.3" font-family="Arial" font-size="14.00">ssl_verification : bool</text>
<text text-anchor="start" x="153608.5" y="-4066.3" font-family="Arial" font-size="14.00">ui_protected : bool</text>
<text text-anchor="start" x="153608.5" y="-4051.3" font-family="Arial" font-size="14.00">warnings : List[str]</text>
<polyline fill="none" stroke="#44bb99" points="153600.5,-4043.5 153749.5,-4043.5 "/>
<text text-anchor="start" x="153673" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.validators.SecurityValidator -->
<g id="node509" class="node">
<title>mcpgateway.common.validators.SecurityValidator</title>
<polygon fill="white" stroke="#44bb99" points="153767,-3855.5 153767,-4359.5 154267,-4359.5 154267,-3855.5 153767,-3855.5"/>
<text text-anchor="start" x="153966" y="-4344.3" font-family="Arial" font-size="14.00">SecurityValidator</text>
<polyline fill="none" stroke="#44bb99" points="153767,-4336.5 154267,-4336.5 "/>
<text text-anchor="start" x="153896" y="-4321.3" font-family="Arial" font-size="14.00">ALLOWED_URL_SCHEMES</text>
<text text-anchor="start" x="153896" y="-4306.3" font-family="Arial" font-size="14.00">DANGEROUS_HTML_PATTERN</text>
<text text-anchor="start" x="153896" y="-4291.3" font-family="Arial" font-size="14.00">DANGEROUS_JS_PATTERN</text>
<text text-anchor="start" x="153896" y="-4276.3" font-family="Arial" font-size="14.00">IDENTIFIER_PATTERN</text>
<text text-anchor="start" x="153896" y="-4261.3" font-family="Arial" font-size="14.00">MAX_CONTENT_LENGTH</text>
<text text-anchor="start" x="153896" y="-4246.3" font-family="Arial" font-size="14.00">MAX_DESCRIPTION_LENGTH</text>
<text text-anchor="start" x="153896" y="-4231.3" font-family="Arial" font-size="14.00">MAX_JSON_DEPTH</text>
<text text-anchor="start" x="153896" y="-4216.3" font-family="Arial" font-size="14.00">MAX_NAME_LENGTH</text>
<text text-anchor="start" x="153896" y="-4201.3" font-family="Arial" font-size="14.00">MAX_TEMPLATE_LENGTH</text>
<text text-anchor="start" x="153896" y="-4186.3" font-family="Arial" font-size="14.00">MAX_URL_LENGTH</text>
<text text-anchor="start" x="153896" y="-4171.3" font-family="Arial" font-size="14.00">NAME_PATTERN</text>
<text text-anchor="start" x="153896" y="-4156.3" font-family="Arial" font-size="14.00">TOOL_NAME_PATTERN</text>
<text text-anchor="start" x="153896" y="-4141.3" font-family="Arial" font-size="14.00">VALIDATION_SAFE_URI_PATTERN</text>
<text text-anchor="start" x="153896" y="-4126.3" font-family="Arial" font-size="14.00">VALIDATION_UNSAFE_URI_PATTERN</text>
<polyline fill="none" stroke="#44bb99" points="153767,-4118.5 154267,-4118.5 "/>
<text text-anchor="start" x="153775" y="-4103.3" font-family="Arial" font-size="14.00">sanitize_display_text(value: str, field_name: str): str</text>
<text text-anchor="start" x="153775" y="-4088.3" font-family="Arial" font-size="14.00">sanitize_json_response(data: Any): Any</text>
<text text-anchor="start" x="153775" y="-4073.3" font-family="Arial" font-size="14.00">sanitize_text(text: str): str</text>
<text text-anchor="start" x="153775" y="-4058.3" font-family="Arial" font-size="14.00">validate_identifier(value: str, field_name: str): str</text>
<text text-anchor="start" x="153775" y="-4043.3" font-family="Arial" font-size="14.00">validate_json_depth(obj: object, max_depth: int | None, current_depth: int): None</text>
<text text-anchor="start" x="153775" y="-4028.3" font-family="Arial" font-size="14.00">validate_mime_type(value: str): str</text>
<text text-anchor="start" x="153775" y="-4013.3" font-family="Arial" font-size="14.00">validate_name(value: str, field_name: str): str</text>
<text text-anchor="start" x="153775" y="-3998.3" font-family="Arial" font-size="14.00">validate_no_xss(value: str, field_name: str): None</text>
<text text-anchor="start" x="153775" y="-3983.3" font-family="Arial" font-size="14.00">validate_parameter_length(value: str, max_length: Optional[int]): str</text>
<text text-anchor="start" x="153775" y="-3968.3" font-family="Arial" font-size="14.00">validate_path(path: str, allowed_roots: Optional[List[str]]): str</text>
<text text-anchor="start" x="153775" y="-3953.3" font-family="Arial" font-size="14.00">validate_shell_parameter(value: str): str</text>
<text text-anchor="start" x="153775" y="-3938.3" font-family="Arial" font-size="14.00">validate_sql_parameter(value: str): str</text>
<text text-anchor="start" x="153775" y="-3923.3" font-family="Arial" font-size="14.00">validate_template(value: str): str</text>
<text text-anchor="start" x="153775" y="-3908.3" font-family="Arial" font-size="14.00">validate_tool_name(value: str): str</text>
<text text-anchor="start" x="153775" y="-3893.3" font-family="Arial" font-size="14.00">validate_uri(value: str, field_name: str): str</text>
<text text-anchor="start" x="153775" y="-3878.3" font-family="Arial" font-size="14.00">validate_url(value: str, field_name: str): str</text>
<text text-anchor="start" x="153775" y="-3863.3" font-family="Arial" font-size="14.00">validate_uuid(value: str, field_name: str): str</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportData -->
<g id="node510" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportData</title>
<polygon fill="white" stroke="#ffaabb" points="154265.5,-8830 154265.5,-8989 154492.5,-8989 154492.5,-8830 154265.5,-8830"/>
<text text-anchor="start" x="154335" y="-8973.8" font-family="Arial" font-size="14.00">SelExportData</text>
<polyline fill="none" stroke="#ffaabb" points="154265.5,-8966 154492.5,-8966 "/>
<text text-anchor="start" x="154273.5" y="-8950.8" font-family="Arial" font-size="14.00">encryption_method : str</text>
<text text-anchor="start" x="154273.5" y="-8935.8" font-family="Arial" font-size="14.00">entities : Dict[str, List[Dict[str, Any]]]</text>
<text text-anchor="start" x="154273.5" y="-8920.8" font-family="Arial" font-size="14.00">exported_at : str</text>
<text text-anchor="start" x="154273.5" y="-8905.8" font-family="Arial" font-size="14.00">exported_by : str</text>
<text text-anchor="start" x="154273.5" y="-8890.8" font-family="Arial" font-size="14.00">metadata</text>
<text text-anchor="start" x="154273.5" y="-8875.8" font-family="Arial" font-size="14.00">source_gateway : str</text>
<text text-anchor="start" x="154273.5" y="-8860.8" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ffaabb" points="154265.5,-8853 154492.5,-8853 "/>
<text text-anchor="start" x="154377" y="-8837.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata -->
<g id="node511" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata</title>
<polygon fill="white" stroke="#ffaabb" points="154285.5,-8409 154285.5,-8508 154472.5,-8508 154472.5,-8409 154285.5,-8409"/>
<text text-anchor="start" x="154321" y="-8492.8" font-family="Arial" font-size="14.00">SelExportMetadata</text>
<polyline fill="none" stroke="#ffaabb" points="154285.5,-8485 154472.5,-8485 "/>
<text text-anchor="start" x="154293.5" y="-8469.8" font-family="Arial" font-size="14.00">dependencies : Dict[str, Any]</text>
<text text-anchor="start" x="154293.5" y="-8454.8" font-family="Arial" font-size="14.00">entity_counts : Dict[str, int]</text>
<text text-anchor="start" x="154293.5" y="-8439.8" font-family="Arial" font-size="14.00">export_options</text>
<polyline fill="none" stroke="#ffaabb" points="154285.5,-8432 154472.5,-8432 "/>
<text text-anchor="start" x="154377" y="-8416.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportData -->
<g id="edge174" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportData</title>
<path fill="none" stroke="gray" d="M154379,-8508.41C154379,-8582.47 154379,-8724.33 154379,-8817.68"/>
<polygon fill="gray" stroke="gray" points="154379,-8817.95 154383,-8823.95 154379,-8829.95 154375,-8823.95 154379,-8817.95"/>
<text text-anchor="middle" x="154408" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">metadata</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions -->
<g id="node512" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions</title>
<polygon fill="white" stroke="#ffaabb" points="154285,-4058 154285,-4157 154473,-4157 154473,-4058 154285,-4058"/>
<text text-anchor="start" x="154326" y="-4141.8" font-family="Arial" font-size="14.00">SelExportOptions</text>
<polyline fill="none" stroke="#ffaabb" points="154285,-4134 154473,-4134 "/>
<text text-anchor="start" x="154293" y="-4118.8" font-family="Arial" font-size="14.00">include_dependencies : bool</text>
<text text-anchor="start" x="154293" y="-4103.8" font-family="Arial" font-size="14.00">selections : Dict[str, List[str]]</text>
<text text-anchor="start" x="154293" y="-4088.8" font-family="Arial" font-size="14.00">selective : bool</text>
<polyline fill="none" stroke="#ffaabb" points="154285,-4081 154473,-4081 "/>
<text text-anchor="start" x="154377" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata -->
<g id="edge175" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata</title>
<path fill="none" stroke="gray" d="M154379,-4157.34C154379,-4599.48 154379,-7905.63 154379,-8396.62"/>
<polygon fill="gray" stroke="gray" points="154379,-8396.68 154383,-8402.68 154379,-8408.68 154375,-8402.68 154379,-8396.68"/>
<text text-anchor="middle" x="154423.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">export_options</text>
</g>
<!-- mcpgateway.db.Server -->
<g id="node513" class="node">
<title>mcpgateway.db.Server</title>
<polygon fill="white" stroke="#77aadd" points="13454,-3780.5 13454,-4434.5 13754,-4434.5 13754,-3780.5 13454,-3780.5"/>
<text text-anchor="start" x="13584" y="-4419.3" font-family="Arial" font-size="14.00">Server</text>
<polyline fill="none" stroke="#77aadd" points="13454,-4411.5 13754,-4411.5 "/>
<text text-anchor="start" x="13462" y="-4396.3" font-family="Arial" font-size="14.00">a2a_agents : Mapped[List[&#39;A2AAgent&#39;]]</text>
<text text-anchor="start" x="13462" y="-4381.3" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="13462" y="-4366.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="13462" y="-4351.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4336.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4321.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4306.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4291.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4276.3" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="13462" y="-4261.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="13462" y="-4246.3" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="13462" y="-4231.3" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="13462" y="-4216.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4201.3" font-family="Arial" font-size="14.00">icon : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4186.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="13462" y="-4171.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4156.3" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="13462" y="-4141.3" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="13462" y="-4126.3" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ServerMetric&#39;]]</text>
<text text-anchor="start" x="13462" y="-4111.3" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="13462" y="-4096.3" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="13462" y="-4081.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4066.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4051.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4036.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4021.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="13462" y="-4006.3" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="13462" y="-3991.3" font-family="Arial" font-size="14.00">oauth_enabled : Mapped[bool]</text>
<text text-anchor="start" x="13462" y="-3976.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3961.3" font-family="Arial" font-size="14.00">prompts : Mapped[List[&#39;Prompt&#39;]]</text>
<text text-anchor="start" x="13462" y="-3946.3" font-family="Arial" font-size="14.00">resources : Mapped[List[&#39;Resource&#39;]]</text>
<text text-anchor="start" x="13462" y="-3931.3" font-family="Arial" font-size="14.00">scoped_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="13462" y="-3916.3" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="13462" y="-3901.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="13462" y="-3886.3" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="13462" y="-3871.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3856.3" font-family="Arial" font-size="14.00">tools : Mapped[List[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="13462" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="13462" y="-3826.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="13462" y="-3811.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="13454,-3803.5 13754,-3803.5 "/>
<text text-anchor="start" x="13539" y="-3788.3" font-family="Arial" font-size="14.00">execution_count(): int</text>
</g>
<!-- mcpgateway.db.Server&#45;&gt;mcpgateway.db.Base -->
<g id="edge52" class="edge">
<title>mcpgateway.db.Server&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13615.39,-4434.67C13644.35,-5358.28 13701.48,-7942.47 13445,-8215 13299.09,-8370.04 9919.5,-8444.39 9346.26,-8455.9"/>
<polygon fill="none" stroke="gray" points="9345.95,-8452.41 9336.02,-8456.11 9346.09,-8459.41 9345.95,-8452.41"/>
</g>
<!-- mcpgateway.common.models.ServerCapabilities -->
<g id="node514" class="node">
<title>mcpgateway.common.models.ServerCapabilities</title>
<polygon fill="white" stroke="#44bb99" points="43396,-4035.5 43396,-4179.5 43688,-4179.5 43688,-4035.5 43396,-4035.5"/>
<text text-anchor="start" x="43487" y="-4164.3" font-family="Arial" font-size="14.00">ServerCapabilities</text>
<polyline fill="none" stroke="#44bb99" points="43396,-4156.5 43688,-4156.5 "/>
<text text-anchor="start" x="43404" y="-4141.3" font-family="Arial" font-size="14.00">completions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43404" y="-4126.3" font-family="Arial" font-size="14.00">experimental : Optional[Dict[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="43404" y="-4111.3" font-family="Arial" font-size="14.00">logging : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43404" y="-4096.3" font-family="Arial" font-size="14.00">prompts : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="43404" y="-4081.3" font-family="Arial" font-size="14.00">resources : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="43404" y="-4066.3" font-family="Arial" font-size="14.00">tools : Optional[Dict[str, bool]]</text>
<polyline fill="none" stroke="#44bb99" points="43396,-4058.5 43688,-4058.5 "/>
<text text-anchor="start" x="43540" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ServerCapabilities&#45;&gt;mcpgateway.common.models.Gateway -->
<g id="edge153" class="edge">
<title>mcpgateway.common.models.ServerCapabilities&#45;&gt;mcpgateway.common.models.Gateway</title>
<path fill="none" stroke="gray" d="M43542,-4179.91C43542,-4689.14 43542,-7766.59 43542,-8358.91"/>
<polygon fill="gray" stroke="gray" points="43542,-8359.2 43546,-8365.2 43542,-8371.2 43538,-8365.2 43542,-8359.2"/>
<text text-anchor="middle" x="43575.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">capabilities</text>
</g>
<!-- mcpgateway.schemas.ServerCreate -->
<g id="node515" class="node">
<title>mcpgateway.schemas.ServerCreate</title>
<polygon fill="white" stroke="#77aadd" points="154491,-3915.5 154491,-4299.5 154805,-4299.5 154805,-3915.5 154491,-3915.5"/>
<text text-anchor="start" x="154607.5" y="-4284.3" font-family="Arial" font-size="14.00">ServerCreate</text>
<polyline fill="none" stroke="#77aadd" points="154491,-4276.5 154805,-4276.5 "/>
<text text-anchor="start" x="154520" y="-4261.3" font-family="Arial" font-size="14.00">associated_a2a_agents : Optional[List[str]]</text>
<text text-anchor="start" x="154520" y="-4246.3" font-family="Arial" font-size="14.00">associated_prompts : Optional[List[str]]</text>
<text text-anchor="start" x="154520" y="-4231.3" font-family="Arial" font-size="14.00">associated_resources : Optional[List[str]]</text>
<text text-anchor="start" x="154520" y="-4216.3" font-family="Arial" font-size="14.00">associated_tools : Optional[List[str]]</text>
<text text-anchor="start" x="154520" y="-4201.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4186.3" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4171.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4156.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="154520" y="-4141.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4126.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="154520" y="-4111.3" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="154520" y="-4096.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4081.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="154520" y="-4066.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="154520" y="-4051.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="154491,-4043.5 154805,-4043.5 "/>
<text text-anchor="start" x="154499" y="-4028.3" font-family="Arial" font-size="14.00">split_comma_separated(v)</text>
<text text-anchor="start" x="154499" y="-4013.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="154499" y="-3998.3" font-family="Arial" font-size="14.00">validate_icon(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="154499" y="-3983.3" font-family="Arial" font-size="14.00">validate_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="154499" y="-3968.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="154499" y="-3953.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="154499" y="-3938.3" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="154499" y="-3923.3" font-family="Arial" font-size="14.00">validate_visibility(v: str): str</text>
</g>
<!-- mcpgateway.services.server_service.ServerError -->
<g id="node516" class="node">
<title>mcpgateway.services.server_service.ServerError</title>
<polygon fill="white" stroke="#ffaabb" points="155042,-8423.1 155042,-8493.9 155128,-8493.9 155128,-8423.1 155042,-8423.1"/>
<text text-anchor="start" x="155050" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ServerError</text>
<polyline fill="none" stroke="#ffaabb" points="155042,-8470.9 155128,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="155042,-8446.1 155128,-8446.1 "/>
<text text-anchor="start" x="155083" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerLockConflictError -->
<g id="node517" class="node">
<title>mcpgateway.services.server_service.ServerLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="154823,-4072.1 154823,-4142.9 154983,-4142.9 154983,-4072.1 154823,-4072.1"/>
<text text-anchor="start" x="154831" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ServerLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="154823,-4119.9 154983,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="154823,-4095.1 154983,-4095.1 "/>
<text text-anchor="start" x="154901" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerLockConflictError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge121" class="edge">
<title>mcpgateway.services.server_service.ServerLockConflictError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M154902.11,-4143.13C154893.37,-4491.82 154826.82,-7374.01 154992,-8215 155006.22,-8287.38 155040.24,-8366.28 155062.95,-8413.81"/>
<polygon fill="none" stroke="gray" points="155059.84,-8415.41 155067.33,-8422.89 155066.14,-8412.36 155059.84,-8415.41"/>
</g>
<!-- mcpgateway.db.ServerMetric -->
<g id="node518" class="node">
<title>mcpgateway.db.ServerMetric</title>
<polygon fill="white" stroke="#77aadd" points="13772,-4028 13772,-4187 14022,-4187 14022,-4028 13772,-4028"/>
<text text-anchor="start" x="13858" y="-4171.8" font-family="Arial" font-size="14.00">ServerMetric</text>
<polyline fill="none" stroke="#77aadd" points="13772,-4164 14022,-4164 "/>
<text text-anchor="start" x="13780" y="-4148.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13780" y="-4133.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="13780" y="-4118.8" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="13780" y="-4103.8" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="13780" y="-4088.8" font-family="Arial" font-size="14.00">server : Mapped[&#39;Server&#39;]</text>
<text text-anchor="start" x="13780" y="-4073.8" font-family="Arial" font-size="14.00">server_id : Mapped[str]</text>
<text text-anchor="start" x="13780" y="-4058.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="13772,-4051 14022,-4051 "/>
<text text-anchor="start" x="13895" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge53" class="edge">
<title>mcpgateway.db.ServerMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13900.52,-4187.1C13924.07,-4730.07 14049.19,-7911.16 13763,-8215 13605.42,-8382.3 9944.37,-8446.82 9346.28,-8456.26"/>
<polygon fill="none" stroke="gray" points="9345.97,-8452.76 9336.02,-8456.42 9346.08,-8459.76 9345.97,-8452.76"/>
</g>
<!-- mcpgateway.schemas.ServerMetrics -->
<g id="node519" class="node">
<title>mcpgateway.schemas.ServerMetrics</title>
<polygon fill="white" stroke="#77aadd" points="155351.5,-4020.5 155351.5,-4194.5 155610.5,-4194.5 155610.5,-4020.5 155351.5,-4020.5"/>
<text text-anchor="start" x="155438.5" y="-4179.3" font-family="Arial" font-size="14.00">ServerMetrics</text>
<polyline fill="none" stroke="#77aadd" points="155351.5,-4171.5 155610.5,-4171.5 "/>
<text text-anchor="start" x="155359.5" y="-4156.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="155359.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="155359.5" y="-4126.3" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="155359.5" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="155359.5" y="-4096.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="155359.5" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="155359.5" y="-4066.3" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="155359.5" y="-4051.3" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="155351.5,-4043.5 155610.5,-4043.5 "/>
<text text-anchor="start" x="155479" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetricsHourly -->
<g id="node520" class="node">
<title>mcpgateway.db.ServerMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="14040,-3975.5 14040,-4239.5 14332,-4239.5 14332,-3975.5 14040,-3975.5"/>
<text text-anchor="start" x="14124" y="-4224.3" font-family="Arial" font-size="14.00">ServerMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="14040,-4216.5 14332,-4216.5 "/>
<text text-anchor="start" x="14048" y="-4201.3" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14048" y="-4171.3" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-4156.3" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="14048" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-4126.3" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4111.3" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4096.3" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4081.3" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4066.3" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-4051.3" font-family="Arial" font-size="14.00">server_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14048" y="-4036.3" font-family="Arial" font-size="14.00">server_name : Mapped[str]</text>
<text text-anchor="start" x="14048" y="-4021.3" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-4006.3" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="14040,-3998.5 14332,-3998.5 "/>
<text text-anchor="start" x="14184" y="-3983.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge54" class="edge">
<title>mcpgateway.db.ServerMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14190.99,-4239.65C14215.15,-4908.39 14307.84,-7918.57 14031,-8215 13864.38,-8393.41 9964.63,-8448.85 9346.27,-8456.53"/>
<polygon fill="none" stroke="gray" points="9346.07,-8453.03 9336.11,-8456.66 9346.15,-8460.03 9346.07,-8453.03"/>
</g>
<!-- mcpgateway.services.server_service.ServerNameConflictError -->
<g id="node521" class="node">
<title>mcpgateway.services.server_service.ServerNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="155001,-4058 155001,-4157 155169,-4157 155169,-4058 155001,-4058"/>
<text text-anchor="start" x="155009" y="-4141.8" font-family="Arial" font-size="14.00" fill="red">ServerNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="155001,-4134 155169,-4134 "/>
<text text-anchor="start" x="155014.5" y="-4118.8" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="155014.5" y="-4103.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="155014.5" y="-4088.8" font-family="Arial" font-size="14.00" fill="red">server_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="155001,-4081 155169,-4081 "/>
<text text-anchor="start" x="155083" y="-4065.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerNameConflictError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge122" class="edge">
<title>mcpgateway.services.server_service.ServerNameConflictError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M155085,-4157.34C155085,-4604.68 155085,-7983.78 155085,-8412.76"/>
<polygon fill="none" stroke="gray" points="155081.5,-8412.91 155085,-8422.91 155088.5,-8412.91 155081.5,-8412.91"/>
</g>
<!-- mcpgateway.services.server_service.ServerNotFoundError -->
<g id="node522" class="node">
<title>mcpgateway.services.server_service.ServerNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="155187,-4072.1 155187,-4142.9 155333,-4142.9 155333,-4072.1 155187,-4072.1"/>
<text text-anchor="start" x="155195" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ServerNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="155187,-4119.9 155333,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="155187,-4095.1 155333,-4095.1 "/>
<text text-anchor="start" x="155258" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerNotFoundError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge123" class="edge">
<title>mcpgateway.services.server_service.ServerNotFoundError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M155260.96,-4143.13C155270.37,-4491.81 155342.45,-7373.9 155178,-8215 155163.85,-8287.39 155129.8,-8366.29 155107.07,-8413.82"/>
<polygon fill="none" stroke="gray" points="155103.89,-8412.37 155102.69,-8422.89 155110.19,-8415.41 155103.89,-8412.37"/>
</g>
<!-- mcpgateway.schemas.ServerRead -->
<g id="node523" class="node">
<title>mcpgateway.schemas.ServerRead</title>
<polygon fill="white" stroke="#77aadd" points="155628.5,-3855.5 155628.5,-4359.5 155867.5,-4359.5 155867.5,-3855.5 155628.5,-3855.5"/>
<text text-anchor="start" x="155711.5" y="-4344.3" font-family="Arial" font-size="14.00">ServerRead</text>
<polyline fill="none" stroke="#77aadd" points="155628.5,-4336.5 155867.5,-4336.5 "/>
<text text-anchor="start" x="155636.5" y="-4321.3" font-family="Arial" font-size="14.00">associated_a2a_agents : List[str]</text>
<text text-anchor="start" x="155636.5" y="-4306.3" font-family="Arial" font-size="14.00">associated_prompts : List[str]</text>
<text text-anchor="start" x="155636.5" y="-4291.3" font-family="Arial" font-size="14.00">associated_resources : List[str]</text>
<text text-anchor="start" x="155636.5" y="-4276.3" font-family="Arial" font-size="14.00">associated_tools : List[str]</text>
<text text-anchor="start" x="155636.5" y="-4261.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="155636.5" y="-4246.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4231.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4216.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4201.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4186.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4171.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="155636.5" y="-4156.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4141.3" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4126.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="155636.5" y="-4111.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4096.3" font-family="Arial" font-size="14.00">metrics : Optional[ServerMetrics]</text>
<text text-anchor="start" x="155636.5" y="-4081.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4066.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4051.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4036.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-4021.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="155636.5" y="-4006.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="155636.5" y="-3991.3" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="155636.5" y="-3976.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-3961.3" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="155636.5" y="-3946.3" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-3931.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="155636.5" y="-3916.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="155636.5" y="-3901.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="155636.5" y="-3886.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="155628.5,-3878.5 155867.5,-3878.5 "/>
<text text-anchor="start" x="155649.5" y="-3863.3" font-family="Arial" font-size="14.00">populate_associated_ids(values)</text>
</g>
<!-- mcpgateway.services.server_service.ServerService -->
<g id="node524" class="node">
<title>mcpgateway.services.server_service.ServerService</title>
<polygon fill="white" stroke="#ffaabb" points="155886,-3967.1 155886,-4247.9 157804,-4247.9 157804,-3967.1 155886,-3967.1"/>
<text text-anchor="start" x="156802.5" y="-4232.7" font-family="Arial" font-size="14.00">ServerService</text>
<polyline fill="none" stroke="#ffaabb" points="155886,-4224.9 157804,-4224.9 "/>
<polyline fill="none" stroke="#ffaabb" points="155886,-4200.1 157804,-4200.1 "/>
<text text-anchor="start" x="155894" y="-4184.9" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): ServerMetrics</text>
<text text-anchor="start" x="155894" y="-4169.9" font-family="Arial" font-size="14.00">convert_server_to_read(server: DbServer, include_metrics: bool): ServerRead</text>
<text text-anchor="start" x="155894" y="-4154.9" font-family="Arial" font-size="14.00">delete_server(db: Session, server_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="155894" y="-4139.9" font-family="Arial" font-size="14.00">get_oauth_protected_resource_metadata(db: Session, server_id: str, resource_base_url: str): Dict[str, Any]</text>
<text text-anchor="start" x="155894" y="-4124.9" font-family="Arial" font-size="14.00">get_server(db: Session, server_id: str): ServerRead</text>
<text text-anchor="start" x="155894" y="-4109.9" font-family="Arial" font-size="14.00">get_top_servers(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="155894" y="-4094.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="155894" y="-4079.9" font-family="Arial" font-size="14.00">list_servers(db: Session, include_inactive: bool, tags: Optional[List[str]], cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[ServerRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="155894" y="-4064.9" font-family="Arial" font-size="14.00">list_servers_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[ServerRead]</text>
<text text-anchor="start" x="155894" y="-4049.9" font-family="Arial" font-size="14.00">register_server(db: Session, server_in: ServerCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): ServerRead</text>
<text text-anchor="start" x="155894" y="-4034.9" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="155894" y="-4019.9" font-family="Arial" font-size="14.00">set_server_state(db: Session, server_id: str, activate: bool, user_email: Optional[str]): ServerRead</text>
<text text-anchor="start" x="155894" y="-4004.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="155894" y="-3989.9" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="155894" y="-3974.9" font-family="Arial" font-size="14.00">update_server(db: Session, server_id: str, server_update: ServerUpdate, user_email: str, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str]): ServerRead</text>
</g>
<!-- mcpgateway.schemas.ServerUpdate -->
<g id="node525" class="node">
<title>mcpgateway.schemas.ServerUpdate</title>
<polygon fill="white" stroke="#77aadd" points="157822,-3938 157822,-4277 158136,-4277 158136,-3938 157822,-3938"/>
<text text-anchor="start" x="157937" y="-4261.8" font-family="Arial" font-size="14.00">ServerUpdate</text>
<polyline fill="none" stroke="#77aadd" points="157822,-4254 158136,-4254 "/>
<text text-anchor="start" x="157851" y="-4238.8" font-family="Arial" font-size="14.00">associated_a2a_agents : Optional[List[str]]</text>
<text text-anchor="start" x="157851" y="-4223.8" font-family="Arial" font-size="14.00">associated_prompts : Optional[List[str]]</text>
<text text-anchor="start" x="157851" y="-4208.8" font-family="Arial" font-size="14.00">associated_resources : Optional[List[str]]</text>
<text text-anchor="start" x="157851" y="-4193.8" font-family="Arial" font-size="14.00">associated_tools : Optional[List[str]]</text>
<text text-anchor="start" x="157851" y="-4178.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4163.8" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4148.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4133.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4118.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="157851" y="-4103.8" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="157851" y="-4088.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4073.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="157851" y="-4058.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="157851" y="-4043.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="157822,-4036 158136,-4036 "/>
<text text-anchor="start" x="157830" y="-4020.8" font-family="Arial" font-size="14.00">split_comma_separated(v)</text>
<text text-anchor="start" x="157830" y="-4005.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="157830" y="-3990.8" font-family="Arial" font-size="14.00">validate_icon(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="157830" y="-3975.8" font-family="Arial" font-size="14.00">validate_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="157830" y="-3960.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="157830" y="-3945.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
</g>
<!-- mcpgateway.cache.session_registry.SessionBackend -->
<g id="node526" class="node">
<title>mcpgateway.cache.session_registry.SessionBackend</title>
<polygon fill="white" stroke="#99ddff" points="158503.5,-8423.1 158503.5,-8493.9 158620.5,-8493.9 158620.5,-8423.1 158503.5,-8423.1"/>
<text text-anchor="start" x="158511.5" y="-8478.7" font-family="Arial" font-size="14.00">SessionBackend</text>
<polyline fill="none" stroke="#99ddff" points="158503.5,-8470.9 158620.5,-8470.9 "/>
<polyline fill="none" stroke="#99ddff" points="158503.5,-8446.1 158620.5,-8446.1 "/>
<text text-anchor="start" x="158560" y="-8430.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper -->
<g id="node527" class="node">
<title>mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper</title>
<polygon fill="white" stroke="#77aadd" points="158988,-4050.5 158988,-4164.5 159464,-4164.5 159464,-4050.5 158988,-4050.5"/>
<text text-anchor="start" x="159149" y="-4149.3" font-family="Arial" font-size="14.00">SessionManagerWrapper</text>
<polyline fill="none" stroke="#77aadd" points="158988,-4141.5 159464,-4141.5 "/>
<text text-anchor="start" x="159063" y="-4126.3" font-family="Arial" font-size="14.00">session_manager : StreamableHTTPSessionManager</text>
<text text-anchor="start" x="159063" y="-4111.3" font-family="Arial" font-size="14.00">stack : AsyncExitStack</text>
<polyline fill="none" stroke="#77aadd" points="158988,-4103.5 159464,-4103.5 "/>
<text text-anchor="start" x="158996" y="-4088.3" font-family="Arial" font-size="14.00">handle_streamable_http(scope: Scope, receive: Receive, send: Send): None</text>
<text text-anchor="start" x="158996" y="-4073.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="158996" y="-4058.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.db.SessionMessageRecord -->
<g id="node528" class="node">
<title>mcpgateway.db.SessionMessageRecord</title>
<polygon fill="white" stroke="#77aadd" points="14350,-4035.5 14350,-4179.5 14578,-4179.5 14578,-4035.5 14350,-4035.5"/>
<text text-anchor="start" x="14390" y="-4164.3" font-family="Arial" font-size="14.00">SessionMessageRecord</text>
<polyline fill="none" stroke="#77aadd" points="14350,-4156.5 14578,-4156.5 "/>
<text text-anchor="start" x="14358" y="-4141.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14358" y="-4126.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="14358" y="-4111.3" font-family="Arial" font-size="14.00">last_accessed : Mapped[datetime]</text>
<text text-anchor="start" x="14358" y="-4096.3" font-family="Arial" font-size="14.00">message : Mapped[str]</text>
<text text-anchor="start" x="14358" y="-4081.3" font-family="Arial" font-size="14.00">session : Mapped[&#39;SessionRecord&#39;]</text>
<text text-anchor="start" x="14358" y="-4066.3" font-family="Arial" font-size="14.00">session_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14350,-4058.5 14578,-4058.5 "/>
<text text-anchor="start" x="14462" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SessionMessageRecord&#45;&gt;mcpgateway.db.Base -->
<g id="edge55" class="edge">
<title>mcpgateway.db.SessionMessageRecord&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14467.39,-4179.85C14491.45,-4700.96 14627.31,-7908.72 14341,-8215 14163.02,-8405.4 9988.4,-8450.91 9346.52,-8456.79"/>
<polygon fill="none" stroke="gray" points="9346.39,-8453.3 9336.43,-8456.89 9346.46,-8460.3 9346.39,-8453.3"/>
</g>
<!-- mcpgateway.db.SessionRecord -->
<g id="node529" class="node">
<title>mcpgateway.db.SessionRecord</title>
<polygon fill="white" stroke="#77aadd" points="14596.5,-4043 14596.5,-4172 14925.5,-4172 14925.5,-4043 14596.5,-4043"/>
<text text-anchor="start" x="14715" y="-4156.8" font-family="Arial" font-size="14.00">SessionRecord</text>
<polyline fill="none" stroke="#77aadd" points="14596.5,-4149 14925.5,-4149 "/>
<text text-anchor="start" x="14604.5" y="-4133.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14604.5" y="-4118.8" font-family="Arial" font-size="14.00">data : Mapped[str]</text>
<text text-anchor="start" x="14604.5" y="-4103.8" font-family="Arial" font-size="14.00">last_accessed : Mapped[datetime]</text>
<text text-anchor="start" x="14604.5" y="-4088.8" font-family="Arial" font-size="14.00">messages : Mapped[List[&#39;SessionMessageRecord&#39;]]</text>
<text text-anchor="start" x="14604.5" y="-4073.8" font-family="Arial" font-size="14.00">session_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14596.5,-4066 14925.5,-4066 "/>
<text text-anchor="start" x="14759" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SessionRecord&#45;&gt;mcpgateway.db.Base -->
<g id="edge56" class="edge">
<title>mcpgateway.db.SessionRecord&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14768.91,-4172.17C14826.06,-4644.28 15157.76,-7598.98 14587,-8215 14400.96,-8415.8 10007.5,-8452.59 9346.85,-8457"/>
<polygon fill="none" stroke="gray" points="9346.45,-8453.5 9336.47,-8457.07 9346.5,-8460.5 9346.45,-8453.5"/>
</g>
<!-- mcpgateway.cache.session_registry.SessionRegistry -->
<g id="node530" class="node">
<title>mcpgateway.cache.session_registry.SessionRegistry</title>
<polygon fill="white" stroke="#99ddff" points="158154.5,-3959.6 158154.5,-4255.4 158969.5,-4255.4 158969.5,-3959.6 158154.5,-3959.6"/>
<text text-anchor="start" x="158513" y="-4240.2" font-family="Arial" font-size="14.00">SessionRegistry</text>
<polyline fill="none" stroke="#99ddff" points="158154.5,-4232.4 158969.5,-4232.4 "/>
<polyline fill="none" stroke="#99ddff" points="158154.5,-4207.6 158969.5,-4207.6 "/>
<text text-anchor="start" x="158162.5" y="-4192.4" font-family="Arial" font-size="14.00">add_session(session_id: str, transport: SSETransport): None</text>
<text text-anchor="start" x="158162.5" y="-4177.4" font-family="Arial" font-size="14.00">broadcast(session_id: str, message: Dict[str, Any]): None</text>
<text text-anchor="start" x="158162.5" y="-4162.4" font-family="Arial" font-size="14.00">generate_response(message: Dict[str, Any], transport: SSETransport, server_id: Optional[str], user: Dict[str, Any], base_url: str): None</text>
<text text-anchor="start" x="158162.5" y="-4147.4" font-family="Arial" font-size="14.00">get_all_session_ids(): list[str]</text>
<text text-anchor="start" x="158162.5" y="-4132.4" font-family="Arial" font-size="14.00">get_client_capabilities(session_id: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="158162.5" y="-4117.4" font-family="Arial" font-size="14.00">get_elicitation_capable_sessions(): list[str]</text>
<text text-anchor="start" x="158162.5" y="-4102.4" font-family="Arial" font-size="14.00">get_session(session_id: str): Any</text>
<text text-anchor="start" x="158162.5" y="-4087.4" font-family="Arial" font-size="14.00">get_session_sync(session_id: str): Any</text>
<text text-anchor="start" x="158162.5" y="-4072.4" font-family="Arial" font-size="14.00">handle_initialize_logic(body: Dict[str, Any], session_id: Optional[str], server_id: Optional[str]): InitializeResult</text>
<text text-anchor="start" x="158162.5" y="-4057.4" font-family="Arial" font-size="14.00">has_elicitation_capability(session_id: str): bool</text>
<text text-anchor="start" x="158162.5" y="-4042.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="158162.5" y="-4027.4" font-family="Arial" font-size="14.00">register_respond_task(session_id: str, task: asyncio.Task): None</text>
<text text-anchor="start" x="158162.5" y="-4012.4" font-family="Arial" font-size="14.00">remove_session(session_id: str): None</text>
<text text-anchor="start" x="158162.5" y="-3997.4" font-family="Arial" font-size="14.00">respond(server_id: Optional[str], user: Dict[str, Any], session_id: str, base_url: str): None</text>
<text text-anchor="start" x="158162.5" y="-3982.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="158162.5" y="-3967.4" font-family="Arial" font-size="14.00">store_client_capabilities(session_id: str, capabilities: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.cache.session_registry.SessionRegistry&#45;&gt;mcpgateway.cache.session_registry.SessionBackend -->
<g id="edge1" class="edge">
<title>mcpgateway.cache.session_registry.SessionRegistry&#45;&gt;mcpgateway.cache.session_registry.SessionBackend</title>
<path fill="none" stroke="gray" d="M158562,-4255.69C158562,-4964.4 158562,-8007.58 158562,-8412.84"/>
<polygon fill="none" stroke="gray" points="158558.5,-8413 158562,-8423 158565.5,-8413 158558.5,-8413"/>
</g>
<!-- mcpgateway.config.Settings -->
<g id="node531" class="node">
<title>mcpgateway.config.Settings</title>
<polygon fill="white" stroke="#77aadd" points="50657.5,-0.5 50657.5,-8214.5 51160.5,-8214.5 51160.5,-0.5 50657.5,-0.5"/>
<text text-anchor="start" x="50884.5" y="-8199.3" font-family="Arial" font-size="14.00">Settings</text>
<polyline fill="none" stroke="#77aadd" points="50657.5,-8191.5 51160.5,-8191.5 "/>
<text text-anchor="start" x="50665.5" y="-8176.3" font-family="Arial" font-size="14.00">ENABLE_METRICS : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-8161.3" font-family="Arial" font-size="14.00">METRICS_CUSTOM_LABELS : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-8146.3" font-family="Arial" font-size="14.00">METRICS_EXCLUDED_HANDLERS : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-8131.3" font-family="Arial" font-size="14.00">METRICS_NAMESPACE : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-8116.3" font-family="Arial" font-size="14.00">METRICS_SUBSYSTEM : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-8101.3" font-family="Arial" font-size="14.00">a2a_stats_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-8086.3" font-family="Arial" font-size="14.00">account_lockout_duration_minutes : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-8071.3" font-family="Arial" font-size="14.00">admin_require_password_change_on_bootstrap : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-8056.3" font-family="Arial" font-size="14.00">admin_stats_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-8041.3" font-family="Arial" font-size="14.00">admin_stats_cache_observability_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-8026.3" font-family="Arial" font-size="14.00">admin_stats_cache_performance_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-8011.3" font-family="Arial" font-size="14.00">admin_stats_cache_plugins_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7996.3" font-family="Arial" font-size="14.00">admin_stats_cache_system_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7981.3" font-family="Arial" font-size="14.00">admin_stats_cache_tags_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7966.3" font-family="Arial" font-size="14.00">allowed_mime_types : Set[str]</text>
<text text-anchor="start" x="50665.5" y="-7951.3" font-family="Arial" font-size="14.00">allowed_origins : Annotated[Set[str], NoDecode]</text>
<text text-anchor="start" x="50665.5" y="-7936.3" font-family="Arial" font-size="14.00">allowed_roots : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-7921.3" font-family="Arial" font-size="14.00">anyio_cancel_delivery_max_iterations : int</text>
<text text-anchor="start" x="50665.5" y="-7906.3" font-family="Arial" font-size="14.00">anyio_cancel_delivery_patch_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-7891.3" font-family="Arial" font-size="14.00">api_allow_basic_auth : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7876.3" font-family="Arial" font-size="14.00">api_key</text>
<text text-anchor="start" x="50665.5" y="-7861.3" font-family="Arial" font-size="14.00">app_domain : Optional[HttpUrl]</text>
<text text-anchor="start" x="50665.5" y="-7846.3" font-family="Arial" font-size="14.00">app_name : str</text>
<text text-anchor="start" x="50665.5" y="-7831.3" font-family="Arial" font-size="14.00">app_root_path : str</text>
<text text-anchor="start" x="50665.5" y="-7816.3" font-family="Arial" font-size="14.00">argon2id_memory_cost : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7801.3" font-family="Arial" font-size="14.00">argon2id_parallelism : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7786.3" font-family="Arial" font-size="14.00">argon2id_time_cost : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7771.3" font-family="Arial" font-size="14.00">audit_trail_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7756.3" font-family="Arial" font-size="14.00">auth_cache_batch_queries : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7741.3" font-family="Arial" font-size="14.00">auth_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7726.3" font-family="Arial" font-size="14.00">auth_cache_revocation_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7711.3" font-family="Arial" font-size="14.00">auth_cache_role_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7696.3" font-family="Arial" font-size="14.00">auth_cache_team_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7681.3" font-family="Arial" font-size="14.00">auth_cache_teams_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7666.3" font-family="Arial" font-size="14.00">auth_cache_teams_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7651.3" font-family="Arial" font-size="14.00">auth_cache_user_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7636.3" font-family="Arial" font-size="14.00">auth_encryption_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-7621.3" font-family="Arial" font-size="14.00">auth_required : bool</text>
<text text-anchor="start" x="50665.5" y="-7606.3" font-family="Arial" font-size="14.00">auto_create_personal_teams : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7591.3" font-family="Arial" font-size="14.00">auto_refresh_servers : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7576.3" font-family="Arial" font-size="14.00">backoff_factor : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-7561.3" font-family="Arial" font-size="14.00">basic_auth_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-7546.3" font-family="Arial" font-size="14.00">basic_auth_user : str</text>
<text text-anchor="start" x="50665.5" y="-7531.3" font-family="Arial" font-size="14.00">cache_prefix : str</text>
<text text-anchor="start" x="50665.5" y="-7516.3" font-family="Arial" font-size="14.00">cache_type : Literal[&#39;redis&#39;, &#39;memory&#39;, &#39;none&#39;, &#39;database&#39;]</text>
<text text-anchor="start" x="50665.5" y="-7501.3" font-family="Arial" font-size="14.00">client_mode : bool</text>
<text text-anchor="start" x="50665.5" y="-7486.3" font-family="Arial" font-size="14.00">compression_brotli_quality : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7471.3" font-family="Arial" font-size="14.00">compression_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7456.3" font-family="Arial" font-size="14.00">compression_gzip_level : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7441.3" font-family="Arial" font-size="14.00">compression_minimum_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7426.3" font-family="Arial" font-size="14.00">compression_zstd_level : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7411.3" font-family="Arial" font-size="14.00">cookie_samesite : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-7396.3" font-family="Arial" font-size="14.00">correlation_id_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7381.3" font-family="Arial" font-size="14.00">correlation_id_header : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-7366.3" font-family="Arial" font-size="14.00">correlation_id_preserve : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7351.3" font-family="Arial" font-size="14.00">correlation_id_response_header : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7336.3" font-family="Arial" font-size="14.00">cors_allow_credentials : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7321.3" font-family="Arial" font-size="14.00">cors_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-7306.3" font-family="Arial" font-size="14.00">cors_settings</text>
<text text-anchor="start" x="50665.5" y="-7291.3" font-family="Arial" font-size="14.00">custom_well_known_files</text>
<text text-anchor="start" x="50665.5" y="-7276.3" font-family="Arial" font-size="14.00">dangerous_patterns : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-7261.3" font-family="Arial" font-size="14.00">database_settings</text>
<text text-anchor="start" x="50665.5" y="-7246.3" font-family="Arial" font-size="14.00">database_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-7231.3" font-family="Arial" font-size="14.00">db_driver : str</text>
<text text-anchor="start" x="50665.5" y="-7216.3" font-family="Arial" font-size="14.00">db_max_backoff_seconds : int</text>
<text text-anchor="start" x="50665.5" y="-7201.3" font-family="Arial" font-size="14.00">db_max_overflow : int</text>
<text text-anchor="start" x="50665.5" y="-7186.3" font-family="Arial" font-size="14.00">db_max_retries : int</text>
<text text-anchor="start" x="50665.5" y="-7171.3" font-family="Arial" font-size="14.00">db_metrics_recording_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7156.3" font-family="Arial" font-size="14.00">db_pool_class : Optional[Literal[&#39;auto&#39;, &#39;null&#39;, &#39;queue&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-7141.3" font-family="Arial" font-size="14.00">db_pool_pre_ping : Optional[Literal[&#39;auto&#39;, &#39;true&#39;, &#39;false&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-7126.3" font-family="Arial" font-size="14.00">db_pool_recycle : int</text>
<text text-anchor="start" x="50665.5" y="-7111.3" font-family="Arial" font-size="14.00">db_pool_size : int</text>
<text text-anchor="start" x="50665.5" y="-7096.3" font-family="Arial" font-size="14.00">db_pool_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-7081.3" font-family="Arial" font-size="14.00">db_prepare_threshold : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-7066.3" font-family="Arial" font-size="14.00">db_query_log_detect_n1 : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7051.3" font-family="Arial" font-size="14.00">db_query_log_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-7036.3" font-family="Arial" font-size="14.00">db_query_log_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-7021.3" font-family="Arial" font-size="14.00">db_query_log_format : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-7006.3" font-family="Arial" font-size="14.00">db_query_log_include_params : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6991.3" font-family="Arial" font-size="14.00">db_query_log_json_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6976.3" font-family="Arial" font-size="14.00">db_query_log_min_queries : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6961.3" font-family="Arial" font-size="14.00">db_query_log_n1_threshold : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6946.3" font-family="Arial" font-size="14.00">db_retry_interval_ms : int</text>
<text text-anchor="start" x="50665.5" y="-6931.3" font-family="Arial" font-size="14.00">db_sqlite_busy_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6916.3" font-family="Arial" font-size="14.00">dcr_allowed_issuers : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-6901.3" font-family="Arial" font-size="14.00">dcr_auto_register_on_missing_credentials : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6886.3" font-family="Arial" font-size="14.00">dcr_client_name_template : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6871.3" font-family="Arial" font-size="14.00">dcr_default_scopes : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-6856.3" font-family="Arial" font-size="14.00">dcr_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6841.3" font-family="Arial" font-size="14.00">dcr_metadata_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6826.3" font-family="Arial" font-size="14.00">dcr_request_refresh_token_when_unsupported : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6811.3" font-family="Arial" font-size="14.00">dcr_token_endpoint_auth_method : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6796.3" font-family="Arial" font-size="14.00">debug : bool</text>
<text text-anchor="start" x="50665.5" y="-6781.3" font-family="Arial" font-size="14.00">default_admin_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6766.3" font-family="Arial" font-size="14.00">default_passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-6751.3" font-family="Arial" font-size="14.00">default_roots : List[str]</text>
<text text-anchor="start" x="50665.5" y="-6736.3" font-family="Arial" font-size="14.00">default_team_member_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6721.3" font-family="Arial" font-size="14.00">default_team_owner_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6706.3" font-family="Arial" font-size="14.00">default_user_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-6691.3" font-family="Arial" font-size="14.00">default_user_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6676.3" font-family="Arial" font-size="14.00">detect_default_password_on_login : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6661.3" font-family="Arial" font-size="14.00">dev_mode : bool</text>
<text text-anchor="start" x="50665.5" y="-6646.3" font-family="Arial" font-size="14.00">docs_allow_basic_auth : bool</text>
<text text-anchor="start" x="50665.5" y="-6631.3" font-family="Arial" font-size="14.00">ed25519_private_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-6616.3" font-family="Arial" font-size="14.00">ed25519_public_key : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6601.3" font-family="Arial" font-size="14.00">elasticsearch_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6586.3" font-family="Arial" font-size="14.00">elasticsearch_index_prefix : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6571.3" font-family="Arial" font-size="14.00">elasticsearch_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-6556.3" font-family="Arial" font-size="14.00">email_auth_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6541.3" font-family="Arial" font-size="14.00">embed_environment_in_tokens : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6526.3" font-family="Arial" font-size="14.00">enable_ed25519_signing : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6511.3" font-family="Arial" font-size="14.00">enable_header_passthrough : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6496.3" font-family="Arial" font-size="14.00">enable_overwrite_base_headers : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6481.3" font-family="Arial" font-size="14.00">environment : Optional[Literal[&#39;development&#39;, &#39;staging&#39;, &#39;production&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-6466.3" font-family="Arial" font-size="14.00">experimental_validate_io : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6451.3" font-family="Arial" font-size="14.00">federation_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-6436.3" font-family="Arial" font-size="14.00">filelock_name : str</text>
<text text-anchor="start" x="50665.5" y="-6421.3" font-family="Arial" font-size="14.00">gateway_auto_refresh_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6406.3" font-family="Arial" font-size="14.00">gateway_health_check_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-6391.3" font-family="Arial" font-size="14.00">gateway_max_redirects : int</text>
<text text-anchor="start" x="50665.5" y="-6376.3" font-family="Arial" font-size="14.00">gateway_tool_name_separator : str</text>
<text text-anchor="start" x="50665.5" y="-6361.3" font-family="Arial" font-size="14.00">gateway_validation_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-6346.3" font-family="Arial" font-size="14.00">global_config_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6331.3" font-family="Arial" font-size="14.00">health_check_interval : int</text>
<text text-anchor="start" x="50665.5" y="-6316.3" font-family="Arial" font-size="14.00">health_check_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-6301.3" font-family="Arial" font-size="14.00">host : str</text>
<text text-anchor="start" x="50665.5" y="-6286.3" font-family="Arial" font-size="14.00">hsts_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6271.3" font-family="Arial" font-size="14.00">hsts_include_subdomains : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6256.3" font-family="Arial" font-size="14.00">hsts_max_age : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6241.3" font-family="Arial" font-size="14.00">httpx_admin_read_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6226.3" font-family="Arial" font-size="14.00">httpx_connect_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6211.3" font-family="Arial" font-size="14.00">httpx_http2_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6196.3" font-family="Arial" font-size="14.00">httpx_keepalive_expiry : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6181.3" font-family="Arial" font-size="14.00">httpx_max_connections : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6166.3" font-family="Arial" font-size="14.00">httpx_max_keepalive_connections : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6151.3" font-family="Arial" font-size="14.00">httpx_pool_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6136.3" font-family="Arial" font-size="14.00">httpx_read_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6121.3" font-family="Arial" font-size="14.00">httpx_write_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-6106.3" font-family="Arial" font-size="14.00">insecure_allow_queryparam_auth : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6091.3" font-family="Arial" font-size="14.00">insecure_queryparam_auth_allowed_hosts : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-6076.3" font-family="Arial" font-size="14.00">invitation_expiry_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-6061.3" font-family="Arial" font-size="14.00">json_response_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-6046.3" font-family="Arial" font-size="14.00">json_schema_validation_strict : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-6031.3" font-family="Arial" font-size="14.00">jwt_algorithm : str</text>
<text text-anchor="start" x="50665.5" y="-6016.3" font-family="Arial" font-size="14.00">jwt_audience : str</text>
<text text-anchor="start" x="50665.5" y="-6001.3" font-family="Arial" font-size="14.00">jwt_audience_verification : bool</text>
<text text-anchor="start" x="50665.5" y="-5986.3" font-family="Arial" font-size="14.00">jwt_issuer : str</text>
<text text-anchor="start" x="50665.5" y="-5971.3" font-family="Arial" font-size="14.00">jwt_issuer_verification : bool</text>
<text text-anchor="start" x="50665.5" y="-5956.3" font-family="Arial" font-size="14.00">jwt_private_key_path : str</text>
<text text-anchor="start" x="50665.5" y="-5941.3" font-family="Arial" font-size="14.00">jwt_public_key_path : str</text>
<text text-anchor="start" x="50665.5" y="-5926.3" font-family="Arial" font-size="14.00">jwt_secret_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-5911.3" font-family="Arial" font-size="14.00">llm_api_prefix : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-5896.3" font-family="Arial" font-size="14.00">llm_health_check_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5881.3" font-family="Arial" font-size="14.00">llm_request_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5866.3" font-family="Arial" font-size="14.00">llm_streaming_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5851.3" font-family="Arial" font-size="14.00">llmchat_chat_history_max_messages : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5836.3" font-family="Arial" font-size="14.00">llmchat_chat_history_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5821.3" font-family="Arial" font-size="14.00">llmchat_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5806.3" font-family="Arial" font-size="14.00">llmchat_session_lock_retries : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5791.3" font-family="Arial" font-size="14.00">llmchat_session_lock_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5776.3" font-family="Arial" font-size="14.00">llmchat_session_lock_wait : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-5761.3" font-family="Arial" font-size="14.00">llmchat_session_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5746.3" font-family="Arial" font-size="14.00">log_backup_count : int</text>
<text text-anchor="start" x="50665.5" y="-5731.3" font-family="Arial" font-size="14.00">log_buffer_size_mb : float</text>
<text text-anchor="start" x="50665.5" y="-5716.3" font-family="Arial" font-size="14.00">log_detailed_max_body_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5701.3" font-family="Arial" font-size="14.00">log_detailed_sample_rate : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-5686.3" font-family="Arial" font-size="14.00">log_detailed_skip_endpoints : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-5671.3" font-family="Arial" font-size="14.00">log_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-5656.3" font-family="Arial" font-size="14.00">log_filemode : str</text>
<text text-anchor="start" x="50665.5" y="-5641.3" font-family="Arial" font-size="14.00">log_folder : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-5626.3" font-family="Arial" font-size="14.00">log_format : Literal[&#39;json&#39;, &#39;text&#39;]</text>
<text text-anchor="start" x="50665.5" y="-5611.3" font-family="Arial" font-size="14.00">log_level : Optional[Literal[&#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARNING&#39;, &#39;ERROR&#39;, &#39;CRITICAL&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-5596.3" font-family="Arial" font-size="14.00">log_max_size_mb : int</text>
<text text-anchor="start" x="50665.5" y="-5581.3" font-family="Arial" font-size="14.00">log_requests : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5566.3" font-family="Arial" font-size="14.00">log_resolve_user_identity : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5551.3" font-family="Arial" font-size="14.00">log_retention_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5536.3" font-family="Arial" font-size="14.00">log_rotation_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-5521.3" font-family="Arial" font-size="14.00">log_search_max_results : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5506.3" font-family="Arial" font-size="14.00">log_to_file : bool</text>
<text text-anchor="start" x="50665.5" y="-5491.3" font-family="Arial" font-size="14.00">masked_auth_value : str</text>
<text text-anchor="start" x="50665.5" y="-5476.3" font-family="Arial" font-size="14.00">max_concurrent_health_checks : int</text>
<text text-anchor="start" x="50665.5" y="-5461.3" font-family="Arial" font-size="14.00">max_failed_login_attempts : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5446.3" font-family="Arial" font-size="14.00">max_interval : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-5431.3" font-family="Arial" font-size="14.00">max_members_per_team : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5416.3" font-family="Arial" font-size="14.00">max_param_length : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5401.3" font-family="Arial" font-size="14.00">max_path_depth : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5386.3" font-family="Arial" font-size="14.00">max_prompt_size : int</text>
<text text-anchor="start" x="50665.5" y="-5371.3" font-family="Arial" font-size="14.00">max_resource_size : int</text>
<text text-anchor="start" x="50665.5" y="-5356.3" font-family="Arial" font-size="14.00">max_teams_per_user : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-5341.3" font-family="Arial" font-size="14.00">max_tool_retries : int</text>
<text text-anchor="start" x="50665.5" y="-5326.3" font-family="Arial" font-size="14.00">mcp_client_auth_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5311.3" font-family="Arial" font-size="14.00">mcp_require_auth : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-5296.3" font-family="Arial" font-size="14.00">mcp_session_pool_acquire_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-5281.3" font-family="Arial" font-size="14.00">mcp_session_pool_circuit_breaker_reset : float</text>
<text text-anchor="start" x="50665.5" y="-5266.3" font-family="Arial" font-size="14.00">mcp_session_pool_circuit_breaker_threshold : int</text>
<text text-anchor="start" x="50665.5" y="-5251.3" font-family="Arial" font-size="14.00">mcp_session_pool_cleanup_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-5236.3" font-family="Arial" font-size="14.00">mcp_session_pool_create_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-5221.3" font-family="Arial" font-size="14.00">mcp_session_pool_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-5206.3" font-family="Arial" font-size="14.00">mcp_session_pool_explicit_health_rpc : bool</text>
<text text-anchor="start" x="50665.5" y="-5191.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_interval : float</text>
<text text-anchor="start" x="50665.5" y="-5176.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_methods : List[str]</text>
<text text-anchor="start" x="50665.5" y="-5161.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-5146.3" font-family="Arial" font-size="14.00">mcp_session_pool_identity_headers : List[str]</text>
<text text-anchor="start" x="50665.5" y="-5131.3" font-family="Arial" font-size="14.00">mcp_session_pool_idle_eviction : float</text>
<text text-anchor="start" x="50665.5" y="-5116.3" font-family="Arial" font-size="14.00">mcp_session_pool_max_per_key : int</text>
<text text-anchor="start" x="50665.5" y="-5101.3" font-family="Arial" font-size="14.00">mcp_session_pool_transport_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-5086.3" font-family="Arial" font-size="14.00">mcp_session_pool_ttl : float</text>
<text text-anchor="start" x="50665.5" y="-5071.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_default_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-5056.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-5041.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_max_agents : int</text>
<text text-anchor="start" x="50665.5" y="-5026.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_max_retries : int</text>
<text text-anchor="start" x="50665.5" y="-5011.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_metrics_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-4996.3" font-family="Arial" font-size="14.00">mcpgateway_admin_api_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-4981.3" font-family="Arial" font-size="14.00">mcpgateway_bootstrap_roles_in_db_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4966.3" font-family="Arial" font-size="14.00">mcpgateway_bootstrap_roles_in_db_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-4951.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-4936.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_max_tools : int</text>
<text text-anchor="start" x="50665.5" y="-4921.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_rate_limit : int</text>
<text text-anchor="start" x="50665.5" y="-4906.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_auto_health_check : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4891.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4876.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4861.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-4846.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_page_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4831.3" font-family="Arial" font-size="14.00">mcpgateway_direct_proxy_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4816.3" font-family="Arial" font-size="14.00">mcpgateway_direct_proxy_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4801.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4786.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_max_concurrent : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4771.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4756.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4741.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_max_message_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4726.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4711.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4696.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4681.3" font-family="Arial" font-size="14.00">mcpgateway_performance_collection_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4666.3" font-family="Arial" font-size="14.00">mcpgateway_performance_distributed : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4651.3" font-family="Arial" font-size="14.00">mcpgateway_performance_max_snapshots : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4636.3" font-family="Arial" font-size="14.00">mcpgateway_performance_net_connections_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4621.3" font-family="Arial" font-size="14.00">mcpgateway_performance_net_connections_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4606.3" font-family="Arial" font-size="14.00">mcpgateway_performance_retention_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4591.3" font-family="Arial" font-size="14.00">mcpgateway_performance_retention_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4576.3" font-family="Arial" font-size="14.00">mcpgateway_performance_tracking : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4561.3" font-family="Arial" font-size="14.00">mcpgateway_pool_rpc_forward_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-4546.3" font-family="Arial" font-size="14.00">mcpgateway_session_affinity_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-4531.3" font-family="Arial" font-size="14.00">mcpgateway_session_affinity_max_sessions : int</text>
<text text-anchor="start" x="50665.5" y="-4516.3" font-family="Arial" font-size="14.00">mcpgateway_session_affinity_ttl : int</text>
<text text-anchor="start" x="50665.5" y="-4501.3" font-family="Arial" font-size="14.00">mcpgateway_tool_cancellation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4486.3" font-family="Arial" font-size="14.00">mcpgateway_ui_airgapped : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4471.3" font-family="Arial" font-size="14.00">mcpgateway_ui_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-4456.3" font-family="Arial" font-size="14.00">mcpgateway_ui_tool_test_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4441.3" font-family="Arial" font-size="14.00">message_ttl : int</text>
<text text-anchor="start" x="50665.5" y="-4426.3" font-family="Arial" font-size="14.00">metrics_aggregation_auto_start : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4411.3" font-family="Arial" font-size="14.00">metrics_aggregation_backfill_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4396.3" font-family="Arial" font-size="14.00">metrics_aggregation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4381.3" font-family="Arial" font-size="14.00">metrics_aggregation_window_minutes : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4366.3" font-family="Arial" font-size="14.00">metrics_buffer_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4351.3" font-family="Arial" font-size="14.00">metrics_buffer_flush_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4336.3" font-family="Arial" font-size="14.00">metrics_buffer_max_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4321.3" font-family="Arial" font-size="14.00">metrics_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4306.3" font-family="Arial" font-size="14.00">metrics_cache_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4291.3" font-family="Arial" font-size="14.00">metrics_cleanup_batch_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4276.3" font-family="Arial" font-size="14.00">metrics_cleanup_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4261.3" font-family="Arial" font-size="14.00">metrics_cleanup_interval_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4246.3" font-family="Arial" font-size="14.00">metrics_delete_raw_after_rollup : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4231.3" font-family="Arial" font-size="14.00">metrics_delete_raw_after_rollup_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4216.3" font-family="Arial" font-size="14.00">metrics_retention_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4201.3" font-family="Arial" font-size="14.00">metrics_rollup_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4186.3" font-family="Arial" font-size="14.00">metrics_rollup_interval_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4171.3" font-family="Arial" font-size="14.00">metrics_rollup_late_data_hours : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4156.3" font-family="Arial" font-size="14.00">metrics_rollup_retention_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4141.3" font-family="Arial" font-size="14.00">min_password_length : int</text>
<text text-anchor="start" x="50665.5" y="-4126.3" font-family="Arial" font-size="14.00">min_secret_length : int</text>
<text text-anchor="start" x="50665.5" y="-4111.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="50665.5" y="-4096.3" font-family="Arial" font-size="14.00">oauth_default_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4081.3" font-family="Arial" font-size="14.00">oauth_discovery_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4066.3" font-family="Arial" font-size="14.00">oauth_max_retries : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4051.3" font-family="Arial" font-size="14.00">oauth_preferred_code_challenge_method : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-4036.3" font-family="Arial" font-size="14.00">oauth_request_timeout : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-4021.3" font-family="Arial" font-size="14.00">observability_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-4006.3" font-family="Arial" font-size="14.00">observability_events_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3991.3" font-family="Arial" font-size="14.00">observability_exclude_paths : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-3976.3" font-family="Arial" font-size="14.00">observability_include_paths : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-3961.3" font-family="Arial" font-size="14.00">observability_max_traces : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3946.3" font-family="Arial" font-size="14.00">observability_metrics_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3931.3" font-family="Arial" font-size="14.00">observability_sample_rate : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3916.3" font-family="Arial" font-size="14.00">observability_trace_http_requests : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3901.3" font-family="Arial" font-size="14.00">observability_trace_retention_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3886.3" font-family="Arial" font-size="14.00">otel_bsp_max_export_batch_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3871.3" font-family="Arial" font-size="14.00">otel_bsp_max_queue_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3856.3" font-family="Arial" font-size="14.00">otel_bsp_schedule_delay : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3841.3" font-family="Arial" font-size="14.00">otel_enable_observability : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3826.3" font-family="Arial" font-size="14.00">otel_exporter_jaeger_endpoint : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3811.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_endpoint : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3796.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_headers : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3781.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_insecure : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3766.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_protocol : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3751.3" font-family="Arial" font-size="14.00">otel_exporter_zipkin_endpoint : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3736.3" font-family="Arial" font-size="14.00">otel_resource_attributes : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3721.3" font-family="Arial" font-size="14.00">otel_service_name : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3706.3" font-family="Arial" font-size="14.00">otel_traces_exporter : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3691.3" font-family="Arial" font-size="14.00">pagination_base_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3676.3" font-family="Arial" font-size="14.00">pagination_count_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3661.3" font-family="Arial" font-size="14.00">pagination_cursor_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3646.3" font-family="Arial" font-size="14.00">pagination_cursor_threshold : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3631.3" font-family="Arial" font-size="14.00">pagination_default_page_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3616.3" font-family="Arial" font-size="14.00">pagination_default_sort_field : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3601.3" font-family="Arial" font-size="14.00">pagination_default_sort_order : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3586.3" font-family="Arial" font-size="14.00">pagination_include_links : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3571.3" font-family="Arial" font-size="14.00">pagination_max_offset : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3556.3" font-family="Arial" font-size="14.00">pagination_max_page_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3541.3" font-family="Arial" font-size="14.00">pagination_min_page_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3526.3" font-family="Arial" font-size="14.00">passthrough_headers_source : Optional[Literal[&#39;env&#39;, &#39;db&#39;, &#39;merge&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-3511.3" font-family="Arial" font-size="14.00">password_change_enforcement_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3496.3" font-family="Arial" font-size="14.00">password_max_age_days : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3481.3" font-family="Arial" font-size="14.00">password_min_length : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-3466.3" font-family="Arial" font-size="14.00">password_policy_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3451.3" font-family="Arial" font-size="14.00">password_prevent_reuse : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3436.3" font-family="Arial" font-size="14.00">password_require_lowercase : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3421.3" font-family="Arial" font-size="14.00">password_require_numbers : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3406.3" font-family="Arial" font-size="14.00">password_require_special : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3391.3" font-family="Arial" font-size="14.00">password_require_uppercase : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3376.3" font-family="Arial" font-size="14.00">performance_degradation_multiplier : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3361.3" font-family="Arial" font-size="14.00">performance_threshold_database_query_ms : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3346.3" font-family="Arial" font-size="14.00">performance_threshold_http_request_ms : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3331.3" font-family="Arial" font-size="14.00">performance_threshold_resource_read_ms : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3316.3" font-family="Arial" font-size="14.00">performance_threshold_tool_invocation_ms : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3301.3" font-family="Arial" font-size="14.00">performance_tracking_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3286.3" font-family="Arial" font-size="14.00">permission_audit_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3271.3" font-family="Arial" font-size="14.00">personal_team_prefix : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3256.3" font-family="Arial" font-size="14.00">platform_admin_email : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3241.3" font-family="Arial" font-size="14.00">platform_admin_full_name : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3226.3" font-family="Arial" font-size="14.00">platform_admin_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-3211.3" font-family="Arial" font-size="14.00">plugin_config_file : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3196.3" font-family="Arial" font-size="14.00">plugins_cli_completion : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3181.3" font-family="Arial" font-size="14.00">plugins_cli_markup_mode : Literal[&#39;markdown&#39;, &#39;rich&#39;, &#39;disabled&#39;] | None</text>
<text text-anchor="start" x="50665.5" y="-3166.3" font-family="Arial" font-size="14.00">plugins_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3151.3" font-family="Arial" font-size="14.00">poll_interval : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-3136.3" font-family="Arial" font-size="14.00">port : Optional[PositiveInt]</text>
<text text-anchor="start" x="50665.5" y="-3121.3" font-family="Arial" font-size="14.00">prev_ed25519_private_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-3106.3" font-family="Arial" font-size="14.00">prev_ed25519_public_key : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3091.3" font-family="Arial" font-size="14.00">prompt_cache_size : int</text>
<text text-anchor="start" x="50665.5" y="-3076.3" font-family="Arial" font-size="14.00">prompt_render_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-3061.3" font-family="Arial" font-size="14.00">protect_all_admins : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3046.3" font-family="Arial" font-size="14.00">protocol_version : str</text>
<text text-anchor="start" x="50665.5" y="-3031.3" font-family="Arial" font-size="14.00">proxy_user_header : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-3016.3" font-family="Arial" font-size="14.00">public_registration_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-3001.3" font-family="Arial" font-size="14.00">redis_decode_responses : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2986.3" font-family="Arial" font-size="14.00">redis_health_check_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2971.3" font-family="Arial" font-size="14.00">redis_leader_heartbeat_interval : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2956.3" font-family="Arial" font-size="14.00">redis_leader_key : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2941.3" font-family="Arial" font-size="14.00">redis_leader_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2926.3" font-family="Arial" font-size="14.00">redis_max_backoff_seconds : int</text>
<text text-anchor="start" x="50665.5" y="-2911.3" font-family="Arial" font-size="14.00">redis_max_connections : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2896.3" font-family="Arial" font-size="14.00">redis_max_retries : int</text>
<text text-anchor="start" x="50665.5" y="-2881.3" font-family="Arial" font-size="14.00">redis_parser : Optional[Literal[&#39;auto&#39;, &#39;hiredis&#39;, &#39;python&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-2866.3" font-family="Arial" font-size="14.00">redis_retry_interval_ms : int</text>
<text text-anchor="start" x="50665.5" y="-2851.3" font-family="Arial" font-size="14.00">redis_retry_on_timeout : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2836.3" font-family="Arial" font-size="14.00">redis_socket_connect_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-2821.3" font-family="Arial" font-size="14.00">redis_socket_timeout : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-2806.3" font-family="Arial" font-size="14.00">redis_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2791.3" font-family="Arial" font-size="14.00">registry_cache_agents_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2776.3" font-family="Arial" font-size="14.00">registry_cache_catalog_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2761.3" font-family="Arial" font-size="14.00">registry_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2746.3" font-family="Arial" font-size="14.00">registry_cache_gateways_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2731.3" font-family="Arial" font-size="14.00">registry_cache_prompts_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2716.3" font-family="Arial" font-size="14.00">registry_cache_resources_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2701.3" font-family="Arial" font-size="14.00">registry_cache_servers_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2686.3" font-family="Arial" font-size="14.00">registry_cache_tools_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2671.3" font-family="Arial" font-size="14.00">reload : bool</text>
<text text-anchor="start" x="50665.5" y="-2656.3" font-family="Arial" font-size="14.00">remove_server_headers : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2641.3" font-family="Arial" font-size="14.00">require_email_verification_for_invites : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2626.3" font-family="Arial" font-size="14.00">require_jti : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2611.3" font-family="Arial" font-size="14.00">require_password_change_for_default_password : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2596.3" font-family="Arial" font-size="14.00">require_strong_secrets : bool</text>
<text text-anchor="start" x="50665.5" y="-2581.3" font-family="Arial" font-size="14.00">require_token_expiration : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2566.3" font-family="Arial" font-size="14.00">require_user_in_db : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2551.3" font-family="Arial" font-size="14.00">resource_cache_size : int</text>
<text text-anchor="start" x="50665.5" y="-2536.3" font-family="Arial" font-size="14.00">resource_cache_ttl : int</text>
<text text-anchor="start" x="50665.5" y="-2521.3" font-family="Arial" font-size="14.00">retry_base_delay : float</text>
<text text-anchor="start" x="50665.5" y="-2506.3" font-family="Arial" font-size="14.00">retry_jitter_max : float</text>
<text text-anchor="start" x="50665.5" y="-2491.3" font-family="Arial" font-size="14.00">retry_max_attempts : int</text>
<text text-anchor="start" x="50665.5" y="-2476.3" font-family="Arial" font-size="14.00">retry_max_delay : int</text>
<text text-anchor="start" x="50665.5" y="-2461.3" font-family="Arial" font-size="14.00">sanitize_output : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2446.3" font-family="Arial" font-size="14.00">secure_cookies : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2431.3" font-family="Arial" font-size="14.00">security_failed_auth_threshold : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2416.3" font-family="Arial" font-size="14.00">security_headers_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2401.3" font-family="Arial" font-size="14.00">security_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2386.3" font-family="Arial" font-size="14.00">security_logging_level : Optional[Literal[&#39;all&#39;, &#39;failures_only&#39;, &#39;high_severity&#39;]]</text>
<text text-anchor="start" x="50665.5" y="-2371.3" font-family="Arial" font-size="14.00">security_rate_limit_window_minutes : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2356.3" font-family="Arial" font-size="14.00">security_threat_score_alert : Optional[float]</text>
<text text-anchor="start" x="50665.5" y="-2341.3" font-family="Arial" font-size="14.00">session_ttl : int</text>
<text text-anchor="start" x="50665.5" y="-2326.3" font-family="Arial" font-size="14.00">skip_ssl_verify : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2311.3" font-family="Arial" font-size="14.00">slug_refresh_batch_size : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-2296.3" font-family="Arial" font-size="14.00">sse_keepalive_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-2281.3" font-family="Arial" font-size="14.00">sse_keepalive_interval : int</text>
<text text-anchor="start" x="50665.5" y="-2266.3" font-family="Arial" font-size="14.00">sse_rapid_yield_max : int</text>
<text text-anchor="start" x="50665.5" y="-2251.3" font-family="Arial" font-size="14.00">sse_rapid_yield_window_ms : int</text>
<text text-anchor="start" x="50665.5" y="-2236.3" font-family="Arial" font-size="14.00">sse_retry_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-2221.3" font-family="Arial" font-size="14.00">sse_send_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-2206.3" font-family="Arial" font-size="14.00">sse_task_group_cleanup_timeout : float</text>
<text text-anchor="start" x="50665.5" y="-2191.3" font-family="Arial" font-size="14.00">sso_auto_admin_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50665.5" y="-2176.3" font-family="Arial" font-size="14.00">sso_auto_create_users : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2161.3" font-family="Arial" font-size="14.00">sso_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2146.3" font-family="Arial" font-size="14.00">sso_entra_admin_groups : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50665.5" y="-2131.3" font-family="Arial" font-size="14.00">sso_entra_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2116.3" font-family="Arial" font-size="14.00">sso_entra_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-2101.3" font-family="Arial" font-size="14.00">sso_entra_default_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2086.3" font-family="Arial" font-size="14.00">sso_entra_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2071.3" font-family="Arial" font-size="14.00">sso_entra_groups_claim : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2056.3" font-family="Arial" font-size="14.00">sso_entra_role_mappings : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="50665.5" y="-2041.3" font-family="Arial" font-size="14.00">sso_entra_sync_roles_on_login : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-2026.3" font-family="Arial" font-size="14.00">sso_entra_tenant_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-2011.3" font-family="Arial" font-size="14.00">sso_generic_authorization_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1996.3" font-family="Arial" font-size="14.00">sso_generic_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1981.3" font-family="Arial" font-size="14.00">sso_generic_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1966.3" font-family="Arial" font-size="14.00">sso_generic_display_name : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1951.3" font-family="Arial" font-size="14.00">sso_generic_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1936.3" font-family="Arial" font-size="14.00">sso_generic_issuer : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1921.3" font-family="Arial" font-size="14.00">sso_generic_provider_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1906.3" font-family="Arial" font-size="14.00">sso_generic_scope : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1891.3" font-family="Arial" font-size="14.00">sso_generic_token_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1876.3" font-family="Arial" font-size="14.00">sso_generic_userinfo_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1861.3" font-family="Arial" font-size="14.00">sso_github_admin_orgs : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50665.5" y="-1846.3" font-family="Arial" font-size="14.00">sso_github_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1831.3" font-family="Arial" font-size="14.00">sso_github_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1816.3" font-family="Arial" font-size="14.00">sso_github_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1801.3" font-family="Arial" font-size="14.00">sso_google_admin_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50665.5" y="-1786.3" font-family="Arial" font-size="14.00">sso_google_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1771.3" font-family="Arial" font-size="14.00">sso_google_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1756.3" font-family="Arial" font-size="14.00">sso_google_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1741.3" font-family="Arial" font-size="14.00">sso_ibm_verify_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1726.3" font-family="Arial" font-size="14.00">sso_ibm_verify_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1711.3" font-family="Arial" font-size="14.00">sso_ibm_verify_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1696.3" font-family="Arial" font-size="14.00">sso_ibm_verify_issuer : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1681.3" font-family="Arial" font-size="14.00">sso_issuers : Optional[list[HttpUrl]]</text>
<text text-anchor="start" x="50665.5" y="-1666.3" font-family="Arial" font-size="14.00">sso_keycloak_base_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1651.3" font-family="Arial" font-size="14.00">sso_keycloak_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1636.3" font-family="Arial" font-size="14.00">sso_keycloak_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1621.3" font-family="Arial" font-size="14.00">sso_keycloak_default_role : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1606.3" font-family="Arial" font-size="14.00">sso_keycloak_email_claim : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1591.3" font-family="Arial" font-size="14.00">sso_keycloak_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1576.3" font-family="Arial" font-size="14.00">sso_keycloak_groups_claim : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1561.3" font-family="Arial" font-size="14.00">sso_keycloak_map_client_roles : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1546.3" font-family="Arial" font-size="14.00">sso_keycloak_map_realm_roles : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1531.3" font-family="Arial" font-size="14.00">sso_keycloak_public_base_url : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1516.3" font-family="Arial" font-size="14.00">sso_keycloak_realm : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1501.3" font-family="Arial" font-size="14.00">sso_keycloak_resolve_team_scope_to_personal_team : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1486.3" font-family="Arial" font-size="14.00">sso_keycloak_role_mappings : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="50665.5" y="-1471.3" font-family="Arial" font-size="14.00">sso_keycloak_username_claim : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1456.3" font-family="Arial" font-size="14.00">sso_okta_client_id : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1441.3" font-family="Arial" font-size="14.00">sso_okta_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50665.5" y="-1426.3" font-family="Arial" font-size="14.00">sso_okta_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1411.3" font-family="Arial" font-size="14.00">sso_okta_issuer : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1396.3" font-family="Arial" font-size="14.00">sso_preserve_admin_auth : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1381.3" font-family="Arial" font-size="14.00">sso_require_admin_approval : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1366.3" font-family="Arial" font-size="14.00">sso_trusted_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50665.5" y="-1351.3" font-family="Arial" font-size="14.00">ssrf_allow_localhost : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1336.3" font-family="Arial" font-size="14.00">ssrf_allow_private_networks : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1321.3" font-family="Arial" font-size="14.00">ssrf_blocked_hosts : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-1306.3" font-family="Arial" font-size="14.00">ssrf_blocked_networks : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-1291.3" font-family="Arial" font-size="14.00">ssrf_dns_fail_closed : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1276.3" font-family="Arial" font-size="14.00">ssrf_protection_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1261.3" font-family="Arial" font-size="14.00">static_dir : Optional[Path]</text>
<text text-anchor="start" x="50665.5" y="-1246.3" font-family="Arial" font-size="14.00">streamable_http_event_ttl : int</text>
<text text-anchor="start" x="50665.5" y="-1231.3" font-family="Arial" font-size="14.00">streamable_http_max_events_per_stream : int</text>
<text text-anchor="start" x="50665.5" y="-1216.3" font-family="Arial" font-size="14.00">structured_logging_database_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1201.3" font-family="Arial" font-size="14.00">structured_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1186.3" font-family="Arial" font-size="14.00">structured_logging_external_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1171.3" font-family="Arial" font-size="14.00">supports_http</text>
<text text-anchor="start" x="50665.5" y="-1156.3" font-family="Arial" font-size="14.00">supports_sse</text>
<text text-anchor="start" x="50665.5" y="-1141.3" font-family="Arial" font-size="14.00">supports_websocket</text>
<text text-anchor="start" x="50665.5" y="-1126.3" font-family="Arial" font-size="14.00">syslog_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1111.3" font-family="Arial" font-size="14.00">syslog_host : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-1096.3" font-family="Arial" font-size="14.00">syslog_port : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-1081.3" font-family="Arial" font-size="14.00">team_member_count_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1066.3" font-family="Arial" font-size="14.00">team_member_count_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-1051.3" font-family="Arial" font-size="14.00">templates_auto_reload : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-1036.3" font-family="Arial" font-size="14.00">templates_dir : Optional[Path]</text>
<text text-anchor="start" x="50665.5" y="-1021.3" font-family="Arial" font-size="14.00">token_expiry : int</text>
<text text-anchor="start" x="50665.5" y="-1006.3" font-family="Arial" font-size="14.00">tool_concurrent_limit : int</text>
<text text-anchor="start" x="50665.5" y="-991.3" font-family="Arial" font-size="14.00">tool_lookup_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-976.3" font-family="Arial" font-size="14.00">tool_lookup_cache_l1_maxsize : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-961.3" font-family="Arial" font-size="14.00">tool_lookup_cache_l2_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-946.3" font-family="Arial" font-size="14.00">tool_lookup_cache_negative_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-931.3" font-family="Arial" font-size="14.00">tool_lookup_cache_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-916.3" font-family="Arial" font-size="14.00">tool_rate_limit : int</text>
<text text-anchor="start" x="50665.5" y="-901.3" font-family="Arial" font-size="14.00">tool_timeout : int</text>
<text text-anchor="start" x="50665.5" y="-886.3" font-family="Arial" font-size="14.00">toolops_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-871.3" font-family="Arial" font-size="14.00">transport_type : str</text>
<text text-anchor="start" x="50665.5" y="-856.3" font-family="Arial" font-size="14.00">trust_proxy_auth : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-841.3" font-family="Arial" font-size="14.00">unhealthy_threshold : int</text>
<text text-anchor="start" x="50665.5" y="-826.3" font-family="Arial" font-size="14.00">use_postgresdb_percentiles : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-811.3" font-family="Arial" font-size="14.00">use_stateful_sessions : bool</text>
<text text-anchor="start" x="50665.5" y="-796.3" font-family="Arial" font-size="14.00">valid_slug_separator_regexp : ClassVar[str]</text>
<text text-anchor="start" x="50665.5" y="-781.3" font-family="Arial" font-size="14.00">validate_token_environment : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-766.3" font-family="Arial" font-size="14.00">validation_allowed_mime_types : List[str]</text>
<text text-anchor="start" x="50665.5" y="-751.3" font-family="Arial" font-size="14.00">validation_allowed_url_schemes : List[str]</text>
<text text-anchor="start" x="50665.5" y="-736.3" font-family="Arial" font-size="14.00">validation_dangerous_html_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-721.3" font-family="Arial" font-size="14.00">validation_dangerous_js_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-706.3" font-family="Arial" font-size="14.00">validation_identifier_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-691.3" font-family="Arial" font-size="14.00">validation_max_content_length : int</text>
<text text-anchor="start" x="50665.5" y="-676.3" font-family="Arial" font-size="14.00">validation_max_description_length : int</text>
<text text-anchor="start" x="50665.5" y="-661.3" font-family="Arial" font-size="14.00">validation_max_json_depth : Optional[int]</text>
<text text-anchor="start" x="50665.5" y="-646.3" font-family="Arial" font-size="14.00">validation_max_method_length : int</text>
<text text-anchor="start" x="50665.5" y="-631.3" font-family="Arial" font-size="14.00">validation_max_name_length : int</text>
<text text-anchor="start" x="50665.5" y="-616.3" font-family="Arial" font-size="14.00">validation_max_requests_per_minute : int</text>
<text text-anchor="start" x="50665.5" y="-601.3" font-family="Arial" font-size="14.00">validation_max_rpc_param_size : int</text>
<text text-anchor="start" x="50665.5" y="-586.3" font-family="Arial" font-size="14.00">validation_max_template_length : int</text>
<text text-anchor="start" x="50665.5" y="-571.3" font-family="Arial" font-size="14.00">validation_max_url_length : int</text>
<text text-anchor="start" x="50665.5" y="-556.3" font-family="Arial" font-size="14.00">validation_middleware_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-541.3" font-family="Arial" font-size="14.00">validation_name_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-526.3" font-family="Arial" font-size="14.00">validation_safe_uri_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-511.3" font-family="Arial" font-size="14.00">validation_strict : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-496.3" font-family="Arial" font-size="14.00">validation_tool_method_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-481.3" font-family="Arial" font-size="14.00">validation_tool_name_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-466.3" font-family="Arial" font-size="14.00">validation_unsafe_uri_pattern : str</text>
<text text-anchor="start" x="50665.5" y="-451.3" font-family="Arial" font-size="14.00">webhook_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-436.3" font-family="Arial" font-size="14.00">webhook_logging_urls : Optional[List[str]]</text>
<text text-anchor="start" x="50665.5" y="-421.3" font-family="Arial" font-size="14.00">websocket_ping_interval : int</text>
<text text-anchor="start" x="50665.5" y="-406.3" font-family="Arial" font-size="14.00">well_known_cache_max_age : int</text>
<text text-anchor="start" x="50665.5" y="-391.3" font-family="Arial" font-size="14.00">well_known_custom_files : str</text>
<text text-anchor="start" x="50665.5" y="-376.3" font-family="Arial" font-size="14.00">well_known_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-361.3" font-family="Arial" font-size="14.00">well_known_robots_txt : str</text>
<text text-anchor="start" x="50665.5" y="-346.3" font-family="Arial" font-size="14.00">well_known_security_txt : str</text>
<text text-anchor="start" x="50665.5" y="-331.3" font-family="Arial" font-size="14.00">well_known_security_txt_enabled : bool</text>
<text text-anchor="start" x="50665.5" y="-316.3" font-family="Arial" font-size="14.00">x_content_type_options_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-301.3" font-family="Arial" font-size="14.00">x_download_options_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-286.3" font-family="Arial" font-size="14.00">x_frame_options : Optional[str]</text>
<text text-anchor="start" x="50665.5" y="-271.3" font-family="Arial" font-size="14.00">x_xss_protection_enabled : Optional[bool]</text>
<text text-anchor="start" x="50665.5" y="-256.3" font-family="Arial" font-size="14.00">yield_batch_size : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="50657.5,-248.5 51160.5,-248.5 "/>
<text text-anchor="start" x="50687" y="-233.3" font-family="Arial" font-size="14.00">derive_public_keys(): &#39;Settings&#39;</text>
<text text-anchor="start" x="50687" y="-218.3" font-family="Arial" font-size="14.00">get_security_status(): SecurityStatus</text>
<text text-anchor="start" x="50687" y="-203.3" font-family="Arial" font-size="14.00">get_security_warnings(): List[str]</text>
<text text-anchor="start" x="50687" y="-188.3" font-family="Arial" font-size="14.00">log_summary(): None</text>
<text text-anchor="start" x="50687" y="-173.3" font-family="Arial" font-size="14.00">must_be_allowed_sep(v: str): str</text>
<text text-anchor="start" x="50687" y="-158.3" font-family="Arial" font-size="14.00">normalize_x_frame_options(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="50687" y="-143.3" font-family="Arial" font-size="14.00">parse_allowed_roots(v)</text>
<text text-anchor="start" x="50687" y="-128.3" font-family="Arial" font-size="14.00">parse_issuers(v: Any): list[str]</text>
<text text-anchor="start" x="50687" y="-113.3" font-family="Arial" font-size="14.00">validate_admin_password(v: str | SecretStr, info: ValidationInfo): SecretStr</text>
<text text-anchor="start" x="50687" y="-98.3" font-family="Arial" font-size="14.00">validate_cors_origins(v: Any, info: ValidationInfo): set[str] | None</text>
<text text-anchor="start" x="50687" y="-83.3" font-family="Arial" font-size="14.00">validate_database(): None</text>
<text text-anchor="start" x="50687" y="-68.3" font-family="Arial" font-size="14.00">validate_database_url(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="50687" y="-53.3" font-family="Arial" font-size="14.00">validate_log_level(v: str): str</text>
<text text-anchor="start" x="50687" y="-38.3" font-family="Arial" font-size="14.00">validate_secrets(v: Any, info: ValidationInfo): SecretStr</text>
<text text-anchor="start" x="50687" y="-23.3" font-family="Arial" font-size="14.00">validate_security_combinations(): Self</text>
<text text-anchor="start" x="50687" y="-8.3" font-family="Arial" font-size="14.00">validate_transport(): None</text>
</g>
<!-- mcpgateway.config.Settings&#45;&gt;mcpgateway.services.dcr_service.DcrService -->
<g id="edge156" class="edge">
<title>mcpgateway.config.Settings&#45;&gt;mcpgateway.services.dcr_service.DcrService</title>
<path fill="none" stroke="gray" d="M50706.94,-8214.75C50703.53,-8284.21 50700.75,-8340.56 50698.74,-8381.42"/>
<polygon fill="gray" stroke="gray" points="50698.73,-8381.62 50702.43,-8387.81 50698.14,-8393.6 50694.44,-8387.42 50698.73,-8381.62"/>
<text text-anchor="middle" x="50729.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">settings</text>
</g>
<!-- mcpgateway.config.Settings&#45;&gt;mcpgateway.services.oauth_manager.OAuthManager -->
<g id="edge157" class="edge">
<title>mcpgateway.config.Settings&#45;&gt;mcpgateway.services.oauth_manager.OAuthManager</title>
<path fill="none" stroke="gray" d="M51160.6,-8198.98C51163.39,-8204.33 51166.19,-8209.67 51169,-8215 51196.82,-8267.68 51241.65,-8312.56 51288.72,-8348.86"/>
<polygon fill="gray" stroke="gray" points="51288.91,-8349 51296.1,-8349.43 51298.47,-8356.24 51291.28,-8355.81 51288.91,-8349"/>
<text text-anchor="middle" x="51209.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">settings</text>
</g>
<!-- mcpgateway.wrapper.Settings -->
<g id="node532" class="node">
<title>mcpgateway.wrapper.Settings</title>
<polygon fill="white" stroke="#77aadd" points="159482.5,-4035.5 159482.5,-4179.5 159659.5,-4179.5 159659.5,-4035.5 159482.5,-4035.5"/>
<text text-anchor="start" x="159546.5" y="-4164.3" font-family="Arial" font-size="14.00">Settings</text>
<polyline fill="none" stroke="#77aadd" points="159482.5,-4156.5 159659.5,-4156.5 "/>
<text text-anchor="start" x="159490.5" y="-4141.3" font-family="Arial" font-size="14.00">auth_header : Optional[str]</text>
<text text-anchor="start" x="159490.5" y="-4126.3" font-family="Arial" font-size="14.00">concurrency : int</text>
<text text-anchor="start" x="159490.5" y="-4111.3" font-family="Arial" font-size="14.00">connect_timeout : float</text>
<text text-anchor="start" x="159490.5" y="-4096.3" font-family="Arial" font-size="14.00">log_level : Optional[str]</text>
<text text-anchor="start" x="159490.5" y="-4081.3" font-family="Arial" font-size="14.00">response_timeout : float</text>
<text text-anchor="start" x="159490.5" y="-4066.3" font-family="Arial" font-size="14.00">server_url : str</text>
<polyline fill="none" stroke="#77aadd" points="159482.5,-4058.5 159659.5,-4058.5 "/>
<text text-anchor="start" x="159569" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.http_client_service.SharedHttpClient -->
<g id="node533" class="node">
<title>mcpgateway.services.http_client_service.SharedHttpClient</title>
<polygon fill="white" stroke="#ffaabb" points="159678,-4050.5 159678,-4164.5 159896,-4164.5 159896,-4050.5 159678,-4050.5"/>
<text text-anchor="start" x="159735.5" y="-4149.3" font-family="Arial" font-size="14.00">SharedHttpClient</text>
<polyline fill="none" stroke="#ffaabb" points="159678,-4141.5 159896,-4141.5 "/>
<text text-anchor="start" x="159771" y="-4126.3" font-family="Arial" font-size="14.00">client</text>
<polyline fill="none" stroke="#ffaabb" points="159678,-4118.5 159896,-4118.5 "/>
<text text-anchor="start" x="159686" y="-4103.3" font-family="Arial" font-size="14.00">close(): None</text>
<text text-anchor="start" x="159686" y="-4088.3" font-family="Arial" font-size="14.00">get_instance(): &#39;SharedHttpClient&#39;</text>
<text text-anchor="start" x="159686" y="-4073.3" font-family="Arial" font-size="14.00">get_pool_stats(): dict[str, int]</text>
<text text-anchor="start" x="159686" y="-4058.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.observability.create_span.SpanWithAttributes -->
<g id="node534" class="node">
<title>mcpgateway.observability.create_span.SpanWithAttributes</title>
<polygon fill="white" stroke="#bbcc33" points="159914.5,-4058 159914.5,-4157 160053.5,-4157 160053.5,-4058 159914.5,-4058"/>
<text text-anchor="start" x="159925.5" y="-4141.8" font-family="Arial" font-size="14.00">SpanWithAttributes</text>
<polyline fill="none" stroke="#bbcc33" points="159914.5,-4134 160053.5,-4134 "/>
<text text-anchor="start" x="159922.5" y="-4118.8" font-family="Arial" font-size="14.00">attrs : Dict[str, Any]</text>
<text text-anchor="start" x="159922.5" y="-4103.8" font-family="Arial" font-size="14.00">span : Optional[Any]</text>
<text text-anchor="start" x="159922.5" y="-4088.8" font-family="Arial" font-size="14.00">span_context : Any</text>
<polyline fill="none" stroke="#bbcc33" points="159914.5,-4081 160053.5,-4081 "/>
<text text-anchor="start" x="159982" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.StatusToggleRequest -->
<g id="node535" class="node">
<title>mcpgateway.schemas.StatusToggleRequest</title>
<polygon fill="white" stroke="#77aadd" points="160072,-4073 160072,-4142 160230,-4142 160230,-4073 160072,-4073"/>
<text text-anchor="start" x="160086.5" y="-4126.8" font-family="Arial" font-size="14.00">StatusToggleRequest</text>
<polyline fill="none" stroke="#77aadd" points="160072,-4119 160230,-4119 "/>
<text text-anchor="start" x="160080" y="-4103.8" font-family="Arial" font-size="14.00">activate : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="160072,-4096 160230,-4096 "/>
<text text-anchor="start" x="160149" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.StatusToggleResponse -->
<g id="node536" class="node">
<title>mcpgateway.schemas.StatusToggleResponse</title>
<polygon fill="white" stroke="#77aadd" points="160248.5,-4050.5 160248.5,-4164.5 160405.5,-4164.5 160405.5,-4050.5 160248.5,-4050.5"/>
<text text-anchor="start" x="160257.5" y="-4149.3" font-family="Arial" font-size="14.00">StatusToggleResponse</text>
<polyline fill="none" stroke="#77aadd" points="160248.5,-4141.5 160405.5,-4141.5 "/>
<text text-anchor="start" x="160256.5" y="-4126.3" font-family="Arial" font-size="14.00">id : int</text>
<text text-anchor="start" x="160256.5" y="-4111.3" font-family="Arial" font-size="14.00">is_active : bool</text>
<text text-anchor="start" x="160256.5" y="-4096.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="160256.5" y="-4081.3" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#77aadd" points="160248.5,-4073.5 160405.5,-4073.5 "/>
<text text-anchor="start" x="160325" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate.StdIOEndpoint -->
<g id="node537" class="node">
<title>mcpgateway.translate.StdIOEndpoint</title>
<polygon fill="white" stroke="#77aadd" points="160423.5,-4049.6 160423.5,-4165.4 160768.5,-4165.4 160768.5,-4049.6 160423.5,-4049.6"/>
<text text-anchor="start" x="160551.5" y="-4150.2" font-family="Arial" font-size="14.00">StdIOEndpoint</text>
<polyline fill="none" stroke="#77aadd" points="160423.5,-4142.4 160768.5,-4142.4 "/>
<polyline fill="none" stroke="#77aadd" points="160423.5,-4117.6 160768.5,-4117.6 "/>
<text text-anchor="start" x="160431.5" y="-4102.4" font-family="Arial" font-size="14.00">is_running(): bool</text>
<text text-anchor="start" x="160431.5" y="-4087.4" font-family="Arial" font-size="14.00">send(raw: str): None</text>
<text text-anchor="start" x="160431.5" y="-4072.4" font-family="Arial" font-size="14.00">start(additional_env_vars: Optional[Dict[str, str]]): None</text>
<text text-anchor="start" x="160431.5" y="-4057.4" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.reverse_proxy.StdioProcess -->
<g id="node538" class="node">
<title>mcpgateway.reverse_proxy.StdioProcess</title>
<polygon fill="white" stroke="#77aadd" points="143201.5,-4043 143201.5,-4172 143506.5,-4172 143506.5,-4043 143201.5,-4043"/>
<text text-anchor="start" x="143314" y="-4156.8" font-family="Arial" font-size="14.00">StdioProcess</text>
<polyline fill="none" stroke="#77aadd" points="143201.5,-4149 143506.5,-4149 "/>
<text text-anchor="start" x="143209.5" y="-4133.8" font-family="Arial" font-size="14.00">command : str</text>
<text text-anchor="start" x="143209.5" y="-4118.8" font-family="Arial" font-size="14.00">process : Optional[asyncio.subprocess.Process]</text>
<polyline fill="none" stroke="#77aadd" points="143201.5,-4111 143506.5,-4111 "/>
<text text-anchor="start" x="143238" y="-4095.8" font-family="Arial" font-size="14.00">add_message_handler(handler): None</text>
<text text-anchor="start" x="143238" y="-4080.8" font-family="Arial" font-size="14.00">send(message: str): None</text>
<text text-anchor="start" x="143238" y="-4065.8" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="143238" y="-4050.8" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.reverse_proxy.StdioProcess&#45;&gt;mcpgateway.reverse_proxy.ReverseProxyClient -->
<g id="edge168" class="edge">
<title>mcpgateway.reverse_proxy.StdioProcess&#45;&gt;mcpgateway.reverse_proxy.ReverseProxyClient</title>
<path fill="none" stroke="gray" d="M143354,-4172.08C143354,-4645.55 143354,-7622.51 143354,-8314.1"/>
<polygon fill="gray" stroke="gray" points="143354,-8314.34 143358,-8320.34 143354,-8326.34 143350,-8320.34 143354,-8314.34"/>
<text text-anchor="middle" x="143396" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">stdio_process</text>
</g>
<!-- mcpgateway.transports.stdio_transport.StdioTransport -->
<g id="node539" class="node">
<title>mcpgateway.transports.stdio_transport.StdioTransport</title>
<polygon fill="white" stroke="#77aadd" points="148303.5,-4042.1 148303.5,-4172.9 148662.5,-4172.9 148662.5,-4042.1 148303.5,-4042.1"/>
<text text-anchor="start" x="148438.5" y="-4157.7" font-family="Arial" font-size="14.00">StdioTransport</text>
<polyline fill="none" stroke="#77aadd" points="148303.5,-4149.9 148662.5,-4149.9 "/>
<polyline fill="none" stroke="#77aadd" points="148303.5,-4125.1 148662.5,-4125.1 "/>
<text text-anchor="start" x="148311.5" y="-4109.9" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="148311.5" y="-4094.9" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="148311.5" y="-4079.9" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="148311.5" y="-4064.9" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="148311.5" y="-4049.9" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.stdio_transport.StdioTransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge137" class="edge">
<title>mcpgateway.transports.stdio_transport.StdioTransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M148483,-4172.93C148483,-4668.01 148483,-7863.03 148483,-8385.34"/>
<polygon fill="none" stroke="gray" points="148479.5,-8385.38 148483,-8395.38 148486.5,-8385.38 148479.5,-8385.38"/>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.StreamBuffer -->
<g id="node541" class="node">
<title>mcpgateway.transports.streamablehttp_transport.StreamBuffer</title>
<polygon fill="white" stroke="#77aadd" points="160787,-4050.5 160787,-4164.5 160989,-4164.5 160989,-4050.5 160787,-4050.5"/>
<text text-anchor="start" x="160847.5" y="-4149.3" font-family="Arial" font-size="14.00">StreamBuffer</text>
<polyline fill="none" stroke="#77aadd" points="160787,-4141.5 160989,-4141.5 "/>
<text text-anchor="start" x="160795" y="-4126.3" font-family="Arial" font-size="14.00">count : int</text>
<text text-anchor="start" x="160795" y="-4111.3" font-family="Arial" font-size="14.00">entries : list[EventEntry | None]</text>
<text text-anchor="start" x="160795" y="-4096.3" font-family="Arial" font-size="14.00">next_seq : int</text>
<text text-anchor="start" x="160795" y="-4081.3" font-family="Arial" font-size="14.00">start_seq : int</text>
<polyline fill="none" stroke="#77aadd" points="160787,-4073.5 160989,-4073.5 "/>
<text text-anchor="start" x="160886" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.StructuredLogEntry -->
<g id="node542" class="node">
<title>mcpgateway.db.StructuredLogEntry</title>
<polygon fill="white" stroke="#77aadd" points="14943.5,-3863 14943.5,-4352 15290.5,-4352 15290.5,-3863 14943.5,-3863"/>
<text text-anchor="start" x="15058.5" y="-4336.8" font-family="Arial" font-size="14.00">StructuredLogEntry</text>
<polyline fill="none" stroke="#77aadd" points="14943.5,-4329 15290.5,-4329 "/>
<text text-anchor="start" x="14951.5" y="-4313.8" font-family="Arial" font-size="14.00">client_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4298.8" font-family="Arial" font-size="14.00">component : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4283.8" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-4268.8" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4253.8" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14951.5" y="-4238.8" font-family="Arial" font-size="14.00">environment : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4223.8" font-family="Arial" font-size="14.00">error_details : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-4208.8" font-family="Arial" font-size="14.00">hostname : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4193.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4178.8" font-family="Arial" font-size="14.00">is_security_event : Mapped[bool]</text>
<text text-anchor="start" x="14951.5" y="-4163.8" font-family="Arial" font-size="14.00">level : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4148.8" font-family="Arial" font-size="14.00">logger : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4133.8" font-family="Arial" font-size="14.00">message : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4118.8" font-family="Arial" font-size="14.00">operation_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4103.8" font-family="Arial" font-size="14.00">performance_metrics : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-4088.8" font-family="Arial" font-size="14.00">process_id : Mapped[int]</text>
<text text-anchor="start" x="14951.5" y="-4073.8" font-family="Arial" font-size="14.00">request_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4058.8" font-family="Arial" font-size="14.00">request_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4043.8" font-family="Arial" font-size="14.00">request_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4028.8" font-family="Arial" font-size="14.00">security_severity : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4013.8" font-family="Arial" font-size="14.00">span_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3998.8" font-family="Arial" font-size="14.00">thread_id : Mapped[Optional[int]]</text>
<text text-anchor="start" x="14951.5" y="-3983.8" font-family="Arial" font-size="14.00">threat_indicators : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-3968.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="14951.5" y="-3953.8" font-family="Arial" font-size="14.00">trace_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3938.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3923.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3908.8" font-family="Arial" font-size="14.00">user_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3893.8" font-family="Arial" font-size="14.00">version : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14943.5,-3886 15290.5,-3886 "/>
<text text-anchor="start" x="15115" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.StructuredLogEntry&#45;&gt;mcpgateway.db.Base -->
<g id="edge57" class="edge">
<title>mcpgateway.db.StructuredLogEntry&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15145.74,-4352.31C15233.95,-5149.94 15464.01,-7662.2 14934,-8215 14731.65,-8426.05 10028.52,-8454.21 9346.23,-8457.19"/>
<polygon fill="none" stroke="gray" points="9345.98,-8453.69 9336,-8457.23 9346.02,-8460.69 9345.98,-8453.69"/>
</g>
<!-- mcpgateway.schemas.SuccessResponse -->
<g id="node544" class="node">
<title>mcpgateway.schemas.SuccessResponse</title>
<polygon fill="white" stroke="#77aadd" points="161007.5,-4065.5 161007.5,-4149.5 161168.5,-4149.5 161168.5,-4065.5 161007.5,-4065.5"/>
<text text-anchor="start" x="161032" y="-4134.3" font-family="Arial" font-size="14.00">SuccessResponse</text>
<polyline fill="none" stroke="#77aadd" points="161007.5,-4126.5 161168.5,-4126.5 "/>
<text text-anchor="start" x="161015.5" y="-4111.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="161015.5" y="-4096.3" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="161007.5,-4088.5 161168.5,-4088.5 "/>
<text text-anchor="start" x="161086" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.support_bundle_service.SupportBundleConfig -->
<g id="node545" class="node">
<title>mcpgateway.services.support_bundle_service.SupportBundleConfig</title>
<polygon fill="white" stroke="#ffaabb" points="161186.5,-4035.5 161186.5,-4179.5 161421.5,-4179.5 161421.5,-4035.5 161186.5,-4035.5"/>
<text text-anchor="start" x="161239.5" y="-4164.3" font-family="Arial" font-size="14.00">SupportBundleConfig</text>
<polyline fill="none" stroke="#ffaabb" points="161186.5,-4156.5 161421.5,-4156.5 "/>
<text text-anchor="start" x="161194.5" y="-4141.3" font-family="Arial" font-size="14.00">include_env : Optional[bool]</text>
<text text-anchor="start" x="161194.5" y="-4126.3" font-family="Arial" font-size="14.00">include_logs : Optional[bool]</text>
<text text-anchor="start" x="161194.5" y="-4111.3" font-family="Arial" font-size="14.00">include_system_info : Optional[bool]</text>
<text text-anchor="start" x="161194.5" y="-4096.3" font-family="Arial" font-size="14.00">log_tail_lines : Optional[int]</text>
<text text-anchor="start" x="161194.5" y="-4081.3" font-family="Arial" font-size="14.00">max_log_size_mb : Optional[float]</text>
<text text-anchor="start" x="161194.5" y="-4066.3" font-family="Arial" font-size="14.00">output_dir : Optional[Path]</text>
<polyline fill="none" stroke="#ffaabb" points="161186.5,-4058.5 161421.5,-4058.5 "/>
<text text-anchor="start" x="161302" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.support_bundle_service.SupportBundleService -->
<g id="node546" class="node">
<title>mcpgateway.services.support_bundle_service.SupportBundleService</title>
<polygon fill="white" stroke="#ffaabb" points="161440,-4058 161440,-4157 161832,-4157 161832,-4058 161440,-4058"/>
<text text-anchor="start" x="161568.5" y="-4141.8" font-family="Arial" font-size="14.00">SupportBundleService</text>
<polyline fill="none" stroke="#ffaabb" points="161440,-4134 161832,-4134 "/>
<text text-anchor="start" x="161547.5" y="-4118.8" font-family="Arial" font-size="14.00">SENSITIVE_PATTERNS : list</text>
<text text-anchor="start" x="161547.5" y="-4103.8" font-family="Arial" font-size="14.00">hostname</text>
<text text-anchor="start" x="161547.5" y="-4088.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="161440,-4081 161832,-4081 "/>
<text text-anchor="start" x="161448" y="-4065.8" font-family="Arial" font-size="14.00">generate_bundle(config: Optional[SupportBundleConfig]): Path</text>
</g>
<!-- mcpgateway.schemas.SystemMetricsSchema -->
<g id="node547" class="node">
<title>mcpgateway.schemas.SystemMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="161849.5,-3938 161849.5,-4277 162088.5,-4277 162088.5,-3938 161849.5,-3938"/>
<text text-anchor="start" x="161898.5" y="-4261.8" font-family="Arial" font-size="14.00">SystemMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="161849.5,-4254 162088.5,-4254 "/>
<text text-anchor="start" x="161857.5" y="-4238.8" font-family="Arial" font-size="14.00">boot_time : Optional[datetime]</text>
<text text-anchor="start" x="161857.5" y="-4223.8" font-family="Arial" font-size="14.00">cpu_count : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-4208.8" font-family="Arial" font-size="14.00">cpu_freq_mhz : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4193.8" font-family="Arial" font-size="14.00">cpu_percent : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4178.8" font-family="Arial" font-size="14.00">disk_percent : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4163.8" font-family="Arial" font-size="14.00">disk_total_gb : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4148.8" font-family="Arial" font-size="14.00">disk_used_gb : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4133.8" font-family="Arial" font-size="14.00">load_avg_15m : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4118.8" font-family="Arial" font-size="14.00">load_avg_1m : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4103.8" font-family="Arial" font-size="14.00">load_avg_5m : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4088.8" font-family="Arial" font-size="14.00">memory_available_mb : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-4073.8" font-family="Arial" font-size="14.00">memory_percent : Optional[float]</text>
<text text-anchor="start" x="161857.5" y="-4058.8" font-family="Arial" font-size="14.00">memory_total_mb : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-4043.8" font-family="Arial" font-size="14.00">memory_used_mb : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-4028.8" font-family="Arial" font-size="14.00">network_bytes_recv : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-4013.8" font-family="Arial" font-size="14.00">network_bytes_sent : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-3998.8" font-family="Arial" font-size="14.00">network_connections : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-3983.8" font-family="Arial" font-size="14.00">swap_total_mb : Optional[int]</text>
<text text-anchor="start" x="161857.5" y="-3968.8" font-family="Arial" font-size="14.00">swap_used_mb : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="161849.5,-3961 162088.5,-3961 "/>
<text text-anchor="start" x="161967" y="-3945.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.system_stats_service.SystemStatsService -->
<g id="node548" class="node">
<title>mcpgateway.services.system_stats_service.SystemStatsService</title>
<polygon fill="white" stroke="#ffaabb" points="162107,-4064.6 162107,-4150.4 162491,-4150.4 162491,-4064.6 162107,-4064.6"/>
<text text-anchor="start" x="162238" y="-4135.2" font-family="Arial" font-size="14.00">SystemStatsService</text>
<polyline fill="none" stroke="#ffaabb" points="162107,-4127.4 162491,-4127.4 "/>
<polyline fill="none" stroke="#ffaabb" points="162107,-4102.6 162491,-4102.6 "/>
<text text-anchor="start" x="162115" y="-4087.4" font-family="Arial" font-size="14.00">get_comprehensive_stats(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="162115" y="-4072.4" font-family="Arial" font-size="14.00">get_comprehensive_stats_cached(db: Session): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.TagInfo -->
<g id="node549" class="node">
<title>mcpgateway.schemas.TagInfo</title>
<polygon fill="white" stroke="#77aadd" points="162509,-4058 162509,-4157 162745,-4157 162745,-4058 162509,-4058"/>
<text text-anchor="start" x="162604.5" y="-4141.8" font-family="Arial" font-size="14.00">TagInfo</text>
<polyline fill="none" stroke="#77aadd" points="162509,-4134 162745,-4134 "/>
<text text-anchor="start" x="162517" y="-4118.8" font-family="Arial" font-size="14.00">entities : Optional[List[TaggedEntity]]</text>
<text text-anchor="start" x="162517" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="162517" y="-4088.8" font-family="Arial" font-size="14.00">stats : Optional[TagStats]</text>
<polyline fill="none" stroke="#77aadd" points="162509,-4081 162745,-4081 "/>
<text text-anchor="start" x="162625" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.tag_service.TagService -->
<g id="node550" class="node">
<title>mcpgateway.services.tag_service.TagService</title>
<polygon fill="white" stroke="#ffaabb" points="162763,-4057.1 162763,-4157.9 163369,-4157.9 163369,-4057.1 162763,-4057.1"/>
<text text-anchor="start" x="163032.5" y="-4142.7" font-family="Arial" font-size="14.00">TagService</text>
<polyline fill="none" stroke="#ffaabb" points="162763,-4134.9 163369,-4134.9 "/>
<polyline fill="none" stroke="#ffaabb" points="162763,-4110.1 163369,-4110.1 "/>
<text text-anchor="start" x="162771" y="-4094.9" font-family="Arial" font-size="14.00">get_all_tags(db: Session, entity_types: Optional[List[str]], include_entities: bool): List[TagInfo]</text>
<text text-anchor="start" x="162771" y="-4079.9" font-family="Arial" font-size="14.00">get_entities_by_tag(db: Session, tag_name: str, entity_types: Optional[List[str]]): List[TaggedEntity]</text>
<text text-anchor="start" x="162771" y="-4064.9" font-family="Arial" font-size="14.00">get_tag_counts(db: Session): Dict[str, int]</text>
</g>
<!-- mcpgateway.schemas.TagStats -->
<g id="node551" class="node">
<title>mcpgateway.schemas.TagStats</title>
<polygon fill="white" stroke="#77aadd" points="163387,-4035.5 163387,-4179.5 163547,-4179.5 163547,-4035.5 163387,-4035.5"/>
<text text-anchor="start" x="163440.5" y="-4164.3" font-family="Arial" font-size="14.00">TagStats</text>
<polyline fill="none" stroke="#77aadd" points="163387,-4156.5 163547,-4156.5 "/>
<text text-anchor="start" x="163395" y="-4141.3" font-family="Arial" font-size="14.00">gateways : Optional[int]</text>
<text text-anchor="start" x="163395" y="-4126.3" font-family="Arial" font-size="14.00">prompts : Optional[int]</text>
<text text-anchor="start" x="163395" y="-4111.3" font-family="Arial" font-size="14.00">resources : Optional[int]</text>
<text text-anchor="start" x="163395" y="-4096.3" font-family="Arial" font-size="14.00">servers : Optional[int]</text>
<text text-anchor="start" x="163395" y="-4081.3" font-family="Arial" font-size="14.00">tools : Optional[int]</text>
<text text-anchor="start" x="163395" y="-4066.3" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="163387,-4058.5 163547,-4058.5 "/>
<text text-anchor="start" x="163465" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.validation.tags.TagValidator -->
<g id="node552" class="node">
<title>mcpgateway.validation.tags.TagValidator</title>
<polygon fill="white" stroke="#99ddff" points="163565.5,-4035.5 163565.5,-4179.5 163900.5,-4179.5 163900.5,-4035.5 163565.5,-4035.5"/>
<text text-anchor="start" x="163695.5" y="-4164.3" font-family="Arial" font-size="14.00">TagValidator</text>
<polyline fill="none" stroke="#99ddff" points="163565.5,-4156.5 163900.5,-4156.5 "/>
<text text-anchor="start" x="163651.5" y="-4141.3" font-family="Arial" font-size="14.00">ALLOWED_PATTERN : str</text>
<text text-anchor="start" x="163651.5" y="-4126.3" font-family="Arial" font-size="14.00">MAX_LENGTH : int</text>
<text text-anchor="start" x="163651.5" y="-4111.3" font-family="Arial" font-size="14.00">MIN_LENGTH : int</text>
<polyline fill="none" stroke="#99ddff" points="163565.5,-4103.5 163900.5,-4103.5 "/>
<text text-anchor="start" x="163573.5" y="-4088.3" font-family="Arial" font-size="14.00">get_validation_errors(tags: List[str]): List[str]</text>
<text text-anchor="start" x="163573.5" y="-4073.3" font-family="Arial" font-size="14.00">normalize(tag: str): str</text>
<text text-anchor="start" x="163573.5" y="-4058.3" font-family="Arial" font-size="14.00">validate(tag: str): bool</text>
<text text-anchor="start" x="163573.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_list(tags: Optional[List[str]]): List[Dict[str, str]]</text>
</g>
<!-- mcpgateway.schemas.TaggedEntity -->
<g id="node553" class="node">
<title>mcpgateway.schemas.TaggedEntity</title>
<polygon fill="white" stroke="#77aadd" points="163918.5,-4050.5 163918.5,-4164.5 164085.5,-4164.5 164085.5,-4050.5 163918.5,-4050.5"/>
<text text-anchor="start" x="163962.5" y="-4149.3" font-family="Arial" font-size="14.00">TaggedEntity</text>
<polyline fill="none" stroke="#77aadd" points="163918.5,-4141.5 164085.5,-4141.5 "/>
<text text-anchor="start" x="163926.5" y="-4126.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="163926.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="163926.5" y="-4096.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="163926.5" y="-4081.3" font-family="Arial" font-size="14.00">type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="163918.5,-4073.5 164085.5,-4073.5 "/>
<text text-anchor="start" x="164000" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamCreateRequest -->
<g id="node554" class="node">
<title>mcpgateway.schemas.TeamCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="164104,-4028 164104,-4187 164418,-4187 164418,-4028 164104,-4028"/>
<text text-anchor="start" x="164198.5" y="-4171.8" font-family="Arial" font-size="14.00">TeamCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="164104,-4164 164418,-4164 "/>
<text text-anchor="start" x="164133" y="-4148.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="164133" y="-4133.8" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="164133" y="-4118.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="164133" y="-4103.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="164133" y="-4088.8" font-family="Arial" font-size="14.00">visibility : Optional[Literal[&#39;private&#39;, &#39;public&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="164104,-4081 164418,-4081 "/>
<text text-anchor="start" x="164112" y="-4065.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="164112" y="-4050.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="164112" y="-4035.8" font-family="Arial" font-size="14.00">validate_slug(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.schemas.TeamDiscoveryResponse -->
<g id="node555" class="node">
<title>mcpgateway.schemas.TeamDiscoveryResponse</title>
<polygon fill="white" stroke="#77aadd" points="164436.5,-4035.5 164436.5,-4179.5 164639.5,-4179.5 164639.5,-4035.5 164436.5,-4035.5"/>
<text text-anchor="start" x="164461" y="-4164.3" font-family="Arial" font-size="14.00">TeamDiscoveryResponse</text>
<polyline fill="none" stroke="#77aadd" points="164436.5,-4156.5 164639.5,-4156.5 "/>
<text text-anchor="start" x="164444.5" y="-4141.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="164444.5" y="-4126.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="164444.5" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="164444.5" y="-4096.3" font-family="Arial" font-size="14.00">is_joinable : Optional[bool]</text>
<text text-anchor="start" x="164444.5" y="-4081.3" font-family="Arial" font-size="14.00">member_count : Optional[int]</text>
<text text-anchor="start" x="164444.5" y="-4066.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="164436.5,-4058.5 164639.5,-4058.5 "/>
<text text-anchor="start" x="164536" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamInvitationResponse -->
<g id="node556" class="node">
<title>mcpgateway.schemas.TeamInvitationResponse</title>
<polygon fill="white" stroke="#77aadd" points="164657.5,-3998 164657.5,-4217 164858.5,-4217 164858.5,-3998 164657.5,-3998"/>
<text text-anchor="start" x="164683.5" y="-4201.8" font-family="Arial" font-size="14.00">TeamInvitationResponse</text>
<polyline fill="none" stroke="#77aadd" points="164657.5,-4194 164858.5,-4194 "/>
<text text-anchor="start" x="164665.5" y="-4178.8" font-family="Arial" font-size="14.00">email : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4163.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="164665.5" y="-4148.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4133.8" font-family="Arial" font-size="14.00">invited_at : Optional[datetime]</text>
<text text-anchor="start" x="164665.5" y="-4118.8" font-family="Arial" font-size="14.00">invited_by : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4103.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="164665.5" y="-4088.8" font-family="Arial" font-size="14.00">is_expired : Optional[bool]</text>
<text text-anchor="start" x="164665.5" y="-4073.8" font-family="Arial" font-size="14.00">role : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4058.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4043.8" font-family="Arial" font-size="14.00">team_name : Optional[str]</text>
<text text-anchor="start" x="164665.5" y="-4028.8" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="164657.5,-4021 164858.5,-4021 "/>
<text text-anchor="start" x="164756" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_invitation_service.TeamInvitationService -->
<g id="node557" class="node">
<title>mcpgateway.services.team_invitation_service.TeamInvitationService</title>
<polygon fill="white" stroke="#ffaabb" points="164877,-4020.5 164877,-4194.5 165623,-4194.5 165623,-4020.5 164877,-4020.5"/>
<text text-anchor="start" x="165183.5" y="-4179.3" font-family="Arial" font-size="14.00">TeamInvitationService</text>
<polyline fill="none" stroke="#ffaabb" points="164877,-4171.5 165623,-4171.5 "/>
<text text-anchor="start" x="165242" y="-4156.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="164877,-4148.5 165623,-4148.5 "/>
<text text-anchor="start" x="164885" y="-4133.3" font-family="Arial" font-size="14.00">accept_invitation(token: str, accepting_user_email: Optional[str]): EmailTeamMember</text>
<text text-anchor="start" x="164885" y="-4118.3" font-family="Arial" font-size="14.00">cleanup_expired_invitations(): int</text>
<text text-anchor="start" x="164885" y="-4103.3" font-family="Arial" font-size="14.00">create_invitation(team_id: str, email: str, role: str, invited_by: str, expiry_days: Optional[int]): Optional[EmailTeamInvitation]</text>
<text text-anchor="start" x="164885" y="-4088.3" font-family="Arial" font-size="14.00">decline_invitation(token: str, declining_user_email: Optional[str]): bool</text>
<text text-anchor="start" x="164885" y="-4073.3" font-family="Arial" font-size="14.00">get_invitation_by_token(token: str): Optional[EmailTeamInvitation]</text>
<text text-anchor="start" x="164885" y="-4058.3" font-family="Arial" font-size="14.00">get_team_invitations(team_id: str, active_only: bool): List[EmailTeamInvitation]</text>
<text text-anchor="start" x="164885" y="-4043.3" font-family="Arial" font-size="14.00">get_user_invitations(email: str, active_only: bool): List[EmailTeamInvitation]</text>
<text text-anchor="start" x="164885" y="-4028.3" font-family="Arial" font-size="14.00">revoke_invitation(invitation_id: str, revoked_by: str): bool</text>
</g>
<!-- mcpgateway.schemas.TeamInviteRequest -->
<g id="node558" class="node">
<title>mcpgateway.schemas.TeamInviteRequest</title>
<polygon fill="white" stroke="#77aadd" points="165641,-4065.5 165641,-4149.5 165901,-4149.5 165901,-4065.5 165641,-4065.5"/>
<text text-anchor="start" x="165712.5" y="-4134.3" font-family="Arial" font-size="14.00">TeamInviteRequest</text>
<polyline fill="none" stroke="#77aadd" points="165641,-4126.5 165901,-4126.5 "/>
<text text-anchor="start" x="165649" y="-4111.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="165649" y="-4096.3" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;owner&#39;, &#39;member&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="165641,-4088.5 165901,-4088.5 "/>
<text text-anchor="start" x="165769" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamJoinRequest -->
<g id="node559" class="node">
<title>mcpgateway.schemas.TeamJoinRequest</title>
<polygon fill="white" stroke="#77aadd" points="165919.5,-4073 165919.5,-4142 166076.5,-4142 166076.5,-4073 165919.5,-4073"/>
<text text-anchor="start" x="165943.5" y="-4126.8" font-family="Arial" font-size="14.00">TeamJoinRequest</text>
<polyline fill="none" stroke="#77aadd" points="165919.5,-4119 166076.5,-4119 "/>
<text text-anchor="start" x="165927.5" y="-4103.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="165919.5,-4096 166076.5,-4096 "/>
<text text-anchor="start" x="165996" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamJoinRequestResponse -->
<g id="node560" class="node">
<title>mcpgateway.schemas.TeamJoinRequestResponse</title>
<polygon fill="white" stroke="#77aadd" points="166095,-4020.5 166095,-4194.5 166313,-4194.5 166313,-4020.5 166095,-4020.5"/>
<text text-anchor="start" x="166119" y="-4179.3" font-family="Arial" font-size="14.00">TeamJoinRequestResponse</text>
<polyline fill="none" stroke="#77aadd" points="166095,-4171.5 166313,-4171.5 "/>
<text text-anchor="start" x="166103" y="-4156.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="166103" y="-4141.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="166103" y="-4126.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="166103" y="-4111.3" font-family="Arial" font-size="14.00">requested_at : Optional[datetime]</text>
<text text-anchor="start" x="166103" y="-4096.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="166103" y="-4081.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="166103" y="-4066.3" font-family="Arial" font-size="14.00">team_name : Optional[str]</text>
<text text-anchor="start" x="166103" y="-4051.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="166095,-4043.5 166313,-4043.5 "/>
<text text-anchor="start" x="166202" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamListResponse -->
<g id="node561" class="node">
<title>mcpgateway.schemas.TeamListResponse</title>
<polygon fill="white" stroke="#77aadd" points="166331.5,-4065.5 166331.5,-4149.5 166578.5,-4149.5 166578.5,-4065.5 166331.5,-4065.5"/>
<text text-anchor="start" x="166397" y="-4134.3" font-family="Arial" font-size="14.00">TeamListResponse</text>
<polyline fill="none" stroke="#77aadd" points="166331.5,-4126.5 166578.5,-4126.5 "/>
<text text-anchor="start" x="166339.5" y="-4111.3" font-family="Arial" font-size="14.00">teams : Optional[List[TeamResponse]]</text>
<text text-anchor="start" x="166339.5" y="-4096.3" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="166331.5,-4088.5 166578.5,-4088.5 "/>
<text text-anchor="start" x="166453" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamManagementService -->
<g id="node563" class="node">
<title>mcpgateway.services.team_management_service.TeamManagementService</title>
<polygon fill="white" stroke="#ffaabb" points="166596.5,-3855.5 166596.5,-4359.5 168231.5,-4359.5 168231.5,-3855.5 166596.5,-3855.5"/>
<text text-anchor="start" x="167334" y="-4344.3" font-family="Arial" font-size="14.00">TeamManagementService</text>
<polyline fill="none" stroke="#ffaabb" points="166596.5,-4336.5 168231.5,-4336.5 "/>
<text text-anchor="start" x="167377.5" y="-4321.3" font-family="Arial" font-size="14.00">db</text>
<text text-anchor="start" x="167377.5" y="-4306.3" font-family="Arial" font-size="14.00">role_service</text>
<polyline fill="none" stroke="#ffaabb" points="166596.5,-4298.5 168231.5,-4298.5 "/>
<text text-anchor="start" x="166604.5" y="-4283.3" font-family="Arial" font-size="14.00">add_member_to_team(team_id: str, user_email: str, role: str, invited_by: Optional[str]): EmailTeamMember</text>
<text text-anchor="start" x="166604.5" y="-4268.3" font-family="Arial" font-size="14.00">approve_join_request(request_id: str, approved_by: str): Optional[EmailTeamMember]</text>
<text text-anchor="start" x="166604.5" y="-4253.3" font-family="Arial" font-size="14.00">cancel_join_request(request_id: str, user_email: str): bool</text>
<text text-anchor="start" x="166604.5" y="-4238.3" font-family="Arial" font-size="14.00">count_team_owners(team_id: str): int</text>
<text text-anchor="start" x="166604.5" y="-4223.3" font-family="Arial" font-size="14.00">create_join_request(team_id: str, user_email: str, message: Optional[str]): &#39;EmailTeamJoinRequest&#39;</text>
<text text-anchor="start" x="166604.5" y="-4208.3" font-family="Arial" font-size="14.00">create_team(name: str, description: Optional[str], created_by: str, visibility: Optional[str], max_members: Optional[int]): EmailTeam</text>
<text text-anchor="start" x="166604.5" y="-4193.3" font-family="Arial" font-size="14.00">delete_team(team_id: str, deleted_by: str): bool</text>
<text text-anchor="start" x="166604.5" y="-4178.3" font-family="Arial" font-size="14.00">discover_public_teams(user_email: str, skip: int, limit: Optional[int]): List[EmailTeam]</text>
<text text-anchor="start" x="166604.5" y="-4163.3" font-family="Arial" font-size="14.00">get_all_team_ids(include_inactive: bool, visibility_filter: Optional[str], include_personal: bool, search_query: Optional[str]): List[int]</text>
<text text-anchor="start" x="166604.5" y="-4148.3" font-family="Arial" font-size="14.00">get_member(team_id: str, user_email: str): Optional[EmailTeamMember]</text>
<text text-anchor="start" x="166604.5" y="-4133.3" font-family="Arial" font-size="14.00">get_member_counts_batch(team_ids: List[str]): Dict[str, int]</text>
<text text-anchor="start" x="166604.5" y="-4118.3" font-family="Arial" font-size="14.00">get_member_counts_batch_cached(team_ids: List[str]): Dict[str, int]</text>
<text text-anchor="start" x="166604.5" y="-4103.3" font-family="Arial" font-size="14.00">get_pending_join_requests_batch(user_email: str, team_ids: List[str]): Dict[str, Optional[Any]]</text>
<text text-anchor="start" x="166604.5" y="-4088.3" font-family="Arial" font-size="14.00">get_team_by_id(team_id: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="166604.5" y="-4073.3" font-family="Arial" font-size="14.00">get_team_by_slug(slug: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="166604.5" y="-4058.3" font-family="Arial" font-size="14.00">get_team_members(team_id: str, cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int]): Union[List[Tuple[EmailUser, EmailTeamMember]], Tuple[List[Tuple[EmailUser, EmailTeamMember]], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="166604.5" y="-4043.3" font-family="Arial" font-size="14.00">get_teams_count(include_inactive: bool, visibility_filter: Optional[str], include_personal: bool, search_query: Optional[str]): int</text>
<text text-anchor="start" x="166604.5" y="-4028.3" font-family="Arial" font-size="14.00">get_user_join_requests(user_email: str, team_id: Optional[str]): List[&#39;EmailTeamJoinRequest&#39;]</text>
<text text-anchor="start" x="166604.5" y="-4013.3" font-family="Arial" font-size="14.00">get_user_role_in_team(user_email: str, team_id: str): Optional[str]</text>
<text text-anchor="start" x="166604.5" y="-3998.3" font-family="Arial" font-size="14.00">get_user_roles_batch(user_email: str, team_ids: List[str]): Dict[str, Optional[str]]</text>
<text text-anchor="start" x="166604.5" y="-3983.3" font-family="Arial" font-size="14.00">get_user_teams(user_email: str, include_personal: bool): List[EmailTeam]</text>
<text text-anchor="start" x="166604.5" y="-3968.3" font-family="Arial" font-size="14.00">invalidate_team_member_count_cache(team_id: str): None</text>
<text text-anchor="start" x="166604.5" y="-3953.3" font-family="Arial" font-size="14.00">list_join_requests(team_id: str): List[&#39;EmailTeamJoinRequest&#39;]</text>
<text text-anchor="start" x="166604.5" y="-3938.3" font-family="Arial" font-size="14.00">list_teams(limit: int, offset: int, cursor: Optional[str], page: Optional[int], per_page: int, include_inactive: bool, visibility_filter: Optional[str], base_url: Optional[str], include_personal: bool, search_query: Optional[str]): Union[Tuple[List[EmailTeam], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="166604.5" y="-3923.3" font-family="Arial" font-size="14.00">reject_join_request(request_id: str, rejected_by: str): bool</text>
<text text-anchor="start" x="166604.5" y="-3908.3" font-family="Arial" font-size="14.00">remove_member_from_team(team_id: str, user_email: str, removed_by: Optional[str]): bool</text>
<text text-anchor="start" x="166604.5" y="-3893.3" font-family="Arial" font-size="14.00">update_member_role(team_id: str, user_email: str, new_role: str, updated_by: Optional[str]): bool</text>
<text text-anchor="start" x="166604.5" y="-3878.3" font-family="Arial" font-size="14.00">update_team(team_id: str, name: Optional[str], description: Optional[str], visibility: Optional[str], max_members: Optional[int], updated_by: Optional[str]): bool</text>
<text text-anchor="start" x="166604.5" y="-3863.3" font-family="Arial" font-size="14.00">verify_team_for_user(user_email, team_id)</text>
</g>
<!-- mcpgateway.services.team_management_service.TeamMemberAddError -->
<g id="node564" class="node">
<title>mcpgateway.services.team_management_service.TeamMemberAddError</title>
<polygon fill="white" stroke="#ffaabb" points="83209.5,-4072.1 83209.5,-4142.9 83364.5,-4142.9 83364.5,-4072.1 83209.5,-4072.1"/>
<text text-anchor="start" x="83217.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">TeamMemberAddError</text>
<polyline fill="none" stroke="#ffaabb" points="83209.5,-4119.9 83364.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83209.5,-4095.1 83364.5,-4095.1 "/>
<text text-anchor="start" x="83285" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamMemberAddError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge126" class="edge">
<title>mcpgateway.services.team_management_service.TeamMemberAddError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M83287.08,-4143.23C83287.86,-4436.05 83296.03,-6523.16 83373,-8215 83376.15,-8284.13 83382.24,-8364.19 83386.21,-8412.82"/>
<polygon fill="none" stroke="gray" points="83382.74,-8413.32 83387.05,-8423 83389.71,-8412.74 83382.74,-8413.32"/>
</g>
<!-- mcpgateway.schemas.TeamMemberAddRequest -->
<g id="node565" class="node">
<title>mcpgateway.schemas.TeamMemberAddRequest</title>
<polygon fill="white" stroke="#77aadd" points="168250,-4065.5 168250,-4149.5 168510,-4149.5 168510,-4065.5 168250,-4065.5"/>
<text text-anchor="start" x="168300" y="-4134.3" font-family="Arial" font-size="14.00">TeamMemberAddRequest</text>
<polyline fill="none" stroke="#77aadd" points="168250,-4126.5 168510,-4126.5 "/>
<text text-anchor="start" x="168258" y="-4111.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="168258" y="-4096.3" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;owner&#39;, &#39;member&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="168250,-4088.5 168510,-4088.5 "/>
<text text-anchor="start" x="168378" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamMemberLimitExceededError -->
<g id="node566" class="node">
<title>mcpgateway.services.team_management_service.TeamMemberLimitExceededError</title>
<polygon fill="white" stroke="#ffaabb" points="83382.5,-4072.1 83382.5,-4142.9 83603.5,-4142.9 83603.5,-4072.1 83382.5,-4072.1"/>
<text text-anchor="start" x="83390.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">TeamMemberLimitExceededError</text>
<polyline fill="none" stroke="#ffaabb" points="83382.5,-4119.9 83603.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83382.5,-4095.1 83603.5,-4095.1 "/>
<text text-anchor="start" x="83491" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamMemberLimitExceededError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge127" class="edge">
<title>mcpgateway.services.team_management_service.TeamMemberLimitExceededError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M83492.18,-4143.19C83483.08,-4527.25 83401.33,-7979.28 83391.06,-8412.83"/>
<polygon fill="none" stroke="gray" points="83387.55,-8413 83390.82,-8423.08 83394.55,-8413.17 83387.55,-8413"/>
</g>
<!-- mcpgateway.schemas.TeamMemberResponse -->
<g id="node567" class="node">
<title>mcpgateway.schemas.TeamMemberResponse</title>
<polygon fill="white" stroke="#77aadd" points="168528,-4020.5 168528,-4194.5 168722,-4194.5 168722,-4020.5 168528,-4020.5"/>
<text text-anchor="start" x="168552" y="-4179.3" font-family="Arial" font-size="14.00">TeamMemberResponse</text>
<polyline fill="none" stroke="#77aadd" points="168528,-4171.5 168722,-4171.5 "/>
<text text-anchor="start" x="168536" y="-4156.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="168536" y="-4141.3" font-family="Arial" font-size="14.00">invited_by : Optional[str]</text>
<text text-anchor="start" x="168536" y="-4126.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="168536" y="-4111.3" font-family="Arial" font-size="14.00">joined_at : Optional[datetime]</text>
<text text-anchor="start" x="168536" y="-4096.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="168536" y="-4081.3" font-family="Arial" font-size="14.00">role : Optional[str]</text>
<text text-anchor="start" x="168536" y="-4066.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="168536" y="-4051.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="168528,-4043.5 168722,-4043.5 "/>
<text text-anchor="start" x="168623" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamMemberUpdateRequest -->
<g id="node568" class="node">
<title>mcpgateway.schemas.TeamMemberUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="168740,-4073 168740,-4142 169000,-4142 169000,-4073 168740,-4073"/>
<text text-anchor="start" x="168780.5" y="-4126.8" font-family="Arial" font-size="14.00">TeamMemberUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="168740,-4119 169000,-4119 "/>
<text text-anchor="start" x="168748" y="-4103.8" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;owner&#39;, &#39;member&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="168740,-4096 169000,-4096 "/>
<text text-anchor="start" x="168868" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamNotFoundError -->
<g id="node569" class="node">
<title>mcpgateway.services.team_management_service.TeamNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="83622,-4072.1 83622,-4142.9 83762,-4142.9 83762,-4072.1 83622,-4072.1"/>
<text text-anchor="start" x="83630" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">TeamNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="83622,-4119.9 83762,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83622,-4095.1 83762,-4095.1 "/>
<text text-anchor="start" x="83690" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamNotFoundError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge128" class="edge">
<title>mcpgateway.services.team_management_service.TeamNotFoundError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M83692.8,-4142.97C83701.34,-4516.94 83771.8,-7815.36 83612,-8215 83578.14,-8299.69 83500.05,-8373.14 83446.14,-8416.38"/>
<polygon fill="none" stroke="gray" points="83443.71,-8413.85 83438.04,-8422.8 83448.05,-8419.33 83443.71,-8413.85"/>
</g>
<!-- mcpgateway.schemas.TeamResponse -->
<g id="node570" class="node">
<title>mcpgateway.schemas.TeamResponse</title>
<polygon fill="white" stroke="#77aadd" points="169018,-3990.5 169018,-4224.5 169224,-4224.5 169224,-3990.5 169018,-3990.5"/>
<text text-anchor="start" x="169073.5" y="-4209.3" font-family="Arial" font-size="14.00">TeamResponse</text>
<polyline fill="none" stroke="#77aadd" points="169018,-4201.5 169224,-4201.5 "/>
<text text-anchor="start" x="169026" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="169026" y="-4171.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="169026" y="-4156.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="169026" y="-4141.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="169026" y="-4126.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="169026" y="-4111.3" font-family="Arial" font-size="14.00">is_personal : Optional[bool]</text>
<text text-anchor="start" x="169026" y="-4096.3" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="169026" y="-4081.3" font-family="Arial" font-size="14.00">member_count : Optional[int]</text>
<text text-anchor="start" x="169026" y="-4066.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="169026" y="-4051.3" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="169026" y="-4036.3" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="169026" y="-4021.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="169018,-4013.5 169224,-4013.5 "/>
<text text-anchor="start" x="169119" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamUpdateRequest -->
<g id="node571" class="node">
<title>mcpgateway.schemas.TeamUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="169242,-4043 169242,-4172 169556,-4172 169556,-4043 169242,-4043"/>
<text text-anchor="start" x="169335" y="-4156.8" font-family="Arial" font-size="14.00">TeamUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="169242,-4149 169556,-4149 "/>
<text text-anchor="start" x="169271" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="169271" y="-4118.8" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="169271" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="169271" y="-4088.8" font-family="Arial" font-size="14.00">visibility : Optional[Literal[&#39;private&#39;, &#39;public&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="169242,-4081 169556,-4081 "/>
<text text-anchor="start" x="169250" y="-4065.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="169250" y="-4050.8" font-family="Arial" font-size="14.00">validate_name(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.common.models.TextContent -->
<g id="node572" class="node">
<title>mcpgateway.common.models.TextContent</title>
<polygon fill="white" stroke="#44bb99" points="169574.5,-4050.5 169574.5,-4164.5 169801.5,-4164.5 169801.5,-4050.5 169574.5,-4050.5"/>
<text text-anchor="start" x="169651.5" y="-4149.3" font-family="Arial" font-size="14.00">TextContent</text>
<polyline fill="none" stroke="#44bb99" points="169574.5,-4141.5 169801.5,-4141.5 "/>
<text text-anchor="start" x="169582.5" y="-4126.3" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="169582.5" y="-4111.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="169582.5" y="-4096.3" font-family="Arial" font-size="14.00">text : str</text>
<text text-anchor="start" x="169582.5" y="-4081.3" font-family="Arial" font-size="14.00">type : Literal[&#39;text&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="169574.5,-4073.5 169801.5,-4073.5 "/>
<text text-anchor="start" x="169686" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TextResourceContents -->
<g id="node573" class="node">
<title>mcpgateway.common.models.TextResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33686.5,-4073 33686.5,-4142 33839.5,-4142 33839.5,-4073 33686.5,-4073"/>
<text text-anchor="start" x="33694.5" y="-4126.8" font-family="Arial" font-size="14.00">TextResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33686.5,-4119 33839.5,-4119 "/>
<text text-anchor="start" x="33738.5" y="-4103.8" font-family="Arial" font-size="14.00">text : str</text>
<polyline fill="none" stroke="#44bb99" points="33686.5,-4096 33839.5,-4096 "/>
<text text-anchor="start" x="33761" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TextResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents -->
<g id="edge9" class="edge">
<title>mcpgateway.common.models.TextResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents</title>
<path fill="none" stroke="gray" d="M33762.76,-4142.11C33760.61,-4431.93 33743.46,-6539.12 33687,-8248 33685.32,-8298.94 33682.49,-8356.8 33680.26,-8398.78"/>
<polygon fill="none" stroke="gray" points="33676.77,-8398.66 33679.73,-8408.83 33683.76,-8399.04 33676.77,-8398.66"/>
</g>
<!-- mcpgateway.services.token_catalog_service.TokenCatalogService -->
<g id="node574" class="node">
<title>mcpgateway.services.token_catalog_service.TokenCatalogService</title>
<polygon fill="white" stroke="#ffaabb" points="169820,-3930.5 169820,-4284.5 171358,-4284.5 171358,-3930.5 169820,-3930.5"/>
<text text-anchor="start" x="170525" y="-4269.3" font-family="Arial" font-size="14.00">TokenCatalogService</text>
<polyline fill="none" stroke="#ffaabb" points="169820,-4261.5 171358,-4261.5 "/>
<text text-anchor="start" x="170581" y="-4246.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="169820,-4238.5 171358,-4238.5 "/>
<text text-anchor="start" x="169828" y="-4223.3" font-family="Arial" font-size="14.00">admin_revoke_token(token_id: str, revoked_by: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="169828" y="-4208.3" font-family="Arial" font-size="14.00">cleanup_expired_tokens(): int</text>
<text text-anchor="start" x="169828" y="-4193.3" font-family="Arial" font-size="14.00">count_all_tokens(include_inactive: bool): int</text>
<text text-anchor="start" x="169828" y="-4178.3" font-family="Arial" font-size="14.00">count_team_tokens(team_id: str, include_inactive: bool): int</text>
<text text-anchor="start" x="169828" y="-4163.3" font-family="Arial" font-size="14.00">count_user_and_team_tokens(user_email: str, include_inactive: bool): int</text>
<text text-anchor="start" x="169828" y="-4148.3" font-family="Arial" font-size="14.00">count_user_tokens(user_email: str, include_inactive: bool): int</text>
<text text-anchor="start" x="169828" y="-4133.3" font-family="Arial" font-size="14.00">create_token(user_email: str, name: str, description: Optional[str], scope: Optional[TokenScope], expires_in_days: Optional[int], tags: Optional[List[str]], team_id: Optional[str], caller_permissions: Optional[List[str]], is_active: bool): tuple[EmailApiToken, str]</text>
<text text-anchor="start" x="169828" y="-4118.3" font-family="Arial" font-size="14.00">get_token(token_id: str, user_email: Optional[str]): Optional[EmailApiToken]</text>
<text text-anchor="start" x="169828" y="-4103.3" font-family="Arial" font-size="14.00">get_token_revocation(jti: str): Optional[TokenRevocation]</text>
<text text-anchor="start" x="169828" y="-4088.3" font-family="Arial" font-size="14.00">get_token_revocations_batch(jtis: List[str]): Dict[str, TokenRevocation]</text>
<text text-anchor="start" x="169828" y="-4073.3" font-family="Arial" font-size="14.00">get_token_usage_stats(user_email: str, token_id: Optional[str], days: int): dict</text>
<text text-anchor="start" x="169828" y="-4058.3" font-family="Arial" font-size="14.00">get_user_team_ids(user_email: str): List[str]</text>
<text text-anchor="start" x="169828" y="-4043.3" font-family="Arial" font-size="14.00">is_token_revoked(jti: str): bool</text>
<text text-anchor="start" x="169828" y="-4028.3" font-family="Arial" font-size="14.00">list_all_tokens(include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="169828" y="-4013.3" font-family="Arial" font-size="14.00">list_team_tokens(team_id: str, user_email: str, include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="169828" y="-3998.3" font-family="Arial" font-size="14.00">list_user_and_team_tokens(user_email: str, include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="169828" y="-3983.3" font-family="Arial" font-size="14.00">list_user_tokens(user_email: str, include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="169828" y="-3968.3" font-family="Arial" font-size="14.00">log_token_usage(jti: str, user_email: str, endpoint: Optional[str], method: Optional[str], ip_address: Optional[str], user_agent: Optional[str], status_code: Optional[int], response_time_ms: Optional[int], blocked: bool, block_reason: Optional[str]): None</text>
<text text-anchor="start" x="169828" y="-3953.3" font-family="Arial" font-size="14.00">revoke_token(token_id: str, user_email: str, revoked_by: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="169828" y="-3938.3" font-family="Arial" font-size="14.00">update_token(token_id: str, user_email: str, name: Optional[str], description: Optional[str], scope: Optional[TokenScope], tags: Optional[List[str]], caller_permissions: Optional[List[str]], is_active: Optional[bool]): Optional[EmailApiToken]</text>
</g>
<!-- mcpgateway.schemas.TokenCreateRequest -->
<g id="node575" class="node">
<title>mcpgateway.schemas.TokenCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="171376.5,-4028 171376.5,-4187 171623.5,-4187 171623.5,-4028 171376.5,-4028"/>
<text text-anchor="start" x="171436.5" y="-4171.8" font-family="Arial" font-size="14.00">TokenCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="171376.5,-4164 171623.5,-4164 "/>
<text text-anchor="start" x="171384.5" y="-4148.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="171384.5" y="-4133.8" font-family="Arial" font-size="14.00">expires_in_days : Optional[int]</text>
<text text-anchor="start" x="171384.5" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="171384.5" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="171384.5" y="-4088.8" font-family="Arial" font-size="14.00">scope : Optional[TokenScopeRequest]</text>
<text text-anchor="start" x="171384.5" y="-4073.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="171384.5" y="-4058.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="171376.5,-4051 171623.5,-4051 "/>
<text text-anchor="start" x="171498" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenCreateResponse -->
<g id="node576" class="node">
<title>mcpgateway.schemas.TokenCreateResponse</title>
<polygon fill="white" stroke="#77aadd" points="171642,-4065.5 171642,-4149.5 171858,-4149.5 171858,-4065.5 171642,-4065.5"/>
<text text-anchor="start" x="171681" y="-4134.3" font-family="Arial" font-size="14.00">TokenCreateResponse</text>
<polyline fill="none" stroke="#77aadd" points="171642,-4126.5 171858,-4126.5 "/>
<text text-anchor="start" x="171650" y="-4111.3" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="171650" y="-4096.3" font-family="Arial" font-size="14.00">token : Optional[TokenResponse]</text>
<polyline fill="none" stroke="#77aadd" points="171642,-4088.5 171858,-4088.5 "/>
<text text-anchor="start" x="171748" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenListResponse -->
<g id="node577" class="node">
<title>mcpgateway.schemas.TokenListResponse</title>
<polygon fill="white" stroke="#77aadd" points="171876.5,-4050.5 171876.5,-4164.5 172127.5,-4164.5 172127.5,-4050.5 171876.5,-4050.5"/>
<text text-anchor="start" x="171943" y="-4149.3" font-family="Arial" font-size="14.00">TokenListResponse</text>
<polyline fill="none" stroke="#77aadd" points="171876.5,-4141.5 172127.5,-4141.5 "/>
<text text-anchor="start" x="171884.5" y="-4126.3" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="171884.5" y="-4111.3" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="171884.5" y="-4096.3" font-family="Arial" font-size="14.00">tokens : Optional[List[TokenResponse]]</text>
<text text-anchor="start" x="171884.5" y="-4081.3" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="171876.5,-4073.5 172127.5,-4073.5 "/>
<text text-anchor="start" x="172000" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenResponse -->
<g id="node578" class="node">
<title>mcpgateway.schemas.TokenResponse</title>
<polygon fill="white" stroke="#77aadd" points="172146,-3930.5 172146,-4284.5 172406,-4284.5 172406,-3930.5 172146,-3930.5"/>
<text text-anchor="start" x="172227.5" y="-4269.3" font-family="Arial" font-size="14.00">TokenResponse</text>
<polyline fill="none" stroke="#77aadd" points="172146,-4261.5 172406,-4261.5 "/>
<text text-anchor="start" x="172154" y="-4246.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="172154" y="-4231.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4216.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="172154" y="-4201.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4186.3" font-family="Arial" font-size="14.00">ip_restrictions : Optional[List[str]]</text>
<text text-anchor="start" x="172154" y="-4171.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="172154" y="-4156.3" font-family="Arial" font-size="14.00">is_revoked : Optional[bool]</text>
<text text-anchor="start" x="172154" y="-4141.3" font-family="Arial" font-size="14.00">last_used : Optional[datetime]</text>
<text text-anchor="start" x="172154" y="-4126.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="172154" y="-4111.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4096.3" font-family="Arial" font-size="14.00">resource_scopes : Optional[List[str]]</text>
<text text-anchor="start" x="172154" y="-4081.3" font-family="Arial" font-size="14.00">revocation_reason : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4066.3" font-family="Arial" font-size="14.00">revoked_at : Optional[datetime]</text>
<text text-anchor="start" x="172154" y="-4051.3" font-family="Arial" font-size="14.00">revoked_by : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4036.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="172154" y="-4021.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="172154" y="-4006.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="172154" y="-3991.3" font-family="Arial" font-size="14.00">time_restrictions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="172154" y="-3976.3" font-family="Arial" font-size="14.00">usage_limits : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="172154" y="-3961.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="172146,-3953.5 172406,-3953.5 "/>
<text text-anchor="start" x="172274" y="-3938.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenRevocation -->
<g id="node579" class="node">
<title>mcpgateway.db.TokenRevocation</title>
<polygon fill="white" stroke="#77aadd" points="15308,-4043 15308,-4172 15512,-4172 15512,-4043 15308,-4043"/>
<text text-anchor="start" x="15358" y="-4156.8" font-family="Arial" font-size="14.00">TokenRevocation</text>
<polyline fill="none" stroke="#77aadd" points="15308,-4149 15512,-4149 "/>
<text text-anchor="start" x="15316" y="-4133.8" font-family="Arial" font-size="14.00">jti : Mapped[str]</text>
<text text-anchor="start" x="15316" y="-4118.8" font-family="Arial" font-size="14.00">reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15316" y="-4103.8" font-family="Arial" font-size="14.00">revoked_at : Mapped[datetime]</text>
<text text-anchor="start" x="15316" y="-4088.8" font-family="Arial" font-size="14.00">revoked_by : Mapped[str]</text>
<text text-anchor="start" x="15316" y="-4073.8" font-family="Arial" font-size="14.00">revoker : Mapped[&#39;EmailUser&#39;]</text>
<polyline fill="none" stroke="#77aadd" points="15308,-4066 15512,-4066 "/>
<text text-anchor="start" x="15408" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenRevocation&#45;&gt;mcpgateway.db.Base -->
<g id="edge58" class="edge">
<title>mcpgateway.db.TokenRevocation&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15413.27,-4172.2C15438.13,-4668.76 15588.62,-7908.97 15299,-8215 15084.58,-8441.57 10053.17,-8456.46 9346.23,-8457.43"/>
<polygon fill="none" stroke="gray" points="9346.14,-8453.93 9336.14,-8457.45 9346.15,-8460.93 9346.14,-8453.93"/>
</g>
<!-- mcpgateway.schemas.TokenRevokeRequest -->
<g id="node580" class="node">
<title>mcpgateway.schemas.TokenRevokeRequest</title>
<polygon fill="white" stroke="#77aadd" points="172424.5,-4073 172424.5,-4142 172573.5,-4142 172573.5,-4073 172424.5,-4073"/>
<text text-anchor="start" x="172432.5" y="-4126.8" font-family="Arial" font-size="14.00">TokenRevokeRequest</text>
<polyline fill="none" stroke="#77aadd" points="172424.5,-4119 172573.5,-4119 "/>
<text text-anchor="start" x="172435.5" y="-4103.8" font-family="Arial" font-size="14.00">reason : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="172424.5,-4096 172573.5,-4096 "/>
<text text-anchor="start" x="172497" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.token_catalog_service.TokenScope -->
<g id="node581" class="node">
<title>mcpgateway.services.token_catalog_service.TokenScope</title>
<polygon fill="white" stroke="#ffaabb" points="172591,-4020.5 172591,-4194.5 172833,-4194.5 172833,-4020.5 172591,-4020.5"/>
<text text-anchor="start" x="172674.5" y="-4179.3" font-family="Arial" font-size="14.00">TokenScope</text>
<polyline fill="none" stroke="#ffaabb" points="172591,-4171.5 172833,-4171.5 "/>
<text text-anchor="start" x="172641.5" y="-4156.3" font-family="Arial" font-size="14.00">ip_restrictions : list</text>
<text text-anchor="start" x="172641.5" y="-4141.3" font-family="Arial" font-size="14.00">permissions : list</text>
<text text-anchor="start" x="172641.5" y="-4126.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="172641.5" y="-4111.3" font-family="Arial" font-size="14.00">time_restrictions : dict</text>
<text text-anchor="start" x="172641.5" y="-4096.3" font-family="Arial" font-size="14.00">usage_limits : dict</text>
<polyline fill="none" stroke="#ffaabb" points="172591,-4088.5 172833,-4088.5 "/>
<text text-anchor="start" x="172599" y="-4073.3" font-family="Arial" font-size="14.00">from_dict(data: dict): &#39;TokenScope&#39;</text>
<text text-anchor="start" x="172599" y="-4058.3" font-family="Arial" font-size="14.00">has_permission(permission: str): bool</text>
<text text-anchor="start" x="172599" y="-4043.3" font-family="Arial" font-size="14.00">is_server_scoped(): bool</text>
<text text-anchor="start" x="172599" y="-4028.3" font-family="Arial" font-size="14.00">to_dict(): dict</text>
</g>
<!-- mcpgateway.schemas.TokenScopeRequest -->
<g id="node582" class="node">
<title>mcpgateway.schemas.TokenScopeRequest</title>
<polygon fill="white" stroke="#77aadd" points="172851,-4035.5 172851,-4179.5 173123,-4179.5 173123,-4035.5 172851,-4035.5"/>
<text text-anchor="start" x="172924.5" y="-4164.3" font-family="Arial" font-size="14.00">TokenScopeRequest</text>
<polyline fill="none" stroke="#77aadd" points="172851,-4156.5 173123,-4156.5 "/>
<text text-anchor="start" x="172865" y="-4141.3" font-family="Arial" font-size="14.00">ip_restrictions : Optional[List[str]]</text>
<text text-anchor="start" x="172865" y="-4126.3" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="172865" y="-4111.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="172865" y="-4096.3" font-family="Arial" font-size="14.00">time_restrictions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="172865" y="-4081.3" font-family="Arial" font-size="14.00">usage_limits : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="172851,-4073.5 173123,-4073.5 "/>
<text text-anchor="start" x="172859" y="-4058.3" font-family="Arial" font-size="14.00">validate_ip_restrictions(v: List[str]): List[str]</text>
<text text-anchor="start" x="172859" y="-4043.3" font-family="Arial" font-size="14.00">validate_permissions(v: List[str]): List[str]</text>
</g>
<!-- mcpgateway.middleware.token_scoping.TokenScopingMiddleware -->
<g id="node583" class="node">
<title>mcpgateway.middleware.token_scoping.TokenScopingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="173141.5,-4072.1 173141.5,-4142.9 173312.5,-4142.9 173312.5,-4072.1 173141.5,-4072.1"/>
<text text-anchor="start" x="173149.5" y="-4127.7" font-family="Arial" font-size="14.00">TokenScopingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="173141.5,-4119.9 173312.5,-4119.9 "/>
<polyline fill="none" stroke="#eedd88" points="173141.5,-4095.1 173312.5,-4095.1 "/>
<text text-anchor="start" x="173225" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenUpdateRequest -->
<g id="node585" class="node">
<title>mcpgateway.schemas.TokenUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="173330.5,-4043 173330.5,-4172 173577.5,-4172 173577.5,-4043 173330.5,-4043"/>
<text text-anchor="start" x="173389" y="-4156.8" font-family="Arial" font-size="14.00">TokenUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="173330.5,-4149 173577.5,-4149 "/>
<text text-anchor="start" x="173338.5" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="173338.5" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="173338.5" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="173338.5" y="-4088.8" font-family="Arial" font-size="14.00">scope : Optional[TokenScopeRequest]</text>
<text text-anchor="start" x="173338.5" y="-4073.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="173330.5,-4066 173577.5,-4066 "/>
<text text-anchor="start" x="173452" y="-4050.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenUsageLog -->
<g id="node586" class="node">
<title>mcpgateway.db.TokenUsageLog</title>
<polygon fill="white" stroke="#77aadd" points="15530.5,-3990.5 15530.5,-4224.5 15803.5,-4224.5 15803.5,-3990.5 15530.5,-3990.5"/>
<text text-anchor="start" x="15618" y="-4209.3" font-family="Arial" font-size="14.00">TokenUsageLog</text>
<polyline fill="none" stroke="#77aadd" points="15530.5,-4201.5 15803.5,-4201.5 "/>
<text text-anchor="start" x="15538.5" y="-4186.3" font-family="Arial" font-size="14.00">block_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-4171.3" font-family="Arial" font-size="14.00">blocked : Mapped[bool]</text>
<text text-anchor="start" x="15538.5" y="-4156.3" font-family="Arial" font-size="14.00">endpoint : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="15538.5" y="-4126.3" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-4111.3" font-family="Arial" font-size="14.00">method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-4096.3" font-family="Arial" font-size="14.00">response_time_ms : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15538.5" y="-4081.3" font-family="Arial" font-size="14.00">status_code : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15538.5" y="-4066.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="15538.5" y="-4051.3" font-family="Arial" font-size="14.00">token_jti : Mapped[str]</text>
<text text-anchor="start" x="15538.5" y="-4036.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-4021.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="15530.5,-4013.5 15803.5,-4013.5 "/>
<text text-anchor="start" x="15665" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenUsageLog&#45;&gt;mcpgateway.db.Base -->
<g id="edge59" class="edge">
<title>mcpgateway.db.TokenUsageLog&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15671.61,-4224.53C15695.8,-4861.27 15796.66,-7913.27 15521,-8215 15302.56,-8454.1 10067.85,-8458.19 9346.2,-8457.61"/>
<polygon fill="none" stroke="gray" points="9346.16,-8454.11 9336.16,-8457.6 9346.16,-8461.11 9346.16,-8454.11"/>
</g>
<!-- mcpgateway.schemas.TokenUsageStatsResponse -->
<g id="node587" class="node">
<title>mcpgateway.schemas.TokenUsageStatsResponse</title>
<polygon fill="white" stroke="#77aadd" points="173596,-4028 173596,-4187 173880,-4187 173880,-4028 173596,-4028"/>
<text text-anchor="start" x="173654.5" y="-4171.8" font-family="Arial" font-size="14.00">TokenUsageStatsResponse</text>
<polyline fill="none" stroke="#77aadd" points="173596,-4164 173880,-4164 "/>
<text text-anchor="start" x="173604" y="-4148.8" font-family="Arial" font-size="14.00">average_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="173604" y="-4133.8" font-family="Arial" font-size="14.00">blocked_requests : Optional[int]</text>
<text text-anchor="start" x="173604" y="-4118.8" font-family="Arial" font-size="14.00">period_days : Optional[int]</text>
<text text-anchor="start" x="173604" y="-4103.8" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<text text-anchor="start" x="173604" y="-4088.8" font-family="Arial" font-size="14.00">successful_requests : Optional[int]</text>
<text text-anchor="start" x="173604" y="-4073.8" font-family="Arial" font-size="14.00">top_endpoints : Optional[List[tuple[str, int]]]</text>
<text text-anchor="start" x="173604" y="-4058.8" font-family="Arial" font-size="14.00">total_requests : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="173596,-4051 173880,-4051 "/>
<text text-anchor="start" x="173736" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Tool -->
<g id="node588" class="node">
<title>mcpgateway.db.Tool</title>
<polygon fill="white" stroke="#77aadd" points="15822,-3630.5 15822,-4584.5 16142,-4584.5 16142,-3630.5 15822,-3630.5"/>
<text text-anchor="start" x="15969.5" y="-4569.3" font-family="Arial" font-size="14.00">Tool</text>
<polyline fill="none" stroke="#77aadd" points="15822,-4561.5 16142,-4561.5 "/>
<text text-anchor="start" x="15830" y="-4546.3" font-family="Arial" font-size="14.00">allowlist : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-4531.3" font-family="Arial" font-size="14.00">annotations : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-4516.3" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4501.3" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4486.3" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="15830" y="-4471.3" font-family="Arial" font-size="14.00">base_url : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4456.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="15830" y="-4441.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4426.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4411.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4396.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4381.3" font-family="Arial" font-size="14.00">custom_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4366.3" font-family="Arial" font-size="14.00">custom_name_slug : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4351.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4336.3" font-family="Arial" font-size="14.00">display_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4321.3" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="15830" y="-4306.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-4291.3" font-family="Arial" font-size="14.00">expose_passthrough : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-4276.3" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="15830" y="-4261.3" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="15830" y="-4246.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4231.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="15830" y="-4216.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4201.3" font-family="Arial" font-size="14.00">header_mapping : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-4186.3" font-family="Arial" font-size="14.00">headers : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="15830" y="-4171.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-4156.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4141.3" font-family="Arial" font-size="14.00">input_schema : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="15830" y="-4126.3" font-family="Arial" font-size="14.00">integration_type : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-4111.3" font-family="Arial" font-size="14.00">jsonpath_filter : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-4096.3" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="15830" y="-4081.3" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="15830" y="-4066.3" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ToolMetric&#39;]]</text>
<text text-anchor="start" x="15830" y="-4051.3" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="15830" y="-4036.3" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="15830" y="-4021.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4006.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3991.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3976.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3961.3" font-family="Arial" font-size="14.00">original_name : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3946.3" font-family="Arial" font-size="14.00">output_schema : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-3931.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3916.3" font-family="Arial" font-size="14.00">path_template : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3901.3" font-family="Arial" font-size="14.00">plugin_chain_post : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-3886.3" font-family="Arial" font-size="14.00">plugin_chain_pre : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-3871.3" font-family="Arial" font-size="14.00">query_mapping : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-3856.3" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-3841.3" font-family="Arial" font-size="14.00">request_type : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3826.3" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="15830" y="-3811.3" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="15830" y="-3796.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="15830" y="-3781.3" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="15830" y="-3766.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3751.3" font-family="Arial" font-size="14.00">timeout_ms : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15830" y="-3736.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="15830" y="-3721.3" font-family="Arial" font-size="14.00">url : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3706.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="15830" y="-3691.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="15822,-3683.5 16142,-3683.5 "/>
<text text-anchor="start" x="15895.5" y="-3668.3" font-family="Arial" font-size="14.00">execution_count(): int</text>
<text text-anchor="start" x="15895.5" y="-3653.3" font-family="Arial" font-size="14.00">gateway_slug(): Optional[str]</text>
<text text-anchor="start" x="15895.5" y="-3638.3" font-family="Arial" font-size="14.00">name(): str</text>
</g>
<!-- mcpgateway.db.Tool&#45;&gt;mcpgateway.db.Base -->
<g id="edge60" class="edge">
<title>mcpgateway.db.Tool&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16036.33,-4584.56C16135.45,-5553.1 16293.83,-7704.54 15812,-8215 15578.98,-8461.87 10086.17,-8459.19 9346.19,-8457.71"/>
<polygon fill="none" stroke="gray" points="9346.16,-8454.21 9336.15,-8457.69 9346.14,-8461.21 9346.16,-8454.21"/>
</g>
<!-- mcpgateway.common.models.Tool&#45;&gt;mcpgateway.common.models.CommonAttributes -->
<g id="edge10" class="edge">
<title>mcpgateway.common.models.Tool&#45;&gt;mcpgateway.common.models.CommonAttributes</title>
<path fill="none" stroke="gray" d="M43742.12,-8605.59C43726.94,-8636.01 43710.67,-8668.62 43694.63,-8700.78"/>
<polygon fill="none" stroke="gray" points="43691.45,-8699.32 43690.11,-8709.83 43697.71,-8702.44 43691.45,-8699.32"/>
</g>
<!-- mcpgateway.common.models.Tool&#45;&gt;mcpgateway.schemas.FederatedTool -->
<g id="edge154" class="edge">
<title>mcpgateway.common.models.Tool&#45;&gt;mcpgateway.schemas.FederatedTool</title>
<path fill="none" stroke="gray" d="M43815,-8605.59C43815,-8684.38 43815,-8777.91 43815,-8839.98"/>
<polygon fill="gray" stroke="gray" points="43815,-8840.35 43819,-8846.35 43815,-8852.35 43811,-8846.35 43815,-8840.35"/>
<text text-anchor="middle" x="43826" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">tool</text>
</g>
<!-- mcpgateway.common.models.ToolAnnotations -->
<g id="node590" class="node">
<title>mcpgateway.common.models.ToolAnnotations</title>
<polygon fill="white" stroke="#44bb99" points="173898.5,-4035.5 173898.5,-4179.5 174109.5,-4179.5 174109.5,-4035.5 173898.5,-4035.5"/>
<text text-anchor="start" x="173955.5" y="-4164.3" font-family="Arial" font-size="14.00">ToolAnnotations</text>
<polyline fill="none" stroke="#44bb99" points="173898.5,-4156.5 174109.5,-4156.5 "/>
<text text-anchor="start" x="173906.5" y="-4141.3" font-family="Arial" font-size="14.00">destructive_hint : Optional[bool]</text>
<text text-anchor="start" x="173906.5" y="-4126.3" font-family="Arial" font-size="14.00">idempotent_hint : Optional[bool]</text>
<text text-anchor="start" x="173906.5" y="-4111.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="173906.5" y="-4096.3" font-family="Arial" font-size="14.00">open_world_hint : Optional[bool]</text>
<text text-anchor="start" x="173906.5" y="-4081.3" font-family="Arial" font-size="14.00">read_only_hint : Optional[bool]</text>
<text text-anchor="start" x="173906.5" y="-4066.3" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="173898.5,-4058.5 174109.5,-4058.5 "/>
<text text-anchor="start" x="174002" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolCreate -->
<g id="node591" class="node">
<title>mcpgateway.schemas.ToolCreate</title>
<polygon fill="white" stroke="#77aadd" points="174127.5,-3750.5 174127.5,-4464.5 174822.5,-4464.5 174822.5,-3750.5 174127.5,-3750.5"/>
<text text-anchor="start" x="174442" y="-4449.3" font-family="Arial" font-size="14.00">ToolCreate</text>
<polyline fill="none" stroke="#77aadd" points="174127.5,-4441.5 174822.5,-4441.5 "/>
<text text-anchor="start" x="174135.5" y="-4426.3" font-family="Arial" font-size="14.00">allow_auto : bool</text>
<text text-anchor="start" x="174135.5" y="-4411.3" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="174135.5" y="-4396.3" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="174135.5" y="-4381.3" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="174135.5" y="-4366.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4351.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4336.3" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4321.3" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="174135.5" y="-4306.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4291.3" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="174135.5" y="-4276.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="174135.5" y="-4261.3" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="174135.5" y="-4246.3" font-family="Arial" font-size="14.00">integration_type : Optional[Literal[&#39;REST&#39;, &#39;MCP&#39;, &#39;A2A&#39;]]</text>
<text text-anchor="start" x="174135.5" y="-4231.3" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4216.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="174135.5" y="-4201.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4186.3" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="174135.5" y="-4171.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4156.3" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4141.3" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="174135.5" y="-4126.3" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="174135.5" y="-4111.3" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="174135.5" y="-4096.3" font-family="Arial" font-size="14.00">request_type : Optional[Literal[&#39;GET&#39;, &#39;POST&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, &#39;PATCH&#39;, &#39;SSE&#39;, &#39;STDIO&#39;, &#39;STREAMABLEHTTP&#39;]]</text>
<text text-anchor="start" x="174135.5" y="-4081.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="174135.5" y="-4066.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="174135.5" y="-4051.3" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="174135.5" y="-4036.3" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="174135.5" y="-4021.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="174127.5,-4013.5 174822.5,-4013.5 "/>
<text text-anchor="start" x="174258.5" y="-3998.3" font-family="Arial" font-size="14.00">assemble_auth(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="174258.5" y="-3983.3" font-family="Arial" font-size="14.00">enforce_passthrough_fields_for_rest(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="174258.5" y="-3968.3" font-family="Arial" font-size="14.00">extract_base_url_and_path_template(values: dict): dict</text>
<text text-anchor="start" x="174258.5" y="-3953.3" font-family="Arial" font-size="14.00">handle_timeout_ms_defaults()</text>
<text text-anchor="start" x="174258.5" y="-3938.3" font-family="Arial" font-size="14.00">prevent_manual_mcp_creation(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="174258.5" y="-3923.3" font-family="Arial" font-size="14.00">validate_allowlist(v)</text>
<text text-anchor="start" x="174258.5" y="-3908.3" font-family="Arial" font-size="14.00">validate_base_url(v)</text>
<text text-anchor="start" x="174258.5" y="-3893.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="174258.5" y="-3878.3" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="174258.5" y="-3863.3" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="174258.5" y="-3848.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="174258.5" y="-3833.3" font-family="Arial" font-size="14.00">validate_path_template(v)</text>
<text text-anchor="start" x="174258.5" y="-3818.3" font-family="Arial" font-size="14.00">validate_plugin_chain(v)</text>
<text text-anchor="start" x="174258.5" y="-3803.3" font-family="Arial" font-size="14.00">validate_request_type(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="174258.5" y="-3788.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="174258.5" y="-3773.3" font-family="Arial" font-size="14.00">validate_timeout_ms(v)</text>
<text text-anchor="start" x="174258.5" y="-3758.3" font-family="Arial" font-size="14.00">validate_url(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.services.tool_service.ToolError -->
<g id="node593" class="node">
<title>mcpgateway.services.tool_service.ToolError</title>
<polygon fill="white" stroke="#ffaabb" points="175189.5,-8874.1 175189.5,-8944.9 175260.5,-8944.9 175260.5,-8874.1 175189.5,-8874.1"/>
<text text-anchor="start" x="175197.5" y="-8929.7" font-family="Arial" font-size="14.00" fill="red">ToolError</text>
<polyline fill="none" stroke="#ffaabb" points="175189.5,-8921.9 175260.5,-8921.9 "/>
<polyline fill="none" stroke="#ffaabb" points="175189.5,-8897.1 175260.5,-8897.1 "/>
<text text-anchor="start" x="175223" y="-8881.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolHookType -->
<g id="node594" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolHookType</title>
<polygon fill="white" stroke="#ee8866" points="174980,-4073 174980,-4142 175082,-4142 175082,-4073 174980,-4073"/>
<text text-anchor="start" x="174988" y="-4126.8" font-family="Arial" font-size="14.00">ToolHookType</text>
<polyline fill="none" stroke="#ee8866" points="174980,-4119 175082,-4119 "/>
<text text-anchor="start" x="175013.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="174980,-4096 175082,-4096 "/>
<text text-anchor="start" x="175029" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolInvocation -->
<g id="node595" class="node">
<title>mcpgateway.schemas.ToolInvocation</title>
<polygon fill="white" stroke="#77aadd" points="175100,-4058 175100,-4157 175416,-4157 175416,-4058 175100,-4058"/>
<text text-anchor="start" x="175214.5" y="-4141.8" font-family="Arial" font-size="14.00">ToolInvocation</text>
<polyline fill="none" stroke="#77aadd" points="175100,-4134 175416,-4134 "/>
<text text-anchor="start" x="175153" y="-4118.8" font-family="Arial" font-size="14.00">arguments : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="175153" y="-4103.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="175100,-4096 175416,-4096 "/>
<text text-anchor="start" x="175108" y="-4080.8" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="175108" y="-4065.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
</g>
<!-- mcpgateway.services.tool_service.ToolInvocationError -->
<g id="node596" class="node">
<title>mcpgateway.services.tool_service.ToolInvocationError</title>
<polygon fill="white" stroke="#ffaabb" points="174834.5,-8423.1 174834.5,-8493.9 174967.5,-8493.9 174967.5,-8423.1 174834.5,-8423.1"/>
<text text-anchor="start" x="174842.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ToolInvocationError</text>
<polyline fill="none" stroke="#ffaabb" points="174834.5,-8470.9 174967.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="174834.5,-8446.1 174967.5,-8446.1 "/>
<text text-anchor="start" x="174899" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolInvocationError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge130" class="edge">
<title>mcpgateway.services.tool_service.ToolInvocationError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M174910,-8493.94C174921.41,-8533.83 174943.58,-8600.53 174976,-8651 175033.98,-8741.27 175126.89,-8826.81 175181.33,-8873.01"/>
<polygon fill="none" stroke="gray" points="175179.17,-8875.76 175189.07,-8879.53 175183.68,-8870.41 175179.17,-8875.76"/>
</g>
<!-- mcpgateway.common.models.ToolListChangedNotification -->
<g id="node597" class="node">
<title>mcpgateway.common.models.ToolListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="175433.5,-4073 175433.5,-4142 175740.5,-4142 175740.5,-4073 175433.5,-4073"/>
<text text-anchor="start" x="175503" y="-4126.8" font-family="Arial" font-size="14.00">ToolListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="175433.5,-4119 175740.5,-4119 "/>
<text text-anchor="start" x="175441.5" y="-4103.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/tools/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="175433.5,-4096 175740.5,-4096 "/>
<text text-anchor="start" x="175585" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolLockConflictError -->
<g id="node598" class="node">
<title>mcpgateway.services.tool_service.ToolLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="174985.5,-8423.1 174985.5,-8493.9 175130.5,-8493.9 175130.5,-8423.1 174985.5,-8423.1"/>
<text text-anchor="start" x="174993.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ToolLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="174985.5,-8470.9 175130.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="174985.5,-8446.1 175130.5,-8446.1 "/>
<text text-anchor="start" x="175056" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolLockConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge131" class="edge">
<title>mcpgateway.services.tool_service.ToolLockConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M175070.83,-8493.99C175100.79,-8574.54 175175.35,-8775 175208.57,-8864.33"/>
<polygon fill="none" stroke="gray" points="175205.36,-8865.74 175212.13,-8873.9 175211.92,-8863.3 175205.36,-8865.74"/>
</g>
<!-- mcpgateway.cache.tool_lookup_cache.ToolLookupCache -->
<g id="node599" class="node">
<title>mcpgateway.cache.tool_lookup_cache.ToolLookupCache</title>
<polygon fill="white" stroke="#99ddff" points="175759,-4020.5 175759,-4194.5 176291,-4194.5 176291,-4020.5 175759,-4020.5"/>
<text text-anchor="start" x="175970.5" y="-4179.3" font-family="Arial" font-size="14.00">ToolLookupCache</text>
<polyline fill="none" stroke="#99ddff" points="175759,-4171.5 176291,-4171.5 "/>
<text text-anchor="start" x="176000.5" y="-4156.3" font-family="Arial" font-size="14.00">enabled</text>
<polyline fill="none" stroke="#99ddff" points="175759,-4148.5 176291,-4148.5 "/>
<text text-anchor="start" x="175767" y="-4133.3" font-family="Arial" font-size="14.00">get(name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="175767" y="-4118.3" font-family="Arial" font-size="14.00">invalidate(name: str, gateway_id: Optional[str]): None</text>
<text text-anchor="start" x="175767" y="-4103.3" font-family="Arial" font-size="14.00">invalidate_all_local(): None</text>
<text text-anchor="start" x="175767" y="-4088.3" font-family="Arial" font-size="14.00">invalidate_gateway(gateway_id: str): None</text>
<text text-anchor="start" x="175767" y="-4073.3" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="175767" y="-4058.3" font-family="Arial" font-size="14.00">set(name: str, payload: Dict[str, Any], ttl: Optional[int], gateway_id: Optional[str]): None</text>
<text text-anchor="start" x="175767" y="-4043.3" font-family="Arial" font-size="14.00">set_negative(name: str, status: str): None</text>
<text text-anchor="start" x="175767" y="-4028.3" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.db.ToolMetric -->
<g id="node600" class="node">
<title>mcpgateway.db.ToolMetric</title>
<polygon fill="white" stroke="#77aadd" points="16160,-4028 16160,-4187 16410,-4187 16410,-4028 16160,-4028"/>
<text text-anchor="start" x="16253.5" y="-4171.8" font-family="Arial" font-size="14.00">ToolMetric</text>
<polyline fill="none" stroke="#77aadd" points="16160,-4164 16410,-4164 "/>
<text text-anchor="start" x="16168" y="-4148.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16168" y="-4133.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="16168" y="-4118.8" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="16168" y="-4103.8" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="16168" y="-4088.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="16168" y="-4073.8" font-family="Arial" font-size="14.00">tool : Mapped[&#39;Tool&#39;]</text>
<text text-anchor="start" x="16168" y="-4058.8" font-family="Arial" font-size="14.00">tool_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16160,-4051 16410,-4051 "/>
<text text-anchor="start" x="16283" y="-4035.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge61" class="edge">
<title>mcpgateway.db.ToolMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16288.54,-4187.13C16312.24,-4730.23 16438.17,-7912.09 16151,-8215 16027.88,-8344.87 10116.16,-8443.85 9346.33,-8456.2"/>
<polygon fill="none" stroke="gray" points="9346.11,-8452.7 9336.17,-8456.36 9346.23,-8459.7 9346.11,-8452.7"/>
</g>
<!-- mcpgateway.schemas.ToolMetrics -->
<g id="node601" class="node">
<title>mcpgateway.schemas.ToolMetrics</title>
<polygon fill="white" stroke="#77aadd" points="176309.5,-4020.5 176309.5,-4194.5 176568.5,-4194.5 176568.5,-4020.5 176309.5,-4020.5"/>
<text text-anchor="start" x="176404" y="-4179.3" font-family="Arial" font-size="14.00">ToolMetrics</text>
<polyline fill="none" stroke="#77aadd" points="176309.5,-4171.5 176568.5,-4171.5 "/>
<text text-anchor="start" x="176317.5" y="-4156.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="176317.5" y="-4141.3" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="176317.5" y="-4126.3" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="176317.5" y="-4111.3" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="176317.5" y="-4096.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="176317.5" y="-4081.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="176317.5" y="-4066.3" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="176317.5" y="-4051.3" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="176309.5,-4043.5 176568.5,-4043.5 "/>
<text text-anchor="start" x="176437" y="-4028.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetricsHourly -->
<g id="node602" class="node">
<title>mcpgateway.db.ToolMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="16428,-3975.5 16428,-4239.5 16720,-4239.5 16720,-3975.5 16428,-3975.5"/>
<text text-anchor="start" x="16519.5" y="-4224.3" font-family="Arial" font-size="14.00">ToolMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="16428,-4216.5 16720,-4216.5 "/>
<text text-anchor="start" x="16436" y="-4201.3" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4186.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="16436" y="-4171.3" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-4156.3" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="16436" y="-4141.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-4126.3" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4111.3" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4096.3" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4081.3" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4066.3" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-4051.3" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-4036.3" font-family="Arial" font-size="14.00">tool_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16436" y="-4021.3" font-family="Arial" font-size="14.00">tool_name : Mapped[str]</text>
<text text-anchor="start" x="16436" y="-4006.3" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="16428,-3998.5 16720,-3998.5 "/>
<text text-anchor="start" x="16572" y="-3983.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge62" class="edge">
<title>mcpgateway.db.ToolMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16579.09,-4239.75C16603.76,-4908.97 16698.57,-7921.14 16419,-8215 16290.68,-8349.88 10131.8,-8444.75 9346.15,-8456.31"/>
<polygon fill="none" stroke="gray" points="9346.01,-8452.81 9336.06,-8456.46 9346.11,-8459.81 9346.01,-8452.81"/>
</g>
<!-- mcpgateway.services.tool_service.ToolNameConflictError -->
<g id="node603" class="node">
<title>mcpgateway.services.tool_service.ToolNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="175148.5,-8409 175148.5,-8508 175301.5,-8508 175301.5,-8409 175148.5,-8409"/>
<text text-anchor="start" x="175156.5" y="-8492.8" font-family="Arial" font-size="14.00" fill="red">ToolNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="175148.5,-8485 175301.5,-8485 "/>
<text text-anchor="start" x="175163" y="-8469.8" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="175163" y="-8454.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="175163" y="-8439.8" font-family="Arial" font-size="14.00" fill="red">tool_id : Optional[int]</text>
<polyline fill="none" stroke="#ffaabb" points="175148.5,-8432 175301.5,-8432 "/>
<text text-anchor="start" x="175223" y="-8416.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolNameConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge132" class="edge">
<title>mcpgateway.services.tool_service.ToolNameConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M175225,-8508.41C175225,-8596.23 175225,-8779.35 175225,-8863.93"/>
<polygon fill="none" stroke="gray" points="175221.5,-8863.98 175225,-8873.98 175228.5,-8863.98 175221.5,-8863.98"/>
</g>
<!-- mcpgateway.services.tool_service.ToolNotFoundError -->
<g id="node604" class="node">
<title>mcpgateway.services.tool_service.ToolNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="175319.5,-8423.1 175319.5,-8493.9 175450.5,-8493.9 175450.5,-8423.1 175319.5,-8423.1"/>
<text text-anchor="start" x="175327.5" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ToolNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="175319.5,-8470.9 175450.5,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="175319.5,-8446.1 175450.5,-8446.1 "/>
<text text-anchor="start" x="175383" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolNotFoundError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge133" class="edge">
<title>mcpgateway.services.tool_service.ToolNotFoundError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M175372.71,-8493.99C175344,-8574.54 175272.57,-8775 175240.74,-8864.33"/>
<polygon fill="none" stroke="gray" points="175237.39,-8863.3 175237.33,-8873.9 175243.98,-8865.65 175237.39,-8863.3"/>
</g>
<!-- mcpgateway.db.ToolOpsTestCases -->
<g id="node605" class="node">
<title>mcpgateway.db.ToolOpsTestCases</title>
<polygon fill="white" stroke="#77aadd" points="16738,-4058 16738,-4157 16962,-4157 16962,-4058 16738,-4058"/>
<text text-anchor="start" x="16793" y="-4141.8" font-family="Arial" font-size="14.00">ToolOpsTestCases</text>
<polyline fill="none" stroke="#77aadd" points="16738,-4134 16962,-4134 "/>
<text text-anchor="start" x="16746" y="-4118.8" font-family="Arial" font-size="14.00">run_status : Mapped[str]</text>
<text text-anchor="start" x="16746" y="-4103.8" font-family="Arial" font-size="14.00">test_cases : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="16746" y="-4088.8" font-family="Arial" font-size="14.00">tool_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16738,-4081 16962,-4081 "/>
<text text-anchor="start" x="16848" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolOpsTestCases&#45;&gt;mcpgateway.db.Base -->
<g id="edge63" class="edge">
<title>mcpgateway.db.ToolOpsTestCases&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16852.38,-4157.02C16873.53,-4598.15 17021.83,-7905.68 16729,-8215 16595.28,-8356.25 10151.17,-8445.79 9346.25,-8456.43"/>
<polygon fill="none" stroke="gray" points="9346.16,-8452.93 9336.21,-8456.56 9346.25,-8459.93 9346.16,-8452.93"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolPostInvokePayload -->
<g id="node606" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolPostInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="176586.5,-4065.5 176586.5,-4149.5 176743.5,-4149.5 176743.5,-4065.5 176586.5,-4065.5"/>
<text text-anchor="start" x="176594.5" y="-4134.3" font-family="Arial" font-size="14.00">ToolPostInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="176586.5,-4126.5 176743.5,-4126.5 "/>
<text text-anchor="start" x="176631.5" y="-4111.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="176631.5" y="-4096.3" font-family="Arial" font-size="14.00">result : Any</text>
<polyline fill="none" stroke="#ee8866" points="176586.5,-4088.5 176743.5,-4088.5 "/>
<text text-anchor="start" x="176663" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolPreInvokePayload -->
<g id="node607" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolPreInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="176761.5,-4058 176761.5,-4157 177014.5,-4157 177014.5,-4058 176761.5,-4058"/>
<text text-anchor="start" x="176820.5" y="-4141.8" font-family="Arial" font-size="14.00">ToolPreInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="176761.5,-4134 177014.5,-4134 "/>
<text text-anchor="start" x="176769.5" y="-4118.8" font-family="Arial" font-size="14.00">args : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="176769.5" y="-4103.8" font-family="Arial" font-size="14.00">headers : Optional[HttpHeaderPayload]</text>
<text text-anchor="start" x="176769.5" y="-4088.8" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#ee8866" points="176761.5,-4081 177014.5,-4081 "/>
<text text-anchor="start" x="176886" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolRead -->
<g id="node608" class="node">
<title>mcpgateway.schemas.ToolRead</title>
<polygon fill="white" stroke="#77aadd" points="177032.5,-3705.5 177032.5,-4509.5 177295.5,-4509.5 177295.5,-3705.5 177032.5,-3705.5"/>
<text text-anchor="start" x="177135" y="-4494.3" font-family="Arial" font-size="14.00">ToolRead</text>
<polyline fill="none" stroke="#77aadd" points="177032.5,-4486.5 177295.5,-4486.5 "/>
<text text-anchor="start" x="177040.5" y="-4471.3" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="177040.5" y="-4456.3" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177040.5" y="-4441.3" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="177040.5" y="-4426.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4411.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="177040.5" y="-4396.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4381.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4366.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4351.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4336.3" font-family="Arial" font-size="14.00">custom_name : str</text>
<text text-anchor="start" x="177040.5" y="-4321.3" font-family="Arial" font-size="14.00">custom_name_slug : str</text>
<text text-anchor="start" x="177040.5" y="-4306.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4291.3" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4276.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="177040.5" y="-4261.3" font-family="Arial" font-size="14.00">execution_count : Optional[int]</text>
<text text-anchor="start" x="177040.5" y="-4246.3" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="177040.5" y="-4231.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4216.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4201.3" font-family="Arial" font-size="14.00">gateway_slug : str</text>
<text text-anchor="start" x="177040.5" y="-4186.3" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177040.5" y="-4171.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="177040.5" y="-4156.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="177040.5" y="-4141.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4126.3" font-family="Arial" font-size="14.00">input_schema : Dict[str, Any]</text>
<text text-anchor="start" x="177040.5" y="-4111.3" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="177040.5" y="-4096.3" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4081.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177040.5" y="-4066.3" font-family="Arial" font-size="14.00">metrics : Optional[ToolMetrics]</text>
<text text-anchor="start" x="177040.5" y="-4051.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4036.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4021.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-4006.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3991.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="177040.5" y="-3976.3" font-family="Arial" font-size="14.00">original_name : str</text>
<text text-anchor="start" x="177040.5" y="-3961.3" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177040.5" y="-3946.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3931.3" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3916.3" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="177040.5" y="-3901.3" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="177040.5" y="-3886.3" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177040.5" y="-3871.3" font-family="Arial" font-size="14.00">reachable : bool</text>
<text text-anchor="start" x="177040.5" y="-3856.3" font-family="Arial" font-size="14.00">request_type : str</text>
<text text-anchor="start" x="177040.5" y="-3841.3" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="177040.5" y="-3826.3" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3811.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3796.3" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="177040.5" y="-3781.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="177040.5" y="-3766.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="177040.5" y="-3751.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="177040.5" y="-3736.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="177032.5,-3728.5 177295.5,-3728.5 "/>
<text text-anchor="start" x="177162" y="-3713.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolResult -->
<g id="node609" class="node">
<title>mcpgateway.schemas.ToolResult</title>
<polygon fill="white" stroke="#77aadd" points="177314,-4050.5 177314,-4164.5 177622,-4164.5 177622,-4050.5 177314,-4050.5"/>
<text text-anchor="start" x="177436" y="-4149.3" font-family="Arial" font-size="14.00">ToolResult</text>
<polyline fill="none" stroke="#77aadd" points="177314,-4141.5 177622,-4141.5 "/>
<text text-anchor="start" x="177322" y="-4126.3" font-family="Arial" font-size="14.00">content : List[Union[TextContent, ImageContent]]</text>
<text text-anchor="start" x="177322" y="-4111.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="177322" y="-4096.3" font-family="Arial" font-size="14.00">is_error : bool</text>
<text text-anchor="start" x="177322" y="-4081.3" font-family="Arial" font-size="14.00">structured_content : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="177314,-4073.5 177622,-4073.5 "/>
<text text-anchor="start" x="177466" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ToolTemplate -->
<g id="node611" class="node">
<title>mcpgateway.plugins.framework.models.ToolTemplate</title>
<polygon fill="white" stroke="#ee8866" points="33338.5,-4058 33338.5,-4157 33495.5,-4157 33495.5,-4058 33338.5,-4058"/>
<text text-anchor="start" x="33376.5" y="-4141.8" font-family="Arial" font-size="14.00">ToolTemplate</text>
<polyline fill="none" stroke="#ee8866" points="33338.5,-4134 33495.5,-4134 "/>
<text text-anchor="start" x="33346.5" y="-4118.8" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="33346.5" y="-4103.8" font-family="Arial" font-size="14.00">result : bool</text>
<text text-anchor="start" x="33346.5" y="-4088.8" font-family="Arial" font-size="14.00">tool_name : str</text>
<polyline fill="none" stroke="#ee8866" points="33338.5,-4081 33495.5,-4081 "/>
<text text-anchor="start" x="33415" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ToolTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge80" class="edge">
<title>mcpgateway.plugins.framework.models.ToolTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M33421.81,-4157.09C33454.42,-4498.64 33632.81,-6572.88 33329,-8215 33316.3,-8283.65 33286.74,-8358.74 33265.61,-8406.9"/>
<polygon fill="none" stroke="gray" points="33262.35,-8405.6 33261.5,-8416.16 33268.75,-8408.43 33262.35,-8405.6"/>
</g>
<!-- mcpgateway.services.tool_service.ToolTimeoutError -->
<g id="node612" class="node">
<title>mcpgateway.services.tool_service.ToolTimeoutError</title>
<polygon fill="white" stroke="#ffaabb" points="174840.5,-4072.1 174840.5,-4142.9 174961.5,-4142.9 174961.5,-4072.1 174840.5,-4072.1"/>
<text text-anchor="start" x="174848.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">ToolTimeoutError</text>
<polyline fill="none" stroke="#ffaabb" points="174840.5,-4119.9 174961.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="174840.5,-4095.1 174961.5,-4095.1 "/>
<text text-anchor="start" x="174899" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolTimeoutError&#45;&gt;mcpgateway.services.tool_service.ToolInvocationError -->
<g id="edge134" class="edge">
<title>mcpgateway.services.tool_service.ToolTimeoutError&#45;&gt;mcpgateway.services.tool_service.ToolInvocationError</title>
<path fill="none" stroke="gray" d="M174901,-4143.19C174901,-4527.25 174901,-7979.28 174901,-8412.83"/>
<polygon fill="none" stroke="gray" points="174897.5,-8413.08 174901,-8423.08 174904.5,-8413.08 174897.5,-8413.08"/>
</g>
<!-- mcpgateway.schemas.ToolUpdate -->
<g id="node613" class="node">
<title>mcpgateway.schemas.ToolUpdate</title>
<polygon fill="white" stroke="#77aadd" points="177640,-3780.5 177640,-4434.5 178098,-4434.5 178098,-3780.5 177640,-3780.5"/>
<text text-anchor="start" x="177834.5" y="-4419.3" font-family="Arial" font-size="14.00">ToolUpdate</text>
<polyline fill="none" stroke="#77aadd" points="177640,-4411.5 178098,-4411.5 "/>
<text text-anchor="start" x="177648" y="-4396.3" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="177648" y="-4381.3" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177648" y="-4366.3" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="177648" y="-4351.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4336.3" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4321.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4306.3" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4291.3" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="177648" y="-4276.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4261.3" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177648" y="-4246.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="177648" y="-4231.3" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177648" y="-4216.3" font-family="Arial" font-size="14.00">integration_type : Optional[Literal[&#39;REST&#39;, &#39;MCP&#39;, &#39;A2A&#39;]]</text>
<text text-anchor="start" x="177648" y="-4201.3" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4186.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4171.3" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177648" y="-4156.3" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="177648" y="-4141.3" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="177648" y="-4126.3" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="177648" y="-4111.3" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="177648" y="-4096.3" font-family="Arial" font-size="14.00">request_type : Optional[Literal[&#39;GET&#39;, &#39;POST&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, &#39;PATCH&#39;]]</text>
<text text-anchor="start" x="177648" y="-4081.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="177648" y="-4066.3" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="177648" y="-4051.3" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="177648" y="-4036.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="177640,-4028.5 178098,-4028.5 "/>
<text text-anchor="start" x="177672" y="-4013.3" font-family="Arial" font-size="14.00">assemble_auth(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="177672" y="-3998.3" font-family="Arial" font-size="14.00">extract_base_url_and_path_template(values: dict): dict</text>
<text text-anchor="start" x="177672" y="-3983.3" font-family="Arial" font-size="14.00">prevent_manual_mcp_update(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="177672" y="-3968.3" font-family="Arial" font-size="14.00">validate_allowlist(v)</text>
<text text-anchor="start" x="177672" y="-3953.3" font-family="Arial" font-size="14.00">validate_base_url(v)</text>
<text text-anchor="start" x="177672" y="-3938.3" font-family="Arial" font-size="14.00">validate_custom_name(v: str): str</text>
<text text-anchor="start" x="177672" y="-3923.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="177672" y="-3908.3" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="177672" y="-3893.3" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="177672" y="-3878.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="177672" y="-3863.3" font-family="Arial" font-size="14.00">validate_path_template(v)</text>
<text text-anchor="start" x="177672" y="-3848.3" font-family="Arial" font-size="14.00">validate_plugin_chain(v)</text>
<text text-anchor="start" x="177672" y="-3833.3" font-family="Arial" font-size="14.00">validate_request_type(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="177672" y="-3818.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="177672" y="-3803.3" font-family="Arial" font-size="14.00">validate_timeout_ms(v)</text>
<text text-anchor="start" x="177672" y="-3788.3" font-family="Arial" font-size="14.00">validate_url(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.services.tool_service.ToolValidationError -->
<g id="node614" class="node">
<title>mcpgateway.services.tool_service.ToolValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="175469,-8423.1 175469,-8493.9 175599,-8493.9 175599,-8423.1 175469,-8423.1"/>
<text text-anchor="start" x="175477" y="-8478.7" font-family="Arial" font-size="14.00" fill="red">ToolValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="175469,-8470.9 175599,-8470.9 "/>
<polyline fill="none" stroke="#ffaabb" points="175469,-8446.1 175599,-8446.1 "/>
<text text-anchor="start" x="175532" y="-8430.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolValidationError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge135" class="edge">
<title>mcpgateway.services.tool_service.ToolValidationError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M175524.61,-8494.12C175512.91,-8533.88 175490.54,-8600.18 175459,-8651 175404.92,-8738.14 175319.64,-8822.96 175268.34,-8870.21"/>
<polygon fill="none" stroke="gray" points="175265.73,-8867.85 175260.72,-8877.18 175270.46,-8873.01 175265.73,-8867.85"/>
</g>
<!-- mcpgateway.schemas.TopPerformer -->
<g id="node615" class="node">
<title>mcpgateway.schemas.TopPerformer</title>
<polygon fill="white" stroke="#77aadd" points="178116,-4035.5 178116,-4179.5 178346,-4179.5 178346,-4035.5 178116,-4035.5"/>
<text text-anchor="start" x="178189.5" y="-4164.3" font-family="Arial" font-size="14.00">TopPerformer</text>
<polyline fill="none" stroke="#77aadd" points="178116,-4156.5 178346,-4156.5 "/>
<text text-anchor="start" x="178124" y="-4141.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="178124" y="-4126.3" font-family="Arial" font-size="14.00">execution_count : Optional[int]</text>
<text text-anchor="start" x="178124" y="-4111.3" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="178124" y="-4096.3" font-family="Arial" font-size="14.00">last_execution : Optional[datetime]</text>
<text text-anchor="start" x="178124" y="-4081.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="178124" y="-4066.3" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="178116,-4058.5 178346,-4058.5 "/>
<text text-anchor="start" x="178229" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_query_service.TopPerformerResult -->
<g id="node616" class="node">
<title>mcpgateway.services.metrics_query_service.TopPerformerResult</title>
<polygon fill="white" stroke="#ffaabb" points="178364,-4035.5 178364,-4179.5 178594,-4179.5 178594,-4035.5 178364,-4035.5"/>
<text text-anchor="start" x="178418.5" y="-4164.3" font-family="Arial" font-size="14.00">TopPerformerResult</text>
<polyline fill="none" stroke="#ffaabb" points="178364,-4156.5 178594,-4156.5 "/>
<text text-anchor="start" x="178372" y="-4141.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="178372" y="-4126.3" font-family="Arial" font-size="14.00">execution_count : int</text>
<text text-anchor="start" x="178372" y="-4111.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="178372" y="-4096.3" font-family="Arial" font-size="14.00">last_execution : Optional[datetime]</text>
<text text-anchor="start" x="178372" y="-4081.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="178372" y="-4066.3" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="178364,-4058.5 178594,-4058.5 "/>
<text text-anchor="start" x="178477" y="-4043.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TransportType -->
<g id="node618" class="node">
<title>mcpgateway.schemas.TransportType</title>
<polygon fill="white" stroke="#77aadd" points="178612,-4073 178612,-4142 178716,-4142 178716,-4073 178612,-4073"/>
<text text-anchor="start" x="178620" y="-4126.8" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#77aadd" points="178612,-4119 178716,-4119 "/>
<text text-anchor="start" x="178646.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="178612,-4096 178716,-4096 "/>
<text text-anchor="start" x="178662" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.TransportType -->
<g id="node619" class="node">
<title>mcpgateway.services.mcp_session_pool.TransportType</title>
<polygon fill="white" stroke="#ffaabb" points="127982,-4073 127982,-4142 128086,-4142 128086,-4073 127982,-4073"/>
<text text-anchor="start" x="127990" y="-4126.8" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#ffaabb" points="127982,-4119 128086,-4119 "/>
<text text-anchor="start" x="128016.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="127982,-4096 128086,-4096 "/>
<text text-anchor="start" x="128032" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.TransportType&#45;&gt;mcpgateway.services.mcp_session_pool.PooledSession -->
<g id="edge180" class="edge">
<title>mcpgateway.services.mcp_session_pool.TransportType&#45;&gt;mcpgateway.services.mcp_session_pool.PooledSession</title>
<path fill="none" stroke="gray" d="M128034,-4142.25C128034,-4500.6 128034,-7606.37 128034,-8314.29"/>
<polygon fill="gray" stroke="gray" points="128034,-8314.3 128038,-8320.3 128034,-8326.3 128030,-8320.3 128034,-8314.3"/>
<text text-anchor="middle" x="128077.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">transport_type</text>
</g>
<!-- mcpgateway.common.models.TransportType -->
<g id="node620" class="node">
<title>mcpgateway.common.models.TransportType</title>
<polygon fill="white" stroke="#44bb99" points="98832,-4073 98832,-4142 98936,-4142 98936,-4073 98832,-4073"/>
<text text-anchor="start" x="98840" y="-4126.8" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#44bb99" points="98832,-4119 98936,-4119 "/>
<text text-anchor="start" x="98866.5" y="-4103.8" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="98832,-4096 98936,-4096 "/>
<text text-anchor="start" x="98882" y="-4080.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TransportType&#45;&gt;mcpgateway.plugins.framework.models.MCPClientConfig -->
<g id="edge155" class="edge">
<title>mcpgateway.common.models.TransportType&#45;&gt;mcpgateway.plugins.framework.models.MCPClientConfig</title>
<path fill="none" stroke="gray" d="M98884,-4142.25C98884,-4499.36 98884,-7585.02 98884,-8306.89"/>
<polygon fill="gray" stroke="gray" points="98884,-8306.89 98888,-8312.89 98884,-8318.89 98880,-8312.89 98884,-8306.89"/>
<text text-anchor="middle" x="98899.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">proto</text>
</g>
<!-- mcpgateway.plugins.framework.models.UnixSocketClientConfig -->
<g id="node621" class="node">
<title>mcpgateway.plugins.framework.models.UnixSocketClientConfig</title>
<polygon fill="white" stroke="#ee8866" points="178734,-4050.5 178734,-4164.5 178954,-4164.5 178954,-4050.5 178734,-4050.5"/>
<text text-anchor="start" x="178773" y="-4149.3" font-family="Arial" font-size="14.00">UnixSocketClientConfig</text>
<polyline fill="none" stroke="#ee8866" points="178734,-4141.5 178954,-4141.5 "/>
<text text-anchor="start" x="178742" y="-4126.3" font-family="Arial" font-size="14.00">path : Optional[str]</text>
<text text-anchor="start" x="178742" y="-4111.3" font-family="Arial" font-size="14.00">reconnect_attempts : Optional[int]</text>
<text text-anchor="start" x="178742" y="-4096.3" font-family="Arial" font-size="14.00">reconnect_delay : Optional[float]</text>
<text text-anchor="start" x="178742" y="-4081.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ee8866" points="178734,-4073.5 178954,-4073.5 "/>
<text text-anchor="start" x="178763.5" y="-4058.3" font-family="Arial" font-size="14.00">validate_path(path: str): str</text>
</g>
<!-- mcpgateway.plugins.framework.external.unix.client.UnixSocketExternalPlugin -->
<g id="node622" class="node">
<title>mcpgateway.plugins.framework.external.unix.client.UnixSocketExternalPlugin</title>
<polygon fill="white" stroke="#ee8866" points="60110.5,-4058 60110.5,-4157 60605.5,-4157 60605.5,-4058 60110.5,-4058"/>
<text text-anchor="start" x="60280" y="-4141.8" font-family="Arial" font-size="14.00">UnixSocketExternalPlugin</text>
<polyline fill="none" stroke="#ee8866" points="60110.5,-4134 60605.5,-4134 "/>
<text text-anchor="start" x="60326.5" y="-4118.8" font-family="Arial" font-size="14.00">connected</text>
<polyline fill="none" stroke="#ee8866" points="60110.5,-4111 60605.5,-4111 "/>
<text text-anchor="start" x="60118.5" y="-4095.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="60118.5" y="-4080.8" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: Any, context: PluginContext): PluginResult</text>
<text text-anchor="start" x="60118.5" y="-4065.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.unix.client.UnixSocketExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin -->
<g id="edge72" class="edge">
<title>mcpgateway.plugins.framework.external.unix.client.UnixSocketExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin</title>
<path fill="none" stroke="gray" d="M60368.49,-4157.18C60442.14,-4511.09 60857.23,-6717.31 60101,-8215 60074,-8268.47 60029.41,-8314.69 59983.23,-8352.01"/>
<polygon fill="none" stroke="gray" points="59980.85,-8349.43 59975.21,-8358.4 59985.21,-8354.91 59980.85,-8349.43"/>
</g>
<!-- mcpgateway.plugins.framework.external.unix.server.server.UnixSocketPluginServer -->
<g id="node623" class="node">
<title>mcpgateway.plugins.framework.external.unix.server.server.UnixSocketPluginServer</title>
<polygon fill="white" stroke="#ee8866" points="178972,-4050.5 178972,-4164.5 179134,-4164.5 179134,-4050.5 178972,-4050.5"/>
<text text-anchor="start" x="178980" y="-4149.3" font-family="Arial" font-size="14.00">UnixSocketPluginServer</text>
<polyline fill="none" stroke="#ee8866" points="178972,-4141.5 179134,-4141.5 "/>
<text text-anchor="start" x="179016.5" y="-4126.3" font-family="Arial" font-size="14.00">running</text>
<text text-anchor="start" x="179016.5" y="-4111.3" font-family="Arial" font-size="14.00">socket_path</text>
<polyline fill="none" stroke="#ee8866" points="178972,-4103.5 179134,-4103.5 "/>
<text text-anchor="start" x="178987" y="-4088.3" font-family="Arial" font-size="14.00">serve_forever(): None</text>
<text text-anchor="start" x="178987" y="-4073.3" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="178987" y="-4058.3" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.UnixSocketServerConfig -->
<g id="node624" class="node">
<title>mcpgateway.plugins.framework.models.UnixSocketServerConfig</title>
<polygon fill="white" stroke="#ee8866" points="179152,-4073 179152,-4142 179454,-4142 179454,-4073 179152,-4073"/>
<text text-anchor="start" x="179229" y="-4126.8" font-family="Arial" font-size="14.00">UnixSocketServerConfig</text>
<polyline fill="none" stroke="#ee8866" points="179152,-4119 179454,-4119 "/>
<text text-anchor="start" x="179247" y="-4103.8" font-family="Arial" font-size="14.00">path : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="179152,-4096 179454,-4096 "/>
<text text-anchor="start" x="179160" y="-4080.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;UnixSocketServerConfig&#39;]</text>
</g>
<!-- mcpgateway.llm_schemas.UsageStats -->
<g id="node625" class="node">
<title>mcpgateway.llm_schemas.UsageStats</title>
<polygon fill="white" stroke="#77aadd" points="54768.5,-4058 54768.5,-4157 54923.5,-4157 54923.5,-4058 54768.5,-4058"/>
<text text-anchor="start" x="54811" y="-4141.8" font-family="Arial" font-size="14.00">UsageStats</text>
<polyline fill="none" stroke="#77aadd" points="54768.5,-4134 54923.5,-4134 "/>
<text text-anchor="start" x="54776.5" y="-4118.8" font-family="Arial" font-size="14.00">completion_tokens : int</text>
<text text-anchor="start" x="54776.5" y="-4103.8" font-family="Arial" font-size="14.00">prompt_tokens : int</text>
<text text-anchor="start" x="54776.5" y="-4088.8" font-family="Arial" font-size="14.00">total_tokens : int</text>
<polyline fill="none" stroke="#77aadd" points="54768.5,-4081 54923.5,-4081 "/>
<text text-anchor="start" x="54844" y="-4065.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.UsageStats&#45;&gt;mcpgateway.llm_schemas.EmbeddingResponse -->
<g id="edge161" class="edge">
<title>mcpgateway.llm_schemas.UsageStats&#45;&gt;mcpgateway.llm_schemas.EmbeddingResponse</title>
<path fill="none" stroke="gray" d="M54846,-4157.34C54846,-4597.38 54846,-7874.34 54846,-8389.44"/>
<polygon fill="gray" stroke="gray" points="54846,-8389.45 54850,-8395.45 54846,-8401.45 54842,-8395.45 54846,-8389.45"/>
<text text-anchor="middle" x="54864.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">usage</text>
</g>
<!-- mcpgateway.services.email_auth_service.UserExistsError -->
<g id="node626" class="node">
<title>mcpgateway.services.email_auth_service.UserExistsError</title>
<polygon fill="white" stroke="#ffaabb" points="179472.5,-4072.1 179472.5,-4142.9 179583.5,-4142.9 179583.5,-4072.1 179472.5,-4072.1"/>
<text text-anchor="start" x="179480.5" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">UserExistsError</text>
<polyline fill="none" stroke="#ffaabb" points="179472.5,-4119.9 179583.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="179472.5,-4095.1 179583.5,-4095.1 "/>
<text text-anchor="start" x="179526" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.UserListResponse -->
<g id="node627" class="node">
<title>mcpgateway.schemas.UserListResponse</title>
<polygon fill="white" stroke="#77aadd" points="179601.5,-4050.5 179601.5,-4164.5 179868.5,-4164.5 179868.5,-4050.5 179601.5,-4050.5"/>
<text text-anchor="start" x="179679.5" y="-4149.3" font-family="Arial" font-size="14.00">UserListResponse</text>
<polyline fill="none" stroke="#77aadd" points="179601.5,-4141.5 179868.5,-4141.5 "/>
<text text-anchor="start" x="179609.5" y="-4126.3" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="179609.5" y="-4111.3" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="179609.5" y="-4096.3" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<text text-anchor="start" x="179609.5" y="-4081.3" font-family="Arial" font-size="14.00">users : Optional[list[EmailUserResponse]]</text>
<polyline fill="none" stroke="#77aadd" points="179601.5,-4073.5 179868.5,-4073.5 "/>
<text text-anchor="start" x="179733" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.UserNotFoundError -->
<g id="node628" class="node">
<title>mcpgateway.services.team_management_service.UserNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="83780,-4072.1 83780,-4142.9 83914,-4142.9 83914,-4072.1 83780,-4072.1"/>
<text text-anchor="start" x="83788" y="-4127.7" font-family="Arial" font-size="14.00" fill="red">UserNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="83780,-4119.9 83914,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="83780,-4095.1 83914,-4095.1 "/>
<text text-anchor="start" x="83845" y="-4079.9" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.team_management_service.UserNotFoundError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError -->
<g id="edge129" class="edge">
<title>mcpgateway.services.team_management_service.UserNotFoundError&#45;&gt;mcpgateway.services.team_management_service.TeamManagementError</title>
<path fill="none" stroke="gray" d="M83848.32,-4142.92C83862.5,-4517.98 83981.63,-7839.54 83771,-8215 83708.66,-8326.12 83571.95,-8393.88 83480.4,-8428.55"/>
<polygon fill="none" stroke="gray" points="83479,-8425.34 83470.86,-8432.11 83481.45,-8431.9 83479,-8425.34"/>
</g>
<!-- mcpgateway.db.UserRole -->
<g id="node629" class="node">
<title>mcpgateway.db.UserRole</title>
<polygon fill="white" stroke="#77aadd" points="16980,-4005.5 16980,-4209.5 17238,-4209.5 17238,-4005.5 16980,-4005.5"/>
<text text-anchor="start" x="17080.5" y="-4194.3" font-family="Arial" font-size="14.00">UserRole</text>
<polyline fill="none" stroke="#77aadd" points="16980,-4186.5 17238,-4186.5 "/>
<text text-anchor="start" x="16988" y="-4171.3" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="16988" y="-4156.3" font-family="Arial" font-size="14.00">granted_at : Mapped[datetime]</text>
<text text-anchor="start" x="16988" y="-4141.3" font-family="Arial" font-size="14.00">granted_by : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-4126.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-4111.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="16988" y="-4096.3" font-family="Arial" font-size="14.00">role : Mapped[&#39;Role&#39;]</text>
<text text-anchor="start" x="16988" y="-4081.3" font-family="Arial" font-size="14.00">role_id : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-4066.3" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-4051.3" font-family="Arial" font-size="14.00">scope_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16988" y="-4036.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16980,-4028.5 17238,-4028.5 "/>
<text text-anchor="start" x="17057" y="-4013.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.db.UserRole&#45;&gt;mcpgateway.db.Base -->
<g id="edge64" class="edge">
<title>mcpgateway.db.UserRole&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M17113.36,-4209.73C17138.33,-4812.63 17252.42,-7914.16 16971,-8215 16833.68,-8361.8 10166.23,-8446.64 9346.36,-8456.53"/>
<polygon fill="none" stroke="gray" points="9346.09,-8453.03 9336.13,-8456.65 9346.17,-8460.03 9346.09,-8453.03"/>
</g>
<!-- mcpgateway.schemas.UserRoleAssignRequest -->
<g id="node630" class="node">
<title>mcpgateway.schemas.UserRoleAssignRequest</title>
<polygon fill="white" stroke="#77aadd" points="179886.5,-4050.5 179886.5,-4164.5 180087.5,-4164.5 180087.5,-4050.5 179886.5,-4050.5"/>
<text text-anchor="start" x="179913" y="-4149.3" font-family="Arial" font-size="14.00">UserRoleAssignRequest</text>
<polyline fill="none" stroke="#77aadd" points="179886.5,-4141.5 180087.5,-4141.5 "/>
<text text-anchor="start" x="179894.5" y="-4126.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="179894.5" y="-4111.3" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="179894.5" y="-4096.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="179894.5" y="-4081.3" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="179886.5,-4073.5 180087.5,-4073.5 "/>
<text text-anchor="start" x="179985" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.UserRoleAssignment -->
<g id="node631" class="node">
<title>mcpgateway.common.models.UserRoleAssignment</title>
<polygon fill="white" stroke="#44bb99" points="180105.5,-4013 180105.5,-4202 180308.5,-4202 180308.5,-4013 180105.5,-4013"/>
<text text-anchor="start" x="180143" y="-4186.8" font-family="Arial" font-size="14.00">UserRoleAssignment</text>
<polyline fill="none" stroke="#44bb99" points="180105.5,-4179 180308.5,-4179 "/>
<text text-anchor="start" x="180113.5" y="-4163.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="180113.5" y="-4148.8" font-family="Arial" font-size="14.00">granted_at : Optional[datetime]</text>
<text text-anchor="start" x="180113.5" y="-4133.8" font-family="Arial" font-size="14.00">granted_by : Optional[str]</text>
<text text-anchor="start" x="180113.5" y="-4118.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="180113.5" y="-4103.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="180113.5" y="-4088.8" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="180113.5" y="-4073.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="180113.5" y="-4058.8" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<text text-anchor="start" x="180113.5" y="-4043.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="180105.5,-4036 180308.5,-4036 "/>
<text text-anchor="start" x="180205" y="-4020.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.UserRoleResponse -->
<g id="node632" class="node">
<title>mcpgateway.schemas.UserRoleResponse</title>
<polygon fill="white" stroke="#77aadd" points="180326.5,-3998 180326.5,-4217 180529.5,-4217 180529.5,-3998 180326.5,-3998"/>
<text text-anchor="start" x="180369" y="-4201.8" font-family="Arial" font-size="14.00">UserRoleResponse</text>
<polyline fill="none" stroke="#77aadd" points="180326.5,-4194 180529.5,-4194 "/>
<text text-anchor="start" x="180334.5" y="-4178.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="180334.5" y="-4163.8" font-family="Arial" font-size="14.00">granted_at : Optional[datetime]</text>
<text text-anchor="start" x="180334.5" y="-4148.8" font-family="Arial" font-size="14.00">granted_by : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4133.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4118.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="180334.5" y="-4103.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="180334.5" y="-4088.8" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4073.8" font-family="Arial" font-size="14.00">role_name : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4058.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4043.8" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<text text-anchor="start" x="180334.5" y="-4028.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="180326.5,-4021 180529.5,-4021 "/>
<text text-anchor="start" x="180426" y="-4005.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.email_auth_service.UsersListResult -->
<g id="node633" class="node">
<title>mcpgateway.services.email_auth_service.UsersListResult</title>
<polygon fill="white" stroke="#ffaabb" points="180547.5,-4050.5 180547.5,-4164.5 180790.5,-4164.5 180790.5,-4050.5 180547.5,-4050.5"/>
<text text-anchor="start" x="180621.5" y="-4149.3" font-family="Arial" font-size="14.00">UsersListResult</text>
<polyline fill="none" stroke="#ffaabb" points="180547.5,-4141.5 180790.5,-4141.5 "/>
<text text-anchor="start" x="180555.5" y="-4126.3" font-family="Arial" font-size="14.00">data : list[EmailUser]</text>
<text text-anchor="start" x="180555.5" y="-4111.3" font-family="Arial" font-size="14.00">links : Optional[PaginationLinks]</text>
<text text-anchor="start" x="180555.5" y="-4096.3" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="180555.5" y="-4081.3" font-family="Arial" font-size="14.00">pagination : Optional[PaginationMeta]</text>
<polyline fill="none" stroke="#ffaabb" points="180547.5,-4073.5 180790.5,-4073.5 "/>
<text text-anchor="start" x="180667" y="-4058.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.validation_middleware.ValidationMiddleware -->
<g id="node634" class="node">
<title>mcpgateway.middleware.validation_middleware.ValidationMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="180808.5,-4035.5 180808.5,-4179.5 181047.5,-4179.5 181047.5,-4035.5 180808.5,-4035.5"/>
<text text-anchor="start" x="180863.5" y="-4164.3" font-family="Arial" font-size="14.00">ValidationMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="180808.5,-4156.5 181047.5,-4156.5 "/>
<text text-anchor="start" x="180867.5" y="-4141.3" font-family="Arial" font-size="14.00">allowed_roots</text>
<text text-anchor="start" x="180867.5" y="-4126.3" font-family="Arial" font-size="14.00">dangerous_patterns</text>
<text text-anchor="start" x="180867.5" y="-4111.3" font-family="Arial" font-size="14.00">enabled</text>
<text text-anchor="start" x="180867.5" y="-4096.3" font-family="Arial" font-size="14.00">sanitize</text>
<text text-anchor="start" x="180867.5" y="-4081.3" font-family="Arial" font-size="14.00">strict</text>
<polyline fill="none" stroke="#eedd88" points="180808.5,-4073.5 181047.5,-4073.5 "/>
<text text-anchor="start" x="180816.5" y="-4058.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
<text text-anchor="start" x="180816.5" y="-4043.3" font-family="Arial" font-size="14.00">validate_resource_path(path: str): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxConfig -->
<g id="node635" class="node">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxConfig</title>
<polygon fill="white" stroke="#ffaabb" points="181065.5,-3990.5 181065.5,-4224.5 181274.5,-4224.5 181274.5,-3990.5 181065.5,-3990.5"/>
<text text-anchor="start" x="181124" y="-4209.3" font-family="Arial" font-size="14.00">WatsonxConfig</text>
<polyline fill="none" stroke="#ffaabb" points="181065.5,-4201.5 181274.5,-4201.5 "/>
<text text-anchor="start" x="181073.5" y="-4186.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="181073.5" y="-4171.3" font-family="Arial" font-size="14.00">decoding_method : Optional[str]</text>
<text text-anchor="start" x="181073.5" y="-4156.3" font-family="Arial" font-size="14.00">max_new_tokens : Optional[int]</text>
<text text-anchor="start" x="181073.5" y="-4141.3" font-family="Arial" font-size="14.00">min_new_tokens : Optional[int]</text>
<text text-anchor="start" x="181073.5" y="-4126.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="181073.5" y="-4111.3" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="181073.5" y="-4096.3" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<text text-anchor="start" x="181073.5" y="-4081.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="181073.5" y="-4066.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<text text-anchor="start" x="181073.5" y="-4051.3" font-family="Arial" font-size="14.00">top_k : Optional[int]</text>
<text text-anchor="start" x="181073.5" y="-4036.3" font-family="Arial" font-size="14.00">top_p : Optional[float]</text>
<text text-anchor="start" x="181073.5" y="-4021.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="181065.5,-4013.5 181274.5,-4013.5 "/>
<text text-anchor="start" x="181168" y="-3998.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxProvider -->
<g id="node636" class="node">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxProvider</title>
<polygon fill="white" stroke="#ffaabb" points="180990.5,-8409 180990.5,-8508 181349.5,-8508 181349.5,-8409 180990.5,-8409"/>
<text text-anchor="start" x="181118.5" y="-8492.8" font-family="Arial" font-size="14.00">WatsonxProvider</text>
<polyline fill="none" stroke="#ffaabb" points="180990.5,-8485 181349.5,-8485 "/>
<text text-anchor="start" x="181124.5" y="-8469.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="181124.5" y="-8454.8" font-family="Arial" font-size="14.00">llm : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="180990.5,-8447 181349.5,-8447 "/>
<text text-anchor="start" x="180998.5" y="-8431.8" font-family="Arial" font-size="14.00">get_llm(model_type): Union[WatsonxLLM, ChatWatsonx]</text>
<text text-anchor="start" x="180998.5" y="-8416.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.WatsonxProvider -->
<g id="edge199" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.WatsonxProvider</title>
<path fill="none" stroke="gray" d="M181170,-4224.54C181170,-4861.93 181170,-7925.61 181170,-8396.65"/>
<polygon fill="none" stroke="gray" points="181170,-8396.88 181174,-8402.88 181170,-8408.88 181166,-8402.88 181170,-8396.88"/>
<text text-anchor="middle" x="181188.5" y="-8236.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.common.models.WebSocketMessage -->
<g id="node637" class="node">
<title>mcpgateway.common.models.WebSocketMessage</title>
<polygon fill="white" stroke="#44bb99" points="181292.5,-4065.5 181292.5,-4149.5 181433.5,-4149.5 181433.5,-4065.5 181292.5,-4065.5"/>
<text text-anchor="start" x="181300.5" y="-4134.3" font-family="Arial" font-size="14.00">WebSocketMessage</text>
<polyline fill="none" stroke="#44bb99" points="181292.5,-4126.5 181433.5,-4126.5 "/>
<text text-anchor="start" x="181332.5" y="-4111.3" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="181332.5" y="-4096.3" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#44bb99" points="181292.5,-4088.5 181433.5,-4088.5 "/>
<text text-anchor="start" x="181361" y="-4073.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.websocket_transport.WebSocketTransport -->
<g id="node638" class="node">
<title>mcpgateway.transports.websocket_transport.WebSocketTransport</title>
<polygon fill="white" stroke="#77aadd" points="148680.5,-4034.6 148680.5,-4180.4 149039.5,-4180.4 149039.5,-4034.6 148680.5,-4034.6"/>
<text text-anchor="start" x="148796.5" y="-4165.2" font-family="Arial" font-size="14.00">WebSocketTransport</text>
<polyline fill="none" stroke="#77aadd" points="148680.5,-4157.4 149039.5,-4157.4 "/>
<polyline fill="none" stroke="#77aadd" points="148680.5,-4132.6 149039.5,-4132.6 "/>
<text text-anchor="start" x="148688.5" y="-4117.4" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="148688.5" y="-4102.4" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="148688.5" y="-4087.4" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="148688.5" y="-4072.4" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="148688.5" y="-4057.4" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
<text text-anchor="start" x="148688.5" y="-4042.4" font-family="Arial" font-size="14.00">send_ping(): None</text>
</g>
<!-- mcpgateway.transports.websocket_transport.WebSocketTransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge138" class="edge">
<title>mcpgateway.transports.websocket_transport.WebSocketTransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M148872.31,-4180.64C148939.39,-4591.91 149237.45,-6676.25 148671,-8215 148646.77,-8280.82 148597.73,-8343.09 148555.81,-8388.04"/>
<polygon fill="none" stroke="gray" points="148553.2,-8385.71 148548.88,-8395.38 148558.29,-8390.51 148553.2,-8385.71"/>
</g>
<!-- mcpgateway.schemas.WorkerMetrics -->
<g id="node639" class="node">
<title>mcpgateway.schemas.WorkerMetrics</title>
<polygon fill="white" stroke="#77aadd" points="181452,-4005.5 181452,-4209.5 181674,-4209.5 181674,-4005.5 181452,-4005.5"/>
<text text-anchor="start" x="181519" y="-4194.3" font-family="Arial" font-size="14.00">WorkerMetrics</text>
<polyline fill="none" stroke="#77aadd" points="181452,-4186.5 181674,-4186.5 "/>
<text text-anchor="start" x="181460" y="-4171.3" font-family="Arial" font-size="14.00">connections : Optional[int]</text>
<text text-anchor="start" x="181460" y="-4156.3" font-family="Arial" font-size="14.00">cpu_percent : Optional[float]</text>
<text text-anchor="start" x="181460" y="-4141.3" font-family="Arial" font-size="14.00">create_time : Optional[datetime]</text>
<text text-anchor="start" x="181460" y="-4126.3" font-family="Arial" font-size="14.00">memory_rss_mb : Optional[float]</text>
<text text-anchor="start" x="181460" y="-4111.3" font-family="Arial" font-size="14.00">memory_vms_mb : Optional[float]</text>
<text text-anchor="start" x="181460" y="-4096.3" font-family="Arial" font-size="14.00">open_fds : Optional[int]</text>
<text text-anchor="start" x="181460" y="-4081.3" font-family="Arial" font-size="14.00">pid : Optional[int]</text>
<text text-anchor="start" x="181460" y="-4066.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="181460" y="-4051.3" font-family="Arial" font-size="14.00">threads : Optional[int]</text>
<text text-anchor="start" x="181460" y="-4036.3" font-family="Arial" font-size="14.00">uptime_seconds : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="181452,-4028.5 181674,-4028.5 "/>
<text text-anchor="start" x="181561" y="-4013.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.observability._ConsoleSpanExporterStub -->
<g id="node640" class="node">
<title>mcpgateway.observability._ConsoleSpanExporterStub</title>
<polygon fill="white" stroke="#77aadd" points="181692,-4072.1 181692,-4142.9 181876,-4142.9 181876,-4072.1 181692,-4072.1"/>
<text text-anchor="start" x="181700" y="-4127.7" font-family="Arial" font-size="14.00">_ConsoleSpanExporterStub</text>
<polyline fill="none" stroke="#77aadd" points="181692,-4119.9 181876,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="181692,-4095.1 181876,-4095.1 "/>
<text text-anchor="start" x="181782" y="-4079.9" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.logging_service._LogMessage -->
<g id="node641" class="node">
<title>mcpgateway.services.logging_service._LogMessage</title>
<polygon fill="white" stroke="#ffaabb" points="96194,-8867.5 96194,-8951.5 96296,-8951.5 96296,-8867.5 96194,-8867.5"/>
<text text-anchor="start" x="96202" y="-8936.3" font-family="Arial" font-size="14.00">_LogMessage</text>
<polyline fill="none" stroke="#ffaabb" points="96194,-8928.5 96296,-8928.5 "/>
<text text-anchor="start" x="96219" y="-8913.3" font-family="Arial" font-size="14.00">data</text>
<text text-anchor="start" x="96219" y="-8898.3" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#ffaabb" points="96194,-8890.5 96296,-8890.5 "/>
<text text-anchor="start" x="96243" y="-8875.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.logging_service._LogMessageData&#45;&gt;mcpgateway.services.logging_service._LogMessage -->
<g id="edge177" class="edge">
<title>mcpgateway.services.logging_service._LogMessageData&#45;&gt;mcpgateway.services.logging_service._LogMessage</title>
<path fill="none" stroke="gray" d="M96245,-8515.91C96245,-8603.15 96245,-8769.62 96245,-8855.03"/>
<polygon fill="gray" stroke="gray" points="96245,-8855.28 96249,-8861.28 96245,-8867.28 96241,-8861.28 96245,-8855.28"/>
<text text-anchor="middle" x="96258.5" y="-8672.8" font-family="Arial" font-size="14.00" fill="green">data</text>
</g>
<!-- mcpgateway.observability.init_telemetry._NoopTracer -->
<g id="node643" class="node">
<title>mcpgateway.observability.init_telemetry._NoopTracer</title>
<polygon fill="white" stroke="#bbcc33" points="181894,-4072.1 181894,-4142.9 182118,-4142.9 182118,-4072.1 181894,-4072.1"/>
<text text-anchor="start" x="181966.5" y="-4127.7" font-family="Arial" font-size="14.00">_NoopTracer</text>
<polyline fill="none" stroke="#bbcc33" points="181894,-4119.9 182118,-4119.9 "/>
<polyline fill="none" stroke="#bbcc33" points="181894,-4095.1 182118,-4095.1 "/>
<text text-anchor="start" x="181902" y="-4079.9" font-family="Arial" font-size="14.00">start_as_current_span(_name: str)</text>
</g>
<!-- mcpgateway.translate._PubSub -->
<g id="node644" class="node">
<title>mcpgateway.translate._PubSub</title>
<polygon fill="white" stroke="#77aadd" points="182136,-4057.1 182136,-4157.9 182408,-4157.9 182408,-4057.1 182136,-4057.1"/>
<text text-anchor="start" x="182244" y="-4142.7" font-family="Arial" font-size="14.00">_PubSub</text>
<polyline fill="none" stroke="#77aadd" points="182136,-4134.9 182408,-4134.9 "/>
<polyline fill="none" stroke="#77aadd" points="182136,-4110.1 182408,-4110.1 "/>
<text text-anchor="start" x="182144" y="-4094.9" font-family="Arial" font-size="14.00">publish(data: str): None</text>
<text text-anchor="start" x="182144" y="-4079.9" font-family="Arial" font-size="14.00">subscribe(): &#39;asyncio.Queue[str]&#39;</text>
<text text-anchor="start" x="182144" y="-4064.9" font-family="Arial" font-size="14.00">unsubscribe(q: &#39;asyncio.Queue[str]&#39;): None</text>
</g>
<!-- mcpgateway.observability._ResourceShim -->
<g id="node645" class="node">
<title>mcpgateway.observability._ResourceShim</title>
<polygon fill="white" stroke="#77aadd" points="182426,-4072.1 182426,-4142.9 182680,-4142.9 182680,-4072.1 182426,-4072.1"/>
<text text-anchor="start" x="182504.5" y="-4127.7" font-family="Arial" font-size="14.00">_ResourceShim</text>
<polyline fill="none" stroke="#77aadd" points="182426,-4119.9 182680,-4119.9 "/>
<polyline fill="none" stroke="#77aadd" points="182426,-4095.1 182680,-4095.1 "/>
<text text-anchor="start" x="182434" y="-4079.9" font-family="Arial" font-size="14.00">create(attrs: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.logging_service.LoggingService._install_closedresourceerror_filter._SuppressClosedResourceErrorFilter -->
<g id="node646" class="node">
<title>mcpgateway.services.logging_service.LoggingService._install_closedresourceerror_filter._SuppressClosedResourceErrorFilter</title>
<polygon fill="white" stroke="#ffaabb" points="182698.5,-4072.1 182698.5,-4142.9 182941.5,-4142.9 182941.5,-4072.1 182698.5,-4072.1"/>
<text text-anchor="start" x="182707.5" y="-4127.7" font-family="Arial" font-size="14.00">_SuppressClosedResourceErrorFilter</text>
<polyline fill="none" stroke="#ffaabb" points="182698.5,-4119.9 182941.5,-4119.9 "/>
<polyline fill="none" stroke="#ffaabb" points="182698.5,-4095.1 182941.5,-4095.1 "/>
<text text-anchor="start" x="182706.5" y="-4079.9" font-family="Arial" font-size="14.00">filter(record: logging.LogRecord): bool</text>
</g>
<!-- mcpgateway.common.validators._TagStripper -->
<g id="node647" class="node">
<title>mcpgateway.common.validators._TagStripper</title>
<polygon fill="white" stroke="#44bb99" points="182960,-4058 182960,-4157 183148,-4157 183148,-4058 182960,-4058"/>
<text text-anchor="start" x="183015.5" y="-4141.8" font-family="Arial" font-size="14.00">_TagStripper</text>
<polyline fill="none" stroke="#44bb99" points="182960,-4134 183148,-4134 "/>
<text text-anchor="start" x="183017" y="-4118.8" font-family="Arial" font-size="14.00">fed : List[str]</text>
<text text-anchor="start" x="183017" y="-4103.8" font-family="Arial" font-size="14.00">strict : bool</text>
<polyline fill="none" stroke="#44bb99" points="182960,-4096 183148,-4096 "/>
<text text-anchor="start" x="182968" y="-4080.8" font-family="Arial" font-size="14.00">get_data(): str</text>
<text text-anchor="start" x="182968" y="-4065.8" font-family="Arial" font-size="14.00">handle_data(data: str): None</text>
</g>
</g>
</svg>
