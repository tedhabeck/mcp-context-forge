<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: classes Pages: 1 -->
<svg width="172842pt" height="8750pt"
 viewBox="0.00 0.00 172841.50 8750.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 8746)">
<title>classes</title>
<!-- mcpgateway.db.A2AAgent -->
<g id="node1" class="node">
<title>mcpgateway.db.A2AAgent</title>
<polygon fill="white" stroke="#77aadd" points="0,-3563 0,-4277 332,-4277 332,-3563 0,-3563"/>
<text text-anchor="start" x="135.5" y="-4261.8" font-family="Arial" font-size="14.00">A2AAgent</text>
<polyline fill="none" stroke="#77aadd" points="0,-4254 332,-4254 "/>
<text text-anchor="start" x="8" y="-4238.8" font-family="Arial" font-size="14.00">agent_type : Mapped[str]</text>
<text text-anchor="start" x="8" y="-4223.8" font-family="Arial" font-size="14.00">auth_query_params : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="8" y="-4208.8" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4193.8" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="8" y="-4178.8" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="8" y="-4163.8" font-family="Arial" font-size="14.00">capabilities : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="8" y="-4148.8" font-family="Arial" font-size="14.00">config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="8" y="-4133.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="8" y="-4118.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4103.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4088.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4073.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4058.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-4043.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="8" y="-4028.8" font-family="Arial" font-size="14.00">endpoint_url : Mapped[str]</text>
<text text-anchor="start" x="8" y="-4013.8" font-family="Arial" font-size="14.00">execution_count</text>
<text text-anchor="start" x="8" y="-3998.8" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="8" y="-3983.8" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="8" y="-3968.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3938.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="8" y="-3908.8" font-family="Arial" font-size="14.00">last_interaction : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="8" y="-3893.8" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;A2AAgentMetric&#39;]]</text>
<text text-anchor="start" x="8" y="-3878.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3863.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3848.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3833.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3818.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3803.8" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="8" y="-3788.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3773.8" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="8" y="-3758.8" font-family="Arial" font-size="14.00">protocol_version : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3743.8" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="8" y="-3728.8" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="8" y="-3713.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="8" y="-3698.8" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="8" y="-3683.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="8" y="-3668.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3653.8" font-family="Arial" font-size="14.00">tool : Mapped[Optional[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="8" y="-3638.8" font-family="Arial" font-size="14.00">tool_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8" y="-3623.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="8" y="-3608.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="8" y="-3593.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="0,-3586 332,-3586 "/>
<text text-anchor="start" x="164" y="-3570.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Base -->
<g id="node47" class="node">
<title>mcpgateway.db.Base</title>
<polygon fill="white" stroke="#77aadd" points="9192,-8041.5 9192,-8110.5 9336,-8110.5 9336,-8041.5 9192,-8041.5"/>
<text text-anchor="start" x="9248.5" y="-8095.3" font-family="Arial" font-size="14.00">Base</text>
<polyline fill="none" stroke="#77aadd" points="9192,-8087.5 9336,-8087.5 "/>
<text text-anchor="start" x="9200" y="-8072.3" font-family="Arial" font-size="14.00">metadata : MetaData</text>
<polyline fill="none" stroke="#77aadd" points="9192,-8064.5 9336,-8064.5 "/>
<text text-anchor="start" x="9262" y="-8049.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgent&#45;&gt;mcpgateway.db.Base -->
<g id="edge11" class="edge">
<title>mcpgateway.db.A2AAgent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M125.77,-4277.09C36.21,-5144.88 -136.11,-7334.79 341,-7840 501.53,-8009.98 8293.37,-8068.35 9181.78,-8074.45"/>
<polygon fill="none" stroke="gray" points="9181.89,-8077.95 9191.91,-8074.52 9181.93,-8070.95 9181.89,-8077.95"/>
</g>
<!-- mcpgateway.schemas.A2AAgentCreate -->
<g id="node2" class="node">
<title>mcpgateway.schemas.A2AAgentCreate</title>
<polygon fill="white" stroke="#77aadd" points="17256.5,-3645.5 17256.5,-4194.5 17571.5,-4194.5 17571.5,-3645.5 17256.5,-3645.5"/>
<text text-anchor="start" x="17363" y="-4179.3" font-family="Arial" font-size="14.00">A2AAgentCreate</text>
<polyline fill="none" stroke="#77aadd" points="17256.5,-4171.5 17571.5,-4171.5 "/>
<text text-anchor="start" x="17274" y="-4156.3" font-family="Arial" font-size="14.00">agent_type : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4141.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4126.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4111.3" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="17274" y="-4096.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4081.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4066.3" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="17274" y="-4051.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4036.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4021.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="17274" y="-4006.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3991.3" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-3976.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-3961.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3946.3" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3931.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="17274" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3901.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="17274" y="-3886.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3871.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="17274" y="-3856.3" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3841.3" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3826.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="17274" y="-3811.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="17274" y="-3796.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="17256.5,-3788.5 17571.5,-3788.5 "/>
<text text-anchor="start" x="17264.5" y="-3773.3" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="17264.5" y="-3758.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="17264.5" y="-3743.3" font-family="Arial" font-size="14.00">validate_endpoint_url(v: str): str</text>
<text text-anchor="start" x="17264.5" y="-3728.3" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="17264.5" y="-3713.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="17264.5" y="-3698.3" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;A2AAgentCreate&#39;</text>
<text text-anchor="start" x="17264.5" y="-3683.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="17264.5" y="-3668.3" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="17264.5" y="-3653.3" font-family="Arial" font-size="14.00">validate_visibility(v: str): str</text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentError -->
<g id="node3" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentError</title>
<polygon fill="white" stroke="#ffaabb" points="17728.5,-8040.6 17728.5,-8111.4 17835.5,-8111.4 17835.5,-8040.6 17728.5,-8040.6"/>
<text text-anchor="start" x="17736.5" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">A2AAgentError</text>
<polyline fill="none" stroke="#ffaabb" points="17728.5,-8088.4 17835.5,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="17728.5,-8063.6 17835.5,-8063.6 "/>
<text text-anchor="start" x="17780" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.A2AAgentInvocation -->
<g id="node4" class="node">
<title>mcpgateway.schemas.A2AAgentInvocation</title>
<polygon fill="white" stroke="#77aadd" points="17982,-3863 17982,-3977 18302,-3977 18302,-3863 17982,-3863"/>
<text text-anchor="start" x="18080.5" y="-3961.8" font-family="Arial" font-size="14.00">A2AAgentInvocation</text>
<polyline fill="none" stroke="#77aadd" points="17982,-3954 18302,-3954 "/>
<text text-anchor="start" x="18035" y="-3938.8" font-family="Arial" font-size="14.00">agent_name : Optional[str]</text>
<text text-anchor="start" x="18035" y="-3923.8" font-family="Arial" font-size="14.00">interaction_type : Optional[str]</text>
<text text-anchor="start" x="18035" y="-3908.8" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="17982,-3901 18302,-3901 "/>
<text text-anchor="start" x="17990" y="-3885.8" font-family="Arial" font-size="14.00">validate_agent_name(v: str): str</text>
<text text-anchor="start" x="17990" y="-3870.8" font-family="Arial" font-size="14.00">validate_parameters(v: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.db.A2AAgentMetric -->
<g id="node5" class="node">
<title>mcpgateway.db.A2AAgentMetric</title>
<polygon fill="white" stroke="#77aadd" points="350,-3833 350,-4007 600,-4007 600,-3833 350,-3833"/>
<text text-anchor="start" x="425.5" y="-3991.8" font-family="Arial" font-size="14.00">A2AAgentMetric</text>
<polyline fill="none" stroke="#77aadd" points="350,-3984 600,-3984 "/>
<text text-anchor="start" x="358" y="-3968.8" font-family="Arial" font-size="14.00">a2a_agent : Mapped[&#39;A2AAgent&#39;]</text>
<text text-anchor="start" x="358" y="-3953.8" font-family="Arial" font-size="14.00">a2a_agent_id : Mapped[str]</text>
<text text-anchor="start" x="358" y="-3938.8" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="358" y="-3923.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="358" y="-3908.8" font-family="Arial" font-size="14.00">interaction_type : Mapped[str]</text>
<text text-anchor="start" x="358" y="-3893.8" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="358" y="-3878.8" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="358" y="-3863.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="350,-3856 600,-3856 "/>
<text text-anchor="start" x="473" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge12" class="edge">
<title>mcpgateway.db.A2AAgentMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M471.29,-4007.18C448.51,-4556.29 337.28,-7552.48 609,-7840 764.61,-8004.66 8307.04,-8067.63 9181.58,-8074.38"/>
<polygon fill="none" stroke="gray" points="9181.83,-8077.88 9191.86,-8074.46 9181.89,-8070.88 9181.83,-8077.88"/>
</g>
<!-- mcpgateway.schemas.A2AAgentMetrics -->
<g id="node6" class="node">
<title>mcpgateway.schemas.A2AAgentMetrics</title>
<polygon fill="white" stroke="#77aadd" points="18320.5,-3833 18320.5,-4007 18579.5,-4007 18579.5,-3833 18320.5,-3833"/>
<text text-anchor="start" x="18397" y="-3991.8" font-family="Arial" font-size="14.00">A2AAgentMetrics</text>
<polyline fill="none" stroke="#77aadd" points="18320.5,-3984 18579.5,-3984 "/>
<text text-anchor="start" x="18328.5" y="-3968.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="18328.5" y="-3938.8" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="18328.5" y="-3908.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="18328.5" y="-3878.8" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="18328.5" y="-3863.8" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="18320.5,-3856 18579.5,-3856 "/>
<text text-anchor="start" x="18448" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetricsHourly -->
<g id="node7" class="node">
<title>mcpgateway.db.A2AAgentMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="618,-3780.5 618,-4059.5 910,-4059.5 910,-3780.5 618,-3780.5"/>
<text text-anchor="start" x="691.5" y="-4044.3" font-family="Arial" font-size="14.00">A2AAgentMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="618,-4036.5 910,-4036.5 "/>
<text text-anchor="start" x="626" y="-4021.3" font-family="Arial" font-size="14.00">a2a_agent_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="626" y="-4006.3" font-family="Arial" font-size="14.00">agent_name : Mapped[str]</text>
<text text-anchor="start" x="626" y="-3991.3" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3976.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="626" y="-3961.3" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="626" y="-3946.3" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="626" y="-3931.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="626" y="-3916.3" font-family="Arial" font-size="14.00">interaction_type : Mapped[str]</text>
<text text-anchor="start" x="626" y="-3901.3" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3886.3" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3871.3" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3856.3" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3841.3" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="626" y="-3826.3" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="626" y="-3811.3" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="618,-3803.5 910,-3803.5 "/>
<text text-anchor="start" x="762" y="-3788.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.A2AAgentMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge13" class="edge">
<title>mcpgateway.db.A2AAgentMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M758.93,-4059.72C736.01,-4724.22 654.33,-7561.16 919,-7840 1069.23,-7998.27 8326.35,-8066.77 9181.9,-8074.3"/>
<polygon fill="none" stroke="gray" points="9181.94,-8077.8 9191.97,-8074.38 9182,-8070.8 9181.94,-8077.8"/>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNameConflictError -->
<g id="node8" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="17589.5,-3870.5 17589.5,-3969.5 17778.5,-3969.5 17778.5,-3870.5 17589.5,-3870.5"/>
<text text-anchor="start" x="17597.5" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">A2AAgentNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="17589.5,-3946.5 17778.5,-3946.5 "/>
<text text-anchor="start" x="17615.5" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">agent_id : Optional[str]</text>
<text text-anchor="start" x="17615.5" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">is_active : bool</text>
<text text-anchor="start" x="17615.5" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<polyline fill="none" stroke="#ffaabb" points="17589.5,-3893.5 17778.5,-3893.5 "/>
<text text-anchor="start" x="17682" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNameConflictError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError -->
<g id="edge88" class="edge">
<title>mcpgateway.services.a2a_service.A2AAgentNameConflictError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError</title>
<path fill="none" stroke="gray" d="M17685.15,-3969.81C17695.42,-4404.96 17771.08,-7612.33 17780.94,-8030.17"/>
<polygon fill="none" stroke="gray" points="17777.45,-8030.43 17781.18,-8040.35 17784.45,-8030.27 17777.45,-8030.43"/>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNotFoundError -->
<g id="node9" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="17796.5,-3884.6 17796.5,-3955.4 17963.5,-3955.4 17963.5,-3884.6 17796.5,-3884.6"/>
<text text-anchor="start" x="17804.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">A2AAgentNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="17796.5,-3932.4 17963.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="17796.5,-3907.6 17963.5,-3907.6 "/>
<text text-anchor="start" x="17878" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentNotFoundError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError -->
<g id="edge89" class="edge">
<title>mcpgateway.services.a2a_service.A2AAgentNotFoundError&#45;&gt;mcpgateway.services.a2a_service.A2AAgentError</title>
<path fill="none" stroke="gray" d="M17879.59,-3955.76C17876.11,-4242.47 17850.35,-6246.7 17792,-7873 17790.06,-7927.07 17786.83,-7989.23 17784.57,-8030.16"/>
<polygon fill="none" stroke="gray" points="17781.06,-8030.16 17784,-8040.34 17788.05,-8030.55 17781.06,-8030.16"/>
</g>
<!-- mcpgateway.schemas.A2AAgentRead -->
<g id="node10" class="node">
<title>mcpgateway.schemas.A2AAgentRead</title>
<polygon fill="white" stroke="#77aadd" points="18597.5,-3578 18597.5,-4262 18908.5,-4262 18908.5,-3578 18597.5,-3578"/>
<text text-anchor="start" x="18706" y="-4246.8" font-family="Arial" font-size="14.00">A2AAgentRead</text>
<polyline fill="none" stroke="#77aadd" points="18597.5,-4239 18908.5,-4239 "/>
<text text-anchor="start" x="18605.5" y="-4223.8" font-family="Arial" font-size="14.00">agent_type : str</text>
<text text-anchor="start" x="18605.5" y="-4208.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4193.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4178.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4163.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4148.8" font-family="Arial" font-size="14.00">auth_query_param_value_masked : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4133.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4118.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4103.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4088.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4073.8" font-family="Arial" font-size="14.00">capabilities : Dict[str, Any]</text>
<text text-anchor="start" x="18605.5" y="-4058.8" font-family="Arial" font-size="14.00">config : Dict[str, Any]</text>
<text text-anchor="start" x="18605.5" y="-4043.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="18605.5" y="-4028.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-4013.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3998.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3983.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3968.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3953.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="18605.5" y="-3938.8" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3923.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3908.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3893.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3878.8" font-family="Arial" font-size="14.00">last_interaction : Optional[datetime]</text>
<text text-anchor="start" x="18605.5" y="-3863.8" font-family="Arial" font-size="14.00">metrics : Optional[A2AAgentMetrics]</text>
<text text-anchor="start" x="18605.5" y="-3848.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3833.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3818.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3803.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3788.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3773.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="18605.5" y="-3758.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3743.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="18605.5" y="-3728.8" font-family="Arial" font-size="14.00">protocol_version : str</text>
<text text-anchor="start" x="18605.5" y="-3713.8" font-family="Arial" font-size="14.00">reachable : bool</text>
<text text-anchor="start" x="18605.5" y="-3698.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3683.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="18605.5" y="-3668.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3653.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="18605.5" y="-3638.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="18605.5" y="-3623.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="18605.5" y="-3608.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="18597.5,-3601 18908.5,-3601 "/>
<text text-anchor="start" x="18671" y="-3585.8" font-family="Arial" font-size="14.00">masked(): &#39;A2AAgentRead&#39;</text>
</g>
<!-- mcpgateway.services.a2a_service.A2AAgentService -->
<g id="node11" class="node">
<title>mcpgateway.services.a2a_service.A2AAgentService</title>
<polygon fill="white" stroke="#ffaabb" points="18927,-3787.1 18927,-4052.9 20921,-4052.9 20921,-3787.1 18927,-3787.1"/>
<text text-anchor="start" x="19871" y="-4037.7" font-family="Arial" font-size="14.00">A2AAgentService</text>
<polyline fill="none" stroke="#ffaabb" points="18927,-4029.9 20921,-4029.9 "/>
<polyline fill="none" stroke="#ffaabb" points="18927,-4005.1 20921,-4005.1 "/>
<text text-anchor="start" x="18935" y="-3989.9" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="18935" y="-3974.9" font-family="Arial" font-size="14.00">convert_agent_to_read(db_agent: DbA2AAgent, include_metrics: bool, db: Optional[Session], team_map: Optional[Dict[str, str]]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3959.9" font-family="Arial" font-size="14.00">delete_agent(db: Session, agent_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="18935" y="-3944.9" font-family="Arial" font-size="14.00">get_agent(db: Session, agent_id: str, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3929.9" font-family="Arial" font-size="14.00">get_agent_by_name(db: Session, agent_name: str): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3914.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="18935" y="-3899.9" font-family="Arial" font-size="14.00">invoke_agent(db: Session, agent_name: str, parameters: Dict[str, Any], interaction_type: str): Dict[str, Any]</text>
<text text-anchor="start" x="18935" y="-3884.9" font-family="Arial" font-size="14.00">list_agents(db: Session, cursor: Optional[str], include_inactive: bool, tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], token_teams: Optional[List[str]], team_id: Optional[str], visibility: Optional[str]): Union[tuple[List[A2AAgentRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="18935" y="-3869.9" font-family="Arial" font-size="14.00">list_agents_for_user(db: Session, user_info: Dict[str, Any], team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[A2AAgentRead]</text>
<text text-anchor="start" x="18935" y="-3854.9" font-family="Arial" font-size="14.00">register_agent(db: Session, agent_data: A2AAgentCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3839.9" font-family="Arial" font-size="14.00">reset_metrics(db: Session, agent_id: Optional[str]): None</text>
<text text-anchor="start" x="18935" y="-3824.9" font-family="Arial" font-size="14.00">set_agent_state(db: Session, agent_id: str, activate: bool, reachable: Optional[bool], user_email: Optional[str]): A2AAgentRead</text>
<text text-anchor="start" x="18935" y="-3809.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="18935" y="-3794.9" font-family="Arial" font-size="14.00">update_agent(db: Session, agent_id: str, agent_data: A2AAgentUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): A2AAgentRead</text>
</g>
<!-- mcpgateway.schemas.A2AAgentUpdate -->
<g id="node12" class="node">
<title>mcpgateway.schemas.A2AAgentUpdate</title>
<polygon fill="white" stroke="#77aadd" points="20939,-3660.5 20939,-4179.5 21371,-4179.5 21371,-3660.5 20939,-3660.5"/>
<text text-anchor="start" x="21102.5" y="-4164.3" font-family="Arial" font-size="14.00">A2AAgentUpdate</text>
<polyline fill="none" stroke="#77aadd" points="20939,-4156.5 21371,-4156.5 "/>
<text text-anchor="start" x="21015" y="-4141.3" font-family="Arial" font-size="14.00">agent_type : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4126.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4111.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4096.3" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="21015" y="-4081.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4066.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4051.3" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="21015" y="-4036.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4021.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="21015" y="-4006.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3991.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3976.3" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-3961.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3931.3" font-family="Arial" font-size="14.00">endpoint_url : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3901.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="21015" y="-3886.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3871.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="21015" y="-3856.3" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3841.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="21015" y="-3826.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="21015" y="-3811.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="20939,-3803.5 21371,-3803.5 "/>
<text text-anchor="start" x="20947" y="-3788.3" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="20947" y="-3773.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="20947" y="-3758.3" font-family="Arial" font-size="14.00">validate_endpoint_url(v: str): str</text>
<text text-anchor="start" x="20947" y="-3743.3" font-family="Arial" font-size="14.00">validate_json_fields(v: Optional[Dict[str, Any]]): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="20947" y="-3728.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="20947" y="-3713.3" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;A2AAgentUpdate&#39;</text>
<text text-anchor="start" x="20947" y="-3698.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): Optional[List[str]]</text>
<text text-anchor="start" x="20947" y="-3683.3" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="20947" y="-3668.3" font-family="Arial" font-size="14.00">validate_visibility(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.cache.a2a_stats_cache.A2AStatsCache -->
<g id="node13" class="node">
<title>mcpgateway.cache.a2a_stats_cache.A2AStatsCache</title>
<polygon fill="white" stroke="#99ddff" points="21389.5,-3870.5 21389.5,-3969.5 21570.5,-3969.5 21570.5,-3870.5 21389.5,-3870.5"/>
<text text-anchor="start" x="21432" y="-3954.3" font-family="Arial" font-size="14.00">A2AStatsCache</text>
<polyline fill="none" stroke="#99ddff" points="21389.5,-3946.5 21570.5,-3946.5 "/>
<text text-anchor="start" x="21433" y="-3931.3" font-family="Arial" font-size="14.00">ttl_seconds : int</text>
<polyline fill="none" stroke="#99ddff" points="21389.5,-3923.5 21570.5,-3923.5 "/>
<text text-anchor="start" x="21397.5" y="-3908.3" font-family="Arial" font-size="14.00">get_counts(db): Dict[str, int]</text>
<text text-anchor="start" x="21397.5" y="-3893.3" font-family="Arial" font-size="14.00">invalidate(): None</text>
<text text-anchor="start" x="21397.5" y="-3878.3" font-family="Arial" font-size="14.00">stats(): dict</text>
</g>
<!-- mcpgateway.llm_provider_configs.AWSBedrockConfig -->
<g id="node14" class="node">
<title>mcpgateway.llm_provider_configs.AWSBedrockConfig</title>
<polygon fill="white" stroke="#77aadd" points="21589,-3855.5 21589,-3984.5 21805,-3984.5 21805,-3855.5 21589,-3855.5"/>
<text text-anchor="start" x="21636.5" y="-3969.3" font-family="Arial" font-size="14.00">AWSBedrockConfig</text>
<polyline fill="none" stroke="#77aadd" points="21589,-3961.5 21805,-3961.5 "/>
<text text-anchor="start" x="21597" y="-3946.3" font-family="Arial" font-size="14.00">access_key_id : Optional[str]</text>
<text text-anchor="start" x="21597" y="-3931.3" font-family="Arial" font-size="14.00">profile_name : Optional[str]</text>
<text text-anchor="start" x="21597" y="-3916.3" font-family="Arial" font-size="14.00">region : Optional[str]</text>
<text text-anchor="start" x="21597" y="-3901.3" font-family="Arial" font-size="14.00">secret_access_key : Optional[str]</text>
<text text-anchor="start" x="21597" y="-3886.3" font-family="Arial" font-size="14.00">session_token : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="21589,-3878.5 21805,-3878.5 "/>
<text text-anchor="start" x="21695" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig -->
<g id="node15" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig</title>
<polygon fill="white" stroke="#ffaabb" points="21823,-3833 21823,-4007 22071,-4007 22071,-3833 21823,-3833"/>
<text text-anchor="start" x="21886.5" y="-3991.8" font-family="Arial" font-size="14.00">AWSBedrockConfig</text>
<polyline fill="none" stroke="#ffaabb" points="21823,-3984 22071,-3984 "/>
<text text-anchor="start" x="21831" y="-3968.8" font-family="Arial" font-size="14.00">aws_access_key_id : Optional[str]</text>
<text text-anchor="start" x="21831" y="-3953.8" font-family="Arial" font-size="14.00">aws_secret_access_key : Optional[str]</text>
<text text-anchor="start" x="21831" y="-3938.8" font-family="Arial" font-size="14.00">aws_session_token : Optional[str]</text>
<text text-anchor="start" x="21831" y="-3923.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="21831" y="-3908.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="21831" y="-3893.8" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="21831" y="-3878.8" font-family="Arial" font-size="14.00">region_name : Optional[str]</text>
<text text-anchor="start" x="21831" y="-3863.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="21823,-3856 22071,-3856 "/>
<text text-anchor="start" x="21945" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider -->
<g id="node16" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider</title>
<polygon fill="white" stroke="#ffaabb" points="21759.5,-8034 21759.5,-8118 22134.5,-8118 22134.5,-8034 21759.5,-8034"/>
<text text-anchor="start" x="21881" y="-8102.8" font-family="Arial" font-size="14.00">AWSBedrockProvider</text>
<polyline fill="none" stroke="#ffaabb" points="21759.5,-8095 22134.5,-8095 "/>
<text text-anchor="start" x="21928.5" y="-8079.8" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="21759.5,-8072 22134.5,-8072 "/>
<text text-anchor="start" x="21767.5" y="-8056.8" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatBedrock, BedrockLLM]</text>
<text text-anchor="start" x="21767.5" y="-8041.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider -->
<g id="edge178" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AWSBedrockProvider</title>
<path fill="none" stroke="gray" d="M21947,-4007.28C21947,-4558.78 21947,-7581.07 21947,-8021.46"/>
<polygon fill="none" stroke="gray" points="21947,-8021.73 21951,-8027.73 21947,-8033.73 21943,-8027.73 21947,-8021.73"/>
<text text-anchor="middle" x="21965.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.main.AdminAuthMiddleware -->
<g id="node17" class="node">
<title>mcpgateway.main.AdminAuthMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="22089.5,-3885.5 22089.5,-3954.5 22328.5,-3954.5 22328.5,-3885.5 22089.5,-3885.5"/>
<text text-anchor="start" x="22140.5" y="-3939.3" font-family="Arial" font-size="14.00">AdminAuthMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="22089.5,-3931.5 22328.5,-3931.5 "/>
<text text-anchor="start" x="22141" y="-3916.3" font-family="Arial" font-size="14.00">EXEMPT_PATHS : list</text>
<polyline fill="none" stroke="#77aadd" points="22089.5,-3908.5 22328.5,-3908.5 "/>
<text text-anchor="start" x="22097.5" y="-3893.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.schemas.AdminGatewayCreate -->
<g id="node18" class="node">
<title>mcpgateway.schemas.AdminGatewayCreate</title>
<polygon fill="white" stroke="#77aadd" points="22346.5,-3870.5 22346.5,-3969.5 22513.5,-3969.5 22513.5,-3870.5 22346.5,-3870.5"/>
<text text-anchor="start" x="22363" y="-3954.3" font-family="Arial" font-size="14.00">AdminGatewayCreate</text>
<polyline fill="none" stroke="#77aadd" points="22346.5,-3946.5 22513.5,-3946.5 "/>
<text text-anchor="start" x="22354.5" y="-3931.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="22354.5" y="-3916.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="22354.5" y="-3901.3" font-family="Arial" font-size="14.00">url : str</text>
<polyline fill="none" stroke="#77aadd" points="22346.5,-3893.5 22513.5,-3893.5 "/>
<text text-anchor="start" x="22428" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.admin_stats_cache.AdminStatsCache -->
<g id="node19" class="node">
<title>mcpgateway.cache.admin_stats_cache.AdminStatsCache</title>
<polygon fill="white" stroke="#99ddff" points="22531.5,-3712.1 22531.5,-4127.9 22988.5,-4127.9 22988.5,-3712.1 22531.5,-3712.1"/>
<text text-anchor="start" x="22705.5" y="-4112.7" font-family="Arial" font-size="14.00">AdminStatsCache</text>
<polyline fill="none" stroke="#99ddff" points="22531.5,-4104.9 22988.5,-4104.9 "/>
<polyline fill="none" stroke="#99ddff" points="22531.5,-4080.1 22988.5,-4080.1 "/>
<text text-anchor="start" x="22539.5" y="-4064.9" font-family="Arial" font-size="14.00">get_observability_stats(hours: int): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22539.5" y="-4049.9" font-family="Arial" font-size="14.00">get_performance_history(cache_key_suffix: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22539.5" y="-4034.9" font-family="Arial" font-size="14.00">get_plugin_stats(): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22539.5" y="-4019.9" font-family="Arial" font-size="14.00">get_system_stats(): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="22539.5" y="-4004.9" font-family="Arial" font-size="14.00">get_tags(entity_types_hash: str): Optional[Any]</text>
<text text-anchor="start" x="22539.5" y="-3989.9" font-family="Arial" font-size="14.00">get_teams_list(limit: int, offset: int): Optional[Any]</text>
<text text-anchor="start" x="22539.5" y="-3974.9" font-family="Arial" font-size="14.00">get_users_list(limit: int, offset: int): Optional[Any]</text>
<text text-anchor="start" x="22539.5" y="-3959.9" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="22539.5" y="-3944.9" font-family="Arial" font-size="14.00">invalidate_observability_stats(): None</text>
<text text-anchor="start" x="22539.5" y="-3929.9" font-family="Arial" font-size="14.00">invalidate_performance(): None</text>
<text text-anchor="start" x="22539.5" y="-3914.9" font-family="Arial" font-size="14.00">invalidate_plugins(): None</text>
<text text-anchor="start" x="22539.5" y="-3899.9" font-family="Arial" font-size="14.00">invalidate_system_stats(): None</text>
<text text-anchor="start" x="22539.5" y="-3884.9" font-family="Arial" font-size="14.00">invalidate_tags(): None</text>
<text text-anchor="start" x="22539.5" y="-3869.9" font-family="Arial" font-size="14.00">invalidate_teams(): None</text>
<text text-anchor="start" x="22539.5" y="-3854.9" font-family="Arial" font-size="14.00">invalidate_users(): None</text>
<text text-anchor="start" x="22539.5" y="-3839.9" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="22539.5" y="-3824.9" font-family="Arial" font-size="14.00">set_observability_stats(stats: Dict[str, Any], hours: int): None</text>
<text text-anchor="start" x="22539.5" y="-3809.9" font-family="Arial" font-size="14.00">set_performance_history(data: Dict[str, Any], cache_key_suffix: str): None</text>
<text text-anchor="start" x="22539.5" y="-3794.9" font-family="Arial" font-size="14.00">set_plugin_stats(stats: Dict[str, Any]): None</text>
<text text-anchor="start" x="22539.5" y="-3779.9" font-family="Arial" font-size="14.00">set_system_stats(stats: Dict[str, Any]): None</text>
<text text-anchor="start" x="22539.5" y="-3764.9" font-family="Arial" font-size="14.00">set_tags(tags: Any, entity_types_hash: str): None</text>
<text text-anchor="start" x="22539.5" y="-3749.9" font-family="Arial" font-size="14.00">set_teams_list(teams: Any, limit: int, offset: int): None</text>
<text text-anchor="start" x="22539.5" y="-3734.9" font-family="Arial" font-size="14.00">set_users_list(users: Any, limit: int, offset: int): None</text>
<text text-anchor="start" x="22539.5" y="-3719.9" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.AdminToolCreate -->
<g id="node20" class="node">
<title>mcpgateway.schemas.AdminToolCreate</title>
<polygon fill="white" stroke="#77aadd" points="23006.5,-3848 23006.5,-3992 23339.5,-3992 23339.5,-3848 23006.5,-3848"/>
<text text-anchor="start" x="23120.5" y="-3976.8" font-family="Arial" font-size="14.00">AdminToolCreate</text>
<polyline fill="none" stroke="#77aadd" points="23006.5,-3969 23339.5,-3969 "/>
<text text-anchor="start" x="23088" y="-3953.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="23088" y="-3938.8" font-family="Arial" font-size="14.00">headers : Optional[str]</text>
<text text-anchor="start" x="23088" y="-3923.8" font-family="Arial" font-size="14.00">input_schema : Optional[str]</text>
<text text-anchor="start" x="23088" y="-3908.8" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="23088" y="-3893.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="23088" y="-3878.8" font-family="Arial" font-size="14.00">url : str</text>
<polyline fill="none" stroke="#77aadd" points="23006.5,-3871 23339.5,-3871 "/>
<text text-anchor="start" x="23014.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_json(v: Optional[str]): Optional[Dict[str, Any]]</text>
</g>
<!-- mcpgateway.schemas.AdminUserCreateRequest -->
<g id="node21" class="node">
<title>mcpgateway.schemas.AdminUserCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="23357.5,-3855.5 23357.5,-3984.5 23532.5,-3984.5 23532.5,-3855.5 23357.5,-3855.5"/>
<text text-anchor="start" x="23365.5" y="-3969.3" font-family="Arial" font-size="14.00">AdminUserCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="23357.5,-3961.5 23532.5,-3961.5 "/>
<text text-anchor="start" x="23367.5" y="-3946.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="23367.5" y="-3931.3" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="23367.5" y="-3916.3" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="23367.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="23367.5" y="-3886.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="23357.5,-3878.5 23532.5,-3878.5 "/>
<text text-anchor="start" x="23443" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.AdminUserUpdateRequest -->
<g id="node22" class="node">
<title>mcpgateway.schemas.AdminUserUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="23551,-3863 23551,-3977 23729,-3977 23729,-3863 23551,-3863"/>
<text text-anchor="start" x="23559" y="-3961.8" font-family="Arial" font-size="14.00">AdminUserUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="23551,-3954 23729,-3954 "/>
<text text-anchor="start" x="23564.5" y="-3938.8" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="23564.5" y="-3923.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="23564.5" y="-3908.8" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="23564.5" y="-3893.8" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#77aadd" points="23551,-3886 23729,-3886 "/>
<text text-anchor="start" x="23638" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentHookType -->
<g id="node23" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentHookType</title>
<polygon fill="white" stroke="#ee8866" points="23747.5,-3885.5 23747.5,-3954.5 23860.5,-3954.5 23860.5,-3885.5 23747.5,-3885.5"/>
<text text-anchor="start" x="23755.5" y="-3939.3" font-family="Arial" font-size="14.00">AgentHookType</text>
<polyline fill="none" stroke="#ee8866" points="23747.5,-3931.5 23860.5,-3931.5 "/>
<text text-anchor="start" x="23786.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="23747.5,-3908.5 23860.5,-3908.5 "/>
<text text-anchor="start" x="23802" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentPostInvokePayload -->
<g id="node24" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentPostInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="23879,-3870.5 23879,-3969.5 24125,-3969.5 24125,-3870.5 23879,-3870.5"/>
<text text-anchor="start" x="23926.5" y="-3954.3" font-family="Arial" font-size="14.00">AgentPostInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="23879,-3946.5 24125,-3946.5 "/>
<text text-anchor="start" x="23887" y="-3931.3" font-family="Arial" font-size="14.00">agent_id : str</text>
<text text-anchor="start" x="23887" y="-3916.3" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<text text-anchor="start" x="23887" y="-3901.3" font-family="Arial" font-size="14.00">tool_calls : Optional[List[Dict[str, Any]]]</text>
<polyline fill="none" stroke="#ee8866" points="23879,-3893.5 24125,-3893.5 "/>
<text text-anchor="start" x="24000" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.agents.AgentPreInvokePayload -->
<g id="node25" class="node">
<title>mcpgateway.plugins.framework.hooks.agents.AgentPreInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="24143.5,-3840.5 24143.5,-3999.5 24396.5,-3999.5 24396.5,-3840.5 24143.5,-3840.5"/>
<text text-anchor="start" x="24197.5" y="-3984.3" font-family="Arial" font-size="14.00">AgentPreInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="24143.5,-3976.5 24396.5,-3976.5 "/>
<text text-anchor="start" x="24151.5" y="-3961.3" font-family="Arial" font-size="14.00">agent_id : str</text>
<text text-anchor="start" x="24151.5" y="-3946.3" font-family="Arial" font-size="14.00">headers : Optional[HttpHeaderPayload]</text>
<text text-anchor="start" x="24151.5" y="-3931.3" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<text text-anchor="start" x="24151.5" y="-3916.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="24151.5" y="-3901.3" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="24151.5" y="-3886.3" font-family="Arial" font-size="14.00">system_prompt : Optional[str]</text>
<text text-anchor="start" x="24151.5" y="-3871.3" font-family="Arial" font-size="14.00">tools : Optional[List[str]]</text>
<polyline fill="none" stroke="#ee8866" points="24143.5,-3863.5 24396.5,-3863.5 "/>
<text text-anchor="start" x="24268" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_query_service.AggregatedMetrics -->
<g id="node26" class="node">
<title>mcpgateway.services.metrics_query_service.AggregatedMetrics</title>
<polygon fill="white" stroke="#ffaabb" points="24414.5,-3818 24414.5,-4022 24673.5,-4022 24673.5,-3818 24414.5,-3818"/>
<text text-anchor="start" x="24486.5" y="-4006.8" font-family="Arial" font-size="14.00">AggregatedMetrics</text>
<polyline fill="none" stroke="#ffaabb" points="24414.5,-3999 24673.5,-3999 "/>
<text text-anchor="start" x="24422.5" y="-3983.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="24422.5" y="-3968.8" font-family="Arial" font-size="14.00">failed_executions : int</text>
<text text-anchor="start" x="24422.5" y="-3953.8" font-family="Arial" font-size="14.00">failure_rate : float</text>
<text text-anchor="start" x="24422.5" y="-3938.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="24422.5" y="-3923.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="24422.5" y="-3908.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="24422.5" y="-3893.8" font-family="Arial" font-size="14.00">raw_count : int</text>
<text text-anchor="start" x="24422.5" y="-3878.8" font-family="Arial" font-size="14.00">rollup_count : int</text>
<text text-anchor="start" x="24422.5" y="-3863.8" font-family="Arial" font-size="14.00">successful_executions : int</text>
<text text-anchor="start" x="24422.5" y="-3848.8" font-family="Arial" font-size="14.00">total_executions : int</text>
<polyline fill="none" stroke="#ffaabb" points="24414.5,-3841 24673.5,-3841 "/>
<text text-anchor="start" x="24478" y="-3825.8" font-family="Arial" font-size="14.00">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.common.models.Annotations -->
<g id="node27" class="node">
<title>mcpgateway.common.models.Annotations</title>
<polygon fill="white" stroke="#44bb99" points="24691.5,-3863 24691.5,-3977 24888.5,-3977 24888.5,-3863 24691.5,-3863"/>
<text text-anchor="start" x="24754" y="-3961.8" font-family="Arial" font-size="14.00">Annotations</text>
<polyline fill="none" stroke="#44bb99" points="24691.5,-3954 24888.5,-3954 "/>
<text text-anchor="start" x="24699.5" y="-3938.8" font-family="Arial" font-size="14.00">audience : Optional[List[Role]]</text>
<text text-anchor="start" x="24699.5" y="-3923.8" font-family="Arial" font-size="14.00">last_modified : Optional[str]</text>
<text text-anchor="start" x="24699.5" y="-3908.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="24699.5" y="-3893.8" font-family="Arial" font-size="14.00">priority : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="24691.5,-3886 24888.5,-3886 "/>
<text text-anchor="start" x="24788" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.AnthropicConfig -->
<g id="node28" class="node">
<title>mcpgateway.llm_provider_configs.AnthropicConfig</title>
<polygon fill="white" stroke="#77aadd" points="24907,-3885.5 24907,-3954.5 25115,-3954.5 25115,-3885.5 24907,-3885.5"/>
<text text-anchor="start" x="24962.5" y="-3939.3" font-family="Arial" font-size="14.00">AnthropicConfig</text>
<polyline fill="none" stroke="#77aadd" points="24907,-3931.5 25115,-3931.5 "/>
<text text-anchor="start" x="24915" y="-3916.3" font-family="Arial" font-size="14.00">anthropic_version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="24907,-3908.5 25115,-3908.5 "/>
<text text-anchor="start" x="25009" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicConfig -->
<g id="node29" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicConfig</title>
<polygon fill="white" stroke="#ffaabb" points="25133.5,-3840.5 25133.5,-3999.5 25318.5,-3999.5 25318.5,-3840.5 25133.5,-3840.5"/>
<text text-anchor="start" x="25177.5" y="-3984.3" font-family="Arial" font-size="14.00">AnthropicConfig</text>
<polyline fill="none" stroke="#ffaabb" points="25133.5,-3976.5 25318.5,-3976.5 "/>
<text text-anchor="start" x="25141.5" y="-3961.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="25141.5" y="-3946.3" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="25141.5" y="-3931.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="25141.5" y="-3916.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="25141.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="25141.5" y="-3886.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="25141.5" y="-3871.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="25133.5,-3863.5 25318.5,-3863.5 "/>
<text text-anchor="start" x="25224" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicProvider -->
<g id="node30" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicProvider</title>
<polygon fill="white" stroke="#ffaabb" points="25031.5,-8034 25031.5,-8118 25420.5,-8118 25420.5,-8034 25031.5,-8034"/>
<text text-anchor="start" x="25172" y="-8102.8" font-family="Arial" font-size="14.00">AnthropicProvider</text>
<polyline fill="none" stroke="#ffaabb" points="25031.5,-8095 25420.5,-8095 "/>
<text text-anchor="start" x="25207.5" y="-8079.8" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="25031.5,-8072 25420.5,-8072 "/>
<text text-anchor="start" x="25039.5" y="-8056.8" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatAnthropic, AnthropicLLM]</text>
<text text-anchor="start" x="25039.5" y="-8041.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AnthropicConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AnthropicProvider -->
<g id="edge179" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AnthropicConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AnthropicProvider</title>
<path fill="none" stroke="gray" d="M25226,-3999.81C25226,-4530.95 25226,-7580.08 25226,-8021.69"/>
<polygon fill="none" stroke="gray" points="25226,-8021.69 25230,-8027.69 25226,-8033.69 25222,-8027.69 25226,-8021.69"/>
<text text-anchor="middle" x="25244.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.AppliedTo -->
<g id="node31" class="node">
<title>mcpgateway.plugins.framework.models.AppliedTo</title>
<polygon fill="white" stroke="#ee8866" points="25385.5,-3870.5 25385.5,-3969.5 25668.5,-3969.5 25668.5,-3870.5 25385.5,-3870.5"/>
<text text-anchor="start" x="25497" y="-3954.3" font-family="Arial" font-size="14.00">AppliedTo</text>
<polyline fill="none" stroke="#ee8866" points="25385.5,-3946.5 25668.5,-3946.5 "/>
<text text-anchor="start" x="25393.5" y="-3931.3" font-family="Arial" font-size="14.00">prompts : Optional[list[PromptTemplate]]</text>
<text text-anchor="start" x="25393.5" y="-3916.3" font-family="Arial" font-size="14.00">resources : Optional[list[ResourceTemplate]]</text>
<text text-anchor="start" x="25393.5" y="-3901.3" font-family="Arial" font-size="14.00">tools : Optional[list[ToolTemplate]]</text>
<polyline fill="none" stroke="#ee8866" points="25385.5,-3893.5 25668.5,-3893.5 "/>
<text text-anchor="start" x="25525" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.argon2_service.Argon2PasswordService -->
<g id="node32" class="node">
<title>mcpgateway.services.argon2_service.Argon2PasswordService</title>
<polygon fill="white" stroke="#ffaabb" points="25734.5,-3825.5 25734.5,-4014.5 26111.5,-4014.5 26111.5,-3825.5 25734.5,-3825.5"/>
<text text-anchor="start" x="25849" y="-3999.3" font-family="Arial" font-size="14.00">Argon2PasswordService</text>
<polyline fill="none" stroke="#ffaabb" points="25734.5,-3991.5 26111.5,-3991.5 "/>
<text text-anchor="start" x="25845" y="-3976.3" font-family="Arial" font-size="14.00">hasher : PasswordHasher</text>
<text text-anchor="start" x="25845" y="-3961.3" font-family="Arial" font-size="14.00">memory_cost</text>
<text text-anchor="start" x="25845" y="-3946.3" font-family="Arial" font-size="14.00">parallelism</text>
<text text-anchor="start" x="25845" y="-3931.3" font-family="Arial" font-size="14.00">time_cost</text>
<polyline fill="none" stroke="#ffaabb" points="25734.5,-3923.5 26111.5,-3923.5 "/>
<text text-anchor="start" x="25742.5" y="-3908.3" font-family="Arial" font-size="14.00">get_hash_info(hash_value: str): Optional[dict]</text>
<text text-anchor="start" x="25742.5" y="-3893.3" font-family="Arial" font-size="14.00">hash_password(password: str): str</text>
<text text-anchor="start" x="25742.5" y="-3878.3" font-family="Arial" font-size="14.00">hash_password_async(password: str): str</text>
<text text-anchor="start" x="25742.5" y="-3863.3" font-family="Arial" font-size="14.00">needs_rehash(hash_value: str): bool</text>
<text text-anchor="start" x="25742.5" y="-3848.3" font-family="Arial" font-size="14.00">verify_password(password: str, hash_value: str): bool</text>
<text text-anchor="start" x="25742.5" y="-3833.3" font-family="Arial" font-size="14.00">verify_password_async(password: str, hash_value: str): bool</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailAuthService -->
<g id="node124" class="node">
<title>mcpgateway.services.email_auth_service.EmailAuthService</title>
<polygon fill="white" stroke="#ffaabb" points="25439,-7891.5 25439,-8260.5 26407,-8260.5 26407,-7891.5 25439,-7891.5"/>
<text text-anchor="start" x="25869" y="-8245.3" font-family="Arial" font-size="14.00">EmailAuthService</text>
<polyline fill="none" stroke="#ffaabb" points="25439,-8237.5 26407,-8237.5 "/>
<text text-anchor="start" x="25801" y="-8222.3" font-family="Arial" font-size="14.00">db</text>
<text text-anchor="start" x="25801" y="-8207.3" font-family="Arial" font-size="14.00">get_all_users_deprecated_warned : bool</text>
<text text-anchor="start" x="25801" y="-8192.3" font-family="Arial" font-size="14.00">password_service</text>
<polyline fill="none" stroke="#ffaabb" points="25439,-8184.5 26407,-8184.5 "/>
<text text-anchor="start" x="25447" y="-8169.3" font-family="Arial" font-size="14.00">activate_user(email: str): EmailUser</text>
<text text-anchor="start" x="25447" y="-8154.3" font-family="Arial" font-size="14.00">authenticate_user(email: str, password: str, ip_address: Optional[str], user_agent: Optional[str]): Optional[EmailUser]</text>
<text text-anchor="start" x="25447" y="-8139.3" font-family="Arial" font-size="14.00">change_password(email: str, old_password: Optional[str], new_password: str, ip_address: Optional[str], user_agent: Optional[str]): bool</text>
<text text-anchor="start" x="25447" y="-8124.3" font-family="Arial" font-size="14.00">count_active_admin_users(): int</text>
<text text-anchor="start" x="25447" y="-8109.3" font-family="Arial" font-size="14.00">count_users(): int</text>
<text text-anchor="start" x="25447" y="-8094.3" font-family="Arial" font-size="14.00">create_platform_admin(email: str, password: str, full_name: Optional[str]): EmailUser</text>
<text text-anchor="start" x="25447" y="-8079.3" font-family="Arial" font-size="14.00">create_user(email: str, password: str, full_name: Optional[str], is_admin: bool, auth_provider: str, skip_password_validation: bool): EmailUser</text>
<text text-anchor="start" x="25447" y="-8064.3" font-family="Arial" font-size="14.00">deactivate_user(email: str): EmailUser</text>
<text text-anchor="start" x="25447" y="-8049.3" font-family="Arial" font-size="14.00">delete_user(email: str): bool</text>
<text text-anchor="start" x="25447" y="-8034.3" font-family="Arial" font-size="14.00">get_all_users(): list[EmailUser]</text>
<text text-anchor="start" x="25447" y="-8019.3" font-family="Arial" font-size="14.00">get_auth_events(email: Optional[str], limit: int, offset: int): list[EmailAuthEvent]</text>
<text text-anchor="start" x="25447" y="-8004.3" font-family="Arial" font-size="14.00">get_user_by_email(email: str): Optional[EmailUser]</text>
<text text-anchor="start" x="25447" y="-7989.3" font-family="Arial" font-size="14.00">is_last_active_admin(email: str): bool</text>
<text text-anchor="start" x="25447" y="-7974.3" font-family="Arial" font-size="14.00">list_users(limit: Optional[int], cursor: Optional[str], page: Optional[int], per_page: Optional[int], search: Optional[str]): UsersListResult</text>
<text text-anchor="start" x="25447" y="-7959.3" font-family="Arial" font-size="14.00">list_users_not_in_team(team_id: str, cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], search: Optional[str]): UsersListResult</text>
<text text-anchor="start" x="25447" y="-7944.3" font-family="Arial" font-size="14.00">update_last_login(email: str): None</text>
<text text-anchor="start" x="25447" y="-7929.3" font-family="Arial" font-size="14.00">update_user(email: str, full_name: Optional[str], is_admin: Optional[bool], password: Optional[str]): EmailUser</text>
<text text-anchor="start" x="25447" y="-7914.3" font-family="Arial" font-size="14.00">validate_email(email: str): bool</text>
<text text-anchor="start" x="25447" y="-7899.3" font-family="Arial" font-size="14.00">validate_password(password: str): bool</text>
</g>
<!-- mcpgateway.services.argon2_service.Argon2PasswordService&#45;&gt;mcpgateway.services.email_auth_service.EmailAuthService -->
<g id="edge155" class="edge">
<title>mcpgateway.services.argon2_service.Argon2PasswordService&#45;&gt;mcpgateway.services.email_auth_service.EmailAuthService</title>
<path fill="none" stroke="gray" d="M25923,-4014.57C25923,-4541.54 25923,-7141.5 25923,-7879.41"/>
<polygon fill="gray" stroke="gray" points="25923,-7879.47 25927,-7885.47 25923,-7891.47 25919,-7885.47 25923,-7879.47"/>
<text text-anchor="middle" x="25977.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">password_service</text>
</g>
<!-- mcpgateway.common.models.AudioContent -->
<g id="node33" class="node">
<title>mcpgateway.common.models.AudioContent</title>
<polygon fill="white" stroke="#44bb99" points="26129.5,-3855.5 26129.5,-3984.5 26356.5,-3984.5 26356.5,-3855.5 26129.5,-3855.5"/>
<text text-anchor="start" x="26202" y="-3969.3" font-family="Arial" font-size="14.00">AudioContent</text>
<polyline fill="none" stroke="#44bb99" points="26129.5,-3961.5 26356.5,-3961.5 "/>
<text text-anchor="start" x="26137.5" y="-3946.3" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="26137.5" y="-3931.3" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="26137.5" y="-3916.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="26137.5" y="-3901.3" font-family="Arial" font-size="14.00">mime_type : str</text>
<text text-anchor="start" x="26137.5" y="-3886.3" font-family="Arial" font-size="14.00">type : Literal[&#39;audio&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="26129.5,-3878.5 26356.5,-3878.5 "/>
<text text-anchor="start" x="26241" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.audit_trail_service.AuditAction -->
<g id="node34" class="node">
<title>mcpgateway.services.audit_trail_service.AuditAction</title>
<polygon fill="white" stroke="#ffaabb" points="26374.5,-3885.5 26374.5,-3954.5 26459.5,-3954.5 26459.5,-3885.5 26374.5,-3885.5"/>
<text text-anchor="start" x="26382.5" y="-3939.3" font-family="Arial" font-size="14.00">AuditAction</text>
<polyline fill="none" stroke="#ffaabb" points="26374.5,-3931.5 26459.5,-3931.5 "/>
<text text-anchor="start" x="26399.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="26374.5,-3908.5 26459.5,-3908.5 "/>
<text text-anchor="start" x="26415" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.AuditTrail -->
<g id="node35" class="node">
<title>mcpgateway.db.AuditTrail</title>
<polygon fill="white" stroke="#77aadd" points="928,-3720.5 928,-4119.5 1218,-4119.5 1218,-3720.5 928,-3720.5"/>
<text text-anchor="start" x="1044" y="-4104.3" font-family="Arial" font-size="14.00">AuditTrail</text>
<polyline fill="none" stroke="#77aadd" points="928,-4096.5 1218,-4096.5 "/>
<text text-anchor="start" x="936" y="-4081.3" font-family="Arial" font-size="14.00">action : Mapped[str]</text>
<text text-anchor="start" x="936" y="-4066.3" font-family="Arial" font-size="14.00">changes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4051.3" font-family="Arial" font-size="14.00">client_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4036.3" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-4021.3" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-4006.3" font-family="Arial" font-size="14.00">data_classification : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3991.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3976.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="936" y="-3961.3" font-family="Arial" font-size="14.00">new_values : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-3946.3" font-family="Arial" font-size="14.00">old_values : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="936" y="-3931.3" font-family="Arial" font-size="14.00">request_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3916.3" font-family="Arial" font-size="14.00">request_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3901.3" font-family="Arial" font-size="14.00">request_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3886.3" font-family="Arial" font-size="14.00">requires_review : Mapped[bool]</text>
<text text-anchor="start" x="936" y="-3871.3" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3856.3" font-family="Arial" font-size="14.00">resource_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3841.3" font-family="Arial" font-size="14.00">resource_type : Mapped[str]</text>
<text text-anchor="start" x="936" y="-3826.3" font-family="Arial" font-size="14.00">success : Mapped[bool]</text>
<text text-anchor="start" x="936" y="-3811.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3796.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="936" y="-3781.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3766.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="936" y="-3751.3" font-family="Arial" font-size="14.00">user_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="928,-3743.5 1218,-3743.5 "/>
<text text-anchor="start" x="1071" y="-3728.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.AuditTrail&#45;&gt;mcpgateway.db.Base -->
<g id="edge14" class="edge">
<title>mcpgateway.db.AuditTrail&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1065.77,-4119.54C1040.09,-4878.92 968.15,-7570.25 1227,-7840 1372.33,-7991.45 8343.1,-8065.79 9181.73,-8074.19"/>
<polygon fill="none" stroke="gray" points="9181.86,-8077.7 9191.9,-8074.3 9181.93,-8070.7 9181.86,-8077.7"/>
</g>
<!-- mcpgateway.services.audit_trail_service.AuditTrailService -->
<g id="node36" class="node">
<title>mcpgateway.services.audit_trail_service.AuditTrailService</title>
<polygon fill="white" stroke="#ffaabb" points="26477.5,-3854.6 26477.5,-3985.4 30172.5,-3985.4 30172.5,-3854.6 26477.5,-3854.6"/>
<text text-anchor="start" x="28273.5" y="-3970.2" font-family="Arial" font-size="14.00">AuditTrailService</text>
<polyline fill="none" stroke="#ffaabb" points="26477.5,-3962.4 30172.5,-3962.4 "/>
<polyline fill="none" stroke="#ffaabb" points="26477.5,-3937.6 30172.5,-3937.6 "/>
<text text-anchor="start" x="26485.5" y="-3922.4" font-family="Arial" font-size="14.00">get_audit_trail(resource_type: Optional[str], resource_id: Optional[str], user_id: Optional[str], action: Optional[str], start_time: Optional[datetime], end_time: Optional[datetime], limit: int, offset: int, db: Optional[Session]): list[AuditTrail]</text>
<text text-anchor="start" x="26485.5" y="-3907.4" font-family="Arial" font-size="14.00">log_action(action: str, resource_type: str, resource_id: str, user_id: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], client_ip: Optional[str], user_agent: Optional[str], request_path: Optional[str], request_method: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], changes: Optional[Dict[str, Any]], data_classification: Optional[str], requires_review: Optional[bool], success: bool, error_message: Optional[str], context: Optional[Dict[str, Any]], details: Optional[Dict[str, Any]], metadata: Optional[Dict[str, Any]], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26485.5" y="-3892.4" font-family="Arial" font-size="14.00">log_audit(user_id: str, resource_type: str, resource_id: str, action: str, user_email: Optional[str], description: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26485.5" y="-3877.4" font-family="Arial" font-size="14.00">log_crud_operation(operation: str, resource_type: str, resource_id: str, user_id: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], success: bool, error_message: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="26485.5" y="-3862.4" font-family="Arial" font-size="14.00">log_data_access(resource_type: str, resource_id: str, user_id: str, access_type: str, user_email: Optional[str], team_id: Optional[str], resource_name: Optional[str], data_classification: Optional[str], db: Optional[Session]): Optional[AuditTrail]</text>
</g>
<!-- mcpgateway.cache.auth_cache.AuthCache -->
<g id="node37" class="node">
<title>mcpgateway.cache.auth_cache.AuthCache</title>
<polygon fill="white" stroke="#99ddff" points="30191,-3727.1 30191,-4112.9 30737,-4112.9 30737,-3727.1 30191,-3727.1"/>
<text text-anchor="start" x="30430.5" y="-4097.7" font-family="Arial" font-size="14.00">AuthCache</text>
<polyline fill="none" stroke="#99ddff" points="30191,-4089.9 30737,-4089.9 "/>
<polyline fill="none" stroke="#99ddff" points="30191,-4065.1 30737,-4065.1 "/>
<text text-anchor="start" x="30199" y="-4049.9" font-family="Arial" font-size="14.00">get_auth_context(email: str, jti: Optional[str]): Optional[CachedAuthContext]</text>
<text text-anchor="start" x="30199" y="-4034.9" font-family="Arial" font-size="14.00">get_team_membership_valid(user_email: str, team_ids: List[str]): Optional[bool]</text>
<text text-anchor="start" x="30199" y="-4019.9" font-family="Arial" font-size="14.00">get_team_membership_valid_sync(user_email: str, team_ids: List[str]): Optional[bool]</text>
<text text-anchor="start" x="30199" y="-4004.9" font-family="Arial" font-size="14.00">get_user_role(email: str, team_id: str): Optional[str]</text>
<text text-anchor="start" x="30199" y="-3989.9" font-family="Arial" font-size="14.00">get_user_teams(cache_key: str): Optional[List[str]]</text>
<text text-anchor="start" x="30199" y="-3974.9" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="30199" y="-3959.9" font-family="Arial" font-size="14.00">invalidate_revocation(jti: str): None</text>
<text text-anchor="start" x="30199" y="-3944.9" font-family="Arial" font-size="14.00">invalidate_team(email: str): None</text>
<text text-anchor="start" x="30199" y="-3929.9" font-family="Arial" font-size="14.00">invalidate_team_membership(user_email: str): None</text>
<text text-anchor="start" x="30199" y="-3914.9" font-family="Arial" font-size="14.00">invalidate_team_roles(team_id: str): None</text>
<text text-anchor="start" x="30199" y="-3899.9" font-family="Arial" font-size="14.00">invalidate_user(email: str): None</text>
<text text-anchor="start" x="30199" y="-3884.9" font-family="Arial" font-size="14.00">invalidate_user_role(email: str, team_id: str): None</text>
<text text-anchor="start" x="30199" y="-3869.9" font-family="Arial" font-size="14.00">invalidate_user_teams(email: str): None</text>
<text text-anchor="start" x="30199" y="-3854.9" font-family="Arial" font-size="14.00">is_token_revoked(jti: str): Optional[bool]</text>
<text text-anchor="start" x="30199" y="-3839.9" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="30199" y="-3824.9" font-family="Arial" font-size="14.00">set_auth_context(email: str, jti: Optional[str], context: CachedAuthContext): None</text>
<text text-anchor="start" x="30199" y="-3809.9" font-family="Arial" font-size="14.00">set_team_membership_valid(user_email: str, team_ids: List[str], valid: bool): None</text>
<text text-anchor="start" x="30199" y="-3794.9" font-family="Arial" font-size="14.00">set_team_membership_valid_sync(user_email: str, team_ids: List[str], valid: bool): None</text>
<text text-anchor="start" x="30199" y="-3779.9" font-family="Arial" font-size="14.00">set_user_role(email: str, team_id: str, role: Optional[str]): None</text>
<text text-anchor="start" x="30199" y="-3764.9" font-family="Arial" font-size="14.00">set_user_teams(cache_key: str, team_ids: List[str]): None</text>
<text text-anchor="start" x="30199" y="-3749.9" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
<text text-anchor="start" x="30199" y="-3734.9" font-family="Arial" font-size="14.00">sync_revoked_tokens(): None</text>
</g>
<!-- mcpgateway.middleware.auth_middleware.AuthContextMiddleware -->
<g id="node38" class="node">
<title>mcpgateway.middleware.auth_middleware.AuthContextMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="30755,-3884.6 30755,-3955.4 31119,-3955.4 31119,-3884.6 30755,-3884.6"/>
<text text-anchor="start" x="30864.5" y="-3940.2" font-family="Arial" font-size="14.00">AuthContextMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="30755,-3932.4 31119,-3932.4 "/>
<polyline fill="none" stroke="#eedd88" points="30755,-3907.6 31119,-3907.6 "/>
<text text-anchor="start" x="30763" y="-3892.4" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.schemas.AuthEventResponse -->
<g id="node39" class="node">
<title>mcpgateway.schemas.AuthEventResponse</title>
<polygon fill="white" stroke="#77aadd" points="31137.5,-3833 31137.5,-4007 31340.5,-4007 31340.5,-3833 31137.5,-3833"/>
<text text-anchor="start" x="31177" y="-3991.8" font-family="Arial" font-size="14.00">AuthEventResponse</text>
<polyline fill="none" stroke="#77aadd" points="31137.5,-3984 31340.5,-3984 "/>
<text text-anchor="start" x="31145.5" y="-3968.8" font-family="Arial" font-size="14.00">event_type : Optional[str]</text>
<text text-anchor="start" x="31145.5" y="-3953.8" font-family="Arial" font-size="14.00">failure_reason : Optional[str]</text>
<text text-anchor="start" x="31145.5" y="-3938.8" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="31145.5" y="-3923.8" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="31145.5" y="-3908.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="31145.5" y="-3893.8" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<text text-anchor="start" x="31145.5" y="-3878.8" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="31145.5" y="-3863.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="31137.5,-3856 31340.5,-3856 "/>
<text text-anchor="start" x="31237" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cli_export_import.AuthenticationError -->
<g id="node40" class="node">
<title>mcpgateway.cli_export_import.AuthenticationError</title>
<polygon fill="white" stroke="#77aadd" points="31359,-3884.6 31359,-3955.4 31491,-3955.4 31491,-3884.6 31359,-3884.6"/>
<text text-anchor="start" x="31367" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">AuthenticationError</text>
<polyline fill="none" stroke="#77aadd" points="31359,-3932.4 31491,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="31359,-3907.6 31491,-3907.6 "/>
<text text-anchor="start" x="31423" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.cli_export_import.CLIError -->
<g id="node55" class="node">
<title>mcpgateway.cli_export_import.CLIError</title>
<polygon fill="white" stroke="#77aadd" points="31391,-8040.6 31391,-8111.4 31459,-8111.4 31459,-8040.6 31391,-8040.6"/>
<text text-anchor="start" x="31399" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">CLIError</text>
<polyline fill="none" stroke="#77aadd" points="31391,-8088.4 31459,-8088.4 "/>
<polyline fill="none" stroke="#77aadd" points="31391,-8063.6 31459,-8063.6 "/>
<text text-anchor="start" x="31423" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.cli_export_import.AuthenticationError&#45;&gt;mcpgateway.cli_export_import.CLIError -->
<g id="edge2" class="edge">
<title>mcpgateway.cli_export_import.AuthenticationError&#45;&gt;mcpgateway.cli_export_import.CLIError</title>
<path fill="none" stroke="gray" d="M31425,-3955.66C31425,-4329.39 31425,-7607.55 31425,-8030.19"/>
<polygon fill="none" stroke="gray" points="31421.5,-8030.48 31425,-8040.48 31428.5,-8030.48 31421.5,-8030.48"/>
</g>
<!-- mcpgateway.services.email_auth_service.AuthenticationError -->
<g id="node41" class="node">
<title>mcpgateway.services.email_auth_service.AuthenticationError</title>
<polygon fill="white" stroke="#ffaabb" points="31509,-3884.6 31509,-3955.4 31641,-3955.4 31641,-3884.6 31509,-3884.6"/>
<text text-anchor="start" x="31517" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">AuthenticationError</text>
<polyline fill="none" stroke="#ffaabb" points="31509,-3932.4 31641,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="31509,-3907.6 31641,-3907.6 "/>
<text text-anchor="start" x="31573" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.AuthenticationResponse -->
<g id="node42" class="node">
<title>mcpgateway.schemas.AuthenticationResponse</title>
<polygon fill="white" stroke="#77aadd" points="31659,-3863 31659,-3977 31895,-3977 31895,-3863 31659,-3863"/>
<text text-anchor="start" x="31703.5" y="-3961.8" font-family="Arial" font-size="14.00">AuthenticationResponse</text>
<polyline fill="none" stroke="#77aadd" points="31659,-3954 31895,-3954 "/>
<text text-anchor="start" x="31667" y="-3938.8" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="31667" y="-3923.8" font-family="Arial" font-size="14.00">expires_in : Optional[int]</text>
<text text-anchor="start" x="31667" y="-3908.8" font-family="Arial" font-size="14.00">token_type : Optional[str]</text>
<text text-anchor="start" x="31667" y="-3893.8" font-family="Arial" font-size="14.00">user : Optional[EmailUserResponse]</text>
<polyline fill="none" stroke="#77aadd" points="31659,-3886 31895,-3886 "/>
<text text-anchor="start" x="31775" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.AuthenticationValues -->
<g id="node43" class="node">
<title>mcpgateway.schemas.AuthenticationValues</title>
<polygon fill="white" stroke="#77aadd" points="31913.5,-3840.5 31913.5,-3999.5 32130.5,-3999.5 32130.5,-3840.5 31913.5,-3840.5"/>
<text text-anchor="start" x="31958.5" y="-3984.3" font-family="Arial" font-size="14.00">AuthenticationValues</text>
<polyline fill="none" stroke="#77aadd" points="31913.5,-3976.5 32130.5,-3976.5 "/>
<text text-anchor="start" x="31921.5" y="-3961.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3946.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3931.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3916.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3901.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3886.3" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<text text-anchor="start" x="31921.5" y="-3871.3" font-family="Arial" font-size="14.00">username : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="31913.5,-3863.5 32130.5,-3863.5 "/>
<text text-anchor="start" x="32020" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.AzureOpenAIConfig -->
<g id="node44" class="node">
<title>mcpgateway.llm_provider_configs.AzureOpenAIConfig</title>
<polygon fill="white" stroke="#77aadd" points="32149,-3870.5 32149,-3969.5 32363,-3969.5 32363,-3870.5 32149,-3870.5"/>
<text text-anchor="start" x="32195.5" y="-3954.3" font-family="Arial" font-size="14.00">AzureOpenAIConfig</text>
<polyline fill="none" stroke="#77aadd" points="32149,-3946.5 32363,-3946.5 "/>
<text text-anchor="start" x="32157" y="-3931.3" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="32157" y="-3916.3" font-family="Arial" font-size="14.00">deployment_name : Optional[str]</text>
<text text-anchor="start" x="32157" y="-3901.3" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="32149,-3893.5 32363,-3893.5 "/>
<text text-anchor="start" x="32254" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig -->
<g id="node45" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig</title>
<polygon fill="white" stroke="#ffaabb" points="32380.5,-3818 32380.5,-4022 32593.5,-4022 32593.5,-3818 32380.5,-3818"/>
<text text-anchor="start" x="32426.5" y="-4006.8" font-family="Arial" font-size="14.00">AzureOpenAIConfig</text>
<polyline fill="none" stroke="#ffaabb" points="32380.5,-3999 32593.5,-3999 "/>
<text text-anchor="start" x="32388.5" y="-3983.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="32388.5" y="-3968.8" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="32388.5" y="-3953.8" font-family="Arial" font-size="14.00">azure_deployment : Optional[str]</text>
<text text-anchor="start" x="32388.5" y="-3938.8" font-family="Arial" font-size="14.00">azure_endpoint : Optional[str]</text>
<text text-anchor="start" x="32388.5" y="-3923.8" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="32388.5" y="-3908.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="32388.5" y="-3893.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="32388.5" y="-3878.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="32388.5" y="-3863.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="32388.5" y="-3848.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="32380.5,-3841 32593.5,-3841 "/>
<text text-anchor="start" x="32485" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider -->
<g id="node46" class="node">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider</title>
<polygon fill="white" stroke="#ffaabb" points="32281,-8034 32281,-8118 32693,-8118 32693,-8034 32281,-8034"/>
<text text-anchor="start" x="32420.5" y="-8102.8" font-family="Arial" font-size="14.00">AzureOpenAIProvider</text>
<polyline fill="none" stroke="#ffaabb" points="32281,-8095 32693,-8095 "/>
<text text-anchor="start" x="32468.5" y="-8079.8" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="32281,-8072 32693,-8072 "/>
<text text-anchor="start" x="32289" y="-8056.8" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[AzureChatOpenAI, AzureOpenAI]</text>
<text text-anchor="start" x="32289" y="-8041.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider -->
<g id="edge180" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider</title>
<path fill="none" stroke="gray" d="M32487,-4022.14C32487,-4610.91 32487,-7585.58 32487,-8021.61"/>
<polygon fill="none" stroke="gray" points="32487,-8021.77 32491,-8027.77 32487,-8033.77 32483,-8027.77 32487,-8021.77"/>
<text text-anchor="middle" x="32505.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="node48" class="node">
<title>mcpgateway.plugins.framework.models.BaseTemplate</title>
<polygon fill="white" stroke="#ee8866" points="32753,-8034 32753,-8118 32977,-8118 32977,-8034 32753,-8034"/>
<text text-anchor="start" x="32821.5" y="-8102.8" font-family="Arial" font-size="14.00">BaseTemplate</text>
<polyline fill="none" stroke="#ee8866" points="32753,-8095 32977,-8095 "/>
<text text-anchor="start" x="32761" y="-8079.8" font-family="Arial" font-size="14.00">context : Optional[list[str]]</text>
<text text-anchor="start" x="32761" y="-8064.8" font-family="Arial" font-size="14.00">extensions : Optional[dict[str, Any]]</text>
<polyline fill="none" stroke="#ee8866" points="32753,-8057 32977,-8057 "/>
<text text-anchor="start" x="32863" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.BlobResourceContents -->
<g id="node49" class="node">
<title>mcpgateway.common.models.BlobResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33136.5,-3885.5 33136.5,-3954.5 33291.5,-3954.5 33291.5,-3885.5 33136.5,-3885.5"/>
<text text-anchor="start" x="33144.5" y="-3939.3" font-family="Arial" font-size="14.00">BlobResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33136.5,-3931.5 33291.5,-3931.5 "/>
<text text-anchor="start" x="33188" y="-3916.3" font-family="Arial" font-size="14.00">blob : str</text>
<polyline fill="none" stroke="#44bb99" points="33136.5,-3908.5 33291.5,-3908.5 "/>
<text text-anchor="start" x="33212" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceContents -->
<g id="node433" class="node">
<title>mcpgateway.common.models.ResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33204,-8026.5 33204,-8125.5 33396,-8125.5 33396,-8026.5 33204,-8026.5"/>
<text text-anchor="start" x="33244" y="-8110.3" font-family="Arial" font-size="14.00">ResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33204,-8102.5 33396,-8102.5 "/>
<text text-anchor="start" x="33212" y="-8087.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="33212" y="-8072.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="33212" y="-8057.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="33204,-8049.5 33396,-8049.5 "/>
<text text-anchor="start" x="33298" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.BlobResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents -->
<g id="edge3" class="edge">
<title>mcpgateway.common.models.BlobResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents</title>
<path fill="none" stroke="gray" d="M33214.7,-3954.74C33222.26,-4320.19 33288.93,-7540.38 33298.79,-8016.33"/>
<polygon fill="none" stroke="gray" points="33295.29,-8016.49 33298.99,-8026.41 33302.29,-8016.34 33295.29,-8016.49"/>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedA2AAgentMetric -->
<g id="node50" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedA2AAgentMetric</title>
<polygon fill="white" stroke="#ffaabb" points="33480.5,-3848 33480.5,-3992 33673.5,-3992 33673.5,-3848 33480.5,-3848"/>
<text text-anchor="start" x="33502" y="-3976.8" font-family="Arial" font-size="14.00">BufferedA2AAgentMetric</text>
<polyline fill="none" stroke="#ffaabb" points="33480.5,-3969 33673.5,-3969 "/>
<text text-anchor="start" x="33488.5" y="-3953.8" font-family="Arial" font-size="14.00">a2a_agent_id : str</text>
<text text-anchor="start" x="33488.5" y="-3938.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="33488.5" y="-3923.8" font-family="Arial" font-size="14.00">interaction_type : str</text>
<text text-anchor="start" x="33488.5" y="-3908.8" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="33488.5" y="-3893.8" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="33488.5" y="-3878.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="33480.5,-3871 33673.5,-3871 "/>
<text text-anchor="start" x="33575" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedPromptMetric -->
<g id="node51" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedPromptMetric</title>
<polygon fill="white" stroke="#ffaabb" points="33691.5,-3855.5 33691.5,-3984.5 33884.5,-3984.5 33884.5,-3855.5 33691.5,-3855.5"/>
<text text-anchor="start" x="33721.5" y="-3969.3" font-family="Arial" font-size="14.00">BufferedPromptMetric</text>
<polyline fill="none" stroke="#ffaabb" points="33691.5,-3961.5 33884.5,-3961.5 "/>
<text text-anchor="start" x="33699.5" y="-3946.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="33699.5" y="-3931.3" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="33699.5" y="-3916.3" font-family="Arial" font-size="14.00">prompt_id : str</text>
<text text-anchor="start" x="33699.5" y="-3901.3" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="33699.5" y="-3886.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="33691.5,-3878.5 33884.5,-3878.5 "/>
<text text-anchor="start" x="33786" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedResourceMetric -->
<g id="node52" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedResourceMetric</title>
<polygon fill="white" stroke="#ffaabb" points="33902.5,-3855.5 33902.5,-3984.5 34095.5,-3984.5 34095.5,-3855.5 33902.5,-3855.5"/>
<text text-anchor="start" x="33925.5" y="-3969.3" font-family="Arial" font-size="14.00">BufferedResourceMetric</text>
<polyline fill="none" stroke="#ffaabb" points="33902.5,-3961.5 34095.5,-3961.5 "/>
<text text-anchor="start" x="33910.5" y="-3946.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="33910.5" y="-3931.3" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="33910.5" y="-3916.3" font-family="Arial" font-size="14.00">resource_id : str</text>
<text text-anchor="start" x="33910.5" y="-3901.3" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="33910.5" y="-3886.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="33902.5,-3878.5 34095.5,-3878.5 "/>
<text text-anchor="start" x="33997" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedServerMetric -->
<g id="node53" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedServerMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34113.5,-3855.5 34113.5,-3984.5 34306.5,-3984.5 34306.5,-3855.5 34113.5,-3855.5"/>
<text text-anchor="start" x="34145.5" y="-3969.3" font-family="Arial" font-size="14.00">BufferedServerMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34113.5,-3961.5 34306.5,-3961.5 "/>
<text text-anchor="start" x="34121.5" y="-3946.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34121.5" y="-3931.3" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34121.5" y="-3916.3" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34121.5" y="-3901.3" font-family="Arial" font-size="14.00">server_id : str</text>
<text text-anchor="start" x="34121.5" y="-3886.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="34113.5,-3878.5 34306.5,-3878.5 "/>
<text text-anchor="start" x="34208" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.BufferedToolMetric -->
<g id="node54" class="node">
<title>mcpgateway.services.metrics_buffer_service.BufferedToolMetric</title>
<polygon fill="white" stroke="#ffaabb" points="34324.5,-3855.5 34324.5,-3984.5 34517.5,-3984.5 34517.5,-3855.5 34324.5,-3855.5"/>
<text text-anchor="start" x="34364" y="-3969.3" font-family="Arial" font-size="14.00">BufferedToolMetric</text>
<polyline fill="none" stroke="#ffaabb" points="34324.5,-3961.5 34517.5,-3961.5 "/>
<text text-anchor="start" x="34332.5" y="-3946.3" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="34332.5" y="-3931.3" font-family="Arial" font-size="14.00">is_success : bool</text>
<text text-anchor="start" x="34332.5" y="-3916.3" font-family="Arial" font-size="14.00">response_time : float</text>
<text text-anchor="start" x="34332.5" y="-3901.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<text text-anchor="start" x="34332.5" y="-3886.3" font-family="Arial" font-size="14.00">tool_id : str</text>
<polyline fill="none" stroke="#ffaabb" points="34324.5,-3878.5 34517.5,-3878.5 "/>
<text text-anchor="start" x="34419" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.CORSSettings -->
<g id="node56" class="node">
<title>mcpgateway.config.Settings.CORSSettings</title>
<polygon fill="white" stroke="#44bb99" points="34535.5,-3863 34535.5,-3977 34780.5,-3977 34780.5,-3863 34535.5,-3863"/>
<text text-anchor="start" x="34613.5" y="-3961.8" font-family="Arial" font-size="14.00">CORSSettings</text>
<polyline fill="none" stroke="#44bb99" points="34535.5,-3954 34780.5,-3954 "/>
<text text-anchor="start" x="34543.5" y="-3938.8" font-family="Arial" font-size="14.00">allow_credentials : NotRequired[bool]</text>
<text text-anchor="start" x="34543.5" y="-3923.8" font-family="Arial" font-size="14.00">allow_headers : NotRequired[List[str]]</text>
<text text-anchor="start" x="34543.5" y="-3908.8" font-family="Arial" font-size="14.00">allow_methods : NotRequired[List[str]]</text>
<text text-anchor="start" x="34543.5" y="-3893.8" font-family="Arial" font-size="14.00">allow_origins : NotRequired[List[str]]</text>
<polyline fill="none" stroke="#44bb99" points="34535.5,-3886 34780.5,-3886 "/>
<text text-anchor="start" x="34656" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.tool_lookup_cache.CacheEntry -->
<g id="node57" class="node">
<title>mcpgateway.cache.tool_lookup_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="34798.5,-3878 34798.5,-3962 34933.5,-3962 34933.5,-3878 34798.5,-3878"/>
<text text-anchor="start" x="34830.5" y="-3946.8" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="34798.5,-3939 34933.5,-3939 "/>
<text text-anchor="start" x="34806.5" y="-3923.8" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="34806.5" y="-3908.8" font-family="Arial" font-size="14.00">value : Dict[str, Any]</text>
<polyline fill="none" stroke="#99ddff" points="34798.5,-3901 34933.5,-3901 "/>
<text text-anchor="start" x="34814" y="-3885.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.resource_cache.CacheEntry -->
<g id="node58" class="node">
<title>mcpgateway.cache.resource_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="34952,-3878 34952,-3962 35068,-3962 35068,-3878 34952,-3878"/>
<text text-anchor="start" x="34974.5" y="-3946.8" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="34952,-3939 35068,-3939 "/>
<text text-anchor="start" x="34960" y="-3923.8" font-family="Arial" font-size="14.00">expires_at : float</text>
<text text-anchor="start" x="34960" y="-3908.8" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="34952,-3901 35068,-3901 "/>
<text text-anchor="start" x="35008" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.auth_cache.CacheEntry -->
<g id="node59" class="node">
<title>mcpgateway.cache.auth_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35086,-3878 35086,-3962 35206,-3962 35206,-3878 35086,-3878"/>
<text text-anchor="start" x="35110.5" y="-3946.8" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35086,-3939 35206,-3939 "/>
<text text-anchor="start" x="35109.5" y="-3923.8" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35109.5" y="-3908.8" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35086,-3901 35206,-3901 "/>
<text text-anchor="start" x="35094" y="-3885.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.admin_stats_cache.CacheEntry -->
<g id="node60" class="node">
<title>mcpgateway.cache.admin_stats_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35224,-3878 35224,-3962 35344,-3962 35344,-3878 35224,-3878"/>
<text text-anchor="start" x="35248.5" y="-3946.8" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35224,-3939 35344,-3939 "/>
<text text-anchor="start" x="35247.5" y="-3923.8" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35247.5" y="-3908.8" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35224,-3901 35344,-3901 "/>
<text text-anchor="start" x="35232" y="-3885.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.registry_cache.CacheEntry -->
<g id="node61" class="node">
<title>mcpgateway.cache.registry_cache.CacheEntry</title>
<polygon fill="white" stroke="#99ddff" points="35362,-3878 35362,-3962 35482,-3962 35482,-3878 35362,-3878"/>
<text text-anchor="start" x="35386.5" y="-3946.8" font-family="Arial" font-size="14.00">CacheEntry</text>
<polyline fill="none" stroke="#99ddff" points="35362,-3939 35482,-3939 "/>
<text text-anchor="start" x="35385.5" y="-3923.8" font-family="Arial" font-size="14.00">expiry : float</text>
<text text-anchor="start" x="35385.5" y="-3908.8" font-family="Arial" font-size="14.00">value : Any</text>
<polyline fill="none" stroke="#99ddff" points="35362,-3901 35482,-3901 "/>
<text text-anchor="start" x="35370" y="-3885.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.cache.registry_cache.CacheInvalidationSubscriber -->
<g id="node62" class="node">
<title>mcpgateway.cache.registry_cache.CacheInvalidationSubscriber</title>
<polygon fill="white" stroke="#99ddff" points="35500,-3877.1 35500,-3962.9 35688,-3962.9 35688,-3877.1 35500,-3877.1"/>
<text text-anchor="start" x="35508" y="-3947.7" font-family="Arial" font-size="14.00">CacheInvalidationSubscriber</text>
<polyline fill="none" stroke="#99ddff" points="35500,-3939.9 35688,-3939.9 "/>
<polyline fill="none" stroke="#99ddff" points="35500,-3915.1 35688,-3915.1 "/>
<text text-anchor="start" x="35556" y="-3899.9" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="35556" y="-3884.9" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.schemas.CacheMetricsSchema -->
<g id="node63" class="node">
<title>mcpgateway.schemas.CacheMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="35706,-3833 35706,-4007 35932,-4007 35932,-3833 35706,-3833"/>
<text text-anchor="start" x="35752" y="-3991.8" font-family="Arial" font-size="14.00">CacheMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="35706,-3984 35932,-3984 "/>
<text text-anchor="start" x="35714" y="-3968.8" font-family="Arial" font-size="14.00">connected : Optional[bool]</text>
<text text-anchor="start" x="35714" y="-3953.8" font-family="Arial" font-size="14.00">connected_clients : Optional[int]</text>
<text text-anchor="start" x="35714" y="-3938.8" font-family="Arial" font-size="14.00">hit_rate : Optional[float]</text>
<text text-anchor="start" x="35714" y="-3923.8" font-family="Arial" font-size="14.00">keyspace_hits : Optional[int]</text>
<text text-anchor="start" x="35714" y="-3908.8" font-family="Arial" font-size="14.00">keyspace_misses : Optional[int]</text>
<text text-anchor="start" x="35714" y="-3893.8" font-family="Arial" font-size="14.00">ops_per_second : Optional[int]</text>
<text text-anchor="start" x="35714" y="-3878.8" font-family="Arial" font-size="14.00">used_memory_mb : Optional[float]</text>
<text text-anchor="start" x="35714" y="-3863.8" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="35706,-3856 35932,-3856 "/>
<text text-anchor="start" x="35817" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.auth_cache.CachedAuthContext -->
<g id="node64" class="node">
<title>mcpgateway.cache.auth_cache.CachedAuthContext</title>
<polygon fill="white" stroke="#99ddff" points="35950.5,-3870.5 35950.5,-3969.5 36159.5,-3969.5 36159.5,-3870.5 35950.5,-3870.5"/>
<text text-anchor="start" x="35994.5" y="-3954.3" font-family="Arial" font-size="14.00">CachedAuthContext</text>
<polyline fill="none" stroke="#99ddff" points="35950.5,-3946.5 36159.5,-3946.5 "/>
<text text-anchor="start" x="35958.5" y="-3931.3" font-family="Arial" font-size="14.00">is_token_revoked : bool</text>
<text text-anchor="start" x="35958.5" y="-3916.3" font-family="Arial" font-size="14.00">personal_team_id : Optional[str]</text>
<text text-anchor="start" x="35958.5" y="-3901.3" font-family="Arial" font-size="14.00">user : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#99ddff" points="35950.5,-3893.5 36159.5,-3893.5 "/>
<text text-anchor="start" x="36053" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CallToolResult -->
<g id="node65" class="node">
<title>mcpgateway.common.models.CallToolResult</title>
<polygon fill="white" stroke="#44bb99" points="36177.5,-3863 36177.5,-3977 36450.5,-3977 36450.5,-3863 36177.5,-3863"/>
<text text-anchor="start" x="36270.5" y="-3961.8" font-family="Arial" font-size="14.00">CallToolResult</text>
<polyline fill="none" stroke="#44bb99" points="36177.5,-3954 36450.5,-3954 "/>
<text text-anchor="start" x="36185.5" y="-3938.8" font-family="Arial" font-size="14.00">content : List[&#39;ContentBlock&#39;]</text>
<text text-anchor="start" x="36185.5" y="-3923.8" font-family="Arial" font-size="14.00">is_error : Optional[bool]</text>
<text text-anchor="start" x="36185.5" y="-3908.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="36185.5" y="-3893.8" font-family="Arial" font-size="14.00">structured_content : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="36177.5,-3886 36450.5,-3886 "/>
<text text-anchor="start" x="36312" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.cancellation_service.CancellationService -->
<g id="node66" class="node">
<title>mcpgateway.services.cancellation_service.CancellationService</title>
<polygon fill="white" stroke="#ffaabb" points="36468,-3839.6 36468,-4000.4 37050,-4000.4 37050,-3839.6 36468,-3839.6"/>
<text text-anchor="start" x="36699" y="-3985.2" font-family="Arial" font-size="14.00">CancellationService</text>
<polyline fill="none" stroke="#ffaabb" points="36468,-3977.4 37050,-3977.4 "/>
<polyline fill="none" stroke="#ffaabb" points="36468,-3952.6 37050,-3952.6 "/>
<text text-anchor="start" x="36476" y="-3937.4" font-family="Arial" font-size="14.00">cancel_run(run_id: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="36476" y="-3922.4" font-family="Arial" font-size="14.00">get_status(run_id: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="36476" y="-3907.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="36476" y="-3892.4" font-family="Arial" font-size="14.00">is_registered(run_id: str): bool</text>
<text text-anchor="start" x="36476" y="-3877.4" font-family="Arial" font-size="14.00">register_run(run_id: str, name: Optional[str], cancel_callback: Optional[CancelCallback]): None</text>
<text text-anchor="start" x="36476" y="-3862.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="36476" y="-3847.4" font-family="Arial" font-size="14.00">unregister_run(run_id: str): None</text>
</g>
<!-- mcpgateway.common.models.CancelledNotification -->
<g id="node67" class="node">
<title>mcpgateway.common.models.CancelledNotification</title>
<polygon fill="white" stroke="#44bb99" points="37068,-3870.5 37068,-3969.5 37324,-3969.5 37324,-3870.5 37068,-3870.5"/>
<text text-anchor="start" x="37132.5" y="-3954.3" font-family="Arial" font-size="14.00">CancelledNotification</text>
<polyline fill="none" stroke="#44bb99" points="37068,-3946.5 37324,-3946.5 "/>
<text text-anchor="start" x="37076" y="-3931.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/cancelled&#39;]</text>
<text text-anchor="start" x="37076" y="-3916.3" font-family="Arial" font-size="14.00">reason : Optional[str]</text>
<text text-anchor="start" x="37076" y="-3901.3" font-family="Arial" font-size="14.00">request_id : Union[str, int]</text>
<polyline fill="none" stroke="#44bb99" points="37068,-3893.5 37324,-3893.5 "/>
<text text-anchor="start" x="37194" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogBulkRegisterRequest -->
<g id="node68" class="node">
<title>mcpgateway.schemas.CatalogBulkRegisterRequest</title>
<polygon fill="white" stroke="#77aadd" points="37342,-3878 37342,-3962 37534,-3962 37534,-3878 37342,-3878"/>
<text text-anchor="start" x="37351" y="-3946.8" font-family="Arial" font-size="14.00">CatalogBulkRegisterRequest</text>
<polyline fill="none" stroke="#77aadd" points="37342,-3939 37534,-3939 "/>
<text text-anchor="start" x="37350" y="-3923.8" font-family="Arial" font-size="14.00">server_ids : Optional[List[str]]</text>
<text text-anchor="start" x="37350" y="-3908.8" font-family="Arial" font-size="14.00">skip_errors : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="37342,-3901 37534,-3901 "/>
<text text-anchor="start" x="37436" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogBulkRegisterResponse -->
<g id="node69" class="node">
<title>mcpgateway.schemas.CatalogBulkRegisterResponse</title>
<polygon fill="white" stroke="#77aadd" points="37552.5,-3863 37552.5,-3977 37767.5,-3977 37767.5,-3863 37552.5,-3863"/>
<text text-anchor="start" x="37568" y="-3961.8" font-family="Arial" font-size="14.00">CatalogBulkRegisterResponse</text>
<polyline fill="none" stroke="#77aadd" points="37552.5,-3954 37767.5,-3954 "/>
<text text-anchor="start" x="37560.5" y="-3938.8" font-family="Arial" font-size="14.00">failed : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="37560.5" y="-3923.8" font-family="Arial" font-size="14.00">successful : Optional[List[str]]</text>
<text text-anchor="start" x="37560.5" y="-3908.8" font-family="Arial" font-size="14.00">total_attempted : Optional[int]</text>
<text text-anchor="start" x="37560.5" y="-3893.8" font-family="Arial" font-size="14.00">total_successful : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="37552.5,-3886 37767.5,-3886 "/>
<text text-anchor="start" x="37658" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogListRequest -->
<g id="node70" class="node">
<title>mcpgateway.schemas.CatalogListRequest</title>
<polygon fill="white" stroke="#77aadd" points="37785.5,-3825.5 37785.5,-4014.5 38028.5,-4014.5 38028.5,-3825.5 37785.5,-3825.5"/>
<text text-anchor="start" x="37848" y="-3999.3" font-family="Arial" font-size="14.00">CatalogListRequest</text>
<polyline fill="none" stroke="#77aadd" points="37785.5,-3991.5 38028.5,-3991.5 "/>
<text text-anchor="start" x="37793.5" y="-3976.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="37793.5" y="-3961.3" font-family="Arial" font-size="14.00">category : Optional[str]</text>
<text text-anchor="start" x="37793.5" y="-3946.3" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="37793.5" y="-3931.3" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="37793.5" y="-3916.3" font-family="Arial" font-size="14.00">provider : Optional[str]</text>
<text text-anchor="start" x="37793.5" y="-3901.3" font-family="Arial" font-size="14.00">search : Optional[str]</text>
<text text-anchor="start" x="37793.5" y="-3886.3" font-family="Arial" font-size="14.00">show_available_only : Optional[bool]</text>
<text text-anchor="start" x="37793.5" y="-3871.3" font-family="Arial" font-size="14.00">show_registered_only : Optional[bool]</text>
<text text-anchor="start" x="37793.5" y="-3856.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="37785.5,-3848.5 38028.5,-3848.5 "/>
<text text-anchor="start" x="37905" y="-3833.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogListResponse -->
<g id="node71" class="node">
<title>mcpgateway.schemas.CatalogListResponse</title>
<polygon fill="white" stroke="#77aadd" points="38046.5,-3848 38046.5,-3992 38291.5,-3992 38291.5,-3848 38046.5,-3848"/>
<text text-anchor="start" x="38104.5" y="-3976.8" font-family="Arial" font-size="14.00">CatalogListResponse</text>
<polyline fill="none" stroke="#77aadd" points="38046.5,-3969 38291.5,-3969 "/>
<text text-anchor="start" x="38054.5" y="-3953.8" font-family="Arial" font-size="14.00">all_tags : Optional[List[str]]</text>
<text text-anchor="start" x="38054.5" y="-3938.8" font-family="Arial" font-size="14.00">auth_types : Optional[List[str]]</text>
<text text-anchor="start" x="38054.5" y="-3923.8" font-family="Arial" font-size="14.00">categories : Optional[List[str]]</text>
<text text-anchor="start" x="38054.5" y="-3908.8" font-family="Arial" font-size="14.00">providers : Optional[List[str]]</text>
<text text-anchor="start" x="38054.5" y="-3893.8" font-family="Arial" font-size="14.00">servers : Optional[List[CatalogServer]]</text>
<text text-anchor="start" x="38054.5" y="-3878.8" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="38046.5,-3871 38291.5,-3871 "/>
<text text-anchor="start" x="38167" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServer -->
<g id="node72" class="node">
<title>mcpgateway.schemas.CatalogServer</title>
<polygon fill="white" stroke="#77aadd" points="38309.5,-3773 38309.5,-4067 38554.5,-4067 38554.5,-3773 38309.5,-3773"/>
<text text-anchor="start" x="38388.5" y="-4051.8" font-family="Arial" font-size="14.00">CatalogServer</text>
<polyline fill="none" stroke="#77aadd" points="38309.5,-4044 38554.5,-4044 "/>
<text text-anchor="start" x="38317.5" y="-4028.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-4013.8" font-family="Arial" font-size="14.00">category : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3998.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3983.8" font-family="Arial" font-size="14.00">documentation_url : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3968.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3953.8" font-family="Arial" font-size="14.00">is_available : Optional[bool]</text>
<text text-anchor="start" x="38317.5" y="-3938.8" font-family="Arial" font-size="14.00">is_registered : Optional[bool]</text>
<text text-anchor="start" x="38317.5" y="-3923.8" font-family="Arial" font-size="14.00">logo_url : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3908.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3893.8" font-family="Arial" font-size="14.00">provider : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3878.8" font-family="Arial" font-size="14.00">requires_api_key : Optional[bool]</text>
<text text-anchor="start" x="38317.5" y="-3863.8" font-family="Arial" font-size="14.00">requires_oauth_config : Optional[bool]</text>
<text text-anchor="start" x="38317.5" y="-3848.8" font-family="Arial" font-size="14.00">secure : Optional[bool]</text>
<text text-anchor="start" x="38317.5" y="-3833.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="38317.5" y="-3818.8" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="38317.5" y="-3803.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="38309.5,-3796 38554.5,-3796 "/>
<text text-anchor="start" x="38430" y="-3780.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerRegisterRequest -->
<g id="node73" class="node">
<title>mcpgateway.schemas.CatalogServerRegisterRequest</title>
<polygon fill="white" stroke="#77aadd" points="38573,-3863 38573,-3977 38841,-3977 38841,-3863 38573,-3863"/>
<text text-anchor="start" x="38613.5" y="-3961.8" font-family="Arial" font-size="14.00">CatalogServerRegisterRequest</text>
<polyline fill="none" stroke="#77aadd" points="38573,-3954 38841,-3954 "/>
<text text-anchor="start" x="38581" y="-3938.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="38581" y="-3923.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="38581" y="-3908.8" font-family="Arial" font-size="14.00">oauth_credentials : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="38581" y="-3893.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="38573,-3886 38841,-3886 "/>
<text text-anchor="start" x="38705" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerRegisterResponse -->
<g id="node74" class="node">
<title>mcpgateway.schemas.CatalogServerRegisterResponse</title>
<polygon fill="white" stroke="#77aadd" points="38859,-3855.5 38859,-3984.5 39073,-3984.5 39073,-3855.5 38859,-3855.5"/>
<text text-anchor="start" x="38867" y="-3969.3" font-family="Arial" font-size="14.00">CatalogServerRegisterResponse</text>
<polyline fill="none" stroke="#77aadd" points="38859,-3961.5 39073,-3961.5 "/>
<text text-anchor="start" x="38872.5" y="-3946.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="38872.5" y="-3931.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="38872.5" y="-3916.3" font-family="Arial" font-size="14.00">oauth_required : Optional[bool]</text>
<text text-anchor="start" x="38872.5" y="-3901.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="38872.5" y="-3886.3" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="38859,-3878.5 39073,-3878.5 "/>
<text text-anchor="start" x="38964" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerStatusRequest -->
<g id="node75" class="node">
<title>mcpgateway.schemas.CatalogServerStatusRequest</title>
<polygon fill="white" stroke="#77aadd" points="39091.5,-3885.5 39091.5,-3954.5 39282.5,-3954.5 39282.5,-3885.5 39091.5,-3885.5"/>
<text text-anchor="start" x="39099.5" y="-3939.3" font-family="Arial" font-size="14.00">CatalogServerStatusRequest</text>
<polyline fill="none" stroke="#77aadd" points="39091.5,-3931.5 39282.5,-3931.5 "/>
<text text-anchor="start" x="39116.5" y="-3916.3" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="39091.5,-3908.5 39282.5,-3908.5 "/>
<text text-anchor="start" x="39185" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CatalogServerStatusResponse -->
<g id="node76" class="node">
<title>mcpgateway.schemas.CatalogServerStatusResponse</title>
<polygon fill="white" stroke="#77aadd" points="39300.5,-3848 39300.5,-3992 39527.5,-3992 39527.5,-3848 39300.5,-3848"/>
<text text-anchor="start" x="39321" y="-3976.8" font-family="Arial" font-size="14.00">CatalogServerStatusResponse</text>
<polyline fill="none" stroke="#77aadd" points="39300.5,-3969 39527.5,-3969 "/>
<text text-anchor="start" x="39308.5" y="-3953.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="39308.5" y="-3938.8" font-family="Arial" font-size="14.00">is_available : Optional[bool]</text>
<text text-anchor="start" x="39308.5" y="-3923.8" font-family="Arial" font-size="14.00">is_registered : Optional[bool]</text>
<text text-anchor="start" x="39308.5" y="-3908.8" font-family="Arial" font-size="14.00">last_checked : Optional[datetime]</text>
<text text-anchor="start" x="39308.5" y="-3893.8" font-family="Arial" font-size="14.00">response_time_ms : Optional[float]</text>
<text text-anchor="start" x="39308.5" y="-3878.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="39300.5,-3871 39527.5,-3871 "/>
<text text-anchor="start" x="39412" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.catalog_service.CatalogService -->
<g id="node77" class="node">
<title>mcpgateway.services.catalog_service.CatalogService</title>
<polygon fill="white" stroke="#ffaabb" points="39546,-3854.6 39546,-3985.4 40384,-3985.4 40384,-3854.6 39546,-3854.6"/>
<text text-anchor="start" x="39919" y="-3970.2" font-family="Arial" font-size="14.00">CatalogService</text>
<polyline fill="none" stroke="#ffaabb" points="39546,-3962.4 40384,-3962.4 "/>
<polyline fill="none" stroke="#ffaabb" points="39546,-3937.6 40384,-3937.6 "/>
<text text-anchor="start" x="39554" y="-3922.4" font-family="Arial" font-size="14.00">bulk_register_servers(request: CatalogBulkRegisterRequest, db: Session): CatalogBulkRegisterResponse</text>
<text text-anchor="start" x="39554" y="-3907.4" font-family="Arial" font-size="14.00">check_server_availability(catalog_id: str): CatalogServerStatusResponse</text>
<text text-anchor="start" x="39554" y="-3892.4" font-family="Arial" font-size="14.00">get_catalog_servers(request: CatalogListRequest, db): CatalogListResponse</text>
<text text-anchor="start" x="39554" y="-3877.4" font-family="Arial" font-size="14.00">load_catalog(force_reload: bool): Dict[str, Any]</text>
<text text-anchor="start" x="39554" y="-3862.4" font-family="Arial" font-size="14.00">register_catalog_server(catalog_id: str, request: Optional[CatalogServerRegisterRequest], db: Session): CatalogServerRegisterResponse</text>
</g>
<!-- mcpgateway.schemas.ChangePasswordRequest -->
<g id="node78" class="node">
<title>mcpgateway.schemas.ChangePasswordRequest</title>
<polygon fill="white" stroke="#77aadd" points="40401.5,-3870.5 40401.5,-3969.5 40622.5,-3969.5 40622.5,-3870.5 40401.5,-3870.5"/>
<text text-anchor="start" x="40433.5" y="-3954.3" font-family="Arial" font-size="14.00">ChangePasswordRequest</text>
<polyline fill="none" stroke="#77aadd" points="40401.5,-3946.5 40622.5,-3946.5 "/>
<text text-anchor="start" x="40424.5" y="-3931.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="40424.5" y="-3916.3" font-family="Arial" font-size="14.00">new_password : Optional[str]</text>
<text text-anchor="start" x="40424.5" y="-3901.3" font-family="Arial" font-size="14.00">old_password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="40401.5,-3893.5 40622.5,-3893.5 "/>
<text text-anchor="start" x="40409.5" y="-3878.3" font-family="Arial" font-size="14.00">validate_new_password(v: str): str</text>
</g>
<!-- mcpgateway.llm_schemas.ChatChoice -->
<g id="node79" class="node">
<title>mcpgateway.llm_schemas.ChatChoice</title>
<polygon fill="white" stroke="#77aadd" points="40722,-8026.5 40722,-8125.5 40904,-8125.5 40904,-8026.5 40722,-8026.5"/>
<text text-anchor="start" x="40777.5" y="-8110.3" font-family="Arial" font-size="14.00">ChatChoice</text>
<polyline fill="none" stroke="#77aadd" points="40722,-8102.5 40904,-8102.5 "/>
<text text-anchor="start" x="40730" y="-8087.3" font-family="Arial" font-size="14.00">finish_reason : Optional[str]</text>
<text text-anchor="start" x="40730" y="-8072.3" font-family="Arial" font-size="14.00">index : int</text>
<text text-anchor="start" x="40730" y="-8057.3" font-family="Arial" font-size="14.00">message</text>
<polyline fill="none" stroke="#77aadd" points="40722,-8049.5 40904,-8049.5 "/>
<text text-anchor="start" x="40811" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionChunk -->
<g id="node80" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionChunk</title>
<polygon fill="white" stroke="#77aadd" points="41003.5,-3855.5 41003.5,-3984.5 41180.5,-3984.5 41180.5,-3855.5 41003.5,-3855.5"/>
<text text-anchor="start" x="41023.5" y="-3969.3" font-family="Arial" font-size="14.00">ChatCompletionChunk</text>
<polyline fill="none" stroke="#77aadd" points="41003.5,-3961.5 41180.5,-3961.5 "/>
<text text-anchor="start" x="41011.5" y="-3946.3" font-family="Arial" font-size="14.00">choices : List[Dict[str, Any]]</text>
<text text-anchor="start" x="41011.5" y="-3931.3" font-family="Arial" font-size="14.00">created : int</text>
<text text-anchor="start" x="41011.5" y="-3916.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="41011.5" y="-3901.3" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="41011.5" y="-3886.3" font-family="Arial" font-size="14.00">object : str</text>
<polyline fill="none" stroke="#77aadd" points="41003.5,-3878.5 41180.5,-3878.5 "/>
<text text-anchor="start" x="41090" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionRequest -->
<g id="node81" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionRequest</title>
<polygon fill="white" stroke="#77aadd" points="41199,-3803 41199,-4037 41493,-4037 41493,-3803 41199,-3803"/>
<text text-anchor="start" x="41272" y="-4021.8" font-family="Arial" font-size="14.00">ChatCompletionRequest</text>
<polyline fill="none" stroke="#77aadd" points="41199,-4014 41493,-4014 "/>
<text text-anchor="start" x="41207" y="-3998.8" font-family="Arial" font-size="14.00">frequency_penalty : Optional[float]</text>
<text text-anchor="start" x="41207" y="-3983.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="41207" y="-3968.8" font-family="Arial" font-size="14.00">messages : Optional[List[ChatMessage]]</text>
<text text-anchor="start" x="41207" y="-3953.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="41207" y="-3938.8" font-family="Arial" font-size="14.00">presence_penalty : Optional[float]</text>
<text text-anchor="start" x="41207" y="-3923.8" font-family="Arial" font-size="14.00">stop : Optional[Union[str, List[str]]]</text>
<text text-anchor="start" x="41207" y="-3908.8" font-family="Arial" font-size="14.00">stream : Optional[bool]</text>
<text text-anchor="start" x="41207" y="-3893.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="41207" y="-3878.8" font-family="Arial" font-size="14.00">tool_choice : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="41207" y="-3863.8" font-family="Arial" font-size="14.00">tools : Optional[List[ToolDefinition]]</text>
<text text-anchor="start" x="41207" y="-3848.8" font-family="Arial" font-size="14.00">top_p : Optional[float]</text>
<text text-anchor="start" x="41207" y="-3833.8" font-family="Arial" font-size="14.00">user : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="41199,-3826 41493,-3826 "/>
<text text-anchor="start" x="41344" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatCompletionResponse -->
<g id="node82" class="node">
<title>mcpgateway.llm_schemas.ChatCompletionResponse</title>
<polygon fill="white" stroke="#77aadd" points="41511.5,-3848 41511.5,-3992 41704.5,-3992 41704.5,-3848 41511.5,-3848"/>
<text text-anchor="start" x="41528.5" y="-3976.8" font-family="Arial" font-size="14.00">ChatCompletionResponse</text>
<polyline fill="none" stroke="#77aadd" points="41511.5,-3969 41704.5,-3969 "/>
<text text-anchor="start" x="41519.5" y="-3953.8" font-family="Arial" font-size="14.00">choices : List[ChatChoice]</text>
<text text-anchor="start" x="41519.5" y="-3938.8" font-family="Arial" font-size="14.00">created : Optional[int]</text>
<text text-anchor="start" x="41519.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="41519.5" y="-3908.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="41519.5" y="-3893.8" font-family="Arial" font-size="14.00">object : str</text>
<text text-anchor="start" x="41519.5" y="-3878.8" font-family="Arial" font-size="14.00">usage : Optional[UsageStats]</text>
<polyline fill="none" stroke="#77aadd" points="41511.5,-3871 41704.5,-3871 "/>
<text text-anchor="start" x="41606" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.ChatHistoryManager -->
<g id="node83" class="node">
<title>mcpgateway.services.mcp_client_chat_service.ChatHistoryManager</title>
<polygon fill="white" stroke="#ffaabb" points="41396,-7996.5 41396,-8155.5 41764,-8155.5 41764,-7996.5 41396,-7996.5"/>
<text text-anchor="start" x="41517.5" y="-8140.3" font-family="Arial" font-size="14.00">ChatHistoryManager</text>
<polyline fill="none" stroke="#ffaabb" points="41396,-8132.5 41764,-8132.5 "/>
<text text-anchor="start" x="41499" y="-8117.3" font-family="Arial" font-size="14.00">max_messages : int</text>
<text text-anchor="start" x="41499" y="-8102.3" font-family="Arial" font-size="14.00">redis_client : Optional[Any]</text>
<text text-anchor="start" x="41499" y="-8087.3" font-family="Arial" font-size="14.00">ttl : int</text>
<polyline fill="none" stroke="#ffaabb" points="41396,-8079.5 41764,-8079.5 "/>
<text text-anchor="start" x="41404" y="-8064.3" font-family="Arial" font-size="14.00">append_message(user_id: str, role: str, content: str): None</text>
<text text-anchor="start" x="41404" y="-8049.3" font-family="Arial" font-size="14.00">clear_history(user_id: str): None</text>
<text text-anchor="start" x="41404" y="-8034.3" font-family="Arial" font-size="14.00">get_history(user_id: str): List[Dict[str, str]]</text>
<text text-anchor="start" x="41404" y="-8019.3" font-family="Arial" font-size="14.00">get_langchain_messages(user_id: str): List[BaseMessage]</text>
<text text-anchor="start" x="41404" y="-8004.3" font-family="Arial" font-size="14.00">save_history(user_id: str, history: List[Dict[str, str]]): None</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="node273" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<polygon fill="white" stroke="#ffaabb" points="41720,-8395 41720,-8659 42124,-8659 42124,-8395 41720,-8395"/>
<text text-anchor="start" x="41869.5" y="-8643.8" font-family="Arial" font-size="14.00">MCPChatService</text>
<polyline fill="none" stroke="#ffaabb" points="41720,-8636 42124,-8636 "/>
<text text-anchor="start" x="41857" y="-8620.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="41857" y="-8605.8" font-family="Arial" font-size="14.00">history_manager</text>
<text text-anchor="start" x="41857" y="-8590.8" font-family="Arial" font-size="14.00">is_initialized</text>
<text text-anchor="start" x="41857" y="-8575.8" font-family="Arial" font-size="14.00">llm_provider</text>
<text text-anchor="start" x="41857" y="-8560.8" font-family="Arial" font-size="14.00">mcp_client</text>
<text text-anchor="start" x="41857" y="-8545.8" font-family="Arial" font-size="14.00">user_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="41720,-8538 42124,-8538 "/>
<text text-anchor="start" x="41728" y="-8522.8" font-family="Arial" font-size="14.00">chat(message: str): str</text>
<text text-anchor="start" x="41728" y="-8507.8" font-family="Arial" font-size="14.00">chat_events(message: str): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="41728" y="-8492.8" font-family="Arial" font-size="14.00">chat_stream(message: str): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="41728" y="-8477.8" font-family="Arial" font-size="14.00">chat_with_metadata(message: str): Dict[str, Any]</text>
<text text-anchor="start" x="41728" y="-8462.8" font-family="Arial" font-size="14.00">clear_history(): None</text>
<text text-anchor="start" x="41728" y="-8447.8" font-family="Arial" font-size="14.00">get_conversation_history(): List[Dict[str, str]]</text>
<text text-anchor="start" x="41728" y="-8432.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="41728" y="-8417.8" font-family="Arial" font-size="14.00">reload_tools(): int</text>
<text text-anchor="start" x="41728" y="-8402.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.ChatHistoryManager&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge164" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.ChatHistoryManager&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M41639.96,-8155.72C41688.19,-8219.04 41757.17,-8309.6 41814.84,-8385.31"/>
<polygon fill="gray" stroke="gray" points="41814.9,-8385.4 41821.72,-8387.75 41822.18,-8394.94 41815.36,-8392.59 41814.9,-8385.4"/>
<text text-anchor="middle" x="41792" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">history_manager</text>
</g>
<!-- mcpgateway.llm_schemas.ChatMessage -->
<g id="node84" class="node">
<title>mcpgateway.llm_schemas.ChatMessage</title>
<polygon fill="white" stroke="#77aadd" points="40641,-3855.5 40641,-3984.5 40985,-3984.5 40985,-3855.5 40641,-3855.5"/>
<text text-anchor="start" x="40770.5" y="-3969.3" font-family="Arial" font-size="14.00">ChatMessage</text>
<polyline fill="none" stroke="#77aadd" points="40641,-3961.5 40985,-3961.5 "/>
<text text-anchor="start" x="40649" y="-3946.3" font-family="Arial" font-size="14.00">content : Optional[str]</text>
<text text-anchor="start" x="40649" y="-3931.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="40649" y="-3916.3" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;system&#39;, &#39;user&#39;, &#39;assistant&#39;, &#39;tool&#39;]]</text>
<text text-anchor="start" x="40649" y="-3901.3" font-family="Arial" font-size="14.00">tool_call_id : Optional[str]</text>
<text text-anchor="start" x="40649" y="-3886.3" font-family="Arial" font-size="14.00">tool_calls : Optional[List[Dict[str, Any]]]</text>
<polyline fill="none" stroke="#77aadd" points="40641,-3878.5 40985,-3878.5 "/>
<text text-anchor="start" x="40811" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ChatMessage&#45;&gt;mcpgateway.llm_schemas.ChatChoice -->
<g id="edge144" class="edge">
<title>mcpgateway.llm_schemas.ChatMessage&#45;&gt;mcpgateway.llm_schemas.ChatChoice</title>
<path fill="none" stroke="gray" d="M40813,-3984.59C40813,-4466.83 40813,-7541.89 40813,-8014.16"/>
<polygon fill="gray" stroke="gray" points="40813,-8014.42 40817,-8020.42 40813,-8026.42 40809,-8020.42 40813,-8014.42"/>
<text text-anchor="middle" x="40841" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">message</text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.CleanupResult -->
<g id="node85" class="node">
<title>mcpgateway.services.metrics_cleanup_service.CleanupResult</title>
<polygon fill="white" stroke="#ffaabb" points="42139,-3848 42139,-3992 42299,-3992 42299,-3848 42139,-3848"/>
<text text-anchor="start" x="42174.5" y="-3976.8" font-family="Arial" font-size="14.00">CleanupResult</text>
<polyline fill="none" stroke="#ffaabb" points="42139,-3969 42299,-3969 "/>
<text text-anchor="start" x="42147" y="-3953.8" font-family="Arial" font-size="14.00">cutoff_date : datetime</text>
<text text-anchor="start" x="42147" y="-3938.8" font-family="Arial" font-size="14.00">deleted_count : int</text>
<text text-anchor="start" x="42147" y="-3923.8" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="42147" y="-3908.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="42147" y="-3893.8" font-family="Arial" font-size="14.00">remaining_count : int</text>
<text text-anchor="start" x="42147" y="-3878.8" font-family="Arial" font-size="14.00">table_name : str</text>
<polyline fill="none" stroke="#ffaabb" points="42139,-3871 42299,-3871 "/>
<text text-anchor="start" x="42217" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.CleanupSummary -->
<g id="node86" class="node">
<title>mcpgateway.services.metrics_cleanup_service.CleanupSummary</title>
<polygon fill="white" stroke="#ffaabb" points="42317.5,-3855.5 42317.5,-3984.5 42522.5,-3984.5 42522.5,-3855.5 42317.5,-3855.5"/>
<text text-anchor="start" x="42365" y="-3969.3" font-family="Arial" font-size="14.00">CleanupSummary</text>
<polyline fill="none" stroke="#ffaabb" points="42317.5,-3961.5 42522.5,-3961.5 "/>
<text text-anchor="start" x="42325.5" y="-3946.3" font-family="Arial" font-size="14.00">completed_at : datetime</text>
<text text-anchor="start" x="42325.5" y="-3931.3" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="42325.5" y="-3916.3" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="42325.5" y="-3901.3" font-family="Arial" font-size="14.00">tables : Dict[str, CleanupResult]</text>
<text text-anchor="start" x="42325.5" y="-3886.3" font-family="Arial" font-size="14.00">total_deleted : int</text>
<polyline fill="none" stroke="#ffaabb" points="42317.5,-3878.5 42522.5,-3878.5 "/>
<text text-anchor="start" x="42418" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ClientCapabilities -->
<g id="node87" class="node">
<title>mcpgateway.common.models.ClientCapabilities</title>
<polygon fill="white" stroke="#44bb99" points="42541,-3863 42541,-3977 42833,-3977 42833,-3863 42541,-3863"/>
<text text-anchor="start" x="42634.5" y="-3961.8" font-family="Arial" font-size="14.00">ClientCapabilities</text>
<polyline fill="none" stroke="#44bb99" points="42541,-3954 42833,-3954 "/>
<text text-anchor="start" x="42549" y="-3938.8" font-family="Arial" font-size="14.00">elicitation : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="42549" y="-3923.8" font-family="Arial" font-size="14.00">experimental : Optional[Dict[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="42549" y="-3908.8" font-family="Arial" font-size="14.00">roots : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="42549" y="-3893.8" font-family="Arial" font-size="14.00">sampling : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="42541,-3886 42833,-3886 "/>
<text text-anchor="start" x="42685" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.InitializeRequest -->
<g id="node223" class="node">
<title>mcpgateway.common.models.InitializeRequest</title>
<polygon fill="white" stroke="#44bb99" points="42566.5,-8019 42566.5,-8133 42807.5,-8133 42807.5,-8019 42566.5,-8019"/>
<text text-anchor="start" x="42637" y="-8117.8" font-family="Arial" font-size="14.00">InitializeRequest</text>
<polyline fill="none" stroke="#44bb99" points="42566.5,-8110 42807.5,-8110 "/>
<text text-anchor="start" x="42574.5" y="-8094.8" font-family="Arial" font-size="14.00">capabilities</text>
<text text-anchor="start" x="42574.5" y="-8079.8" font-family="Arial" font-size="14.00">client_info : Optional[Implementation]</text>
<text text-anchor="start" x="42574.5" y="-8064.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="42574.5" y="-8049.8" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="42566.5,-8042 42807.5,-8042 "/>
<text text-anchor="start" x="42685" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ClientCapabilities&#45;&gt;mcpgateway.common.models.InitializeRequest -->
<g id="edge125" class="edge">
<title>mcpgateway.common.models.ClientCapabilities&#45;&gt;mcpgateway.common.models.InitializeRequest</title>
<path fill="none" stroke="gray" d="M42687,-3977.36C42687,-4432.81 42687,-7507.58 42687,-8006.62"/>
<polygon fill="gray" stroke="gray" points="42687,-8006.95 42691,-8012.95 42687,-8018.95 42683,-8012.95 42687,-8006.95"/>
<text text-anchor="middle" x="42720.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">capabilities</text>
</g>
<!-- mcpgateway.llm_provider_configs.CohereConfig -->
<g id="node88" class="node">
<title>mcpgateway.llm_provider_configs.CohereConfig</title>
<polygon fill="white" stroke="#77aadd" points="42851,-3885.5 42851,-3954.5 43001,-3954.5 43001,-3885.5 42851,-3885.5"/>
<text text-anchor="start" x="42884" y="-3939.3" font-family="Arial" font-size="14.00">CohereConfig</text>
<polyline fill="none" stroke="#77aadd" points="42851,-3931.5 43001,-3931.5 "/>
<text text-anchor="start" x="42859" y="-3916.3" font-family="Arial" font-size="14.00">truncate : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="42851,-3908.5 43001,-3908.5 "/>
<text text-anchor="start" x="42924" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CommonAttributes -->
<g id="node89" class="node">
<title>mcpgateway.common.models.CommonAttributes</title>
<polygon fill="white" stroke="#44bb99" points="43088,-8327.5 43088,-8726.5 43316,-8726.5 43316,-8327.5 43088,-8327.5"/>
<text text-anchor="start" x="43145" y="-8711.3" font-family="Arial" font-size="14.00">CommonAttributes</text>
<polyline fill="none" stroke="#44bb99" points="43088,-8703.5 43316,-8703.5 "/>
<text text-anchor="start" x="43096" y="-8688.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8673.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="43096" y="-8658.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8643.3" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8628.3" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8613.3" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8598.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8583.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="43096" y="-8568.3" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8553.3" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8538.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8523.3" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8508.3" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8493.3" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8478.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="43096" y="-8463.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8448.3" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="43096" y="-8433.3" font-family="Arial" font-size="14.00">tags : Optional[list[Dict[str, str]]]</text>
<text text-anchor="start" x="43096" y="-8418.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="43096" y="-8403.3" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="43096" y="-8388.3" font-family="Arial" font-size="14.00">url : AnyHttpUrl</text>
<text text-anchor="start" x="43096" y="-8373.3" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="43096" y="-8358.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="43088,-8350.5 43316,-8350.5 "/>
<text text-anchor="start" x="43200" y="-8335.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CompleteRequest -->
<g id="node90" class="node">
<title>mcpgateway.common.models.CompleteRequest</title>
<polygon fill="white" stroke="#44bb99" points="43524,-3878 43524,-3962 43844,-3962 43844,-3878 43524,-3878"/>
<text text-anchor="start" x="43629.5" y="-3946.8" font-family="Arial" font-size="14.00">CompleteRequest</text>
<polyline fill="none" stroke="#44bb99" points="43524,-3939 43844,-3939 "/>
<text text-anchor="start" x="43532" y="-3923.8" font-family="Arial" font-size="14.00">argument : Dict[str, str]</text>
<text text-anchor="start" x="43532" y="-3908.8" font-family="Arial" font-size="14.00">ref : Union[PromptReference, ResourceReference]</text>
<polyline fill="none" stroke="#44bb99" points="43524,-3901 43844,-3901 "/>
<text text-anchor="start" x="43682" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.CompleteResult -->
<g id="node91" class="node">
<title>mcpgateway.common.models.CompleteResult</title>
<polygon fill="white" stroke="#44bb99" points="43862.5,-3885.5 43862.5,-3954.5 44089.5,-3954.5 44089.5,-3885.5 43862.5,-3885.5"/>
<text text-anchor="start" x="43927.5" y="-3939.3" font-family="Arial" font-size="14.00">CompleteResult</text>
<polyline fill="none" stroke="#44bb99" points="43862.5,-3931.5 44089.5,-3931.5 "/>
<text text-anchor="start" x="43870.5" y="-3916.3" font-family="Arial" font-size="14.00">completion : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="43862.5,-3908.5 44089.5,-3908.5 "/>
<text text-anchor="start" x="43974" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.completion_service.CompletionError -->
<g id="node92" class="node">
<title>mcpgateway.services.completion_service.CompletionError</title>
<polygon fill="white" stroke="#ffaabb" points="44108,-3884.6 44108,-3955.4 44224,-3955.4 44224,-3884.6 44108,-3884.6"/>
<text text-anchor="start" x="44116" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">CompletionError</text>
<polyline fill="none" stroke="#ffaabb" points="44108,-3932.4 44224,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="44108,-3907.6 44224,-3907.6 "/>
<text text-anchor="start" x="44164" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.completion_service.CompletionService -->
<g id="node93" class="node">
<title>mcpgateway.services.completion_service.CompletionService</title>
<polygon fill="white" stroke="#ffaabb" points="44242.5,-3854.6 44242.5,-3985.4 44691.5,-3985.4 44691.5,-3854.6 44242.5,-3854.6"/>
<text text-anchor="start" x="44409.5" y="-3970.2" font-family="Arial" font-size="14.00">CompletionService</text>
<polyline fill="none" stroke="#ffaabb" points="44242.5,-3962.4 44691.5,-3962.4 "/>
<polyline fill="none" stroke="#ffaabb" points="44242.5,-3937.6 44691.5,-3937.6 "/>
<text text-anchor="start" x="44250.5" y="-3922.4" font-family="Arial" font-size="14.00">handle_completion(db: Session, request: Dict[str, Any]): CompleteResult</text>
<text text-anchor="start" x="44250.5" y="-3907.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="44250.5" y="-3892.4" font-family="Arial" font-size="14.00">register_completions(arg_name: str, values: List[str]): None</text>
<text text-anchor="start" x="44250.5" y="-3877.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="44250.5" y="-3862.4" font-family="Arial" font-size="14.00">unregister_completions(arg_name: str): None</text>
</g>
<!-- mcpgateway.services.structured_logger.ComponentLogger -->
<g id="node94" class="node">
<title>mcpgateway.services.structured_logger.ComponentLogger</title>
<polygon fill="white" stroke="#ffaabb" points="44709.5,-3877.1 44709.5,-3962.9 45000.5,-3962.9 45000.5,-3877.1 44709.5,-3877.1"/>
<text text-anchor="start" x="44798.5" y="-3947.7" font-family="Arial" font-size="14.00">ComponentLogger</text>
<polyline fill="none" stroke="#ffaabb" points="44709.5,-3939.9 45000.5,-3939.9 "/>
<polyline fill="none" stroke="#ffaabb" points="44709.5,-3915.1 45000.5,-3915.1 "/>
<text text-anchor="start" x="44717.5" y="-3899.9" font-family="Arial" font-size="14.00">clear_loggers(): None</text>
<text text-anchor="start" x="44717.5" y="-3884.9" font-family="Arial" font-size="14.00">get_logger(component: str): StructuredLogger</text>
</g>
<!-- mcpgateway.plugins.framework.models.Config -->
<g id="node95" class="node">
<title>mcpgateway.plugins.framework.models.Config</title>
<polygon fill="white" stroke="#ee8866" points="44995.5,-8019 44995.5,-8133 45282.5,-8133 45282.5,-8019 44995.5,-8019"/>
<text text-anchor="start" x="45119" y="-8117.8" font-family="Arial" font-size="14.00">Config</text>
<polyline fill="none" stroke="#ee8866" points="44995.5,-8110 45282.5,-8110 "/>
<text text-anchor="start" x="45003.5" y="-8094.8" font-family="Arial" font-size="14.00">plugin_dirs : list[str]</text>
<text text-anchor="start" x="45003.5" y="-8079.8" font-family="Arial" font-size="14.00">plugin_settings</text>
<text text-anchor="start" x="45003.5" y="-8064.8" font-family="Arial" font-size="14.00">plugins : Optional[list[PluginConfig]]</text>
<text text-anchor="start" x="45003.5" y="-8049.8" font-family="Arial" font-size="14.00">server_settings : Optional[MCPServerConfig]</text>
<polyline fill="none" stroke="#ee8866" points="44995.5,-8042 45282.5,-8042 "/>
<text text-anchor="start" x="45137" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginExecutor -->
<g id="node368" class="node">
<title>mcpgateway.plugins.framework.manager.PluginExecutor</title>
<polygon fill="white" stroke="#ee8866" points="44440.5,-8477.5 44440.5,-8576.5 45837.5,-8576.5 45837.5,-8477.5 44440.5,-8477.5"/>
<text text-anchor="start" x="45093.5" y="-8561.3" font-family="Arial" font-size="14.00">PluginExecutor</text>
<polyline fill="none" stroke="#ee8866" points="44440.5,-8553.5 45837.5,-8553.5 "/>
<text text-anchor="start" x="45066.5" y="-8538.3" font-family="Arial" font-size="14.00">config : Optional[Config]</text>
<text text-anchor="start" x="45066.5" y="-8523.3" font-family="Arial" font-size="14.00">timeout : int</text>
<polyline fill="none" stroke="#ee8866" points="44440.5,-8515.5 45837.5,-8515.5 "/>
<text text-anchor="start" x="44448.5" y="-8500.3" font-family="Arial" font-size="14.00">execute(hook_refs: list[HookRef], payload: PluginPayload, global_context: GlobalContext, hook_type: str, local_contexts: Optional[PluginContextTable], violations_as_exceptions: bool): tuple[PluginResult, PluginContextTable | None]</text>
<text text-anchor="start" x="44448.5" y="-8485.3" font-family="Arial" font-size="14.00">execute_plugin(hook_ref: HookRef, payload: PluginPayload, local_context: PluginContext, violations_as_exceptions: bool, global_context: Optional[GlobalContext], combined_metadata: Optional[dict[str, Any]]): PluginResult</text>
</g>
<!-- mcpgateway.plugins.framework.models.Config&#45;&gt;mcpgateway.plugins.framework.manager.PluginExecutor -->
<g id="edge150" class="edge">
<title>mcpgateway.plugins.framework.models.Config&#45;&gt;mcpgateway.plugins.framework.manager.PluginExecutor</title>
<path fill="none" stroke="gray" d="M45139,-8133.41C45139,-8218.24 45139,-8378 45139,-8465.29"/>
<polygon fill="gray" stroke="gray" points="45139,-8465.37 45143,-8471.37 45139,-8477.37 45135,-8471.37 45139,-8465.37"/>
<text text-anchor="middle" x="45157.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.loader.config.ConfigLoader -->
<g id="node96" class="node">
<title>mcpgateway.plugins.framework.loader.config.ConfigLoader</title>
<polygon fill="white" stroke="#ee8866" points="45278.5,-3884.6 45278.5,-3955.4 45571.5,-3955.4 45571.5,-3884.6 45278.5,-3884.6"/>
<text text-anchor="start" x="45384" y="-3940.2" font-family="Arial" font-size="14.00">ConfigLoader</text>
<polyline fill="none" stroke="#ee8866" points="45278.5,-3932.4 45571.5,-3932.4 "/>
<polyline fill="none" stroke="#ee8866" points="45278.5,-3907.6 45571.5,-3907.6 "/>
<text text-anchor="start" x="45286.5" y="-3892.4" font-family="Arial" font-size="14.00">load_config(config: str, use_jinja: bool): Config</text>
</g>
<!-- mcpgateway.services.import_service.ConflictStrategy -->
<g id="node97" class="node">
<title>mcpgateway.services.import_service.ConflictStrategy</title>
<polygon fill="white" stroke="#ffaabb" points="45590,-3885.5 45590,-3954.5 45702,-3954.5 45702,-3885.5 45590,-3885.5"/>
<text text-anchor="start" x="45598" y="-3939.3" font-family="Arial" font-size="14.00">ConflictStrategy</text>
<polyline fill="none" stroke="#ffaabb" points="45590,-3931.5 45702,-3931.5 "/>
<text text-anchor="start" x="45628.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="45590,-3908.5 45702,-3908.5 "/>
<text text-anchor="start" x="45644" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.reverse_proxy.ConnectionState -->
<g id="node98" class="node">
<title>mcpgateway.reverse_proxy.ConnectionState</title>
<polygon fill="white" stroke="#77aadd" points="45720,-3885.5 45720,-3954.5 45836,-3954.5 45836,-3885.5 45720,-3885.5"/>
<text text-anchor="start" x="45728" y="-3939.3" font-family="Arial" font-size="14.00">ConnectionState</text>
<polyline fill="none" stroke="#77aadd" points="45720,-3931.5 45836,-3931.5 "/>
<text text-anchor="start" x="45760.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="45720,-3908.5 45836,-3908.5 "/>
<text text-anchor="start" x="45776" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.memory.CopyOnWriteDict -->
<g id="node99" class="node">
<title>mcpgateway.plugins.framework.memory.CopyOnWriteDict</title>
<polygon fill="white" stroke="#ee8866" points="45854,-3802.1 45854,-4037.9 46116,-4037.9 46116,-3802.1 45854,-3802.1"/>
<text text-anchor="start" x="45932" y="-4022.7" font-family="Arial" font-size="14.00">CopyOnWriteDict</text>
<polyline fill="none" stroke="#ee8866" points="45854,-4014.9 46116,-4014.9 "/>
<polyline fill="none" stroke="#ee8866" points="45854,-3990.1 46116,-3990.1 "/>
<text text-anchor="start" x="45862" y="-3974.9" font-family="Arial" font-size="14.00">clear(): None</text>
<text text-anchor="start" x="45862" y="-3959.9" font-family="Arial" font-size="14.00">copy(): dict</text>
<text text-anchor="start" x="45862" y="-3944.9" font-family="Arial" font-size="14.00">get(key: Any, default: Optional[Any]): Any</text>
<text text-anchor="start" x="45862" y="-3929.9" font-family="Arial" font-size="14.00">get_deleted(): set</text>
<text text-anchor="start" x="45862" y="-3914.9" font-family="Arial" font-size="14.00">get_modifications(): dict</text>
<text text-anchor="start" x="45862" y="-3899.9" font-family="Arial" font-size="14.00">has_modifications(): bool</text>
<text text-anchor="start" x="45862" y="-3884.9" font-family="Arial" font-size="14.00">items()</text>
<text text-anchor="start" x="45862" y="-3869.9" font-family="Arial" font-size="14.00">keys()</text>
<text text-anchor="start" x="45862" y="-3854.9" font-family="Arial" font-size="14.00">pop(key: Any): Any</text>
<text text-anchor="start" x="45862" y="-3839.9" font-family="Arial" font-size="14.00">setdefault(key: Any, default: Any): Any</text>
<text text-anchor="start" x="45862" y="-3824.9" font-family="Arial" font-size="14.00">update(other): None</text>
<text text-anchor="start" x="45862" y="-3809.9" font-family="Arial" font-size="14.00">values()</text>
</g>
<!-- mcpgateway.middleware.correlation_id.CorrelationIDMiddleware -->
<g id="node100" class="node">
<title>mcpgateway.middleware.correlation_id.CorrelationIDMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="46134,-3870.5 46134,-3969.5 46498,-3969.5 46498,-3870.5 46134,-3870.5"/>
<text text-anchor="start" x="46241" y="-3954.3" font-family="Arial" font-size="14.00">CorrelationIDMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="46134,-3946.5 46498,-3946.5 "/>
<text text-anchor="start" x="46258.5" y="-3931.3" font-family="Arial" font-size="14.00">add_to_response</text>
<text text-anchor="start" x="46258.5" y="-3916.3" font-family="Arial" font-size="14.00">header_name</text>
<text text-anchor="start" x="46258.5" y="-3901.3" font-family="Arial" font-size="14.00">preserve_incoming</text>
<polyline fill="none" stroke="#eedd88" points="46134,-3893.5 46498,-3893.5 "/>
<text text-anchor="start" x="46142" y="-3878.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.services.logging_service.CorrelationIdJsonFormatter -->
<g id="node101" class="node">
<title>mcpgateway.services.logging_service.CorrelationIdJsonFormatter</title>
<polygon fill="white" stroke="#ffaabb" points="46516,-3884.6 46516,-3955.4 47022,-3955.4 47022,-3884.6 46516,-3884.6"/>
<text text-anchor="start" x="46686" y="-3940.2" font-family="Arial" font-size="14.00">CorrelationIdJsonFormatter</text>
<polyline fill="none" stroke="#ffaabb" points="46516,-3932.4 47022,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="46516,-3907.6 47022,-3907.6 "/>
<text text-anchor="start" x="46524" y="-3892.4" font-family="Arial" font-size="14.00">add_fields(log_record: dict, record: logging.LogRecord, message_dict: dict): None</text>
</g>
<!-- mcpgateway.common.models.CreateMessageResult -->
<g id="node102" class="node">
<title>mcpgateway.common.models.CreateMessageResult</title>
<polygon fill="white" stroke="#44bb99" points="46650,-8019 46650,-8133 46930,-8133 46930,-8019 46650,-8019"/>
<text text-anchor="start" x="46722.5" y="-8117.8" font-family="Arial" font-size="14.00">CreateMessageResult</text>
<polyline fill="none" stroke="#44bb99" points="46650,-8110 46930,-8110 "/>
<text text-anchor="start" x="46658" y="-8094.8" font-family="Arial" font-size="14.00">content : Union[TextContent, ImageContent]</text>
<text text-anchor="start" x="46658" y="-8079.8" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="46658" y="-8064.8" font-family="Arial" font-size="14.00">role</text>
<text text-anchor="start" x="46658" y="-8049.8" font-family="Arial" font-size="14.00">stop_reason : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="46650,-8042 46930,-8042 "/>
<text text-anchor="start" x="46788" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedA2AAgentsResponse -->
<g id="node103" class="node">
<title>mcpgateway.schemas.CursorPaginatedA2AAgentsResponse</title>
<polygon fill="white" stroke="#77aadd" points="47112,-3878 47112,-3962 47366,-3962 47366,-3878 47112,-3878"/>
<text text-anchor="start" x="47124" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedA2AAgentsResponse</text>
<polyline fill="none" stroke="#77aadd" points="47112,-3939 47366,-3939 "/>
<text text-anchor="start" x="47120" y="-3923.8" font-family="Arial" font-size="14.00">agents : Optional[List[&#39;A2AAgentRead&#39;]]</text>
<text text-anchor="start" x="47120" y="-3908.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="47112,-3901 47366,-3901 "/>
<text text-anchor="start" x="47237" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedGatewaysResponse -->
<g id="node104" class="node">
<title>mcpgateway.schemas.CursorPaginatedGatewaysResponse</title>
<polygon fill="white" stroke="#77aadd" points="47384,-3878 47384,-3962 47648,-3962 47648,-3878 47384,-3878"/>
<text text-anchor="start" x="47404.5" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedGatewaysResponse</text>
<polyline fill="none" stroke="#77aadd" points="47384,-3939 47648,-3939 "/>
<text text-anchor="start" x="47392" y="-3923.8" font-family="Arial" font-size="14.00">gateways : Optional[List[&#39;GatewayRead&#39;]]</text>
<text text-anchor="start" x="47392" y="-3908.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="47384,-3901 47648,-3901 "/>
<text text-anchor="start" x="47514" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedPromptsResponse -->
<g id="node105" class="node">
<title>mcpgateway.schemas.CursorPaginatedPromptsResponse</title>
<polygon fill="white" stroke="#77aadd" points="47666.5,-3878 47666.5,-3962 47913.5,-3962 47913.5,-3878 47666.5,-3878"/>
<text text-anchor="start" x="47683" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedPromptsResponse</text>
<polyline fill="none" stroke="#77aadd" points="47666.5,-3939 47913.5,-3939 "/>
<text text-anchor="start" x="47674.5" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="47674.5" y="-3908.8" font-family="Arial" font-size="14.00">prompts : Optional[List[&#39;PromptRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="47666.5,-3901 47913.5,-3901 "/>
<text text-anchor="start" x="47788" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedResourcesResponse -->
<g id="node106" class="node">
<title>mcpgateway.schemas.CursorPaginatedResourcesResponse</title>
<polygon fill="white" stroke="#77aadd" points="47932,-3878 47932,-3962 48202,-3962 48202,-3878 47932,-3878"/>
<text text-anchor="start" x="47953.5" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedResourcesResponse</text>
<polyline fill="none" stroke="#77aadd" points="47932,-3939 48202,-3939 "/>
<text text-anchor="start" x="47940" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="47940" y="-3908.8" font-family="Arial" font-size="14.00">resources : Optional[List[&#39;ResourceRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="47932,-3901 48202,-3901 "/>
<text text-anchor="start" x="48065" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedServersResponse -->
<g id="node107" class="node">
<title>mcpgateway.schemas.CursorPaginatedServersResponse</title>
<polygon fill="white" stroke="#77aadd" points="48220.5,-3878 48220.5,-3962 48457.5,-3962 48457.5,-3878 48220.5,-3878"/>
<text text-anchor="start" x="48234.5" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedServersResponse</text>
<polyline fill="none" stroke="#77aadd" points="48220.5,-3939 48457.5,-3939 "/>
<text text-anchor="start" x="48228.5" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48228.5" y="-3908.8" font-family="Arial" font-size="14.00">servers : Optional[List[&#39;ServerRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48220.5,-3901 48457.5,-3901 "/>
<text text-anchor="start" x="48337" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedTeamsResponse -->
<g id="node108" class="node">
<title>mcpgateway.schemas.CursorPaginatedTeamsResponse</title>
<polygon fill="white" stroke="#77aadd" points="48475.5,-3878 48475.5,-3962 48728.5,-3962 48728.5,-3878 48475.5,-3878"/>
<text text-anchor="start" x="48500.5" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedTeamsResponse</text>
<polyline fill="none" stroke="#77aadd" points="48475.5,-3939 48728.5,-3939 "/>
<text text-anchor="start" x="48483.5" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48483.5" y="-3908.8" font-family="Arial" font-size="14.00">teams : Optional[List[&#39;TeamResponse&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48475.5,-3901 48728.5,-3901 "/>
<text text-anchor="start" x="48600" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedToolsResponse -->
<g id="node109" class="node">
<title>mcpgateway.schemas.CursorPaginatedToolsResponse</title>
<polygon fill="white" stroke="#77aadd" points="48747,-3878 48747,-3962 48957,-3962 48957,-3878 48747,-3878"/>
<text text-anchor="start" x="48755" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedToolsResponse</text>
<polyline fill="none" stroke="#77aadd" points="48747,-3939 48957,-3939 "/>
<text text-anchor="start" x="48757" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48757" y="-3908.8" font-family="Arial" font-size="14.00">tools : Optional[List[&#39;ToolRead&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48747,-3901 48957,-3901 "/>
<text text-anchor="start" x="48850" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.CursorPaginatedUsersResponse -->
<g id="node110" class="node">
<title>mcpgateway.schemas.CursorPaginatedUsersResponse</title>
<polygon fill="white" stroke="#77aadd" points="48975,-3878 48975,-3962 49253,-3962 49253,-3878 48975,-3878"/>
<text text-anchor="start" x="49015" y="-3946.8" font-family="Arial" font-size="14.00">CursorPaginatedUsersResponse</text>
<polyline fill="none" stroke="#77aadd" points="48975,-3939 49253,-3939 "/>
<text text-anchor="start" x="48983" y="-3923.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="48983" y="-3908.8" font-family="Arial" font-size="14.00">users : Optional[List[&#39;EmailUserResponse&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="48975,-3901 49253,-3901 "/>
<text text-anchor="start" x="49112" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.db_query_logging.DBQueryLoggingMiddleware -->
<g id="node111" class="node">
<title>mcpgateway.middleware.db_query_logging.DBQueryLoggingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="49271,-3884.6 49271,-3955.4 49579,-3955.4 49579,-3884.6 49271,-3884.6"/>
<text text-anchor="start" x="49337.5" y="-3940.2" font-family="Arial" font-size="14.00">DBQueryLoggingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="49271,-3932.4 49579,-3932.4 "/>
<polyline fill="none" stroke="#eedd88" points="49271,-3907.6 49579,-3907.6 "/>
<text text-anchor="start" x="49279" y="-3892.4" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next): Response</text>
</g>
<!-- mcpgateway.services.audit_trail_service.DataClassification -->
<g id="node112" class="node">
<title>mcpgateway.services.audit_trail_service.DataClassification</title>
<polygon fill="white" stroke="#ffaabb" points="49597.5,-3885.5 49597.5,-3954.5 49722.5,-3954.5 49722.5,-3885.5 49597.5,-3885.5"/>
<text text-anchor="start" x="49605.5" y="-3939.3" font-family="Arial" font-size="14.00">DataClassification</text>
<polyline fill="none" stroke="#ffaabb" points="49597.5,-3931.5 49722.5,-3931.5 "/>
<text text-anchor="start" x="49642.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="49597.5,-3908.5 49722.5,-3908.5 "/>
<text text-anchor="start" x="49658" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.DatabaseMetricsSchema -->
<g id="node113" class="node">
<title>mcpgateway.schemas.DatabaseMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="49740.5,-3848 49740.5,-3992 49975.5,-3992 49975.5,-3848 49740.5,-3848"/>
<text text-anchor="start" x="49781.5" y="-3976.8" font-family="Arial" font-size="14.00">DatabaseMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="49740.5,-3969 49975.5,-3969 "/>
<text text-anchor="start" x="49748.5" y="-3953.8" font-family="Arial" font-size="14.00">connections_available : Optional[int]</text>
<text text-anchor="start" x="49748.5" y="-3938.8" font-family="Arial" font-size="14.00">connections_in_use : Optional[int]</text>
<text text-anchor="start" x="49748.5" y="-3923.8" font-family="Arial" font-size="14.00">overflow : Optional[int]</text>
<text text-anchor="start" x="49748.5" y="-3908.8" font-family="Arial" font-size="14.00">pool_size : Optional[int]</text>
<text text-anchor="start" x="49748.5" y="-3893.8" font-family="Arial" font-size="14.00">query_avg_time_ms : Optional[float]</text>
<text text-anchor="start" x="49748.5" y="-3878.8" font-family="Arial" font-size="14.00">query_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="49740.5,-3871 49975.5,-3871 "/>
<text text-anchor="start" x="49856" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.DatabaseSettings -->
<g id="node114" class="node">
<title>mcpgateway.config.Settings.DatabaseSettings</title>
<polygon fill="white" stroke="#44bb99" points="49994,-3855.5 49994,-3984.5 50176,-3984.5 50176,-3855.5 49994,-3855.5"/>
<text text-anchor="start" x="50031.5" y="-3969.3" font-family="Arial" font-size="14.00">DatabaseSettings</text>
<polyline fill="none" stroke="#44bb99" points="49994,-3961.5 50176,-3961.5 "/>
<text text-anchor="start" x="50002" y="-3946.3" font-family="Arial" font-size="14.00">connect_args : dict[str, Any]</text>
<text text-anchor="start" x="50002" y="-3931.3" font-family="Arial" font-size="14.00">max_overflow : int</text>
<text text-anchor="start" x="50002" y="-3916.3" font-family="Arial" font-size="14.00">pool_recycle : int</text>
<text text-anchor="start" x="50002" y="-3901.3" font-family="Arial" font-size="14.00">pool_size : int</text>
<text text-anchor="start" x="50002" y="-3886.3" font-family="Arial" font-size="14.00">pool_timeout : int</text>
<polyline fill="none" stroke="#44bb99" points="49994,-3878.5 50176,-3878.5 "/>
<text text-anchor="start" x="50083" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.dcr_service.DcrError -->
<g id="node115" class="node">
<title>mcpgateway.services.dcr_service.DcrError</title>
<polygon fill="white" stroke="#ffaabb" points="50194,-3884.6 50194,-3955.4 50262,-3955.4 50262,-3884.6 50194,-3884.6"/>
<text text-anchor="start" x="50202" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">DcrError</text>
<polyline fill="none" stroke="#ffaabb" points="50194,-3932.4 50262,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="50194,-3907.6 50262,-3907.6 "/>
<text text-anchor="start" x="50226" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.dcr_service.DcrService -->
<g id="node116" class="node">
<title>mcpgateway.services.dcr_service.DcrService</title>
<polygon fill="white" stroke="#ffaabb" points="49891,-8011.5 49891,-8140.5 50745,-8140.5 50745,-8011.5 49891,-8011.5"/>
<text text-anchor="start" x="50284.5" y="-8125.3" font-family="Arial" font-size="14.00">DcrService</text>
<polyline fill="none" stroke="#ffaabb" points="49891,-8117.5 50745,-8117.5 "/>
<text text-anchor="start" x="50294.5" y="-8102.3" font-family="Arial" font-size="14.00">settings</text>
<polyline fill="none" stroke="#ffaabb" points="49891,-8094.5 50745,-8094.5 "/>
<text text-anchor="start" x="49899" y="-8079.3" font-family="Arial" font-size="14.00">delete_client_registration(client_record: RegisteredOAuthClient, db: Session): bool</text>
<text text-anchor="start" x="49899" y="-8064.3" font-family="Arial" font-size="14.00">discover_as_metadata(issuer: str): Dict[str, Any]</text>
<text text-anchor="start" x="49899" y="-8049.3" font-family="Arial" font-size="14.00">get_or_register_client(gateway_id: str, gateway_name: str, issuer: str, redirect_uri: str, scopes: List[str], db: Session): RegisteredOAuthClient</text>
<text text-anchor="start" x="49899" y="-8034.3" font-family="Arial" font-size="14.00">register_client(gateway_id: str, gateway_name: str, issuer: str, redirect_uri: str, scopes: List[str], db: Session): RegisteredOAuthClient</text>
<text text-anchor="start" x="49899" y="-8019.3" font-family="Arial" font-size="14.00">update_client_registration(client_record: RegisteredOAuthClient, db: Session): RegisteredOAuthClient</text>
</g>
<!-- mcpgateway.main.DocsAuthMiddleware -->
<g id="node117" class="node">
<title>mcpgateway.main.DocsAuthMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="50801.5,-3884.6 50801.5,-3955.4 51040.5,-3955.4 51040.5,-3884.6 50801.5,-3884.6"/>
<text text-anchor="start" x="50856.5" y="-3940.2" font-family="Arial" font-size="14.00">DocsAuthMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="50801.5,-3932.4 51040.5,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="50801.5,-3907.6 51040.5,-3907.6 "/>
<text text-anchor="start" x="50809.5" y="-3892.4" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.common.models.ElicitRequestParams -->
<g id="node118" class="node">
<title>mcpgateway.common.models.ElicitRequestParams</title>
<polygon fill="white" stroke="#44bb99" points="51058.5,-3870.5 51058.5,-3969.5 51271.5,-3969.5 51271.5,-3870.5 51058.5,-3870.5"/>
<text text-anchor="start" x="51101.5" y="-3954.3" font-family="Arial" font-size="14.00">ElicitRequestParams</text>
<polyline fill="none" stroke="#44bb99" points="51058.5,-3946.5 51271.5,-3946.5 "/>
<text text-anchor="start" x="51066.5" y="-3931.3" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="51066.5" y="-3916.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="51066.5" y="-3901.3" font-family="Arial" font-size="14.00">requestedSchema : Dict[str, Any]</text>
<polyline fill="none" stroke="#44bb99" points="51058.5,-3893.5 51271.5,-3893.5 "/>
<text text-anchor="start" x="51163" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ElicitResult -->
<g id="node119" class="node">
<title>mcpgateway.common.models.ElicitResult</title>
<polygon fill="white" stroke="#44bb99" points="51290,-3870.5 51290,-3969.5 51658,-3969.5 51658,-3870.5 51290,-3870.5"/>
<text text-anchor="start" x="51440.5" y="-3954.3" font-family="Arial" font-size="14.00">ElicitResult</text>
<polyline fill="none" stroke="#44bb99" points="51290,-3946.5 51658,-3946.5 "/>
<text text-anchor="start" x="51298" y="-3931.3" font-family="Arial" font-size="14.00">action : Literal[&#39;accept&#39;, &#39;decline&#39;, &#39;cancel&#39;]</text>
<text text-anchor="start" x="51298" y="-3916.3" font-family="Arial" font-size="14.00">content : Optional[Dict[str, Union[str, int, float, bool, None]]]</text>
<text text-anchor="start" x="51298" y="-3901.3" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#44bb99" points="51290,-3893.5 51658,-3893.5 "/>
<text text-anchor="start" x="51472" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ElicitationCapability -->
<g id="node120" class="node">
<title>mcpgateway.common.models.ElicitationCapability</title>
<polygon fill="white" stroke="#44bb99" points="51676,-3885.5 51676,-3954.5 51810,-3954.5 51810,-3885.5 51676,-3885.5"/>
<text text-anchor="start" x="51684" y="-3939.3" font-family="Arial" font-size="14.00">ElicitationCapability</text>
<polyline fill="none" stroke="#44bb99" points="51676,-3931.5 51810,-3931.5 "/>
<text text-anchor="start" x="51702" y="-3916.3" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#44bb99" points="51676,-3908.5 51810,-3908.5 "/>
<text text-anchor="start" x="51741" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.elicitation_service.ElicitationService -->
<g id="node121" class="node">
<title>mcpgateway.services.elicitation_service.ElicitationService</title>
<polygon fill="white" stroke="#ffaabb" points="51828,-3825.5 51828,-4014.5 52788,-4014.5 52788,-3825.5 51828,-3825.5"/>
<text text-anchor="start" x="52256.5" y="-3999.3" font-family="Arial" font-size="14.00">ElicitationService</text>
<polyline fill="none" stroke="#ffaabb" points="51828,-3991.5 52788,-3991.5 "/>
<text text-anchor="start" x="52246" y="-3976.3" font-family="Arial" font-size="14.00">cleanup_interval : int</text>
<text text-anchor="start" x="52246" y="-3961.3" font-family="Arial" font-size="14.00">default_timeout : int</text>
<text text-anchor="start" x="52246" y="-3946.3" font-family="Arial" font-size="14.00">max_concurrent : int</text>
<polyline fill="none" stroke="#ffaabb" points="51828,-3938.5 52788,-3938.5 "/>
<text text-anchor="start" x="51836" y="-3923.3" font-family="Arial" font-size="14.00">complete_elicitation(request_id: str, result: ElicitResult): bool</text>
<text text-anchor="start" x="51836" y="-3908.3" font-family="Arial" font-size="14.00">create_elicitation(upstream_session_id: str, downstream_session_id: str, message: str, requested_schema: Dict[str, Any], timeout: Optional[float]): ElicitResult</text>
<text text-anchor="start" x="51836" y="-3893.3" font-family="Arial" font-size="14.00">get_pending_count(): int</text>
<text text-anchor="start" x="51836" y="-3878.3" font-family="Arial" font-size="14.00">get_pending_elicitation(request_id: str): Optional[PendingElicitation]</text>
<text text-anchor="start" x="51836" y="-3863.3" font-family="Arial" font-size="14.00">get_pending_for_session(session_id: str): list[PendingElicitation]</text>
<text text-anchor="start" x="51836" y="-3848.3" font-family="Arial" font-size="14.00">shutdown()</text>
<text text-anchor="start" x="51836" y="-3833.3" font-family="Arial" font-size="14.00">start()</text>
</g>
<!-- mcpgateway.db.EmailApiToken -->
<g id="node122" class="node">
<title>mcpgateway.db.EmailApiToken</title>
<polygon fill="white" stroke="#77aadd" points="1236,-3705.5 1236,-4134.5 1526,-4134.5 1526,-3705.5 1236,-3705.5"/>
<text text-anchor="start" x="1335.5" y="-4119.3" font-family="Arial" font-size="14.00">EmailApiToken</text>
<polyline fill="none" stroke="#77aadd" points="1236,-4111.5 1526,-4111.5 "/>
<text text-anchor="start" x="1244" y="-4096.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="1244" y="-4081.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-4066.3" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="1244" y="-4051.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-4036.3" font-family="Arial" font-size="14.00">ip_restrictions : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-4021.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="1244" y="-4006.3" font-family="Arial" font-size="14.00">jti : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-3991.3" font-family="Arial" font-size="14.00">last_used : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="1244" y="-3976.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-3961.3" font-family="Arial" font-size="14.00">resource_scopes : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-3946.3" font-family="Arial" font-size="14.00">server : Mapped[Optional[&#39;Server&#39;]]</text>
<text text-anchor="start" x="1244" y="-3931.3" font-family="Arial" font-size="14.00">server_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-3916.3" font-family="Arial" font-size="14.00">tags : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="1244" y="-3901.3" font-family="Arial" font-size="14.00">team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="1244" y="-3886.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1244" y="-3871.3" font-family="Arial" font-size="14.00">time_restrictions : Mapped[Optional[dict]]</text>
<text text-anchor="start" x="1244" y="-3856.3" font-family="Arial" font-size="14.00">token_hash : Mapped[str]</text>
<text text-anchor="start" x="1244" y="-3841.3" font-family="Arial" font-size="14.00">usage_limits : Mapped[Optional[dict]]</text>
<text text-anchor="start" x="1244" y="-3826.3" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="1244" y="-3811.3" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="1236,-3803.5 1526,-3803.5 "/>
<text text-anchor="start" x="1258.5" y="-3788.3" font-family="Arial" font-size="14.00">get_effective_permissions(): List[str]</text>
<text text-anchor="start" x="1258.5" y="-3773.3" font-family="Arial" font-size="14.00">has_permission(permission: str): bool</text>
<text text-anchor="start" x="1258.5" y="-3758.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="1258.5" y="-3743.3" font-family="Arial" font-size="14.00">is_scoped_to_server(server_id: str): bool</text>
<text text-anchor="start" x="1258.5" y="-3728.3" font-family="Arial" font-size="14.00">is_team_token(): bool</text>
<text text-anchor="start" x="1258.5" y="-3713.3" font-family="Arial" font-size="14.00">is_valid(): bool</text>
</g>
<!-- mcpgateway.db.EmailApiToken&#45;&gt;mcpgateway.db.Base -->
<g id="edge15" class="edge">
<title>mcpgateway.db.EmailApiToken&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1372.85,-4134.78C1345.3,-4915.14 1271.4,-7578.27 1535,-7840 1678.04,-7982.03 8359.85,-8064.45 9181.46,-8074.05"/>
<polygon fill="none" stroke="gray" points="9181.67,-8077.56 9191.71,-8074.17 9181.76,-8070.56 9181.67,-8077.56"/>
</g>
<!-- mcpgateway.db.EmailAuthEvent -->
<g id="node123" class="node">
<title>mcpgateway.db.EmailAuthEvent</title>
<polygon fill="white" stroke="#77aadd" points="1544,-3810.5 1544,-4029.5 2494,-4029.5 2494,-3810.5 1544,-3810.5"/>
<text text-anchor="start" x="1970.5" y="-4014.3" font-family="Arial" font-size="14.00">EmailAuthEvent</text>
<polyline fill="none" stroke="#77aadd" points="1544,-4006.5 2494,-4006.5 "/>
<text text-anchor="start" x="1905" y="-3991.3" font-family="Arial" font-size="14.00">details : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-3976.3" font-family="Arial" font-size="14.00">event_type : Mapped[str]</text>
<text text-anchor="start" x="1905" y="-3961.3" font-family="Arial" font-size="14.00">failure_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-3946.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="1905" y="-3931.3" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-3916.3" font-family="Arial" font-size="14.00">success : Mapped[bool]</text>
<text text-anchor="start" x="1905" y="-3901.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="1905" y="-3886.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="1905" y="-3871.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="1544,-3863.5 2494,-3863.5 "/>
<text text-anchor="start" x="1552" y="-3848.3" font-family="Arial" font-size="14.00">create_login_attempt(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str], failure_reason: Optional[str]): &#39;EmailAuthEvent&#39;</text>
<text text-anchor="start" x="1552" y="-3833.3" font-family="Arial" font-size="14.00">create_password_change_event(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str]): &#39;EmailAuthEvent&#39;</text>
<text text-anchor="start" x="1552" y="-3818.3" font-family="Arial" font-size="14.00">create_registration_event(user_email: str, success: bool, ip_address: Optional[str], user_agent: Optional[str], failure_reason: Optional[str]): &#39;EmailAuthEvent&#39;</text>
</g>
<!-- mcpgateway.db.EmailAuthEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge16" class="edge">
<title>mcpgateway.db.EmailAuthEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M1990.4,-4029.76C1861.93,-4545.8 1391.47,-6766.82 2503,-7840 2755.4,-8083.7 8428.45,-8077.2 9181.67,-8075.25"/>
<polygon fill="none" stroke="gray" points="9181.89,-8078.75 9191.88,-8075.23 9181.87,-8071.75 9181.89,-8078.75"/>
</g>
<!-- mcpgateway.services.sso_service.SSOService -->
<g id="node480" class="node">
<title>mcpgateway.services.sso_service.SSOService</title>
<polygon fill="white" stroke="#ffaabb" points="25634,-8417.5 25634,-8636.5 26212,-8636.5 26212,-8417.5 25634,-8417.5"/>
<text text-anchor="start" x="25885.5" y="-8621.3" font-family="Arial" font-size="14.00">SSOService</text>
<polyline fill="none" stroke="#ffaabb" points="25634,-8613.5 26212,-8613.5 "/>
<text text-anchor="start" x="25884.5" y="-8598.3" font-family="Arial" font-size="14.00">auth_service</text>
<text text-anchor="start" x="25884.5" y="-8583.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="25634,-8575.5 26212,-8575.5 "/>
<text text-anchor="start" x="25642" y="-8560.3" font-family="Arial" font-size="14.00">authenticate_or_create_user(user_info: Dict[str, Any]): Optional[str]</text>
<text text-anchor="start" x="25642" y="-8545.3" font-family="Arial" font-size="14.00">create_provider(provider_data: Dict[str, Any]): SSOProvider</text>
<text text-anchor="start" x="25642" y="-8530.3" font-family="Arial" font-size="14.00">delete_provider(provider_id: str): bool</text>
<text text-anchor="start" x="25642" y="-8515.3" font-family="Arial" font-size="14.00">generate_pkce_challenge(): Tuple[str, str]</text>
<text text-anchor="start" x="25642" y="-8500.3" font-family="Arial" font-size="14.00">get_authorization_url(provider_id: str, redirect_uri: str, scopes: Optional[List[str]]): Optional[str]</text>
<text text-anchor="start" x="25642" y="-8485.3" font-family="Arial" font-size="14.00">get_provider(provider_id: str): Optional[SSOProvider]</text>
<text text-anchor="start" x="25642" y="-8470.3" font-family="Arial" font-size="14.00">get_provider_by_name(provider_name: str): Optional[SSOProvider]</text>
<text text-anchor="start" x="25642" y="-8455.3" font-family="Arial" font-size="14.00">handle_oauth_callback(provider_id: str, code: str, state: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="25642" y="-8440.3" font-family="Arial" font-size="14.00">list_enabled_providers(): List[SSOProvider]</text>
<text text-anchor="start" x="25642" y="-8425.3" font-family="Arial" font-size="14.00">update_provider(provider_id: str, provider_data: Dict[str, Any]): Optional[SSOProvider]</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailAuthService&#45;&gt;mcpgateway.services.sso_service.SSOService -->
<g id="edge156" class="edge">
<title>mcpgateway.services.email_auth_service.EmailAuthService&#45;&gt;mcpgateway.services.sso_service.SSOService</title>
<path fill="none" stroke="gray" d="M25923,-8260.6C25923,-8309.32 25923,-8360.71 25923,-8405.15"/>
<polygon fill="gray" stroke="gray" points="25923,-8405.19 25927,-8411.19 25923,-8417.19 25919,-8411.19 25923,-8405.19"/>
<text text-anchor="middle" x="25961.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">auth_service</text>
</g>
<!-- mcpgateway.schemas.EmailLoginRequest -->
<g id="node125" class="node">
<title>mcpgateway.schemas.EmailLoginRequest</title>
<polygon fill="white" stroke="#77aadd" points="52806.5,-3870.5 52806.5,-3969.5 52977.5,-3969.5 52977.5,-3870.5 52806.5,-3870.5"/>
<text text-anchor="start" x="52833" y="-3954.3" font-family="Arial" font-size="14.00">EmailLoginRequest</text>
<polyline fill="none" stroke="#77aadd" points="52806.5,-3946.5 52977.5,-3946.5 "/>
<text text-anchor="start" x="52814.5" y="-3931.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="52814.5" y="-3916.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="52814.5" y="-3901.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="52806.5,-3893.5 52977.5,-3893.5 "/>
<text text-anchor="start" x="52890" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.EmailRegistrationRequest -->
<g id="node126" class="node">
<title>mcpgateway.schemas.EmailRegistrationRequest</title>
<polygon fill="white" stroke="#77aadd" points="52995.5,-3855.5 52995.5,-3984.5 53184.5,-3984.5 53184.5,-3855.5 52995.5,-3855.5"/>
<text text-anchor="start" x="53011.5" y="-3969.3" font-family="Arial" font-size="14.00">EmailRegistrationRequest</text>
<polyline fill="none" stroke="#77aadd" points="52995.5,-3961.5 53184.5,-3961.5 "/>
<text text-anchor="start" x="53012.5" y="-3946.3" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="53012.5" y="-3931.3" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="53012.5" y="-3916.3" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="53012.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="53012.5" y="-3886.3" font-family="Arial" font-size="14.00">password : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="52995.5,-3878.5 53184.5,-3878.5 "/>
<text text-anchor="start" x="53003.5" y="-3863.3" font-family="Arial" font-size="14.00">validate_password(v: str): str</text>
</g>
<!-- mcpgateway.db.EmailTeam -->
<g id="node127" class="node">
<title>mcpgateway.db.EmailTeam</title>
<polygon fill="white" stroke="#77aadd" points="2512.5,-3765.5 2512.5,-4074.5 2815.5,-4074.5 2815.5,-3765.5 2512.5,-3765.5"/>
<text text-anchor="start" x="2629.5" y="-4059.3" font-family="Arial" font-size="14.00">EmailTeam</text>
<polyline fill="none" stroke="#77aadd" points="2512.5,-4051.5 2815.5,-4051.5 "/>
<text text-anchor="start" x="2521" y="-4036.3" font-family="Arial" font-size="14.00">api_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="2521" y="-4021.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="2521" y="-4006.3" font-family="Arial" font-size="14.00">created_by : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-3991.3" font-family="Arial" font-size="14.00">creator : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="2521" y="-3976.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="2521" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-3946.3" font-family="Arial" font-size="14.00">invitations : Mapped[List[&#39;EmailTeamInvitation&#39;]]</text>
<text text-anchor="start" x="2521" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="2521" y="-3916.3" font-family="Arial" font-size="14.00">is_personal : Mapped[bool]</text>
<text text-anchor="start" x="2521" y="-3901.3" font-family="Arial" font-size="14.00">max_members : Mapped[Optional[int]]</text>
<text text-anchor="start" x="2521" y="-3886.3" font-family="Arial" font-size="14.00">members : Mapped[List[&#39;EmailTeamMember&#39;]]</text>
<text text-anchor="start" x="2521" y="-3871.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-3856.3" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="2521" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="2521" y="-3826.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="2512.5,-3818.5 2815.5,-3818.5 "/>
<text text-anchor="start" x="2520.5" y="-3803.3" font-family="Arial" font-size="14.00">get_member_count(): int</text>
<text text-anchor="start" x="2520.5" y="-3788.3" font-family="Arial" font-size="14.00">get_member_role(user_email: str): Optional[str]</text>
<text text-anchor="start" x="2520.5" y="-3773.3" font-family="Arial" font-size="14.00">is_member(user_email: str): bool</text>
</g>
<!-- mcpgateway.db.EmailTeam&#45;&gt;mcpgateway.db.Base -->
<g id="edge17" class="edge">
<title>mcpgateway.db.EmailTeam&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M2645.35,-4074.5C2569.38,-4729.54 2310.89,-7282.72 2825,-7840 3051.2,-8085.2 8448.18,-8077.48 9181.73,-8075.29"/>
<polygon fill="none" stroke="gray" points="9181.95,-8078.79 9191.94,-8075.26 9181.93,-8071.79 9181.95,-8078.79"/>
</g>
<!-- mcpgateway.db.EmailTeamInvitation -->
<g id="node128" class="node">
<title>mcpgateway.db.EmailTeamInvitation</title>
<polygon fill="white" stroke="#77aadd" points="2834,-3803 2834,-4037 3034,-4037 3034,-3803 2834,-3803"/>
<text text-anchor="start" x="2872.5" y="-4021.8" font-family="Arial" font-size="14.00">EmailTeamInvitation</text>
<polyline fill="none" stroke="#77aadd" points="2834,-4014 3034,-4014 "/>
<text text-anchor="start" x="2842" y="-3998.8" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-3983.8" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="2842" y="-3968.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-3953.8" font-family="Arial" font-size="14.00">invited_at : Mapped[datetime]</text>
<text text-anchor="start" x="2842" y="-3938.8" font-family="Arial" font-size="14.00">invited_by : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-3923.8" font-family="Arial" font-size="14.00">inviter : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="2842" y="-3908.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="2842" y="-3893.8" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-3878.8" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="2842" y="-3863.8" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="2842" y="-3848.8" font-family="Arial" font-size="14.00">token : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="2834,-3841 3034,-3841 "/>
<text text-anchor="start" x="2882" y="-3825.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="2882" y="-3810.8" font-family="Arial" font-size="14.00">is_valid(): bool</text>
</g>
<!-- mcpgateway.db.EmailTeamInvitation&#45;&gt;mcpgateway.db.Base -->
<g id="edge18" class="edge">
<title>mcpgateway.db.EmailTeamInvitation&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M2928.32,-4037.11C2899.19,-4656.66 2777.83,-7555.64 3043,-7840 3262.54,-8075.42 8462.39,-8076.19 9181.74,-8075.16"/>
<polygon fill="none" stroke="gray" points="9181.76,-8078.66 9191.76,-8075.15 9181.75,-8071.66 9181.76,-8078.66"/>
</g>
<!-- mcpgateway.db.EmailTeamJoinRequest -->
<g id="node129" class="node">
<title>mcpgateway.db.EmailTeamJoinRequest</title>
<polygon fill="white" stroke="#77aadd" points="3052.5,-3788 3052.5,-4052 3321.5,-4052 3321.5,-3788 3052.5,-3788"/>
<text text-anchor="start" x="3115" y="-4036.8" font-family="Arial" font-size="14.00">EmailTeamJoinRequest</text>
<polyline fill="none" stroke="#77aadd" points="3052.5,-4029 3321.5,-4029 "/>
<text text-anchor="start" x="3060.5" y="-4013.8" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="3060.5" y="-3998.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-3983.8" font-family="Arial" font-size="14.00">message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-3968.8" font-family="Arial" font-size="14.00">notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-3953.8" font-family="Arial" font-size="14.00">requested_at : Mapped[datetime]</text>
<text text-anchor="start" x="3060.5" y="-3938.8" font-family="Arial" font-size="14.00">reviewed_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="3060.5" y="-3923.8" font-family="Arial" font-size="14.00">reviewed_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3060.5" y="-3908.8" font-family="Arial" font-size="14.00">reviewer : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3060.5" y="-3893.8" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-3878.8" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3060.5" y="-3863.8" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3060.5" y="-3848.8" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3060.5" y="-3833.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3052.5,-3826 3321.5,-3826 "/>
<text text-anchor="start" x="3133" y="-3810.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="3133" y="-3795.8" font-family="Arial" font-size="14.00">is_pending(): bool</text>
</g>
<!-- mcpgateway.db.EmailTeamJoinRequest&#45;&gt;mcpgateway.db.Base -->
<g id="edge19" class="edge">
<title>mcpgateway.db.EmailTeamJoinRequest&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3181.88,-4052.02C3157.8,-4701.72 3067.61,-7557.97 3331,-7840 3540.17,-8063.97 8481.5,-8074.62 9181.77,-8075"/>
<polygon fill="none" stroke="gray" points="9181.76,-8078.5 9191.77,-8075.01 9181.77,-8071.5 9181.76,-8078.5"/>
</g>
<!-- mcpgateway.db.EmailTeamMember -->
<g id="node130" class="node">
<title>mcpgateway.db.EmailTeamMember</title>
<polygon fill="white" stroke="#77aadd" points="3340,-3818 3340,-4022 3588,-4022 3588,-3818 3340,-3818"/>
<text text-anchor="start" x="3404" y="-4006.8" font-family="Arial" font-size="14.00">EmailTeamMember</text>
<polyline fill="none" stroke="#77aadd" points="3340,-3999 3588,-3999 "/>
<text text-anchor="start" x="3348" y="-3983.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-3968.8" font-family="Arial" font-size="14.00">invited_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3348" y="-3953.8" font-family="Arial" font-size="14.00">inviter : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3348" y="-3938.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="3348" y="-3923.8" font-family="Arial" font-size="14.00">joined_at : Mapped[datetime]</text>
<text text-anchor="start" x="3348" y="-3908.8" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-3893.8" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3348" y="-3878.8" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3348" y="-3863.8" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3348" y="-3848.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3340,-3841 3588,-3841 "/>
<text text-anchor="start" x="3462" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.EmailTeamMember&#45;&gt;mcpgateway.db.Base -->
<g id="edge20" class="edge">
<title>mcpgateway.db.EmailTeamMember&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3459.64,-4022.37C3435.39,-4609.24 3327.73,-7555 3597,-7840 3797.65,-8052.37 8498.42,-8072.95 9181.52,-8074.82"/>
<polygon fill="none" stroke="gray" points="9181.75,-8078.32 9191.76,-8074.85 9181.77,-8071.32 9181.75,-8078.32"/>
</g>
<!-- mcpgateway.db.EmailTeamMemberHistory -->
<g id="node131" class="node">
<title>mcpgateway.db.EmailTeamMemberHistory</title>
<polygon fill="white" stroke="#77aadd" points="3606.5,-3803 3606.5,-4037 3905.5,-4037 3905.5,-3803 3606.5,-3803"/>
<text text-anchor="start" x="3675" y="-4021.8" font-family="Arial" font-size="14.00">EmailTeamMemberHistory</text>
<polyline fill="none" stroke="#77aadd" points="3606.5,-4014 3905.5,-4014 "/>
<text text-anchor="start" x="3614.5" y="-3998.8" font-family="Arial" font-size="14.00">action : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-3983.8" font-family="Arial" font-size="14.00">action_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="3614.5" y="-3968.8" font-family="Arial" font-size="14.00">action_timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="3614.5" y="-3953.8" font-family="Arial" font-size="14.00">actor : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="3614.5" y="-3938.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-3923.8" font-family="Arial" font-size="14.00">role : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-3908.8" font-family="Arial" font-size="14.00">team : Mapped[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3614.5" y="-3893.8" font-family="Arial" font-size="14.00">team_id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-3878.8" font-family="Arial" font-size="14.00">team_member : Mapped[&#39;EmailTeamMember&#39;]</text>
<text text-anchor="start" x="3614.5" y="-3863.8" font-family="Arial" font-size="14.00">team_member_id : Mapped[str]</text>
<text text-anchor="start" x="3614.5" y="-3848.8" font-family="Arial" font-size="14.00">user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="3614.5" y="-3833.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="3606.5,-3826 3905.5,-3826 "/>
<text text-anchor="start" x="3754" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.EmailTeamMemberHistory&#45;&gt;mcpgateway.db.Base -->
<g id="edge21" class="edge">
<title>mcpgateway.db.EmailTeamMemberHistory&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M3751.68,-4037.09C3729.77,-4657.35 3642.32,-7562.51 3915,-7840 4107.84,-8036.24 8520.06,-8070.5 9181.37,-8074.54"/>
<polygon fill="none" stroke="gray" points="9181.73,-8078.05 9191.75,-8074.61 9181.77,-8071.05 9181.73,-8078.05"/>
</g>
<!-- mcpgateway.db.EmailUser -->
<g id="node132" class="node">
<title>mcpgateway.db.EmailUser</title>
<polygon fill="white" stroke="#77aadd" points="3924,-3690.5 3924,-4149.5 4434,-4149.5 4434,-3690.5 3924,-3690.5"/>
<text text-anchor="start" x="4147" y="-4134.3" font-family="Arial" font-size="14.00">EmailUser</text>
<polyline fill="none" stroke="#77aadd" points="3924,-4126.5 4434,-4126.5 "/>
<text text-anchor="start" x="4007.5" y="-4111.3" font-family="Arial" font-size="14.00">api_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4096.3" font-family="Arial" font-size="14.00">auth_provider : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4081.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="4007.5" y="-4066.3" font-family="Arial" font-size="14.00">created_teams : Mapped[List[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-4051.3" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-4036.3" font-family="Arial" font-size="14.00">email_verified_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-4021.3" font-family="Arial" font-size="14.00">failed_login_attempts : Mapped[int]</text>
<text text-anchor="start" x="4007.5" y="-4006.3" font-family="Arial" font-size="14.00">full_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4007.5" y="-3991.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-3976.3" font-family="Arial" font-size="14.00">is_admin : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-3961.3" font-family="Arial" font-size="14.00">last_login : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-3946.3" font-family="Arial" font-size="14.00">locked_until : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-3931.3" font-family="Arial" font-size="14.00">password_change_required : Mapped[bool]</text>
<text text-anchor="start" x="4007.5" y="-3916.3" font-family="Arial" font-size="14.00">password_changed_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4007.5" y="-3901.3" font-family="Arial" font-size="14.00">password_hash : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-3886.3" font-family="Arial" font-size="14.00">password_hash_type : Mapped[str]</text>
<text text-anchor="start" x="4007.5" y="-3871.3" font-family="Arial" font-size="14.00">sent_invitations : Mapped[List[&#39;EmailTeamInvitation&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-3856.3" font-family="Arial" font-size="14.00">team_memberships : Mapped[List[&#39;EmailTeamMember&#39;]]</text>
<text text-anchor="start" x="4007.5" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="3924,-3833.5 4434,-3833.5 "/>
<text text-anchor="start" x="3932" y="-3818.3" font-family="Arial" font-size="14.00">get_display_name(): str</text>
<text text-anchor="start" x="3932" y="-3803.3" font-family="Arial" font-size="14.00">get_personal_team(): Optional[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3932" y="-3788.3" font-family="Arial" font-size="14.00">get_team_role(team_id: str): Optional[str]</text>
<text text-anchor="start" x="3932" y="-3773.3" font-family="Arial" font-size="14.00">get_teams(): List[&#39;EmailTeam&#39;]</text>
<text text-anchor="start" x="3932" y="-3758.3" font-family="Arial" font-size="14.00">increment_failed_attempts(max_attempts: int, lockout_duration_minutes: int): bool</text>
<text text-anchor="start" x="3932" y="-3743.3" font-family="Arial" font-size="14.00">is_account_locked(): bool</text>
<text text-anchor="start" x="3932" y="-3728.3" font-family="Arial" font-size="14.00">is_email_verified(): bool</text>
<text text-anchor="start" x="3932" y="-3713.3" font-family="Arial" font-size="14.00">is_team_member(team_id: str): bool</text>
<text text-anchor="start" x="3932" y="-3698.3" font-family="Arial" font-size="14.00">reset_failed_attempts(): None</text>
</g>
<!-- mcpgateway.db.EmailUser&#45;&gt;mcpgateway.db.Base -->
<g id="edge22" class="edge">
<title>mcpgateway.db.EmailUser&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M4157.41,-4149.73C4091.23,-4907.97 3925.66,-7320.32 4443,-7840 4617.21,-8014.99 8558.41,-8066.97 9181.4,-8074.1"/>
<polygon fill="none" stroke="gray" points="9181.59,-8077.61 9191.63,-8074.22 9181.67,-8070.61 9181.59,-8077.61"/>
</g>
<!-- mcpgateway.schemas.EmailUserResponse -->
<g id="node133" class="node">
<title>mcpgateway.schemas.EmailUserResponse</title>
<polygon fill="white" stroke="#77aadd" points="53202.5,-3818 53202.5,-4022 53493.5,-4022 53493.5,-3818 53202.5,-3818"/>
<text text-anchor="start" x="53286" y="-4006.8" font-family="Arial" font-size="14.00">EmailUserResponse</text>
<polyline fill="none" stroke="#77aadd" points="53202.5,-3999 53493.5,-3999 "/>
<text text-anchor="start" x="53217" y="-3983.8" font-family="Arial" font-size="14.00">auth_provider : Optional[str]</text>
<text text-anchor="start" x="53217" y="-3968.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="53217" y="-3953.8" font-family="Arial" font-size="14.00">email : Optional[str]</text>
<text text-anchor="start" x="53217" y="-3938.8" font-family="Arial" font-size="14.00">email_verified : Optional[bool]</text>
<text text-anchor="start" x="53217" y="-3923.8" font-family="Arial" font-size="14.00">full_name : Optional[str]</text>
<text text-anchor="start" x="53217" y="-3908.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="53217" y="-3893.8" font-family="Arial" font-size="14.00">is_admin : Optional[bool]</text>
<text text-anchor="start" x="53217" y="-3878.8" font-family="Arial" font-size="14.00">last_login : Optional[datetime]</text>
<text text-anchor="start" x="53217" y="-3863.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="53217" y="-3848.8" font-family="Arial" font-size="14.00">password_change_required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="53202.5,-3841 53493.5,-3841 "/>
<text text-anchor="start" x="53210.5" y="-3825.8" font-family="Arial" font-size="14.00">from_email_user(user): &#39;EmailUserResponse&#39;</text>
</g>
<!-- mcpgateway.services.email_auth_service.EmailValidationError -->
<g id="node134" class="node">
<title>mcpgateway.services.email_auth_service.EmailValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="53511,-3884.6 53511,-3955.4 53651,-3955.4 53651,-3884.6 53511,-3884.6"/>
<text text-anchor="start" x="53519" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">EmailValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="53511,-3932.4 53651,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="53511,-3907.6 53651,-3907.6 "/>
<text text-anchor="start" x="53579" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.common.models.EmbeddedResource -->
<g id="node135" class="node">
<title>mcpgateway.common.models.EmbeddedResource</title>
<polygon fill="white" stroke="#44bb99" points="53669,-3863 53669,-3977 54075,-3977 54075,-3863 53669,-3863"/>
<text text-anchor="start" x="53810" y="-3961.8" font-family="Arial" font-size="14.00">EmbeddedResource</text>
<polyline fill="none" stroke="#44bb99" points="53669,-3954 54075,-3954 "/>
<text text-anchor="start" x="53677" y="-3938.8" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="53677" y="-3923.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="53677" y="-3908.8" font-family="Arial" font-size="14.00">resource : Union[TextResourceContents, BlobResourceContents]</text>
<text text-anchor="start" x="53677" y="-3893.8" font-family="Arial" font-size="14.00">type : Literal[&#39;resource&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="53669,-3886 54075,-3886 "/>
<text text-anchor="start" x="53870" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingData -->
<g id="node136" class="node">
<title>mcpgateway.llm_schemas.EmbeddingData</title>
<polygon fill="white" stroke="#77aadd" points="54092.5,-3870.5 54092.5,-3969.5 54241.5,-3969.5 54241.5,-3870.5 54092.5,-3870.5"/>
<text text-anchor="start" x="54118" y="-3954.3" font-family="Arial" font-size="14.00">EmbeddingData</text>
<polyline fill="none" stroke="#77aadd" points="54092.5,-3946.5 54241.5,-3946.5 "/>
<text text-anchor="start" x="54100.5" y="-3931.3" font-family="Arial" font-size="14.00">embedding : List[float]</text>
<text text-anchor="start" x="54100.5" y="-3916.3" font-family="Arial" font-size="14.00">index : int</text>
<text text-anchor="start" x="54100.5" y="-3901.3" font-family="Arial" font-size="14.00">object : str</text>
<polyline fill="none" stroke="#77aadd" points="54092.5,-3893.5 54241.5,-3893.5 "/>
<text text-anchor="start" x="54165" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingRequest -->
<g id="node137" class="node">
<title>mcpgateway.llm_schemas.EmbeddingRequest</title>
<polygon fill="white" stroke="#77aadd" points="54259.5,-3863 54259.5,-3977 54580.5,-3977 54580.5,-3863 54259.5,-3863"/>
<text text-anchor="start" x="54360" y="-3961.8" font-family="Arial" font-size="14.00">EmbeddingRequest</text>
<polyline fill="none" stroke="#77aadd" points="54259.5,-3954 54580.5,-3954 "/>
<text text-anchor="start" x="54267.5" y="-3938.8" font-family="Arial" font-size="14.00">encoding_format : Optional[Literal[&#39;float&#39;, &#39;base64&#39;]]</text>
<text text-anchor="start" x="54267.5" y="-3923.8" font-family="Arial" font-size="14.00">input : Optional[Union[str, List[str]]]</text>
<text text-anchor="start" x="54267.5" y="-3908.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="54267.5" y="-3893.8" font-family="Arial" font-size="14.00">user : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="54259.5,-3886 54580.5,-3886 "/>
<text text-anchor="start" x="54418" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.EmbeddingResponse -->
<g id="node138" class="node">
<title>mcpgateway.llm_schemas.EmbeddingResponse</title>
<polygon fill="white" stroke="#77aadd" points="54586,-8019 54586,-8133 54766,-8133 54766,-8019 54586,-8019"/>
<text text-anchor="start" x="54611" y="-8117.8" font-family="Arial" font-size="14.00">EmbeddingResponse</text>
<polyline fill="none" stroke="#77aadd" points="54586,-8110 54766,-8110 "/>
<text text-anchor="start" x="54594" y="-8094.8" font-family="Arial" font-size="14.00">data : List[EmbeddingData]</text>
<text text-anchor="start" x="54594" y="-8079.8" font-family="Arial" font-size="14.00">model : str</text>
<text text-anchor="start" x="54594" y="-8064.8" font-family="Arial" font-size="14.00">object : str</text>
<text text-anchor="start" x="54594" y="-8049.8" font-family="Arial" font-size="14.00">usage</text>
<polyline fill="none" stroke="#77aadd" points="54586,-8042 54766,-8042 "/>
<text text-anchor="start" x="54674" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.encryption_service.EncryptionService -->
<g id="node139" class="node">
<title>mcpgateway.services.encryption_service.EncryptionService</title>
<polygon fill="white" stroke="#ffaabb" points="54928,-3810.5 54928,-4029.5 55590,-4029.5 55590,-3810.5 54928,-3810.5"/>
<text text-anchor="start" x="55204.5" y="-4014.3" font-family="Arial" font-size="14.00">EncryptionService</text>
<polyline fill="none" stroke="#ffaabb" points="54928,-4006.5 55590,-4006.5 "/>
<text text-anchor="start" x="55183.5" y="-3991.3" font-family="Arial" font-size="14.00">encryption_secret : bytes</text>
<text text-anchor="start" x="55183.5" y="-3976.3" font-family="Arial" font-size="14.00">hash_len : int</text>
<text text-anchor="start" x="55183.5" y="-3961.3" font-family="Arial" font-size="14.00">memory_cost</text>
<text text-anchor="start" x="55183.5" y="-3946.3" font-family="Arial" font-size="14.00">parallelism</text>
<text text-anchor="start" x="55183.5" y="-3931.3" font-family="Arial" font-size="14.00">salt_len : int</text>
<text text-anchor="start" x="55183.5" y="-3916.3" font-family="Arial" font-size="14.00">time_cost</text>
<polyline fill="none" stroke="#ffaabb" points="54928,-3908.5 55590,-3908.5 "/>
<text text-anchor="start" x="54936" y="-3893.3" font-family="Arial" font-size="14.00">decrypt_secret(bundle_json: str): Optional[str]</text>
<text text-anchor="start" x="54936" y="-3878.3" font-family="Arial" font-size="14.00">decrypt_secret_async(bundle_json: str): Optional[str]</text>
<text text-anchor="start" x="54936" y="-3863.3" font-family="Arial" font-size="14.00">derive_key_argon2id(passphrase: bytes, salt: bytes, time_cost: int, memory_cost: int, parallelism: int): bytes</text>
<text text-anchor="start" x="54936" y="-3848.3" font-family="Arial" font-size="14.00">encrypt_secret(plaintext: str): str</text>
<text text-anchor="start" x="54936" y="-3833.3" font-family="Arial" font-size="14.00">encrypt_secret_async(plaintext: str): str</text>
<text text-anchor="start" x="54936" y="-3818.3" font-family="Arial" font-size="14.00">is_encrypted(text: str): bool</text>
</g>
<!-- mcpgateway.services.token_storage_service.TokenStorageService -->
<g id="node560" class="node">
<title>mcpgateway.services.token_storage_service.TokenStorageService</title>
<polygon fill="white" stroke="#ffaabb" points="54784,-8004 54784,-8148 55734,-8148 55734,-8004 54784,-8004"/>
<text text-anchor="start" x="55194.5" y="-8132.8" font-family="Arial" font-size="14.00">TokenStorageService</text>
<polyline fill="none" stroke="#ffaabb" points="54784,-8125 55734,-8125 "/>
<text text-anchor="start" x="55191" y="-8109.8" font-family="Arial" font-size="14.00">db</text>
<text text-anchor="start" x="55191" y="-8094.8" font-family="Arial" font-size="14.00">encryption : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="54784,-8087 55734,-8087 "/>
<text text-anchor="start" x="54792" y="-8071.8" font-family="Arial" font-size="14.00">cleanup_expired_tokens(max_age_days: int): int</text>
<text text-anchor="start" x="54792" y="-8056.8" font-family="Arial" font-size="14.00">get_token_info(gateway_id: str, app_user_email: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="54792" y="-8041.8" font-family="Arial" font-size="14.00">get_user_token(gateway_id: str, app_user_email: str, threshold_seconds: int): Optional[str]</text>
<text text-anchor="start" x="54792" y="-8026.8" font-family="Arial" font-size="14.00">revoke_user_tokens(gateway_id: str, app_user_email: str): bool</text>
<text text-anchor="start" x="54792" y="-8011.8" font-family="Arial" font-size="14.00">store_tokens(gateway_id: str, user_id: str, app_user_email: str, access_token: str, refresh_token: Optional[str], expires_in: int, scopes: List[str]): OAuthToken</text>
</g>
<!-- mcpgateway.services.encryption_service.EncryptionService&#45;&gt;mcpgateway.services.token_storage_service.TokenStorageService -->
<g id="edge157" class="edge">
<title>mcpgateway.services.encryption_service.EncryptionService&#45;&gt;mcpgateway.services.token_storage_service.TokenStorageService</title>
<path fill="none" stroke="gray" d="M55259,-4029.71C55259,-4623.38 55259,-7466.13 55259,-7991.43"/>
<polygon fill="gray" stroke="gray" points="55259,-7991.77 55263,-7997.77 55259,-8003.77 55255,-7997.77 55259,-7991.77"/>
<text text-anchor="middle" x="55290.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">encryption</text>
</g>
<!-- mcpgateway.schemas.ErrorResponse -->
<g id="node140" class="node">
<title>mcpgateway.schemas.ErrorResponse</title>
<polygon fill="white" stroke="#77aadd" points="55608.5,-3870.5 55608.5,-3969.5 55765.5,-3969.5 55765.5,-3870.5 55608.5,-3870.5"/>
<text text-anchor="start" x="55641.5" y="-3954.3" font-family="Arial" font-size="14.00">ErrorResponse</text>
<polyline fill="none" stroke="#77aadd" points="55608.5,-3946.5 55765.5,-3946.5 "/>
<text text-anchor="start" x="55616.5" y="-3931.3" font-family="Arial" font-size="14.00">details : Optional[dict]</text>
<text text-anchor="start" x="55616.5" y="-3916.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="55616.5" y="-3901.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="55608.5,-3893.5 55765.5,-3893.5 "/>
<text text-anchor="start" x="55685" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.EventEntry -->
<g id="node141" class="node">
<title>mcpgateway.transports.streamablehttp_transport.EventEntry</title>
<polygon fill="white" stroke="#77aadd" points="55784,-3863 55784,-3977 55988,-3977 55988,-3863 55784,-3863"/>
<text text-anchor="start" x="55852.5" y="-3961.8" font-family="Arial" font-size="14.00">EventEntry</text>
<polyline fill="none" stroke="#77aadd" points="55784,-3954 55988,-3954 "/>
<text text-anchor="start" x="55792" y="-3938.8" font-family="Arial" font-size="14.00">event_id : str</text>
<text text-anchor="start" x="55792" y="-3923.8" font-family="Arial" font-size="14.00">message : JSONRPCMessage</text>
<text text-anchor="start" x="55792" y="-3908.8" font-family="Arial" font-size="14.00">seq_num : int</text>
<text text-anchor="start" x="55792" y="-3893.8" font-family="Arial" font-size="14.00">stream_id : str</text>
<polyline fill="none" stroke="#77aadd" points="55784,-3886 55988,-3886 "/>
<text text-anchor="start" x="55884" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.EventMessage -->
<g id="node142" class="node">
<title>mcpgateway.schemas.EventMessage</title>
<polygon fill="white" stroke="#77aadd" points="56006,-3870.5 56006,-3969.5 56246,-3969.5 56246,-3870.5 56006,-3870.5"/>
<text text-anchor="start" x="56080.5" y="-3954.3" font-family="Arial" font-size="14.00">EventMessage</text>
<polyline fill="none" stroke="#77aadd" points="56006,-3946.5 56246,-3946.5 "/>
<text text-anchor="start" x="56032.5" y="-3931.3" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="56032.5" y="-3916.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="56032.5" y="-3901.3" font-family="Arial" font-size="14.00">type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="56006,-3893.5 56246,-3893.5 "/>
<text text-anchor="start" x="56014" y="-3878.3" font-family="Arial" font-size="14.00">serialize_timestamp(dt: datetime): str</text>
</g>
<!-- mcpgateway.services.event_service.EventService -->
<g id="node143" class="node">
<title>mcpgateway.services.event_service.EventService</title>
<polygon fill="white" stroke="#ffaabb" points="56264,-3848 56264,-3992 56622,-3992 56622,-3848 56264,-3848"/>
<text text-anchor="start" x="56403" y="-3976.8" font-family="Arial" font-size="14.00">EventService</text>
<polyline fill="none" stroke="#ffaabb" points="56264,-3969 56622,-3969 "/>
<text text-anchor="start" x="56380.5" y="-3953.8" font-family="Arial" font-size="14.00">channel_name : str</text>
<text text-anchor="start" x="56380.5" y="-3938.8" font-family="Arial" font-size="14.00">redis_url : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="56264,-3931 56622,-3931 "/>
<text text-anchor="start" x="56272" y="-3915.8" font-family="Arial" font-size="14.00">event_generator(): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="56272" y="-3900.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="56272" y="-3885.8" font-family="Arial" font-size="14.00">publish_event(event: Dict[str, Any]): None</text>
<text text-anchor="start" x="56272" y="-3870.8" font-family="Arial" font-size="14.00">shutdown()</text>
<text text-anchor="start" x="56272" y="-3855.8" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
</g>
<!-- mcpgateway.transports.sse_transport.EventSourceResponse -->
<g id="node144" class="node">
<title>mcpgateway.transports.sse_transport.EventSourceResponse</title>
<polygon fill="white" stroke="#77aadd" points="56640,-3884.6 56640,-3955.4 56894,-3955.4 56894,-3884.6 56640,-3884.6"/>
<text text-anchor="start" x="56697.5" y="-3940.2" font-family="Arial" font-size="14.00">EventSourceResponse</text>
<polyline fill="none" stroke="#77aadd" points="56640,-3932.4 56894,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="56640,-3907.6 56894,-3907.6 "/>
<text text-anchor="start" x="56648" y="-3893.4" font-family="Arial" font-style="italic" font-size="14.00">enable_compression</text>
<text text-anchor="start" x="56774" y="-3893.4" font-family="Arial" font-size="14.00">(force: bool): None</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportData -->
<g id="node145" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportData</title>
<polygon fill="white" stroke="#ffaabb" points="56892.5,-8447.5 56892.5,-8606.5 57119.5,-8606.5 57119.5,-8447.5 56892.5,-8447.5"/>
<text text-anchor="start" x="56972" y="-8591.3" font-family="Arial" font-size="14.00">ExportData</text>
<polyline fill="none" stroke="#ffaabb" points="56892.5,-8583.5 57119.5,-8583.5 "/>
<text text-anchor="start" x="56900.5" y="-8568.3" font-family="Arial" font-size="14.00">encryption_method : str</text>
<text text-anchor="start" x="56900.5" y="-8553.3" font-family="Arial" font-size="14.00">entities : Dict[str, List[Dict[str, Any]]]</text>
<text text-anchor="start" x="56900.5" y="-8538.3" font-family="Arial" font-size="14.00">exported_at : str</text>
<text text-anchor="start" x="56900.5" y="-8523.3" font-family="Arial" font-size="14.00">exported_by : str</text>
<text text-anchor="start" x="56900.5" y="-8508.3" font-family="Arial" font-size="14.00">metadata</text>
<text text-anchor="start" x="56900.5" y="-8493.3" font-family="Arial" font-size="14.00">source_gateway : str</text>
<text text-anchor="start" x="56900.5" y="-8478.3" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ffaabb" points="56892.5,-8470.5 57119.5,-8470.5 "/>
<text text-anchor="start" x="57004" y="-8455.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportError -->
<g id="node146" class="node">
<title>mcpgateway.services.export_service.ExportError</title>
<polygon fill="white" stroke="#ffaabb" points="57147,-8040.6 57147,-8111.4 57233,-8111.4 57233,-8040.6 57147,-8040.6"/>
<text text-anchor="start" x="57155" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">ExportError</text>
<polyline fill="none" stroke="#ffaabb" points="57147,-8088.4 57233,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="57147,-8063.6 57233,-8063.6 "/>
<text text-anchor="start" x="57188" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata -->
<g id="node147" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata</title>
<polygon fill="white" stroke="#ffaabb" points="56912.5,-8026.5 56912.5,-8125.5 57099.5,-8125.5 57099.5,-8026.5 56912.5,-8026.5"/>
<text text-anchor="start" x="56957.5" y="-8110.3" font-family="Arial" font-size="14.00">ExportMetadata</text>
<polyline fill="none" stroke="#ffaabb" points="56912.5,-8102.5 57099.5,-8102.5 "/>
<text text-anchor="start" x="56920.5" y="-8087.3" font-family="Arial" font-size="14.00">dependencies : Dict[str, Any]</text>
<text text-anchor="start" x="56920.5" y="-8072.3" font-family="Arial" font-size="14.00">entity_counts : Dict[str, int]</text>
<text text-anchor="start" x="56920.5" y="-8057.3" font-family="Arial" font-size="14.00">export_options</text>
<polyline fill="none" stroke="#ffaabb" points="56912.5,-8049.5 57099.5,-8049.5 "/>
<text text-anchor="start" x="57004" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportData -->
<g id="edge158" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportData</title>
<path fill="none" stroke="gray" d="M57006,-8125.91C57006,-8199.97 57006,-8341.83 57006,-8435.18"/>
<polygon fill="gray" stroke="gray" points="57006,-8435.45 57010,-8441.45 57006,-8447.45 57002,-8441.45 57006,-8435.45"/>
<text text-anchor="middle" x="57035" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">metadata</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions -->
<g id="node148" class="node">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions</title>
<polygon fill="white" stroke="#ffaabb" points="56912,-3863 56912,-3977 57100,-3977 57100,-3863 56912,-3863"/>
<text text-anchor="start" x="56962.5" y="-3961.8" font-family="Arial" font-size="14.00">ExportOptions</text>
<polyline fill="none" stroke="#ffaabb" points="56912,-3954 57100,-3954 "/>
<text text-anchor="start" x="56920" y="-3938.8" font-family="Arial" font-size="14.00">filter_tags : List[str]</text>
<text text-anchor="start" x="56920" y="-3923.8" font-family="Arial" font-size="14.00">include_dependencies : bool</text>
<text text-anchor="start" x="56920" y="-3908.8" font-family="Arial" font-size="14.00">include_inactive : bool</text>
<text text-anchor="start" x="56920" y="-3893.8" font-family="Arial" font-size="14.00">selected_types : List[str]</text>
<polyline fill="none" stroke="#ffaabb" points="56912,-3886 57100,-3886 "/>
<text text-anchor="start" x="57004" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata -->
<g id="edge159" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_configuration.ExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_configuration.ExportMetadata</title>
<path fill="none" stroke="gray" d="M57006,-3977.36C57006,-4435.1 57006,-7538.64 57006,-8013.97"/>
<polygon fill="gray" stroke="gray" points="57006,-8014.31 57010,-8020.31 57006,-8026.31 57002,-8020.31 57006,-8014.31"/>
<text text-anchor="middle" x="57050.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">export_options</text>
</g>
<!-- mcpgateway.services.export_service.ExportService -->
<g id="node149" class="node">
<title>mcpgateway.services.export_service.ExportService</title>
<polygon fill="white" stroke="#ffaabb" points="57280,-3825.5 57280,-4014.5 58628,-4014.5 58628,-3825.5 57280,-3825.5"/>
<text text-anchor="start" x="57911.5" y="-3999.3" font-family="Arial" font-size="14.00">ExportService</text>
<polyline fill="none" stroke="#ffaabb" points="57280,-3991.5 58628,-3991.5 "/>
<text text-anchor="start" x="57902.5" y="-3976.3" font-family="Arial" font-size="14.00">gateway_service</text>
<text text-anchor="start" x="57902.5" y="-3961.3" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="57902.5" y="-3946.3" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="57902.5" y="-3931.3" font-family="Arial" font-size="14.00">root_service</text>
<text text-anchor="start" x="57902.5" y="-3916.3" font-family="Arial" font-size="14.00">server_service</text>
<text text-anchor="start" x="57902.5" y="-3901.3" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="57280,-3893.5 58628,-3893.5 "/>
<text text-anchor="start" x="57288" y="-3878.3" font-family="Arial" font-size="14.00">export_configuration(db: Session, include_types: Optional[List[str]], exclude_types: Optional[List[str]], tags: Optional[List[str]], include_inactive: bool, include_dependencies: bool, exported_by: str, root_path: str): Dict[str, Any]</text>
<text text-anchor="start" x="57288" y="-3863.3" font-family="Arial" font-size="14.00">export_selective(db: Session, entity_selections: Dict[str, List[str]], include_dependencies: bool, exported_by: str, root_path: str): Dict[str, Any]</text>
<text text-anchor="start" x="57288" y="-3848.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="57288" y="-3833.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.services.export_service.ExportValidationError -->
<g id="node150" class="node">
<title>mcpgateway.services.export_service.ExportValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="57118,-3884.6 57118,-3955.4 57262,-3955.4 57262,-3884.6 57118,-3884.6"/>
<text text-anchor="start" x="57126" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ExportValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="57118,-3932.4 57262,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="57118,-3907.6 57262,-3907.6 "/>
<text text-anchor="start" x="57188" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportValidationError&#45;&gt;mcpgateway.services.export_service.ExportError -->
<g id="edge90" class="edge">
<title>mcpgateway.services.export_service.ExportValidationError&#45;&gt;mcpgateway.services.export_service.ExportError</title>
<path fill="none" stroke="gray" d="M57190,-3955.66C57190,-4329.39 57190,-7607.55 57190,-8030.19"/>
<polygon fill="none" stroke="gray" points="57186.5,-8030.48 57190,-8040.48 57193.5,-8030.48 57186.5,-8030.48"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef -->
<g id="node151" class="node">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef</title>
<polygon fill="white" stroke="#ee8866" points="58646.5,-3884.6 58646.5,-3955.4 58765.5,-3955.4 58765.5,-3884.6 58646.5,-3884.6"/>
<text text-anchor="start" x="58654.5" y="-3940.2" font-family="Arial" font-size="14.00">ExternalHookRef</text>
<polyline fill="none" stroke="#ee8866" points="58646.5,-3932.4 58765.5,-3932.4 "/>
<polyline fill="none" stroke="#ee8866" points="58646.5,-3907.6 58765.5,-3907.6 "/>
<text text-anchor="start" x="58704" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.base.HookRef -->
<g id="node202" class="node">
<title>mcpgateway.plugins.framework.base.HookRef</title>
<polygon fill="white" stroke="#ee8866" points="58668,-8026.5 58668,-8125.5 58744,-8125.5 58744,-8026.5 58668,-8026.5"/>
<text text-anchor="start" x="58679.5" y="-8110.3" font-family="Arial" font-size="14.00">HookRef</text>
<polyline fill="none" stroke="#ee8866" points="58668,-8102.5 58744,-8102.5 "/>
<text text-anchor="start" x="58676" y="-8087.3" font-family="Arial" font-size="14.00">hook</text>
<text text-anchor="start" x="58676" y="-8072.3" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="58676" y="-8057.3" font-family="Arial" font-size="14.00">plugin_ref</text>
<polyline fill="none" stroke="#ee8866" points="58668,-8049.5 58744,-8049.5 "/>
<text text-anchor="start" x="58704" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef&#45;&gt;mcpgateway.plugins.framework.base.HookRef -->
<g id="edge67" class="edge">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalHookRef&#45;&gt;mcpgateway.plugins.framework.base.HookRef</title>
<path fill="none" stroke="gray" d="M58706,-3955.66C58706,-4325.59 58706,-7541.17 58706,-8016.42"/>
<polygon fill="none" stroke="gray" points="58702.5,-8016.49 58706,-8026.49 58709.5,-8016.49 58702.5,-8016.49"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin -->
<g id="node152" class="node">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin</title>
<polygon fill="white" stroke="#ee8866" points="58784,-3869.6 58784,-3970.4 59344,-3970.4 59344,-3869.6 58784,-3869.6"/>
<text text-anchor="start" x="59020" y="-3955.2" font-family="Arial" font-size="14.00">ExternalPlugin</text>
<polyline fill="none" stroke="#ee8866" points="58784,-3947.4 59344,-3947.4 "/>
<polyline fill="none" stroke="#ee8866" points="58784,-3922.6 59344,-3922.6 "/>
<text text-anchor="start" x="58792" y="-3907.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="58792" y="-3892.4" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: PluginPayload, context: PluginContext): PluginResult</text>
<text text-anchor="start" x="58792" y="-3877.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.base.Plugin -->
<g id="node361" class="node">
<title>mcpgateway.plugins.framework.base.Plugin</title>
<polygon fill="white" stroke="#ee8866" points="58853.5,-7976 58853.5,-8176 59274.5,-8176 59274.5,-7976 58853.5,-7976"/>
<text text-anchor="start" x="59045" y="-8160.8" font-family="Arial" font-size="14.00">Plugin</text>
<polyline fill="none" stroke="#ee8866" points="58853.5,-8153 59274.5,-8153 "/>
<text text-anchor="start" x="59033.5" y="-8137.8" font-family="Arial" font-size="14.00">conditions</text>
<text text-anchor="start" x="59033.5" y="-8122.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="59033.5" y="-8107.8" font-family="Arial" font-size="14.00">hooks</text>
<text text-anchor="start" x="59033.5" y="-8092.8" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="59033.5" y="-8077.8" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="59033.5" y="-8062.8" font-family="Arial" font-size="14.00">priority</text>
<text text-anchor="start" x="59033.5" y="-8047.8" font-family="Arial" font-size="14.00">tags</text>
<polyline fill="none" stroke="#ee8866" points="58853.5,-8040 59274.5,-8040 "/>
<text text-anchor="start" x="58861.5" y="-8025.8" font-family="Arial" font-style="italic" font-size="14.00">initialize</text>
<text text-anchor="start" x="58910.5" y="-8025.8" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="58861.5" y="-8011.8" font-family="Arial" font-size="14.00">json_to_payload(hook: str, payload: Union[str | dict]): PluginPayload</text>
<text text-anchor="start" x="58861.5" y="-7997.8" font-family="Arial" font-size="14.00">json_to_result(hook: str, result: Union[str | dict]): PluginResult</text>
<text text-anchor="start" x="58861.5" y="-7983.8" font-family="Arial" font-style="italic" font-size="14.00">shutdown</text>
<text text-anchor="start" x="58919.5" y="-7983.8" font-family="Arial" font-size="14.00">(): None</text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin -->
<g id="edge68" class="edge">
<title>mcpgateway.plugins.framework.external.mcp.client.ExternalPlugin&#45;&gt;mcpgateway.plugins.framework.base.Plugin</title>
<path fill="none" stroke="gray" d="M59064,-3970.55C59064,-4390.73 59064,-7356.64 59064,-7965.8"/>
<polygon fill="none" stroke="gray" points="59060.5,-7965.89 59064,-7975.89 59067.5,-7965.89 59060.5,-7965.89"/>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer -->
<g id="node153" class="node">
<title>mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer</title>
<polygon fill="white" stroke="#ee8866" points="59362,-3847.1 59362,-3992.9 59954,-3992.9 59954,-3847.1 59362,-3847.1"/>
<text text-anchor="start" x="59594.5" y="-3977.7" font-family="Arial" font-size="14.00">ExternalPluginServer</text>
<polyline fill="none" stroke="#ee8866" points="59362,-3969.9 59954,-3969.9 "/>
<polyline fill="none" stroke="#ee8866" points="59362,-3945.1 59954,-3945.1 "/>
<text text-anchor="start" x="59370" y="-3929.9" font-family="Arial" font-size="14.00">get_plugin_config(name: str): dict | None</text>
<text text-anchor="start" x="59370" y="-3914.9" font-family="Arial" font-size="14.00">get_plugin_configs(): list[dict]</text>
<text text-anchor="start" x="59370" y="-3899.9" font-family="Arial" font-size="14.00">get_server_config(): MCPServerConfig</text>
<text text-anchor="start" x="59370" y="-3884.9" font-family="Arial" font-size="14.00">initialize(): bool</text>
<text text-anchor="start" x="59370" y="-3869.9" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, plugin_name: str, payload: Dict[str, Any], context: Dict[str, Any]): dict</text>
<text text-anchor="start" x="59370" y="-3854.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.schemas.FederatedPrompt -->
<g id="node154" class="node">
<title>mcpgateway.schemas.FederatedPrompt</title>
<polygon fill="white" stroke="#77aadd" points="59972.5,-8470 59972.5,-8584 60107.5,-8584 60107.5,-8470 59972.5,-8470"/>
<text text-anchor="start" x="59987" y="-8568.8" font-family="Arial" font-size="14.00">FederatedPrompt</text>
<polyline fill="none" stroke="#77aadd" points="59972.5,-8561 60107.5,-8561 "/>
<text text-anchor="start" x="59980.5" y="-8545.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="59980.5" y="-8530.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="59980.5" y="-8515.8" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="59980.5" y="-8500.8" font-family="Arial" font-size="14.00">prompt</text>
<polyline fill="none" stroke="#77aadd" points="59972.5,-8493 60107.5,-8493 "/>
<text text-anchor="start" x="60038" y="-8477.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedPrompt -->
<g id="node155" class="node">
<title>mcpgateway.common.models.FederatedPrompt</title>
<polygon fill="white" stroke="#44bb99" points="59972.5,-3878 59972.5,-3962 60107.5,-3962 60107.5,-3878 59972.5,-3878"/>
<text text-anchor="start" x="59987" y="-3946.8" font-family="Arial" font-size="14.00">FederatedPrompt</text>
<polyline fill="none" stroke="#44bb99" points="59972.5,-3939 60107.5,-3939 "/>
<text text-anchor="start" x="59980.5" y="-3923.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="59980.5" y="-3908.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="59972.5,-3901 60107.5,-3901 "/>
<text text-anchor="start" x="60038" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Prompt -->
<g id="node389" class="node">
<title>mcpgateway.common.models.Prompt</title>
<polygon fill="white" stroke="#44bb99" points="59928,-8019 59928,-8133 60152,-8133 60152,-8019 59928,-8019"/>
<text text-anchor="start" x="60017.5" y="-8117.8" font-family="Arial" font-size="14.00">Prompt</text>
<polyline fill="none" stroke="#44bb99" points="59928,-8110 60152,-8110 "/>
<text text-anchor="start" x="59936" y="-8094.8" font-family="Arial" font-size="14.00">arguments : List[PromptArgument]</text>
<text text-anchor="start" x="59936" y="-8079.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="59936" y="-8064.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="59936" y="-8049.8" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#44bb99" points="59928,-8042 60152,-8042 "/>
<text text-anchor="start" x="60038" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedPrompt&#45;&gt;mcpgateway.common.models.Prompt -->
<g id="edge4" class="edge">
<title>mcpgateway.common.models.FederatedPrompt&#45;&gt;mcpgateway.common.models.Prompt</title>
<path fill="none" stroke="gray" d="M60040,-3962.11C60040,-4359.21 60040,-7509.77 60040,-8008.58"/>
<polygon fill="none" stroke="gray" points="60036.5,-8008.84 60040,-8018.84 60043.5,-8008.84 60036.5,-8008.84"/>
</g>
<!-- mcpgateway.schemas.FederatedResource -->
<g id="node156" class="node">
<title>mcpgateway.schemas.FederatedResource</title>
<polygon fill="white" stroke="#77aadd" points="60198,-8470 60198,-8584 60334,-8584 60334,-8470 60198,-8470"/>
<text text-anchor="start" x="60206" y="-8568.8" font-family="Arial" font-size="14.00">FederatedResource</text>
<polyline fill="none" stroke="#77aadd" points="60198,-8561 60334,-8561 "/>
<text text-anchor="start" x="60206.5" y="-8545.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="60206.5" y="-8530.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="60206.5" y="-8515.8" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="60206.5" y="-8500.8" font-family="Arial" font-size="14.00">resource</text>
<polyline fill="none" stroke="#77aadd" points="60198,-8493 60334,-8493 "/>
<text text-anchor="start" x="60264" y="-8477.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedResource -->
<g id="node157" class="node">
<title>mcpgateway.common.models.FederatedResource</title>
<polygon fill="white" stroke="#44bb99" points="60162,-3878 60162,-3962 60298,-3962 60298,-3878 60162,-3878"/>
<text text-anchor="start" x="60170" y="-3946.8" font-family="Arial" font-size="14.00">FederatedResource</text>
<polyline fill="none" stroke="#44bb99" points="60162,-3939 60298,-3939 "/>
<text text-anchor="start" x="60170.5" y="-3923.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="60170.5" y="-3908.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="60162,-3901 60298,-3901 "/>
<text text-anchor="start" x="60228" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Resource -->
<g id="node429" class="node">
<title>mcpgateway.common.models.Resource</title>
<polygon fill="white" stroke="#44bb99" points="60170,-8004 60170,-8148 60362,-8148 60362,-8004 60170,-8004"/>
<text text-anchor="start" x="60237" y="-8132.8" font-family="Arial" font-size="14.00">Resource</text>
<polyline fill="none" stroke="#44bb99" points="60170,-8125 60362,-8125 "/>
<text text-anchor="start" x="60178" y="-8109.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="60178" y="-8094.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="60178" y="-8079.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="60178" y="-8064.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="60178" y="-8049.8" font-family="Arial" font-size="14.00">size : Optional[int]</text>
<text text-anchor="start" x="60178" y="-8034.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="60170,-8027 60362,-8027 "/>
<text text-anchor="start" x="60264" y="-8011.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedResource&#45;&gt;mcpgateway.common.models.Resource -->
<g id="edge5" class="edge">
<title>mcpgateway.common.models.FederatedResource&#45;&gt;mcpgateway.common.models.Resource</title>
<path fill="none" stroke="gray" d="M60230.36,-3962.11C60233.76,-4355.42 60260.58,-7449.9 60265.29,-7993.58"/>
<polygon fill="none" stroke="gray" points="60261.8,-7993.72 60265.38,-8003.69 60268.8,-7993.66 60261.8,-7993.72"/>
</g>
<!-- mcpgateway.schemas.FederatedTool -->
<g id="node158" class="node">
<title>mcpgateway.schemas.FederatedTool</title>
<polygon fill="white" stroke="#77aadd" points="43370.5,-8470 43370.5,-8584 43505.5,-8584 43505.5,-8470 43370.5,-8470"/>
<text text-anchor="start" x="43394.5" y="-8568.8" font-family="Arial" font-size="14.00">FederatedTool</text>
<polyline fill="none" stroke="#77aadd" points="43370.5,-8561 43505.5,-8561 "/>
<text text-anchor="start" x="43378.5" y="-8545.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="43378.5" y="-8530.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<text text-anchor="start" x="43378.5" y="-8515.8" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="43378.5" y="-8500.8" font-family="Arial" font-size="14.00">tool</text>
<polyline fill="none" stroke="#77aadd" points="43370.5,-8493 43505.5,-8493 "/>
<text text-anchor="start" x="43436" y="-8477.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedTool -->
<g id="node159" class="node">
<title>mcpgateway.common.models.FederatedTool</title>
<polygon fill="white" stroke="#44bb99" points="43370.5,-3878 43370.5,-3962 43505.5,-3962 43505.5,-3878 43370.5,-3878"/>
<text text-anchor="start" x="43394.5" y="-3946.8" font-family="Arial" font-size="14.00">FederatedTool</text>
<polyline fill="none" stroke="#44bb99" points="43370.5,-3939 43505.5,-3939 "/>
<text text-anchor="start" x="43378.5" y="-3923.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="43378.5" y="-3908.8" font-family="Arial" font-size="14.00">gateway_name : str</text>
<polyline fill="none" stroke="#44bb99" points="43370.5,-3901 43505.5,-3901 "/>
<text text-anchor="start" x="43436" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Tool -->
<g id="node565" class="node">
<title>mcpgateway.common.models.Tool</title>
<polygon fill="white" stroke="#44bb99" points="43311,-7929 43311,-8223 43565,-8223 43565,-7929 43311,-7929"/>
<text text-anchor="start" x="43425.5" y="-8207.8" font-family="Arial" font-size="14.00">Tool</text>
<polyline fill="none" stroke="#44bb99" points="43311,-8200 43565,-8200 "/>
<text text-anchor="start" x="43319" y="-8184.8" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43319" y="-8169.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8154.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8139.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8124.8" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8109.8" font-family="Arial" font-size="14.00">custom_name_slug : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8094.8" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8079.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8064.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43319" y="-8049.8" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43319" y="-8034.8" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="43319" y="-8019.8" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="43319" y="-8004.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="43319" y="-7989.8" font-family="Arial" font-size="14.00">original_name : Optional[str]</text>
<text text-anchor="start" x="43319" y="-7974.8" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43319" y="-7959.8" font-family="Arial" font-size="14.00">request_type : str</text>
<polyline fill="none" stroke="#44bb99" points="43311,-7952 43565,-7952 "/>
<text text-anchor="start" x="43436" y="-7936.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.FederatedTool&#45;&gt;mcpgateway.common.models.Tool -->
<g id="edge6" class="edge">
<title>mcpgateway.common.models.FederatedTool&#45;&gt;mcpgateway.common.models.Tool</title>
<path fill="none" stroke="gray" d="M43438,-3962.11C43438,-4340.07 43438,-7212.44 43438,-7918.57"/>
<polygon fill="none" stroke="gray" points="43434.5,-7918.81 43438,-7928.81 43441.5,-7918.81 43434.5,-7918.81"/>
</g>
<!-- mcpgateway.common.models.FileUrl -->
<g id="node160" class="node">
<title>mcpgateway.common.models.FileUrl</title>
<polygon fill="white" stroke="#44bb99" points="60518,-3878 60518,-3962 60672,-3962 60672,-3878 60518,-3878"/>
<text text-anchor="start" x="60575" y="-3946.8" font-family="Arial" font-size="14.00">FileUrl</text>
<polyline fill="none" stroke="#44bb99" points="60518,-3939 60672,-3939 "/>
<text text-anchor="start" x="60526" y="-3923.8" font-family="Arial" font-size="14.00">allowed_schemes : set</text>
<text text-anchor="start" x="60526" y="-3908.8" font-family="Arial" font-size="14.00">host_required : bool</text>
<polyline fill="none" stroke="#44bb99" points="60518,-3901 60672,-3901 "/>
<text text-anchor="start" x="60593" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.FunctionDefinition -->
<g id="node161" class="node">
<title>mcpgateway.llm_schemas.FunctionDefinition</title>
<polygon fill="white" stroke="#77aadd" points="60690,-3870.5 60690,-3969.5 60920,-3969.5 60920,-3870.5 60690,-3870.5"/>
<text text-anchor="start" x="60750.5" y="-3954.3" font-family="Arial" font-size="14.00">FunctionDefinition</text>
<polyline fill="none" stroke="#77aadd" points="60690,-3946.5 60920,-3946.5 "/>
<text text-anchor="start" x="60698" y="-3931.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="60698" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="60698" y="-3901.3" font-family="Arial" font-size="14.00">parameters : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="60690,-3893.5 60920,-3893.5 "/>
<text text-anchor="start" x="60803" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ToolDefinition -->
<g id="node568" class="node">
<title>mcpgateway.llm_schemas.ToolDefinition</title>
<polygon fill="white" stroke="#77aadd" points="60729.5,-8034 60729.5,-8118 60880.5,-8118 60880.5,-8034 60729.5,-8034"/>
<text text-anchor="start" x="60764" y="-8102.8" font-family="Arial" font-size="14.00">ToolDefinition</text>
<polyline fill="none" stroke="#77aadd" points="60729.5,-8095 60880.5,-8095 "/>
<text text-anchor="start" x="60737.5" y="-8079.8" font-family="Arial" font-size="14.00">function</text>
<text text-anchor="start" x="60737.5" y="-8064.8" font-family="Arial" font-size="14.00">type : Literal[&#39;function&#39;]</text>
<polyline fill="none" stroke="#77aadd" points="60729.5,-8057 60880.5,-8057 "/>
<text text-anchor="start" x="60803" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.FunctionDefinition&#45;&gt;mcpgateway.llm_schemas.ToolDefinition -->
<g id="edge145" class="edge">
<title>mcpgateway.llm_schemas.FunctionDefinition&#45;&gt;mcpgateway.llm_schemas.ToolDefinition</title>
<path fill="none" stroke="gray" d="M60805,-3969.81C60805,-4402.05 60805,-7569.62 60805,-8021.43"/>
<polygon fill="gray" stroke="gray" points="60805,-8021.7 60809,-8027.7 60805,-8033.7 60801,-8027.7 60805,-8021.7"/>
<text text-anchor="middle" x="60829" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">function</text>
</g>
<!-- mcpgateway.db.Gateway -->
<g id="node162" class="node">
<title>mcpgateway.db.Gateway</title>
<polygon fill="white" stroke="#77aadd" points="4452.5,-3563 4452.5,-4277 4857.5,-4277 4857.5,-3563 4452.5,-3563"/>
<text text-anchor="start" x="4627.5" y="-4261.8" font-family="Arial" font-size="14.00">Gateway</text>
<polyline fill="none" stroke="#77aadd" points="4452.5,-4254 4857.5,-4254 "/>
<text text-anchor="start" x="4460.5" y="-4238.8" font-family="Arial" font-size="14.00">auth_query_params : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-4223.8" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4208.8" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-4193.8" font-family="Arial" font-size="14.00">ca_certificate : Mapped[Optional[bytes]]</text>
<text text-anchor="start" x="4460.5" y="-4178.8" font-family="Arial" font-size="14.00">ca_certificate_sig : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4163.8" font-family="Arial" font-size="14.00">capabilities : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="4460.5" y="-4148.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="4460.5" y="-4133.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4118.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4103.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4088.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4073.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4058.8" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-4043.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="4460.5" y="-4028.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-4013.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3998.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3983.8" font-family="Arial" font-size="14.00">last_refresh_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4460.5" y="-3968.8" font-family="Arial" font-size="14.00">last_seen : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="4460.5" y="-3953.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3938.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3923.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3908.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3893.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3878.8" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="4460.5" y="-3863.8" font-family="Arial" font-size="14.00">oauth_tokens : Mapped[List[&#39;OAuthToken&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3848.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3833.8" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="4460.5" y="-3818.8" font-family="Arial" font-size="14.00">prompts : Mapped[List[&#39;Prompt&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3803.8" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="4460.5" y="-3788.8" font-family="Arial" font-size="14.00">refresh_interval_seconds : Mapped[Optional[int]]</text>
<text text-anchor="start" x="4460.5" y="-3773.8" font-family="Arial" font-size="14.00">registered_oauth_clients : Mapped[List[&#39;RegisteredOAuthClient&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3758.8" font-family="Arial" font-size="14.00">resources : Mapped[List[&#39;Resource&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3743.8" font-family="Arial" font-size="14.00">signing_algorithm : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3728.8" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3713.8" font-family="Arial" font-size="14.00">tags : Mapped[List[Dict[str, str]]]</text>
<text text-anchor="start" x="4460.5" y="-3698.8" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="4460.5" y="-3683.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="4460.5" y="-3668.8" font-family="Arial" font-size="14.00">tools : Mapped[List[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="4460.5" y="-3653.8" font-family="Arial" font-size="14.00">transport : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3638.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="4460.5" y="-3623.8" font-family="Arial" font-size="14.00">url : Mapped[str]</text>
<text text-anchor="start" x="4460.5" y="-3608.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="4460.5" y="-3593.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="4452.5,-3586 4857.5,-3586 "/>
<text text-anchor="start" x="4653" y="-3570.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Gateway&#45;&gt;mcpgateway.db.Base -->
<g id="edge23" class="edge">
<title>mcpgateway.db.Gateway&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M4617.96,-4277.3C4536.1,-5146.21 4383.18,-7339.65 4866,-7840 5021.84,-8001.49 8591.66,-8064.44 9181.75,-8073.76"/>
<polygon fill="none" stroke="gray" points="9181.81,-8077.26 9191.87,-8073.91 9181.92,-8070.26 9181.81,-8077.26"/>
</g>
<!-- mcpgateway.common.models.Gateway -->
<g id="node163" class="node">
<title>mcpgateway.common.models.Gateway</title>
<polygon fill="white" stroke="#44bb99" points="43037,-7989 43037,-8163 43293,-8163 43293,-7989 43037,-7989"/>
<text text-anchor="start" x="43137.5" y="-8147.8" font-family="Arial" font-size="14.00">Gateway</text>
<polyline fill="none" stroke="#44bb99" points="43037,-8140 43293,-8140 "/>
<text text-anchor="start" x="43045" y="-8124.8" font-family="Arial" font-size="14.00">auth_value : Optional[str | dict]</text>
<text text-anchor="start" x="43045" y="-8109.8" font-family="Arial" font-size="14.00">capabilities</text>
<text text-anchor="start" x="43045" y="-8094.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="43045" y="-8079.8" font-family="Arial" font-size="14.00">last_seen : Optional[datetime]</text>
<text text-anchor="start" x="43045" y="-8064.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="43045" y="-8049.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[list[str]]</text>
<text text-anchor="start" x="43045" y="-8034.8" font-family="Arial" font-size="14.00">slug : str</text>
<text text-anchor="start" x="43045" y="-8019.8" font-family="Arial" font-size="14.00">transport : str</text>
<polyline fill="none" stroke="#44bb99" points="43037,-8012 43293,-8012 "/>
<text text-anchor="start" x="43163" y="-7996.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Gateway&#45;&gt;mcpgateway.common.models.CommonAttributes -->
<g id="edge7" class="edge">
<title>mcpgateway.common.models.Gateway&#45;&gt;mcpgateway.common.models.CommonAttributes</title>
<path fill="none" stroke="gray" d="M43172.09,-8163.04C43175.72,-8207.03 43180.3,-8262.65 43184.78,-8317.05"/>
<polygon fill="none" stroke="gray" points="43181.31,-8317.51 43185.62,-8327.19 43188.28,-8316.94 43181.31,-8317.51"/>
</g>
<!-- mcpgateway.services.notification_service.GatewayCapabilities -->
<g id="node164" class="node">
<title>mcpgateway.services.notification_service.GatewayCapabilities</title>
<polygon fill="white" stroke="#ffaabb" points="60938,-3870.5 60938,-3969.5 61134,-3969.5 61134,-3870.5 60938,-3870.5"/>
<text text-anchor="start" x="60974" y="-3954.3" font-family="Arial" font-size="14.00">GatewayCapabilities</text>
<polyline fill="none" stroke="#ffaabb" points="60938,-3946.5 61134,-3946.5 "/>
<text text-anchor="start" x="60946" y="-3931.3" font-family="Arial" font-size="14.00">prompts_list_changed : bool</text>
<text text-anchor="start" x="60946" y="-3916.3" font-family="Arial" font-size="14.00">resources_list_changed : bool</text>
<text text-anchor="start" x="60946" y="-3901.3" font-family="Arial" font-size="14.00">tools_list_changed : bool</text>
<polyline fill="none" stroke="#ffaabb" points="60938,-3893.5 61134,-3893.5 "/>
<text text-anchor="start" x="61034" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayConfig -->
<g id="node165" class="node">
<title>mcpgateway.services.mcp_client_chat_service.GatewayConfig</title>
<polygon fill="white" stroke="#ffaabb" points="61151.5,-3848 61151.5,-3992 61336.5,-3992 61336.5,-3848 61151.5,-3848"/>
<text text-anchor="start" x="61197" y="-3976.8" font-family="Arial" font-size="14.00">GatewayConfig</text>
<polyline fill="none" stroke="#ffaabb" points="61151.5,-3969 61336.5,-3969 "/>
<text text-anchor="start" x="61159.5" y="-3953.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="61159.5" y="-3938.8" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="61159.5" y="-3923.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="61159.5" y="-3908.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="61159.5" y="-3893.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="61159.5" y="-3878.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="61151.5,-3871 61336.5,-3871 "/>
<text text-anchor="start" x="61242" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayProvider -->
<g id="node174" class="node">
<title>mcpgateway.services.mcp_client_chat_service.GatewayProvider</title>
<polygon fill="white" stroke="#ffaabb" points="61074,-8026.5 61074,-8125.5 61414,-8125.5 61414,-8026.5 61074,-8026.5"/>
<text text-anchor="start" x="61191.5" y="-8110.3" font-family="Arial" font-size="14.00">GatewayProvider</text>
<polyline fill="none" stroke="#ffaabb" points="61074,-8102.5 61414,-8102.5 "/>
<text text-anchor="start" x="61198.5" y="-8087.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="61198.5" y="-8072.3" font-family="Arial" font-size="14.00">llm : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="61074,-8064.5 61414,-8064.5 "/>
<text text-anchor="start" x="61082" y="-8049.3" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[BaseChatModel, Any]</text>
<text text-anchor="start" x="61082" y="-8034.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.GatewayConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.GatewayProvider -->
<g id="edge181" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.GatewayConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.GatewayProvider</title>
<path fill="none" stroke="gray" d="M61244,-3992.23C61244,-4498.31 61244,-7543.55 61244,-8013.98"/>
<polygon fill="none" stroke="gray" points="61244,-8014.2 61248,-8020.2 61244,-8026.2 61240,-8020.2 61244,-8014.2"/>
<text text-anchor="middle" x="61262.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayConnectionError -->
<g id="node166" class="node">
<title>mcpgateway.services.gateway_service.GatewayConnectionError</title>
<polygon fill="white" stroke="#ffaabb" points="62030.5,-8040.6 62030.5,-8111.4 62199.5,-8111.4 62199.5,-8040.6 62030.5,-8040.6"/>
<text text-anchor="start" x="62038.5" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">GatewayConnectionError</text>
<polyline fill="none" stroke="#ffaabb" points="62030.5,-8088.4 62199.5,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="62030.5,-8063.6 62199.5,-8063.6 "/>
<text text-anchor="start" x="62113" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayError -->
<g id="node169" class="node">
<title>mcpgateway.services.gateway_service.GatewayError</title>
<polygon fill="white" stroke="#ffaabb" points="61787.5,-8491.6 61787.5,-8562.4 61888.5,-8562.4 61888.5,-8491.6 61787.5,-8491.6"/>
<text text-anchor="start" x="61795.5" y="-8547.2" font-family="Arial" font-size="14.00" fill="red">GatewayError</text>
<polyline fill="none" stroke="#ffaabb" points="61787.5,-8539.4 61888.5,-8539.4 "/>
<polyline fill="none" stroke="#ffaabb" points="61787.5,-8514.6 61888.5,-8514.6 "/>
<text text-anchor="start" x="61836" y="-8499.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayConnectionError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge91" class="edge">
<title>mcpgateway.services.gateway_service.GatewayConnectionError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M62098.99,-8111.64C62081.26,-8149.18 62051.16,-8210.49 62021,-8261 61972.53,-8342.17 61908.25,-8431.72 61870.2,-8483.17"/>
<polygon fill="none" stroke="gray" points="61867.24,-8481.29 61864.09,-8491.4 61872.86,-8485.46 61867.24,-8481.29"/>
</g>
<!-- mcpgateway.schemas.GatewayCreate -->
<g id="node167" class="node">
<title>mcpgateway.schemas.GatewayCreate</title>
<polygon fill="white" stroke="#77aadd" points="62218,-3653 62218,-4187 62532,-4187 62532,-3653 62218,-3653"/>
<text text-anchor="start" x="62327.5" y="-4171.8" font-family="Arial" font-size="14.00">GatewayCreate</text>
<polyline fill="none" stroke="#77aadd" points="62218,-4164 62532,-4164 "/>
<text text-anchor="start" x="62235" y="-4148.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4133.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4118.8" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="62235" y="-4103.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4088.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4073.8" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="62235" y="-4058.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4043.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4028.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="62235" y="-4013.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3998.8" font-family="Arial" font-size="14.00">ca_certificate : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3983.8" font-family="Arial" font-size="14.00">ca_certificate_sig : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3968.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3953.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="62235" y="-3938.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3923.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="62235" y="-3908.8" font-family="Arial" font-size="14.00">one_time_auth : Optional[bool]</text>
<text text-anchor="start" x="62235" y="-3893.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3878.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="62235" y="-3863.8" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="62235" y="-3848.8" font-family="Arial" font-size="14.00">signing_algorithm : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3833.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="62235" y="-3818.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3803.8" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="62235" y="-3788.8" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="62235" y="-3773.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="62218,-3766 62532,-3766 "/>
<text text-anchor="start" x="62226" y="-3750.8" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="62226" y="-3735.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="62226" y="-3720.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="62226" y="-3705.8" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;GatewayCreate&#39;</text>
<text text-anchor="start" x="62226" y="-3690.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="62226" y="-3675.8" font-family="Arial" font-size="14.00">validate_transport(v: str): str</text>
<text text-anchor="start" x="62226" y="-3660.8" font-family="Arial" font-size="14.00">validate_url(v: str): str</text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayDuplicateConflictError -->
<g id="node168" class="node">
<title>mcpgateway.services.gateway_service.GatewayDuplicateConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="61432,-7996.5 61432,-8155.5 61634,-8155.5 61634,-7996.5 61432,-7996.5"/>
<text text-anchor="start" x="61440" y="-8140.3" font-family="Arial" font-size="14.00" fill="red">GatewayDuplicateConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="61432,-8132.5 61634,-8132.5 "/>
<text text-anchor="start" x="61463.5" y="-8117.3" font-family="Arial" font-size="14.00" fill="red">duplicate_gateway : str</text>
<text text-anchor="start" x="61463.5" y="-8102.3" font-family="Arial" font-size="14.00" fill="red">enabled</text>
<text text-anchor="start" x="61463.5" y="-8087.3" font-family="Arial" font-size="14.00" fill="red">gateway_id</text>
<text text-anchor="start" x="61463.5" y="-8072.3" font-family="Arial" font-size="14.00" fill="red">name</text>
<text text-anchor="start" x="61463.5" y="-8057.3" font-family="Arial" font-size="14.00" fill="red">team_id</text>
<text text-anchor="start" x="61463.5" y="-8042.3" font-family="Arial" font-size="14.00" fill="red">url</text>
<text text-anchor="start" x="61463.5" y="-8027.3" font-family="Arial" font-size="14.00" fill="red">visibility</text>
<polyline fill="none" stroke="#ffaabb" points="61432,-8019.5 61634,-8019.5 "/>
<text text-anchor="start" x="61531" y="-8004.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayDuplicateConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge92" class="edge">
<title>mcpgateway.services.gateway_service.GatewayDuplicateConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M61577.94,-8155.91C61597.27,-8188.84 61620.54,-8227.21 61643,-8261 61696.57,-8341.6 61764.65,-8431.6 61804.57,-8483.24"/>
<polygon fill="none" stroke="gray" points="61801.83,-8485.43 61810.72,-8491.19 61807.37,-8481.14 61801.83,-8485.43"/>
</g>
<!-- mcpgateway.llm_schemas.GatewayModelInfo -->
<g id="node170" class="node">
<title>mcpgateway.llm_schemas.GatewayModelInfo</title>
<polygon fill="white" stroke="#77aadd" points="62550,-3818 62550,-4022 62756,-4022 62756,-3818 62550,-3818"/>
<text text-anchor="start" x="62595.5" y="-4006.8" font-family="Arial" font-size="14.00">GatewayModelInfo</text>
<polyline fill="none" stroke="#77aadd" points="62550,-3999 62756,-3999 "/>
<text text-anchor="start" x="62558" y="-3983.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3968.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="62558" y="-3953.8" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3938.8" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3923.8" font-family="Arial" font-size="14.00">provider_id : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3908.8" font-family="Arial" font-size="14.00">provider_name : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3893.8" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<text text-anchor="start" x="62558" y="-3878.8" font-family="Arial" font-size="14.00">supports_function_calling : bool</text>
<text text-anchor="start" x="62558" y="-3863.8" font-family="Arial" font-size="14.00">supports_streaming : bool</text>
<text text-anchor="start" x="62558" y="-3848.8" font-family="Arial" font-size="14.00">supports_vision : bool</text>
<polyline fill="none" stroke="#77aadd" points="62550,-3841 62756,-3841 "/>
<text text-anchor="start" x="62651" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.GatewayModelsResponse -->
<g id="node171" class="node">
<title>mcpgateway.llm_schemas.GatewayModelsResponse</title>
<polygon fill="white" stroke="#77aadd" points="62774.5,-3878 62774.5,-3962 62989.5,-3962 62989.5,-3878 62774.5,-3878"/>
<text text-anchor="start" x="62802" y="-3946.8" font-family="Arial" font-size="14.00">GatewayModelsResponse</text>
<polyline fill="none" stroke="#77aadd" points="62774.5,-3939 62989.5,-3939 "/>
<text text-anchor="start" x="62782.5" y="-3923.8" font-family="Arial" font-size="14.00">count : int</text>
<text text-anchor="start" x="62782.5" y="-3908.8" font-family="Arial" font-size="14.00">models : List[GatewayModelInfo]</text>
<polyline fill="none" stroke="#77aadd" points="62774.5,-3901 62989.5,-3901 "/>
<text text-anchor="start" x="62880" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNameConflictError -->
<g id="node172" class="node">
<title>mcpgateway.services.gateway_service.GatewayNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="61652,-8026.5 61652,-8125.5 61834,-8125.5 61834,-8026.5 61652,-8026.5"/>
<text text-anchor="start" x="61660" y="-8110.3" font-family="Arial" font-size="14.00" fill="red">GatewayNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="61652,-8102.5 61834,-8102.5 "/>
<text text-anchor="start" x="61666.5" y="-8087.3" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="61666.5" y="-8072.3" font-family="Arial" font-size="14.00" fill="red">gateway_id : Optional[int]</text>
<text text-anchor="start" x="61666.5" y="-8057.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<polyline fill="none" stroke="#ffaabb" points="61652,-8049.5 61834,-8049.5 "/>
<text text-anchor="start" x="61741" y="-8034.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNameConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge93" class="edge">
<title>mcpgateway.services.gateway_service.GatewayNameConflictError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M61753.35,-8125.91C61771.95,-8213.82 61810.75,-8397.23 61828.62,-8481.68"/>
<polygon fill="none" stroke="gray" points="61825.2,-8482.42 61830.7,-8491.48 61832.05,-8480.97 61825.2,-8482.42"/>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNotFoundError -->
<g id="node173" class="node">
<title>mcpgateway.services.gateway_service.GatewayNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="61852,-8040.6 61852,-8111.4 62012,-8111.4 62012,-8040.6 61852,-8040.6"/>
<text text-anchor="start" x="61860" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">GatewayNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="61852,-8088.4 62012,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="61852,-8063.6 62012,-8063.6 "/>
<text text-anchor="start" x="61930" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayNotFoundError&#45;&gt;mcpgateway.services.gateway_service.GatewayError -->
<g id="edge94" class="edge">
<title>mcpgateway.services.gateway_service.GatewayNotFoundError&#45;&gt;mcpgateway.services.gateway_service.GatewayError</title>
<path fill="none" stroke="gray" d="M61924.78,-8111.49C61907.93,-8191.96 61866.03,-8392.09 61847.3,-8481.56"/>
<polygon fill="none" stroke="gray" points="61843.87,-8480.89 61845.24,-8491.4 61850.72,-8482.33 61843.87,-8480.89"/>
</g>
<!-- mcpgateway.schemas.GatewayRead -->
<g id="node175" class="node">
<title>mcpgateway.schemas.GatewayRead</title>
<polygon fill="white" stroke="#77aadd" points="63007.5,-3548 63007.5,-4292 63342.5,-4292 63342.5,-3548 63007.5,-3548"/>
<text text-anchor="start" x="63131.5" y="-4276.8" font-family="Arial" font-size="14.00">GatewayRead</text>
<polyline fill="none" stroke="#77aadd" points="63007.5,-4269 63342.5,-4269 "/>
<text text-anchor="start" x="63015.5" y="-4253.8" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4238.8" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4223.8" font-family="Arial" font-size="14.00">auth_header_value_unmasked : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4208.8" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="63015.5" y="-4193.8" font-family="Arial" font-size="14.00">auth_headers_unmasked : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="63015.5" y="-4178.8" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4163.8" font-family="Arial" font-size="14.00">auth_password_unmasked : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4148.8" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4133.8" font-family="Arial" font-size="14.00">auth_query_param_value_masked : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4118.8" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4103.8" font-family="Arial" font-size="14.00">auth_token_unmasked : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4088.8" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4073.8" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4058.8" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-4043.8" font-family="Arial" font-size="14.00">capabilities : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="63015.5" y="-4028.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="63015.5" y="-4013.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3998.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3983.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3968.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3953.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3938.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="63015.5" y="-3923.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3908.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3893.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3878.8" font-family="Arial" font-size="14.00">last_refresh_at : Optional[datetime]</text>
<text text-anchor="start" x="63015.5" y="-3863.8" font-family="Arial" font-size="14.00">last_seen : Optional[datetime]</text>
<text text-anchor="start" x="63015.5" y="-3848.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3833.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3818.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3803.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3788.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3773.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="63015.5" y="-3758.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3743.8" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="63015.5" y="-3728.8" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="63015.5" y="-3713.8" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="63015.5" y="-3698.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3683.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="63015.5" y="-3668.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3653.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3638.8" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3623.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="63015.5" y="-3608.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="63015.5" y="-3593.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="63015.5" y="-3578.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="63007.5,-3571 63342.5,-3571 "/>
<text text-anchor="start" x="63096.5" y="-3555.8" font-family="Arial" font-size="14.00">masked(): &#39;GatewayRead&#39;</text>
</g>
<!-- mcpgateway.schemas.GatewayRefreshResponse -->
<g id="node176" class="node">
<title>mcpgateway.schemas.GatewayRefreshResponse</title>
<polygon fill="white" stroke="#77aadd" points="63361,-3780.5 63361,-4059.5 63591,-4059.5 63591,-3780.5 63361,-3780.5"/>
<text text-anchor="start" x="63394.5" y="-4044.3" font-family="Arial" font-size="14.00">GatewayRefreshResponse</text>
<polyline fill="none" stroke="#77aadd" points="63361,-4036.5 63591,-4036.5 "/>
<text text-anchor="start" x="63369" y="-4021.3" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="63369" y="-4006.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="63369" y="-3991.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="63369" y="-3976.3" font-family="Arial" font-size="14.00">prompts_added : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3961.3" font-family="Arial" font-size="14.00">prompts_removed : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3946.3" font-family="Arial" font-size="14.00">prompts_updated : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3931.3" font-family="Arial" font-size="14.00">refreshed_at : Optional[datetime]</text>
<text text-anchor="start" x="63369" y="-3916.3" font-family="Arial" font-size="14.00">resources_added : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3901.3" font-family="Arial" font-size="14.00">resources_removed : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3886.3" font-family="Arial" font-size="14.00">resources_updated : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3871.3" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<text text-anchor="start" x="63369" y="-3856.3" font-family="Arial" font-size="14.00">tools_added : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3841.3" font-family="Arial" font-size="14.00">tools_removed : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3826.3" font-family="Arial" font-size="14.00">tools_updated : Optional[int]</text>
<text text-anchor="start" x="63369" y="-3811.3" font-family="Arial" font-size="14.00">validation_errors : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="63361,-3803.5 63591,-3803.5 "/>
<text text-anchor="start" x="63474" y="-3788.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.gateway_service.GatewayService -->
<g id="node177" class="node">
<title>mcpgateway.services.gateway_service.GatewayService</title>
<polygon fill="white" stroke="#ffaabb" points="48165.5,-8312.5 48165.5,-8741.5 49964.5,-8741.5 49964.5,-8312.5 48165.5,-8312.5"/>
<text text-anchor="start" x="49015" y="-8726.3" font-family="Arial" font-size="14.00">GatewayService</text>
<polyline fill="none" stroke="#ffaabb" points="48165.5,-8718.5 49964.5,-8718.5 "/>
<text text-anchor="start" x="49002.5" y="-8703.3" font-family="Arial" font-size="14.00">oauth_manager</text>
<text text-anchor="start" x="49002.5" y="-8688.3" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="49002.5" y="-8673.3" font-family="Arial" font-size="14.00">redis_url : NoneType</text>
<text text-anchor="start" x="49002.5" y="-8658.3" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="49002.5" y="-8643.3" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="48165.5,-8635.5 49964.5,-8635.5 "/>
<text text-anchor="start" x="48173.5" y="-8620.3" font-family="Arial" font-size="14.00">aggregate_capabilities(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="48173.5" y="-8605.3" font-family="Arial" font-size="14.00">check_health_of_gateways(gateways: List[DbGateway], user_email: Optional[str]): bool</text>
<text text-anchor="start" x="48173.5" y="-8590.3" font-family="Arial" font-size="14.00">connect_to_sse_server(server_url: str, authentication: Optional[Dict[str, str]], ca_certificate: Optional[bytes], include_prompts: bool, include_resources: bool, auth_query_params: Optional[Dict[str, str]])</text>
<text text-anchor="start" x="48173.5" y="-8575.3" font-family="Arial" font-size="14.00">connect_to_streamablehttp_server(server_url: str, authentication: Optional[Dict[str, str]], ca_certificate: Optional[bytes], include_prompts: bool, include_resources: bool, auth_query_params: Optional[Dict[str, str]])</text>
<text text-anchor="start" x="48173.5" y="-8560.3" font-family="Arial" font-size="14.00">convert_gateway_to_read(gateway: DbGateway): GatewayRead</text>
<text text-anchor="start" x="48173.5" y="-8545.3" font-family="Arial" font-size="14.00">create_ssl_context(ca_certificate: str): ssl.SSLContext</text>
<text text-anchor="start" x="48173.5" y="-8530.3" font-family="Arial" font-size="14.00">delete_gateway(db: Session, gateway_id: str, user_email: Optional[str]): None</text>
<text text-anchor="start" x="48173.5" y="-8515.3" font-family="Arial" font-size="14.00">fetch_tools_after_oauth(db: Session, gateway_id: str, app_user_email: str): Dict[str, Any]</text>
<text text-anchor="start" x="48173.5" y="-8500.3" font-family="Arial" font-size="14.00">forward_request(gateway_or_db, method: str, params: Optional[Dict[str, Any]], app_user_email: Optional[str]): Any</text>
<text text-anchor="start" x="48173.5" y="-8485.3" font-family="Arial" font-size="14.00">get_first_gateway_by_url(db: Session, url: str, team_id: Optional[str], include_inactive: bool): Optional[GatewayRead]</text>
<text text-anchor="start" x="48173.5" y="-8470.3" font-family="Arial" font-size="14.00">get_gateway(db: Session, gateway_id: str, include_inactive: bool): GatewayRead</text>
<text text-anchor="start" x="48173.5" y="-8455.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="48173.5" y="-8440.3" font-family="Arial" font-size="14.00">list_gateways(db: Session, include_inactive: bool, tags: Optional[List[str]], cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str]): Union[tuple[List[GatewayRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="48173.5" y="-8425.3" font-family="Arial" font-size="14.00">list_gateways_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[GatewayRead]</text>
<text text-anchor="start" x="48173.5" y="-8410.3" font-family="Arial" font-size="14.00">normalize_url(url: str): str</text>
<text text-anchor="start" x="48173.5" y="-8395.3" font-family="Arial" font-size="14.00">refresh_gateway_manually(gateway_id: str, include_resources: bool, include_prompts: bool, user_email: Optional[str], request_headers: Optional[Dict[str, str]]): Dict[str, Any]</text>
<text text-anchor="start" x="48173.5" y="-8380.3" font-family="Arial" font-size="14.00">register_gateway(db: Session, gateway: GatewayCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], initialize_timeout: Optional[float]): GatewayRead</text>
<text text-anchor="start" x="48173.5" y="-8365.3" font-family="Arial" font-size="14.00">set_gateway_state(db: Session, gateway_id: str, activate: bool, reachable: bool, only_update_reachable: bool, user_email: Optional[str]): GatewayRead</text>
<text text-anchor="start" x="48173.5" y="-8350.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="48173.5" y="-8335.3" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="48173.5" y="-8320.3" font-family="Arial" font-size="14.00">update_gateway(db: Session, gateway_id: str, gateway_update: GatewayUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], include_inactive: bool, user_email: Optional[str]): GatewayRead</text>
</g>
<!-- mcpgateway.schemas.GatewayTestRequest -->
<g id="node178" class="node">
<title>mcpgateway.schemas.GatewayTestRequest</title>
<polygon fill="white" stroke="#77aadd" points="63609.5,-3848 63609.5,-3992 63864.5,-3992 63864.5,-3848 63609.5,-3848"/>
<text text-anchor="start" x="63672" y="-3976.8" font-family="Arial" font-size="14.00">GatewayTestRequest</text>
<polyline fill="none" stroke="#77aadd" points="63609.5,-3969 63864.5,-3969 "/>
<text text-anchor="start" x="63617.5" y="-3953.8" font-family="Arial" font-size="14.00">base_url : Optional[AnyHttpUrl]</text>
<text text-anchor="start" x="63617.5" y="-3938.8" font-family="Arial" font-size="14.00">body : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="63617.5" y="-3923.8" font-family="Arial" font-size="14.00">content_type : Optional[str]</text>
<text text-anchor="start" x="63617.5" y="-3908.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="63617.5" y="-3893.8" font-family="Arial" font-size="14.00">method : Optional[str]</text>
<text text-anchor="start" x="63617.5" y="-3878.8" font-family="Arial" font-size="14.00">path : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="63609.5,-3871 63864.5,-3871 "/>
<text text-anchor="start" x="63735" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GatewayTestResponse -->
<g id="node179" class="node">
<title>mcpgateway.schemas.GatewayTestResponse</title>
<polygon fill="white" stroke="#77aadd" points="63882.5,-3870.5 63882.5,-3969.5 64137.5,-3969.5 64137.5,-3870.5 63882.5,-3870.5"/>
<text text-anchor="start" x="63940" y="-3954.3" font-family="Arial" font-size="14.00">GatewayTestResponse</text>
<polyline fill="none" stroke="#77aadd" points="63882.5,-3946.5 64137.5,-3946.5 "/>
<text text-anchor="start" x="63890.5" y="-3931.3" font-family="Arial" font-size="14.00">body : Optional[Union[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="63890.5" y="-3916.3" font-family="Arial" font-size="14.00">latency_ms : Optional[int]</text>
<text text-anchor="start" x="63890.5" y="-3901.3" font-family="Arial" font-size="14.00">status_code : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="63882.5,-3893.5 64137.5,-3893.5 "/>
<text text-anchor="start" x="64008" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GatewayUpdate -->
<g id="node180" class="node">
<title>mcpgateway.schemas.GatewayUpdate</title>
<polygon fill="white" stroke="#77aadd" points="64156,-3690.5 64156,-4149.5 64470,-4149.5 64470,-3690.5 64156,-3690.5"/>
<text text-anchor="start" x="64264" y="-4134.3" font-family="Arial" font-size="14.00">GatewayUpdate</text>
<polyline fill="none" stroke="#77aadd" points="64156,-4126.5 64470,-4126.5 "/>
<text text-anchor="start" x="64173" y="-4111.3" font-family="Arial" font-size="14.00">auth_header_key : Optional[str]</text>
<text text-anchor="start" x="64173" y="-4096.3" font-family="Arial" font-size="14.00">auth_header_value : Optional[str]</text>
<text text-anchor="start" x="64173" y="-4081.3" font-family="Arial" font-size="14.00">auth_headers : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="64173" y="-4066.3" font-family="Arial" font-size="14.00">auth_password : Optional[str]</text>
<text text-anchor="start" x="64173" y="-4051.3" font-family="Arial" font-size="14.00">auth_query_param_key : Optional[str]</text>
<text text-anchor="start" x="64173" y="-4036.3" font-family="Arial" font-size="14.00">auth_query_param_value : Optional[SecretStr]</text>
<text text-anchor="start" x="64173" y="-4021.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="64173" y="-4006.3" font-family="Arial" font-size="14.00">auth_type : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3991.3" font-family="Arial" font-size="14.00">auth_username : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3976.3" font-family="Arial" font-size="14.00">auth_value : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3961.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3946.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3931.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="64173" y="-3916.3" font-family="Arial" font-size="14.00">one_time_auth : Optional[bool]</text>
<text text-anchor="start" x="64173" y="-3901.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3886.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="64173" y="-3871.3" font-family="Arial" font-size="14.00">refresh_interval_seconds : Optional[int]</text>
<text text-anchor="start" x="64173" y="-3856.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="64173" y="-3841.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3826.3" font-family="Arial" font-size="14.00">transport : Optional[str]</text>
<text text-anchor="start" x="64173" y="-3811.3" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="64173" y="-3796.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="64156,-3788.5 64470,-3788.5 "/>
<text text-anchor="start" x="64164" y="-3773.3" font-family="Arial" font-size="14.00">create_auth_value(v, info)</text>
<text text-anchor="start" x="64164" y="-3758.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="64164" y="-3743.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="64164" y="-3728.3" font-family="Arial" font-size="14.00">validate_query_param_auth(): &#39;GatewayUpdate&#39;</text>
<text text-anchor="start" x="64164" y="-3713.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="64164" y="-3698.3" font-family="Arial" font-size="14.00">validate_url(v: str): str</text>
</g>
<!-- mcpgateway.db.GlobalConfig -->
<g id="node181" class="node">
<title>mcpgateway.db.GlobalConfig</title>
<polygon fill="white" stroke="#77aadd" points="4875.5,-3878 4875.5,-3962 5192.5,-3962 5192.5,-3878 4875.5,-3878"/>
<text text-anchor="start" x="4994.5" y="-3946.8" font-family="Arial" font-size="14.00">GlobalConfig</text>
<polyline fill="none" stroke="#77aadd" points="4875.5,-3939 5192.5,-3939 "/>
<text text-anchor="start" x="4883.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="4883.5" y="-3908.8" font-family="Arial" font-size="14.00">passthrough_headers : Mapped[Optional[List[str]]]</text>
<polyline fill="none" stroke="#77aadd" points="4875.5,-3901 5192.5,-3901 "/>
<text text-anchor="start" x="5032" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.GlobalConfig&#45;&gt;mcpgateway.db.Base -->
<g id="edge24" class="edge">
<title>mcpgateway.db.GlobalConfig&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5028.76,-3962.16C4981.24,-4342.92 4639.34,-7250.52 5201,-7840 5343.53,-7989.59 8618.46,-8062.02 9181.85,-8073.4"/>
<polygon fill="none" stroke="gray" points="9181.86,-8076.9 9191.92,-8073.6 9182,-8069.9 9181.86,-8076.9"/>
</g>
<!-- mcpgateway.common.models.GlobalConfig -->
<g id="node182" class="node">
<title>mcpgateway.common.models.GlobalConfig</title>
<polygon fill="white" stroke="#44bb99" points="64488,-3885.5 64488,-3954.5 64748,-3954.5 64748,-3885.5 64488,-3885.5"/>
<text text-anchor="start" x="64578.5" y="-3939.3" font-family="Arial" font-size="14.00">GlobalConfig</text>
<polyline fill="none" stroke="#44bb99" points="64488,-3931.5 64748,-3931.5 "/>
<text text-anchor="start" x="64496" y="-3916.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#44bb99" points="64488,-3908.5 64748,-3908.5 "/>
<text text-anchor="start" x="64616" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.cache.global_config_cache.GlobalConfigCache -->
<g id="node183" class="node">
<title>mcpgateway.cache.global_config_cache.GlobalConfigCache</title>
<polygon fill="white" stroke="#99ddff" points="64766,-3863 64766,-3977 65104,-3977 65104,-3863 64766,-3863"/>
<text text-anchor="start" x="64876" y="-3961.8" font-family="Arial" font-size="14.00">GlobalConfigCache</text>
<polyline fill="none" stroke="#99ddff" points="64766,-3954 65104,-3954 "/>
<text text-anchor="start" x="64888" y="-3938.8" font-family="Arial" font-size="14.00">ttl_seconds : int</text>
<polyline fill="none" stroke="#99ddff" points="64766,-3931 65104,-3931 "/>
<text text-anchor="start" x="64774" y="-3915.8" font-family="Arial" font-size="14.00">get(db)</text>
<text text-anchor="start" x="64774" y="-3900.8" font-family="Arial" font-size="14.00">get_passthrough_headers(db, default: list[str]): list[str]</text>
<text text-anchor="start" x="64774" y="-3885.8" font-family="Arial" font-size="14.00">invalidate(): None</text>
<text text-anchor="start" x="64774" y="-3870.8" font-family="Arial" font-size="14.00">stats(): dict</text>
</g>
<!-- mcpgateway.schemas.GlobalConfigRead -->
<g id="node184" class="node">
<title>mcpgateway.schemas.GlobalConfigRead</title>
<polygon fill="white" stroke="#77aadd" points="65122,-3885.5 65122,-3954.5 65382,-3954.5 65382,-3885.5 65122,-3885.5"/>
<text text-anchor="start" x="65196" y="-3939.3" font-family="Arial" font-size="14.00">GlobalConfigRead</text>
<polyline fill="none" stroke="#77aadd" points="65122,-3931.5 65382,-3931.5 "/>
<text text-anchor="start" x="65130" y="-3916.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="65122,-3908.5 65382,-3908.5 "/>
<text text-anchor="start" x="65250" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GlobalConfigUpdate -->
<g id="node185" class="node">
<title>mcpgateway.schemas.GlobalConfigUpdate</title>
<polygon fill="white" stroke="#77aadd" points="65400,-3885.5 65400,-3954.5 65660,-3954.5 65660,-3885.5 65400,-3885.5"/>
<text text-anchor="start" x="65468.5" y="-3939.3" font-family="Arial" font-size="14.00">GlobalConfigUpdate</text>
<polyline fill="none" stroke="#77aadd" points="65400,-3931.5 65660,-3931.5 "/>
<text text-anchor="start" x="65408" y="-3916.3" font-family="Arial" font-size="14.00">passthrough_headers : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="65400,-3908.5 65660,-3908.5 "/>
<text text-anchor="start" x="65528" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.GlobalContext -->
<g id="node186" class="node">
<title>mcpgateway.plugins.framework.models.GlobalContext</title>
<polygon fill="white" stroke="#ee8866" points="65678,-3848 65678,-3992 65928,-3992 65928,-3848 65678,-3848"/>
<text text-anchor="start" x="65759.5" y="-3976.8" font-family="Arial" font-size="14.00">GlobalContext</text>
<polyline fill="none" stroke="#ee8866" points="65678,-3969 65928,-3969 "/>
<text text-anchor="start" x="65686" y="-3953.8" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="65686" y="-3938.8" font-family="Arial" font-size="14.00">request_id : str</text>
<text text-anchor="start" x="65686" y="-3923.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="65686" y="-3908.8" font-family="Arial" font-size="14.00">state : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="65686" y="-3893.8" font-family="Arial" font-size="14.00">tenant_id : Optional[str]</text>
<text text-anchor="start" x="65686" y="-3878.8" font-family="Arial" font-size="14.00">user : Optional[Union[str, dict[str, Any]]]</text>
<polyline fill="none" stroke="#ee8866" points="65678,-3871 65928,-3871 "/>
<text text-anchor="start" x="65801" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginContext -->
<g id="node364" class="node">
<title>mcpgateway.plugins.framework.models.PluginContext</title>
<polygon fill="white" stroke="#ee8866" points="65686.5,-8004 65686.5,-8148 65919.5,-8148 65919.5,-8004 65686.5,-8004"/>
<text text-anchor="start" x="65760.5" y="-8132.8" font-family="Arial" font-size="14.00">PluginContext</text>
<polyline fill="none" stroke="#ee8866" points="65686.5,-8125 65919.5,-8125 "/>
<text text-anchor="start" x="65703" y="-8109.8" font-family="Arial" font-size="14.00">global_context</text>
<text text-anchor="start" x="65703" y="-8094.8" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="65703" y="-8079.8" font-family="Arial" font-size="14.00">state : Optional[dict[str, Any]]</text>
<polyline fill="none" stroke="#ee8866" points="65686.5,-8072 65919.5,-8072 "/>
<text text-anchor="start" x="65694.5" y="-8056.8" font-family="Arial" font-size="14.00">cleanup(): None</text>
<text text-anchor="start" x="65694.5" y="-8041.8" font-family="Arial" font-size="14.00">get_state(key: str, default: Any): Any</text>
<text text-anchor="start" x="65694.5" y="-8026.8" font-family="Arial" font-size="14.00">is_empty(): bool</text>
<text text-anchor="start" x="65694.5" y="-8011.8" font-family="Arial" font-size="14.00">set_state(key: str, value: Any): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.GlobalContext&#45;&gt;mcpgateway.plugins.framework.models.PluginContext -->
<g id="edge151" class="edge">
<title>mcpgateway.plugins.framework.models.GlobalContext&#45;&gt;mcpgateway.plugins.framework.models.PluginContext</title>
<path fill="none" stroke="gray" d="M65803,-3992.23C65803,-4490.82 65803,-7454.03 65803,-7991.44"/>
<polygon fill="gray" stroke="gray" points="65803,-7991.68 65807,-7997.68 65803,-8003.68 65799,-7997.68 65803,-7991.68"/>
<text text-anchor="middle" x="65847" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">global_context</text>
</g>
<!-- mcpgateway.llm_provider_configs.GoogleVertexAIConfig -->
<g id="node187" class="node">
<title>mcpgateway.llm_provider_configs.GoogleVertexAIConfig</title>
<polygon fill="white" stroke="#77aadd" points="65946,-3863 65946,-3977 66146,-3977 66146,-3863 65946,-3863"/>
<text text-anchor="start" x="65978.5" y="-3961.8" font-family="Arial" font-size="14.00">GoogleVertexAIConfig</text>
<polyline fill="none" stroke="#77aadd" points="65946,-3954 66146,-3954 "/>
<text text-anchor="start" x="65954" y="-3938.8" font-family="Arial" font-size="14.00">credentials_json : Optional[str]</text>
<text text-anchor="start" x="65954" y="-3923.8" font-family="Arial" font-size="14.00">credentials_path : Optional[str]</text>
<text text-anchor="start" x="65954" y="-3908.8" font-family="Arial" font-size="14.00">location : Optional[str]</text>
<text text-anchor="start" x="65954" y="-3893.8" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="65946,-3886 66146,-3886 "/>
<text text-anchor="start" x="66044" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_grpc.GrpcEndpoint -->
<g id="node188" class="node">
<title>mcpgateway.translate_grpc.GrpcEndpoint</title>
<polygon fill="white" stroke="#77aadd" points="66164,-3847.1 66164,-3992.9 66832,-3992.9 66832,-3847.1 66164,-3847.1"/>
<text text-anchor="start" x="66456" y="-3977.7" font-family="Arial" font-size="14.00">GrpcEndpoint</text>
<polyline fill="none" stroke="#77aadd" points="66164,-3969.9 66832,-3969.9 "/>
<polyline fill="none" stroke="#77aadd" points="66164,-3945.1 66832,-3945.1 "/>
<text text-anchor="start" x="66172" y="-3929.9" font-family="Arial" font-size="14.00">close(): None</text>
<text text-anchor="start" x="66172" y="-3914.9" font-family="Arial" font-size="14.00">get_methods(service: str): List[str]</text>
<text text-anchor="start" x="66172" y="-3899.9" font-family="Arial" font-size="14.00">get_services(): List[str]</text>
<text text-anchor="start" x="66172" y="-3884.9" font-family="Arial" font-size="14.00">invoke(service: str, method: str, request_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="66172" y="-3869.9" font-family="Arial" font-size="14.00">invoke_streaming(service: str, method: str, request_data: Dict[str, Any]): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="66172" y="-3854.9" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.db.GrpcService -->
<g id="node189" class="node">
<title>mcpgateway.db.GrpcService</title>
<polygon fill="white" stroke="#77aadd" points="5210.5,-3645.5 5210.5,-4194.5 5495.5,-4194.5 5495.5,-3645.5 5210.5,-3645.5"/>
<text text-anchor="start" x="5315" y="-4179.3" font-family="Arial" font-size="14.00">GrpcService</text>
<polyline fill="none" stroke="#77aadd" points="5210.5,-4171.5 5495.5,-4171.5 "/>
<text text-anchor="start" x="5218.5" y="-4156.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5218.5" y="-4141.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4126.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4111.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4096.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4081.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4066.3" font-family="Arial" font-size="14.00">discovered_services : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="5218.5" y="-4051.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-4036.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-4021.3" font-family="Arial" font-size="14.00">grpc_metadata : Mapped[Dict[str, str]]</text>
<text text-anchor="start" x="5218.5" y="-4006.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3991.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3976.3" font-family="Arial" font-size="14.00">last_reflection : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="5218.5" y="-3961.3" font-family="Arial" font-size="14.00">method_count : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-3946.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3931.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3916.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3901.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3886.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3871.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3856.3" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-3841.3" font-family="Arial" font-size="14.00">reflection_enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-3826.3" font-family="Arial" font-size="14.00">service_count : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-3811.3" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3796.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="5218.5" y="-3781.3" font-family="Arial" font-size="14.00">target : Mapped[str]</text>
<text text-anchor="start" x="5218.5" y="-3766.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3751.3" font-family="Arial" font-size="14.00">tls_cert_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3736.3" font-family="Arial" font-size="14.00">tls_enabled : Mapped[bool]</text>
<text text-anchor="start" x="5218.5" y="-3721.3" font-family="Arial" font-size="14.00">tls_key_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5218.5" y="-3706.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="5218.5" y="-3691.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="5218.5" y="-3676.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="5210.5,-3668.5 5495.5,-3668.5 "/>
<text text-anchor="start" x="5351" y="-3653.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.GrpcService&#45;&gt;mcpgateway.db.Base -->
<g id="edge25" class="edge">
<title>mcpgateway.db.GrpcService&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5343.29,-4194.75C5316.01,-5041.45 5256.02,-7576.73 5505,-7840 5635.86,-7978.37 8642.71,-8059.54 9181.67,-8073"/>
<polygon fill="none" stroke="gray" points="9181.62,-8076.5 9191.7,-8073.25 9181.79,-8069.5 9181.62,-8076.5"/>
</g>
<!-- mcpgateway.services.grpc_service.GrpcService -->
<g id="node190" class="node">
<title>mcpgateway.services.grpc_service.GrpcService</title>
<polygon fill="white" stroke="#ffaabb" points="66850.5,-3824.6 66850.5,-4015.4 67813.5,-4015.4 67813.5,-3824.6 66850.5,-3824.6"/>
<text text-anchor="start" x="67294" y="-4000.2" font-family="Arial" font-size="14.00">GrpcService</text>
<polyline fill="none" stroke="#ffaabb" points="66850.5,-3992.4 67813.5,-3992.4 "/>
<polyline fill="none" stroke="#ffaabb" points="66850.5,-3967.6 67813.5,-3967.6 "/>
<text text-anchor="start" x="66858.5" y="-3952.4" font-family="Arial" font-size="14.00">delete_service(db: Session, service_id: str): None</text>
<text text-anchor="start" x="66858.5" y="-3937.4" font-family="Arial" font-size="14.00">get_service(db: Session, service_id: str, user_email: Optional[str]): GrpcServiceRead</text>
<text text-anchor="start" x="66858.5" y="-3922.4" font-family="Arial" font-size="14.00">get_service_methods(db: Session, service_id: str): List[Dict[str, Any]]</text>
<text text-anchor="start" x="66858.5" y="-3907.4" font-family="Arial" font-size="14.00">invoke_method(db: Session, service_id: str, method_name: str, request_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="66858.5" y="-3892.4" font-family="Arial" font-size="14.00">list_services(db: Session, include_inactive: bool, user_email: Optional[str], team_id: Optional[str]): List[GrpcServiceRead]</text>
<text text-anchor="start" x="66858.5" y="-3877.4" font-family="Arial" font-size="14.00">reflect_service(db: Session, service_id: str): GrpcServiceRead</text>
<text text-anchor="start" x="66858.5" y="-3862.4" font-family="Arial" font-size="14.00">register_service(db: Session, service_data: GrpcServiceCreate, user_email: Optional[str], metadata: Optional[Dict[str, Any]]): GrpcServiceRead</text>
<text text-anchor="start" x="66858.5" y="-3847.4" font-family="Arial" font-size="14.00">set_service_state(db: Session, service_id: str, activate: bool): GrpcServiceRead</text>
<text text-anchor="start" x="66858.5" y="-3832.4" font-family="Arial" font-size="14.00">update_service(db: Session, service_id: str, service_data: GrpcServiceUpdate, user_email: Optional[str], metadata: Optional[Dict[str, Any]]): GrpcServiceRead</text>
</g>
<!-- mcpgateway.schemas.GrpcServiceCreate -->
<g id="node191" class="node">
<title>mcpgateway.schemas.GrpcServiceCreate</title>
<polygon fill="white" stroke="#77aadd" points="67832,-3788 67832,-4052 68146,-4052 68146,-3788 67832,-3788"/>
<text text-anchor="start" x="67931" y="-4036.8" font-family="Arial" font-size="14.00">GrpcServiceCreate</text>
<polyline fill="none" stroke="#77aadd" points="67832,-4029 68146,-4029 "/>
<text text-anchor="start" x="67874.5" y="-4013.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3998.8" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="67874.5" y="-3983.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3968.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3953.8" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="67874.5" y="-3938.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="67874.5" y="-3923.8" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3908.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3893.8" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3878.8" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="67874.5" y="-3863.8" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="67874.5" y="-3848.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="67832,-3841 68146,-3841 "/>
<text text-anchor="start" x="67840" y="-3825.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="67840" y="-3810.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="67840" y="-3795.8" font-family="Arial" font-size="14.00">validate_target(v: str): str</text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="node192" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceError</title>
<polygon fill="white" stroke="#ffaabb" points="68310,-8040.6 68310,-8111.4 68432,-8111.4 68432,-8040.6 68310,-8040.6"/>
<text text-anchor="start" x="68318" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">GrpcServiceError</text>
<polyline fill="none" stroke="#ffaabb" points="68310,-8088.4 68432,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="68310,-8063.6 68432,-8063.6 "/>
<text text-anchor="start" x="68369" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNameConflictError -->
<g id="node193" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="68164.5,-3870.5 68164.5,-3969.5 68367.5,-3969.5 68367.5,-3870.5 68164.5,-3870.5"/>
<text text-anchor="start" x="68172.5" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">GrpcServiceNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="68164.5,-3946.5 68367.5,-3946.5 "/>
<text text-anchor="start" x="68193" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">is_active : bool</text>
<text text-anchor="start" x="68193" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="68193" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">service_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="68164.5,-3893.5 68367.5,-3893.5 "/>
<text text-anchor="start" x="68264" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNameConflictError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="edge96" class="edge">
<title>mcpgateway.services.grpc_service.GrpcServiceNameConflictError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError</title>
<path fill="none" stroke="gray" d="M68267.23,-3969.81C68278.23,-4404.96 68359.31,-7612.33 68369.87,-8030.17"/>
<polygon fill="none" stroke="gray" points="68366.37,-8030.44 68370.12,-8040.35 68373.37,-8030.26 68366.37,-8030.44"/>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNotFoundError -->
<g id="node194" class="node">
<title>mcpgateway.services.grpc_service.GrpcServiceNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="68385.5,-3884.6 68385.5,-3955.4 68566.5,-3955.4 68566.5,-3884.6 68385.5,-3884.6"/>
<text text-anchor="start" x="68393.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">GrpcServiceNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="68385.5,-3932.4 68566.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="68385.5,-3907.6 68566.5,-3907.6 "/>
<text text-anchor="start" x="68474" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.grpc_service.GrpcServiceNotFoundError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError -->
<g id="edge97" class="edge">
<title>mcpgateway.services.grpc_service.GrpcServiceNotFoundError&#45;&gt;mcpgateway.services.grpc_service.GrpcServiceError</title>
<path fill="none" stroke="gray" d="M68475.42,-3955.76C68470.62,-4242.44 68435.98,-6246.54 68380,-7873 68378.14,-7927.06 68375.26,-7989.22 68373.26,-8030.15"/>
<polygon fill="none" stroke="gray" points="68369.75,-8030.18 68372.76,-8040.34 68376.74,-8030.52 68369.75,-8030.18"/>
</g>
<!-- mcpgateway.schemas.GrpcServiceRead -->
<g id="node195" class="node">
<title>mcpgateway.schemas.GrpcServiceRead</title>
<polygon fill="white" stroke="#77aadd" points="68585,-3720.5 68585,-4119.5 68869,-4119.5 68869,-3720.5 68585,-3720.5"/>
<text text-anchor="start" x="68673" y="-4104.3" font-family="Arial" font-size="14.00">GrpcServiceRead</text>
<polyline fill="none" stroke="#77aadd" points="68585,-4096.5 68869,-4096.5 "/>
<text text-anchor="start" x="68593" y="-4081.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="68593" y="-4066.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="68593" y="-4051.3" font-family="Arial" font-size="14.00">discovered_services : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="68593" y="-4036.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="68593" y="-4021.3" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="68593" y="-4006.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3991.3" font-family="Arial" font-size="14.00">last_reflection : Optional[datetime]</text>
<text text-anchor="start" x="68593" y="-3976.3" font-family="Arial" font-size="14.00">method_count : Optional[int]</text>
<text text-anchor="start" x="68593" y="-3961.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="68593" y="-3946.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3931.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3916.3" font-family="Arial" font-size="14.00">reachable : Optional[bool]</text>
<text text-anchor="start" x="68593" y="-3901.3" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="68593" y="-3886.3" font-family="Arial" font-size="14.00">service_count : Optional[int]</text>
<text text-anchor="start" x="68593" y="-3871.3" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3856.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="68593" y="-3841.3" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3826.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3811.3" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3796.3" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="68593" y="-3781.3" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="68593" y="-3766.3" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="68593" y="-3751.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="68585,-3743.5 68869,-3743.5 "/>
<text text-anchor="start" x="68725" y="-3728.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.GrpcServiceUpdate -->
<g id="node196" class="node">
<title>mcpgateway.schemas.GrpcServiceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="68887,-3803 68887,-4037 69201,-4037 69201,-3803 68887,-3803"/>
<text text-anchor="start" x="68984.5" y="-4021.8" font-family="Arial" font-size="14.00">GrpcServiceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="68887,-4014 69201,-4014 "/>
<text text-anchor="start" x="68929.5" y="-3998.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="68929.5" y="-3983.8" font-family="Arial" font-size="14.00">grpc_metadata : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="68929.5" y="-3968.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="68929.5" y="-3953.8" font-family="Arial" font-size="14.00">reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="68929.5" y="-3938.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="68929.5" y="-3923.8" font-family="Arial" font-size="14.00">target : Optional[str]</text>
<text text-anchor="start" x="68929.5" y="-3908.8" font-family="Arial" font-size="14.00">tls_cert_path : Optional[str]</text>
<text text-anchor="start" x="68929.5" y="-3893.8" font-family="Arial" font-size="14.00">tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="68929.5" y="-3878.8" font-family="Arial" font-size="14.00">tls_key_path : Optional[str]</text>
<text text-anchor="start" x="68929.5" y="-3863.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="68887,-3856 69201,-3856 "/>
<text text-anchor="start" x="68895" y="-3840.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="68895" y="-3825.8" font-family="Arial" font-size="14.00">validate_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="68895" y="-3810.8" font-family="Arial" font-size="14.00">validate_target(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.translate_grpc.GrpcToMcpTranslator -->
<g id="node197" class="node">
<title>mcpgateway.translate_grpc.GrpcToMcpTranslator</title>
<polygon fill="white" stroke="#77aadd" points="69219.5,-3869.6 69219.5,-3970.4 69638.5,-3970.4 69638.5,-3869.6 69219.5,-3869.6"/>
<text text-anchor="start" x="69363" y="-3955.2" font-family="Arial" font-size="14.00">GrpcToMcpTranslator</text>
<polyline fill="none" stroke="#77aadd" points="69219.5,-3947.4 69638.5,-3947.4 "/>
<polyline fill="none" stroke="#77aadd" points="69219.5,-3922.6 69638.5,-3922.6 "/>
<text text-anchor="start" x="69227.5" y="-3907.4" font-family="Arial" font-size="14.00">grpc_methods_to_mcp_tools(service_name: str): List[Dict[str, Any]]</text>
<text text-anchor="start" x="69227.5" y="-3892.4" font-family="Arial" font-size="14.00">grpc_service_to_mcp_server(service_name: str): Dict[str, Any]</text>
<text text-anchor="start" x="69227.5" y="-3877.4" font-family="Arial" font-size="14.00">protobuf_to_json_schema(message_descriptor: Any): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.GunicornMetricsSchema -->
<g id="node198" class="node">
<title>mcpgateway.schemas.GunicornMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="69656.5,-3855.5 69656.5,-3984.5 69847.5,-3984.5 69847.5,-3855.5 69656.5,-3855.5"/>
<text text-anchor="start" x="69676.5" y="-3969.3" font-family="Arial" font-size="14.00">GunicornMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="69656.5,-3961.5 69847.5,-3961.5 "/>
<text text-anchor="start" x="69664.5" y="-3946.3" font-family="Arial" font-size="14.00">master_pid : Optional[int]</text>
<text text-anchor="start" x="69664.5" y="-3931.3" font-family="Arial" font-size="14.00">max_requests : Optional[int]</text>
<text text-anchor="start" x="69664.5" y="-3916.3" font-family="Arial" font-size="14.00">workers_active : Optional[int]</text>
<text text-anchor="start" x="69664.5" y="-3901.3" font-family="Arial" font-size="14.00">workers_idle : Optional[int]</text>
<text text-anchor="start" x="69664.5" y="-3886.3" font-family="Arial" font-size="14.00">workers_total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="69656.5,-3878.5 69847.5,-3878.5 "/>
<text text-anchor="start" x="69750" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_header_utils.HeaderMappingError -->
<g id="node199" class="node">
<title>mcpgateway.translate_header_utils.HeaderMappingError</title>
<polygon fill="white" stroke="#77aadd" points="69865.5,-3884.6 69865.5,-3955.4 70008.5,-3955.4 70008.5,-3884.6 69865.5,-3884.6"/>
<text text-anchor="start" x="69873.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">HeaderMappingError</text>
<polyline fill="none" stroke="#77aadd" points="69865.5,-3932.4 70008.5,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="69865.5,-3907.6 70008.5,-3907.6 "/>
<text text-anchor="start" x="69935" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.llm_schemas.HealthStatus -->
<g id="node200" class="node">
<title>mcpgateway.llm_schemas.HealthStatus</title>
<polygon fill="white" stroke="#77aadd" points="70027,-3885.5 70027,-3954.5 70121,-3954.5 70121,-3885.5 70027,-3885.5"/>
<text text-anchor="start" x="70035" y="-3939.3" font-family="Arial" font-size="14.00">HealthStatus</text>
<polyline fill="none" stroke="#77aadd" points="70027,-3931.5 70121,-3931.5 "/>
<text text-anchor="start" x="70056.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="70027,-3908.5 70121,-3908.5 "/>
<text text-anchor="start" x="70072" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.ProviderHealthCheck -->
<g id="node416" class="node">
<title>mcpgateway.llm_schemas.ProviderHealthCheck</title>
<polygon fill="white" stroke="#77aadd" points="69960.5,-7996.5 69960.5,-8155.5 70187.5,-8155.5 70187.5,-7996.5 69960.5,-7996.5"/>
<text text-anchor="start" x="70010" y="-8140.3" font-family="Arial" font-size="14.00">ProviderHealthCheck</text>
<polyline fill="none" stroke="#77aadd" points="69960.5,-8132.5 70187.5,-8132.5 "/>
<text text-anchor="start" x="69968.5" y="-8117.3" font-family="Arial" font-size="14.00">checked_at : datetime</text>
<text text-anchor="start" x="69968.5" y="-8102.3" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="69968.5" y="-8087.3" font-family="Arial" font-size="14.00">provider_id : str</text>
<text text-anchor="start" x="69968.5" y="-8072.3" font-family="Arial" font-size="14.00">provider_name : str</text>
<text text-anchor="start" x="69968.5" y="-8057.3" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="69968.5" y="-8042.3" font-family="Arial" font-size="14.00">response_time_ms : Optional[float]</text>
<text text-anchor="start" x="69968.5" y="-8027.3" font-family="Arial" font-size="14.00">status</text>
<polyline fill="none" stroke="#77aadd" points="69960.5,-8019.5 70187.5,-8019.5 "/>
<text text-anchor="start" x="70072" y="-8004.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.HealthStatus&#45;&gt;mcpgateway.llm_schemas.ProviderHealthCheck -->
<g id="edge146" class="edge">
<title>mcpgateway.llm_schemas.HealthStatus&#45;&gt;mcpgateway.llm_schemas.ProviderHealthCheck</title>
<path fill="none" stroke="gray" d="M70074,-3954.74C70074,-4312.73 70074,-7410.06 70074,-7983.79"/>
<polygon fill="gray" stroke="gray" points="70074,-7984.07 70078,-7990.07 70074,-7996.07 70070,-7990.07 70074,-7984.07"/>
<text text-anchor="middle" x="70092.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">status</text>
</g>
<!-- mcpgateway.plugins.framework.decorator.HookMetadata -->
<g id="node201" class="node">
<title>mcpgateway.plugins.framework.decorator.HookMetadata</title>
<polygon fill="white" stroke="#ee8866" points="70139,-3870.5 70139,-3969.5 70411,-3969.5 70411,-3870.5 70139,-3870.5"/>
<text text-anchor="start" x="70230.5" y="-3954.3" font-family="Arial" font-size="14.00">HookMetadata</text>
<polyline fill="none" stroke="#ee8866" points="70139,-3946.5 70411,-3946.5 "/>
<text text-anchor="start" x="70147" y="-3931.3" font-family="Arial" font-size="14.00">hook_type : str</text>
<text text-anchor="start" x="70147" y="-3916.3" font-family="Arial" font-size="14.00">payload_type : Optional[Type[BaseModel]]</text>
<text text-anchor="start" x="70147" y="-3901.3" font-family="Arial" font-size="14.00">result_type : Optional[Type[BaseModel]]</text>
<polyline fill="none" stroke="#ee8866" points="70139,-3893.5 70411,-3893.5 "/>
<text text-anchor="start" x="70273" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.registry.HookRegistry -->
<g id="node203" class="node">
<title>mcpgateway.plugins.framework.hooks.registry.HookRegistry</title>
<polygon fill="white" stroke="#ee8866" points="70429.5,-3839.6 70429.5,-4000.4 71082.5,-4000.4 71082.5,-3839.6 70429.5,-3839.6"/>
<text text-anchor="start" x="70715" y="-3985.2" font-family="Arial" font-size="14.00">HookRegistry</text>
<polyline fill="none" stroke="#ee8866" points="70429.5,-3977.4 71082.5,-3977.4 "/>
<polyline fill="none" stroke="#ee8866" points="70429.5,-3952.6 71082.5,-3952.6 "/>
<text text-anchor="start" x="70437.5" y="-3937.4" font-family="Arial" font-size="14.00">get_payload_type(hook_type: str): Optional[Type[PluginPayload]]</text>
<text text-anchor="start" x="70437.5" y="-3922.4" font-family="Arial" font-size="14.00">get_registered_hooks(): list[str]</text>
<text text-anchor="start" x="70437.5" y="-3907.4" font-family="Arial" font-size="14.00">get_result_type(hook_type: str): Optional[Type[PluginResult]]</text>
<text text-anchor="start" x="70437.5" y="-3892.4" font-family="Arial" font-size="14.00">is_registered(hook_type: str): bool</text>
<text text-anchor="start" x="70437.5" y="-3877.4" font-family="Arial" font-size="14.00">json_to_payload(hook_type: str, payload: Union[str, dict]): PluginPayload</text>
<text text-anchor="start" x="70437.5" y="-3862.4" font-family="Arial" font-size="14.00">json_to_result(hook_type: str, result: Union[str, dict]): PluginResult</text>
<text text-anchor="start" x="70437.5" y="-3847.4" font-family="Arial" font-size="14.00">register_hook(hook_type: str, payload_class: Type[PluginPayload], result_class: Type[PluginResult]): None</text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.HourlyAggregation -->
<g id="node204" class="node">
<title>mcpgateway.services.metrics_rollup_service.HourlyAggregation</title>
<polygon fill="white" stroke="#ffaabb" points="71100.5,-3795.5 71100.5,-4044.5 71335.5,-4044.5 71335.5,-3795.5 71100.5,-3795.5"/>
<text text-anchor="start" x="71162" y="-4029.3" font-family="Arial" font-size="14.00">HourlyAggregation</text>
<polyline fill="none" stroke="#ffaabb" points="71100.5,-4021.5 71335.5,-4021.5 "/>
<text text-anchor="start" x="71108.5" y="-4006.3" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3991.3" font-family="Arial" font-size="14.00">entity_id : str</text>
<text text-anchor="start" x="71108.5" y="-3976.3" font-family="Arial" font-size="14.00">entity_name : str</text>
<text text-anchor="start" x="71108.5" y="-3961.3" font-family="Arial" font-size="14.00">failure_count : int</text>
<text text-anchor="start" x="71108.5" y="-3946.3" font-family="Arial" font-size="14.00">hour_start : datetime</text>
<text text-anchor="start" x="71108.5" y="-3931.3" font-family="Arial" font-size="14.00">interaction_type : Optional[str]</text>
<text text-anchor="start" x="71108.5" y="-3916.3" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3901.3" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3886.3" font-family="Arial" font-size="14.00">p50_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3871.3" font-family="Arial" font-size="14.00">p95_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3856.3" font-family="Arial" font-size="14.00">p99_response_time : Optional[float]</text>
<text text-anchor="start" x="71108.5" y="-3841.3" font-family="Arial" font-size="14.00">success_count : int</text>
<text text-anchor="start" x="71108.5" y="-3826.3" font-family="Arial" font-size="14.00">total_count : int</text>
<polyline fill="none" stroke="#ffaabb" points="71100.5,-3818.5 71335.5,-3818.5 "/>
<text text-anchor="start" x="71216" y="-3803.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionPayload -->
<g id="node205" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionPayload</title>
<polygon fill="white" stroke="#ee8866" points="71354,-3833 71354,-4007 71578,-4007 71578,-3833 71354,-3833"/>
<text text-anchor="start" x="71362" y="-3991.8" font-family="Arial" font-size="14.00">HttpAuthCheckPermissionPayload</text>
<polyline fill="none" stroke="#ee8866" points="71354,-3984 71578,-3984 "/>
<text text-anchor="start" x="71388" y="-3968.8" font-family="Arial" font-size="14.00">auth_method : str | None</text>
<text text-anchor="start" x="71388" y="-3953.8" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="71388" y="-3938.8" font-family="Arial" font-size="14.00">is_admin : bool</text>
<text text-anchor="start" x="71388" y="-3923.8" font-family="Arial" font-size="14.00">permission : str</text>
<text text-anchor="start" x="71388" y="-3908.8" font-family="Arial" font-size="14.00">resource_type : str | None</text>
<text text-anchor="start" x="71388" y="-3893.8" font-family="Arial" font-size="14.00">team_id : str | None</text>
<text text-anchor="start" x="71388" y="-3878.8" font-family="Arial" font-size="14.00">user_agent : str | None</text>
<text text-anchor="start" x="71388" y="-3863.8" font-family="Arial" font-size="14.00">user_email : str</text>
<polyline fill="none" stroke="#ee8866" points="71354,-3856 71578,-3856 "/>
<text text-anchor="start" x="71464" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionResultPayload -->
<g id="node206" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthCheckPermissionResultPayload</title>
<polygon fill="white" stroke="#ee8866" points="71596,-3878 71596,-3962 71858,-3962 71858,-3878 71596,-3878"/>
<text text-anchor="start" x="71604" y="-3946.8" font-family="Arial" font-size="14.00">HttpAuthCheckPermissionResultPayload</text>
<polyline fill="none" stroke="#ee8866" points="71596,-3939 71858,-3939 "/>
<text text-anchor="start" x="71671" y="-3923.8" font-family="Arial" font-size="14.00">granted : bool</text>
<text text-anchor="start" x="71671" y="-3908.8" font-family="Arial" font-size="14.00">reason : str | None</text>
<polyline fill="none" stroke="#ee8866" points="71596,-3901 71858,-3901 "/>
<text text-anchor="start" x="71725" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.http_auth_middleware.HttpAuthMiddleware -->
<g id="node207" class="node">
<title>mcpgateway.middleware.http_auth_middleware.HttpAuthMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="71876,-3885.5 71876,-3954.5 72136,-3954.5 72136,-3885.5 71876,-3885.5"/>
<text text-anchor="start" x="71944.5" y="-3939.3" font-family="Arial" font-size="14.00">HttpAuthMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="71876,-3931.5 72136,-3931.5 "/>
<text text-anchor="start" x="71884" y="-3916.3" font-family="Arial" font-size="14.00">plugin_manager : PluginManager | None</text>
<polyline fill="none" stroke="#eedd88" points="71876,-3908.5 72136,-3908.5 "/>
<text text-anchor="start" x="71894.5" y="-3893.3" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload -->
<g id="node208" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload</title>
<polygon fill="white" stroke="#ee8866" points="72123.5,-8019 72123.5,-8133 72318.5,-8133 72318.5,-8019 72123.5,-8019"/>
<text text-anchor="start" x="72131.5" y="-8117.8" font-family="Arial" font-size="14.00">HttpAuthResolveUserPayload</text>
<polyline fill="none" stroke="#ee8866" points="72123.5,-8110 72318.5,-8110 "/>
<text text-anchor="start" x="72150" y="-8094.8" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="72150" y="-8079.8" font-family="Arial" font-size="14.00">client_port : int | None</text>
<text text-anchor="start" x="72150" y="-8064.8" font-family="Arial" font-size="14.00">credentials : dict | None</text>
<text text-anchor="start" x="72150" y="-8049.8" font-family="Arial" font-size="14.00">headers</text>
<polyline fill="none" stroke="#ee8866" points="72123.5,-8042 72318.5,-8042 "/>
<text text-anchor="start" x="72219" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload -->
<g id="node209" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload</title>
<polygon fill="white" stroke="#ee8866" points="72154,-3884.6 72154,-3955.4 72288,-3955.4 72288,-3884.6 72154,-3884.6"/>
<text text-anchor="start" x="72162" y="-3940.2" font-family="Arial" font-size="14.00">HttpHeaderPayload</text>
<polyline fill="none" stroke="#ee8866" points="72154,-3932.4 72288,-3932.4 "/>
<polyline fill="none" stroke="#ee8866" points="72154,-3907.6 72288,-3907.6 "/>
<text text-anchor="start" x="72219" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload -->
<g id="edge148" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpAuthResolveUserPayload</title>
<path fill="none" stroke="gray" d="M72221,-3955.66C72221,-4323.1 72221,-7497.98 72221,-8006.44"/>
<polygon fill="gray" stroke="gray" points="72221,-8006.64 72225,-8012.64 72221,-8018.64 72217,-8012.64 72221,-8006.64"/>
<text text-anchor="middle" x="72245.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">headers</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="node212" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<polygon fill="white" stroke="#ee8866" points="72356.5,-8011.5 72356.5,-8140.5 72517.5,-8140.5 72517.5,-8011.5 72356.5,-8011.5"/>
<text text-anchor="start" x="72364.5" y="-8125.3" font-family="Arial" font-size="14.00">HttpPreRequestPayload</text>
<polyline fill="none" stroke="#ee8866" points="72356.5,-8117.5 72517.5,-8117.5 "/>
<text text-anchor="start" x="72369.5" y="-8102.3" font-family="Arial" font-size="14.00">client_host : str | None</text>
<text text-anchor="start" x="72369.5" y="-8087.3" font-family="Arial" font-size="14.00">client_port : int | None</text>
<text text-anchor="start" x="72369.5" y="-8072.3" font-family="Arial" font-size="14.00">headers</text>
<text text-anchor="start" x="72369.5" y="-8057.3" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="72369.5" y="-8042.3" font-family="Arial" font-size="14.00">path : str</text>
<polyline fill="none" stroke="#ee8866" points="72356.5,-8034.5 72517.5,-8034.5 "/>
<text text-anchor="start" x="72435" y="-8019.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="edge149" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpHeaderPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<path fill="none" stroke="gray" d="M72219.24,-3955.54C72202.22,-4295.98 72072.57,-7054.61 72297,-7840 72297.33,-7841.14 72351.79,-7932.42 72392.68,-8000.87"/>
<polygon fill="gray" stroke="gray" points="72392.71,-8000.91 72399.22,-8004.01 72398.87,-8011.21 72392.35,-8008.11 72392.71,-8000.91"/>
<text text-anchor="middle" x="72339.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">headers</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpHookType -->
<g id="node210" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpHookType</title>
<polygon fill="white" stroke="#ee8866" points="72626,-3885.5 72626,-3954.5 72728,-3954.5 72728,-3885.5 72626,-3885.5"/>
<text text-anchor="start" x="72634" y="-3939.3" font-family="Arial" font-size="14.00">HttpHookType</text>
<polyline fill="none" stroke="#ee8866" points="72626,-3931.5 72728,-3931.5 "/>
<text text-anchor="start" x="72659.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="72626,-3908.5 72728,-3908.5 "/>
<text text-anchor="start" x="72675" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload -->
<g id="node211" class="node">
<title>mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload</title>
<polygon fill="white" stroke="#ee8866" points="72306.5,-3878 72306.5,-3962 72607.5,-3962 72607.5,-3878 72306.5,-3878"/>
<text text-anchor="start" x="72381.5" y="-3946.8" font-family="Arial" font-size="14.00">HttpPostRequestPayload</text>
<polyline fill="none" stroke="#ee8866" points="72306.5,-3939 72607.5,-3939 "/>
<text text-anchor="start" x="72314.5" y="-3923.8" font-family="Arial" font-size="14.00">response_headers : HttpHeaderPayload | None</text>
<text text-anchor="start" x="72314.5" y="-3908.8" font-family="Arial" font-size="14.00">status_code : int | None</text>
<polyline fill="none" stroke="#ee8866" points="72306.5,-3901 72607.5,-3901 "/>
<text text-anchor="start" x="72455" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload -->
<g id="edge69" class="edge">
<title>mcpgateway.plugins.framework.hooks.http.HttpPostRequestPayload&#45;&gt;mcpgateway.plugins.framework.hooks.http.HttpPreRequestPayload</title>
<path fill="none" stroke="gray" d="M72456.8,-3962.11C72454.9,-4357.31 72439.87,-7479.72 72437.36,-8001.25"/>
<polygon fill="none" stroke="gray" points="72433.86,-8001.27 72437.31,-8011.29 72440.85,-8001.3 72433.86,-8001.27"/>
</g>
<!-- mcpgateway.llm_provider_configs.HuggingFaceConfig -->
<g id="node213" class="node">
<title>mcpgateway.llm_provider_configs.HuggingFaceConfig</title>
<polygon fill="white" stroke="#77aadd" points="72746,-3870.5 72746,-3969.5 72950,-3969.5 72950,-3870.5 72746,-3870.5"/>
<text text-anchor="start" x="72788" y="-3954.3" font-family="Arial" font-size="14.00">HuggingFaceConfig</text>
<polyline fill="none" stroke="#77aadd" points="72746,-3946.5 72950,-3946.5 "/>
<text text-anchor="start" x="72754" y="-3931.3" font-family="Arial" font-size="14.00">task : Optional[str]</text>
<text text-anchor="start" x="72754" y="-3916.3" font-family="Arial" font-size="14.00">use_cache : Optional[bool]</text>
<text text-anchor="start" x="72754" y="-3901.3" font-family="Arial" font-size="14.00">wait_for_model : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="72746,-3893.5 72950,-3893.5 "/>
<text text-anchor="start" x="72846" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.IBMWatsonXConfig -->
<g id="node214" class="node">
<title>mcpgateway.llm_provider_configs.IBMWatsonXConfig</title>
<polygon fill="white" stroke="#77aadd" points="72968,-3848 72968,-3992 73158,-3992 73158,-3848 72968,-3848"/>
<text text-anchor="start" x="73003.5" y="-3976.8" font-family="Arial" font-size="14.00">IBMWatsonXConfig</text>
<polyline fill="none" stroke="#77aadd" points="72968,-3969 73158,-3969 "/>
<text text-anchor="start" x="72976" y="-3953.8" font-family="Arial" font-size="14.00">deployment_id : Optional[str]</text>
<text text-anchor="start" x="72976" y="-3938.8" font-family="Arial" font-size="14.00">instance_id : Optional[str]</text>
<text text-anchor="start" x="72976" y="-3923.8" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<text text-anchor="start" x="72976" y="-3908.8" font-family="Arial" font-size="14.00">space_id : Optional[str]</text>
<text text-anchor="start" x="72976" y="-3893.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="72976" y="-3878.8" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="72968,-3871 73158,-3871 "/>
<text text-anchor="start" x="73061" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ImageContent -->
<g id="node215" class="node">
<title>mcpgateway.common.models.ImageContent</title>
<polygon fill="white" stroke="#44bb99" points="73176.5,-3855.5 73176.5,-3984.5 73403.5,-3984.5 73403.5,-3855.5 73176.5,-3855.5"/>
<text text-anchor="start" x="73247" y="-3969.3" font-family="Arial" font-size="14.00">ImageContent</text>
<polyline fill="none" stroke="#44bb99" points="73176.5,-3961.5 73403.5,-3961.5 "/>
<text text-anchor="start" x="73184.5" y="-3946.3" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="73184.5" y="-3931.3" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="73184.5" y="-3916.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="73184.5" y="-3901.3" font-family="Arial" font-size="14.00">mime_type : str</text>
<text text-anchor="start" x="73184.5" y="-3886.3" font-family="Arial" font-size="14.00">type : Literal[&#39;image&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="73176.5,-3878.5 73403.5,-3878.5 "/>
<text text-anchor="start" x="73288" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Implementation -->
<g id="node216" class="node">
<title>mcpgateway.common.models.Implementation</title>
<polygon fill="white" stroke="#44bb99" points="73422,-3878 73422,-3962 73532,-3962 73532,-3878 73422,-3878"/>
<text text-anchor="start" x="73430" y="-3946.8" font-family="Arial" font-size="14.00">Implementation</text>
<polyline fill="none" stroke="#44bb99" points="73422,-3939 73532,-3939 "/>
<text text-anchor="start" x="73442" y="-3923.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="73442" y="-3908.8" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#44bb99" points="73422,-3901 73532,-3901 "/>
<text text-anchor="start" x="73475" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportConflictError -->
<g id="node217" class="node">
<title>mcpgateway.services.import_service.ImportConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="73550.5,-3884.6 73550.5,-3955.4 73681.5,-3955.4 73681.5,-3884.6 73550.5,-3884.6"/>
<text text-anchor="start" x="73558.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ImportConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="73550.5,-3932.4 73681.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="73550.5,-3907.6 73681.5,-3907.6 "/>
<text text-anchor="start" x="73614" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportError -->
<g id="node218" class="node">
<title>mcpgateway.services.import_service.ImportError</title>
<polygon fill="white" stroke="#ffaabb" points="73651,-8040.6 73651,-8111.4 73737,-8111.4 73737,-8040.6 73651,-8040.6"/>
<text text-anchor="start" x="73659" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">ImportError</text>
<polyline fill="none" stroke="#ffaabb" points="73651,-8088.4 73737,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="73651,-8063.6 73737,-8063.6 "/>
<text text-anchor="start" x="73692" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportConflictError&#45;&gt;mcpgateway.services.import_service.ImportError -->
<g id="edge98" class="edge">
<title>mcpgateway.services.import_service.ImportConflictError&#45;&gt;mcpgateway.services.import_service.ImportError</title>
<path fill="none" stroke="gray" d="M73616.65,-3955.66C73623.67,-4329.39 73685.22,-7607.55 73693.16,-8030.19"/>
<polygon fill="none" stroke="gray" points="73689.66,-8030.55 73693.35,-8040.48 73696.66,-8030.41 73689.66,-8030.55"/>
</g>
<!-- mcpgateway.services.import_service.ImportService -->
<g id="node219" class="node">
<title>mcpgateway.services.import_service.ImportService</title>
<polygon fill="white" stroke="#ffaabb" points="73861.5,-3788 73861.5,-4052 75160.5,-4052 75160.5,-3788 73861.5,-3788"/>
<text text-anchor="start" x="74468.5" y="-4036.8" font-family="Arial" font-size="14.00">ImportService</text>
<polyline fill="none" stroke="#ffaabb" points="73861.5,-4029 75160.5,-4029 "/>
<text text-anchor="start" x="74396.5" y="-4013.8" font-family="Arial" font-size="14.00">active_imports : Dict[str, ImportStatus]</text>
<text text-anchor="start" x="74396.5" y="-3998.8" font-family="Arial" font-size="14.00">gateway_service</text>
<text text-anchor="start" x="74396.5" y="-3983.8" font-family="Arial" font-size="14.00">prompt_service</text>
<text text-anchor="start" x="74396.5" y="-3968.8" font-family="Arial" font-size="14.00">resource_service</text>
<text text-anchor="start" x="74396.5" y="-3953.8" font-family="Arial" font-size="14.00">root_service</text>
<text text-anchor="start" x="74396.5" y="-3938.8" font-family="Arial" font-size="14.00">server_service</text>
<text text-anchor="start" x="74396.5" y="-3923.8" font-family="Arial" font-size="14.00">tool_service</text>
<polyline fill="none" stroke="#ffaabb" points="73861.5,-3916 75160.5,-3916 "/>
<text text-anchor="start" x="73869.5" y="-3900.8" font-family="Arial" font-size="14.00">cleanup_completed_imports(max_age_hours: int): int</text>
<text text-anchor="start" x="73869.5" y="-3885.8" font-family="Arial" font-size="14.00">get_import_status(import_id: str): Optional[ImportStatus]</text>
<text text-anchor="start" x="73869.5" y="-3870.8" font-family="Arial" font-size="14.00">import_configuration(db: Session, import_data: Dict[str, Any], conflict_strategy: ConflictStrategy, dry_run: bool, rekey_secret: Optional[str], imported_by: str, selected_entities: Optional[Dict[str, List[str]]]): ImportStatus</text>
<text text-anchor="start" x="73869.5" y="-3855.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="73869.5" y="-3840.8" font-family="Arial" font-size="14.00">list_import_statuses(): List[ImportStatus]</text>
<text text-anchor="start" x="73869.5" y="-3825.8" font-family="Arial" font-size="14.00">preview_import(db: Session, import_data: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="73869.5" y="-3810.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="73869.5" y="-3795.8" font-family="Arial" font-size="14.00">validate_import_data(import_data: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.services.import_service.ImportStatus -->
<g id="node220" class="node">
<title>mcpgateway.services.import_service.ImportStatus</title>
<polygon fill="white" stroke="#ffaabb" points="75178.5,-3803 75178.5,-4037 75399.5,-4037 75399.5,-3803 75178.5,-3803"/>
<text text-anchor="start" x="75250" y="-4021.8" font-family="Arial" font-size="14.00">ImportStatus</text>
<polyline fill="none" stroke="#ffaabb" points="75178.5,-4014 75399.5,-4014 "/>
<text text-anchor="start" x="75186.5" y="-3998.8" font-family="Arial" font-size="14.00">completed_at : Optional[datetime]</text>
<text text-anchor="start" x="75186.5" y="-3983.8" font-family="Arial" font-size="14.00">created_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3968.8" font-family="Arial" font-size="14.00">errors : List[str]</text>
<text text-anchor="start" x="75186.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3938.8" font-family="Arial" font-size="14.00">import_id : str</text>
<text text-anchor="start" x="75186.5" y="-3923.8" font-family="Arial" font-size="14.00">processed_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3908.8" font-family="Arial" font-size="14.00">skipped_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3893.8" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="75186.5" y="-3878.8" font-family="Arial" font-size="14.00">status : str</text>
<text text-anchor="start" x="75186.5" y="-3863.8" font-family="Arial" font-size="14.00">total_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3848.8" font-family="Arial" font-size="14.00">updated_entities : int</text>
<text text-anchor="start" x="75186.5" y="-3833.8" font-family="Arial" font-size="14.00">warnings : List[str]</text>
<polyline fill="none" stroke="#ffaabb" points="75178.5,-3826 75399.5,-3826 "/>
<text text-anchor="start" x="75223" y="-3810.8" font-family="Arial" font-size="14.00">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.import_service.ImportValidationError -->
<g id="node221" class="node">
<title>mcpgateway.services.import_service.ImportValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="73700,-3884.6 73700,-3955.4 73844,-3955.4 73844,-3884.6 73700,-3884.6"/>
<text text-anchor="start" x="73708" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ImportValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="73700,-3932.4 73844,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="73700,-3907.6 73844,-3907.6 "/>
<text text-anchor="start" x="73770" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.import_service.ImportValidationError&#45;&gt;mcpgateway.services.import_service.ImportError -->
<g id="edge99" class="edge">
<title>mcpgateway.services.import_service.ImportValidationError&#45;&gt;mcpgateway.services.import_service.ImportError</title>
<path fill="none" stroke="gray" d="M73771.91,-3955.76C73771.04,-4242.49 73763.04,-6246.86 73705,-7873 73703.07,-7927.08 73699.48,-7989.24 73696.92,-8030.16"/>
<polygon fill="none" stroke="gray" points="73693.42,-8030.15 73696.28,-8040.35 73700.4,-8030.59 73693.42,-8030.15"/>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.InMemoryEventStore -->
<g id="node222" class="node">
<title>mcpgateway.transports.streamablehttp_transport.InMemoryEventStore</title>
<polygon fill="white" stroke="#77aadd" points="75417.5,-3863 75417.5,-3977 76026.5,-3977 76026.5,-3863 75417.5,-3863"/>
<text text-anchor="start" x="75657.5" y="-3961.8" font-family="Arial" font-size="14.00">InMemoryEventStore</text>
<polyline fill="none" stroke="#77aadd" points="75417.5,-3954 76026.5,-3954 "/>
<text text-anchor="start" x="75606" y="-3938.8" font-family="Arial" font-size="14.00">event_index : dict[EventId, EventEntry]</text>
<text text-anchor="start" x="75606" y="-3923.8" font-family="Arial" font-size="14.00">max_events_per_stream : int</text>
<text text-anchor="start" x="75606" y="-3908.8" font-family="Arial" font-size="14.00">streams : dict[StreamId, StreamBuffer]</text>
<polyline fill="none" stroke="#77aadd" points="75417.5,-3901 76026.5,-3901 "/>
<text text-anchor="start" x="75425.5" y="-3885.8" font-family="Arial" font-size="14.00">replay_events_after(last_event_id: EventId, send_callback: EventCallback): Union[StreamId, None]</text>
<text text-anchor="start" x="75425.5" y="-3870.8" font-family="Arial" font-size="14.00">store_event(stream_id: StreamId, message: JSONRPCMessage): EventId</text>
</g>
<!-- mcpgateway.common.models.InitializeResult -->
<g id="node224" class="node">
<title>mcpgateway.common.models.InitializeResult</title>
<polygon fill="white" stroke="#44bb99" points="76044.5,-3855.5 76044.5,-3984.5 76307.5,-3984.5 76307.5,-3855.5 76044.5,-3855.5"/>
<text text-anchor="start" x="76132" y="-3969.3" font-family="Arial" font-size="14.00">InitializeResult</text>
<polyline fill="none" stroke="#44bb99" points="76044.5,-3961.5 76307.5,-3961.5 "/>
<text text-anchor="start" x="76052.5" y="-3946.3" font-family="Arial" font-size="14.00">capabilities : Optional[ServerCapabilities]</text>
<text text-anchor="start" x="76052.5" y="-3931.3" font-family="Arial" font-size="14.00">instructions : Optional[str]</text>
<text text-anchor="start" x="76052.5" y="-3916.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="76052.5" y="-3901.3" font-family="Arial" font-size="14.00">protocol_version : Optional[str]</text>
<text text-anchor="start" x="76052.5" y="-3886.3" font-family="Arial" font-size="14.00">server_info : Optional[Implementation]</text>
<polyline fill="none" stroke="#44bb99" points="76044.5,-3878.5 76307.5,-3878.5 "/>
<text text-anchor="start" x="76174" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.tools.models.InstallManifest -->
<g id="node225" class="node">
<title>mcpgateway.plugins.tools.models.InstallManifest</title>
<polygon fill="white" stroke="#ee8866" points="76325.5,-3885.5 76325.5,-3954.5 76574.5,-3954.5 76574.5,-3885.5 76325.5,-3885.5"/>
<text text-anchor="start" x="76406" y="-3939.3" font-family="Arial" font-size="14.00">InstallManifest</text>
<polyline fill="none" stroke="#ee8866" points="76325.5,-3931.5 76574.5,-3931.5 "/>
<text text-anchor="start" x="76333.5" y="-3916.3" font-family="Arial" font-size="14.00">packages : list[InstallManifestPackage]</text>
<polyline fill="none" stroke="#ee8866" points="76325.5,-3908.5 76574.5,-3908.5 "/>
<text text-anchor="start" x="76448" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.tools.models.InstallManifestPackage -->
<g id="node226" class="node">
<title>mcpgateway.plugins.tools.models.InstallManifestPackage</title>
<polygon fill="white" stroke="#ee8866" points="76593,-3870.5 76593,-3969.5 76749,-3969.5 76749,-3870.5 76593,-3870.5"/>
<text text-anchor="start" x="76601" y="-3954.3" font-family="Arial" font-size="14.00">InstallManifestPackage</text>
<polyline fill="none" stroke="#ee8866" points="76593,-3946.5 76749,-3946.5 "/>
<text text-anchor="start" x="76605.5" y="-3931.3" font-family="Arial" font-size="14.00">extras : list[str] | None</text>
<text text-anchor="start" x="76605.5" y="-3916.3" font-family="Arial" font-size="14.00">package : str</text>
<text text-anchor="start" x="76605.5" y="-3901.3" font-family="Arial" font-size="14.00">repository : str</text>
<polyline fill="none" stroke="#ee8866" points="76593,-3893.5 76749,-3893.5 "/>
<text text-anchor="start" x="76669" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.JSONRPCError -->
<g id="node227" class="node">
<title>mcpgateway.common.models.JSONRPCError</title>
<polygon fill="white" stroke="#44bb99" points="76767,-3870.5 76767,-3969.5 76903,-3969.5 76903,-3870.5 76767,-3870.5"/>
<text text-anchor="start" x="76787" y="-3954.3" font-family="Arial" font-size="14.00">JSONRPCError</text>
<polyline fill="none" stroke="#44bb99" points="76767,-3946.5 76903,-3946.5 "/>
<text text-anchor="start" x="76775" y="-3931.3" font-family="Arial" font-size="14.00">code : int</text>
<text text-anchor="start" x="76775" y="-3916.3" font-family="Arial" font-size="14.00">data : Optional[Any]</text>
<text text-anchor="start" x="76775" y="-3901.3" font-family="Arial" font-size="14.00">message : str</text>
<polyline fill="none" stroke="#44bb99" points="76767,-3893.5 76903,-3893.5 "/>
<text text-anchor="start" x="76833" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.validation.jsonrpc.JSONRPCError -->
<g id="node228" class="node">
<title>mcpgateway.validation.jsonrpc.JSONRPCError</title>
<polygon fill="white" stroke="#99ddff" points="76921,-3863 76921,-3977 77149,-3977 77149,-3863 76921,-3863"/>
<text text-anchor="start" x="76987" y="-3961.8" font-family="Arial" font-size="14.00" fill="red">JSONRPCError</text>
<polyline fill="none" stroke="#99ddff" points="76921,-3954 77149,-3954 "/>
<text text-anchor="start" x="76929" y="-3938.8" font-family="Arial" font-size="14.00" fill="red">code : int</text>
<text text-anchor="start" x="76929" y="-3923.8" font-family="Arial" font-size="14.00" fill="red">data : Optional[Any]</text>
<text text-anchor="start" x="76929" y="-3908.8" font-family="Arial" font-size="14.00" fill="red">message : str</text>
<text text-anchor="start" x="76929" y="-3893.8" font-family="Arial" font-size="14.00" fill="red">request_id : Optional[Union[str, int]]</text>
<polyline fill="none" stroke="#99ddff" points="76921,-3886 77149,-3886 "/>
<text text-anchor="start" x="76969" y="-3870.8" font-family="Arial" font-size="14.00" fill="red">to_dict(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.common.models.JSONRPCRequest -->
<g id="node229" class="node">
<title>mcpgateway.common.models.JSONRPCRequest</title>
<polygon fill="white" stroke="#44bb99" points="77167.5,-3863 77167.5,-3977 77374.5,-3977 77374.5,-3863 77167.5,-3863"/>
<text text-anchor="start" x="77213" y="-3961.8" font-family="Arial" font-size="14.00">JSONRPCRequest</text>
<polyline fill="none" stroke="#44bb99" points="77167.5,-3954 77374.5,-3954 "/>
<text text-anchor="start" x="77175.5" y="-3938.8" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="77175.5" y="-3923.8" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="77175.5" y="-3908.8" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="77175.5" y="-3893.8" font-family="Arial" font-size="14.00">params : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#44bb99" points="77167.5,-3886 77374.5,-3886 "/>
<text text-anchor="start" x="77269" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.JSONRPCResponse -->
<g id="node230" class="node">
<title>mcpgateway.common.models.JSONRPCResponse</title>
<polygon fill="white" stroke="#44bb99" points="77393,-3863 77393,-3977 77583,-3977 77583,-3863 77393,-3863"/>
<text text-anchor="start" x="77424.5" y="-3961.8" font-family="Arial" font-size="14.00">JSONRPCResponse</text>
<polyline fill="none" stroke="#44bb99" points="77393,-3954 77583,-3954 "/>
<text text-anchor="start" x="77401" y="-3938.8" font-family="Arial" font-size="14.00">error : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="77401" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="77401" y="-3908.8" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="77401" y="-3893.8" font-family="Arial" font-size="14.00">result : Optional[Any]</text>
<polyline fill="none" stroke="#44bb99" points="77393,-3886 77583,-3886 "/>
<text text-anchor="start" x="77486" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.JsonPathModifier -->
<g id="node231" class="node">
<title>mcpgateway.schemas.JsonPathModifier</title>
<polygon fill="white" stroke="#77aadd" points="77601,-3878 77601,-3962 77807,-3962 77807,-3878 77601,-3878"/>
<text text-anchor="start" x="77651" y="-3946.8" font-family="Arial" font-size="14.00">JsonPathModifier</text>
<polyline fill="none" stroke="#77aadd" points="77601,-3939 77807,-3939 "/>
<text text-anchor="start" x="77609" y="-3923.8" font-family="Arial" font-size="14.00">jsonpath : Optional[str]</text>
<text text-anchor="start" x="77609" y="-3908.8" font-family="Arial" font-size="14.00">mapping : Optional[Dict[str, str]]</text>
<polyline fill="none" stroke="#77aadd" points="77601,-3901 77807,-3901 "/>
<text text-anchor="start" x="77702" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.LLMConfig -->
<g id="node232" class="node">
<title>mcpgateway.services.mcp_client_chat_service.LLMConfig</title>
<polygon fill="white" stroke="#ffaabb" points="77825,-3878 77825,-3962 78823,-3962 78823,-3878 77825,-3878"/>
<text text-anchor="start" x="78290.5" y="-3946.8" font-family="Arial" font-size="14.00">LLMConfig</text>
<polyline fill="none" stroke="#ffaabb" points="77825,-3939 78823,-3939 "/>
<text text-anchor="start" x="77882.5" y="-3923.8" font-family="Arial" font-size="14.00">config : Optional[Union[AzureOpenAIConfig, OpenAIConfig, AnthropicConfig, AWSBedrockConfig, OllamaConfig, WatsonxConfig, GatewayConfig]]</text>
<text text-anchor="start" x="77882.5" y="-3908.8" font-family="Arial" font-size="14.00">provider : Optional[Literal[&#39;azure_openai&#39;, &#39;openai&#39;, &#39;anthropic&#39;, &#39;aws_bedrock&#39;, &#39;ollama&#39;, &#39;watsonx&#39;, &#39;gateway&#39;]]</text>
<polyline fill="none" stroke="#ffaabb" points="77825,-3901 78823,-3901 "/>
<text text-anchor="start" x="77833" y="-3885.8" font-family="Arial" font-size="14.00">validate_config_type(v: Any, info): Union[AzureOpenAIConfig, OpenAIConfig, AnthropicConfig, AWSBedrockConfig, OllamaConfig, WatsonxConfig, GatewayConfig]</text>
</g>
<!-- mcpgateway.db.LLMModel -->
<g id="node233" class="node">
<title>mcpgateway.db.LLMModel</title>
<polygon fill="white" stroke="#77aadd" points="5514,-3765.5 5514,-4074.5 5790,-4074.5 5790,-3765.5 5514,-3765.5"/>
<text text-anchor="start" x="5619.5" y="-4059.3" font-family="Arial" font-size="14.00">LLMModel</text>
<polyline fill="none" stroke="#77aadd" points="5514,-4051.5 5790,-4051.5 "/>
<text text-anchor="start" x="5522" y="-4036.3" font-family="Arial" font-size="14.00">context_window : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5522" y="-4021.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5522" y="-4006.3" font-family="Arial" font-size="14.00">deprecated : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3991.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5522" y="-3976.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-3946.3" font-family="Arial" font-size="14.00">max_output_tokens : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5522" y="-3931.3" font-family="Arial" font-size="14.00">model_alias : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5522" y="-3916.3" font-family="Arial" font-size="14.00">model_id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-3901.3" font-family="Arial" font-size="14.00">model_name : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-3886.3" font-family="Arial" font-size="14.00">provider : Mapped[&#39;LLMProvider&#39;]</text>
<text text-anchor="start" x="5522" y="-3871.3" font-family="Arial" font-size="14.00">provider_id : Mapped[str]</text>
<text text-anchor="start" x="5522" y="-3856.3" font-family="Arial" font-size="14.00">supports_chat : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3841.3" font-family="Arial" font-size="14.00">supports_function_calling : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3826.3" font-family="Arial" font-size="14.00">supports_streaming : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3811.3" font-family="Arial" font-size="14.00">supports_vision : Mapped[bool]</text>
<text text-anchor="start" x="5522" y="-3796.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="5514,-3788.5 5790,-3788.5 "/>
<text text-anchor="start" x="5650" y="-3773.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMModel&#45;&gt;mcpgateway.db.Base -->
<g id="edge26" class="edge">
<title>mcpgateway.db.LLMModel&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5646.09,-4074.68C5621.03,-4765.64 5536.54,-7562.99 5799,-7840 5919.28,-7966.94 8667.98,-8056.82 9181.7,-8072.54"/>
<polygon fill="none" stroke="gray" points="9181.89,-8076.05 9191.99,-8072.86 9182.1,-8069.05 9181.89,-8076.05"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelBase -->
<g id="node234" class="node">
<title>mcpgateway.llm_schemas.LLMModelBase</title>
<polygon fill="white" stroke="#77aadd" points="78793,-7959 78793,-8193 79057,-8193 79057,-7959 78793,-7959"/>
<text text-anchor="start" x="78877" y="-8177.8" font-family="Arial" font-size="14.00">LLMModelBase</text>
<polyline fill="none" stroke="#77aadd" points="78793,-8170 79057,-8170 "/>
<text text-anchor="start" x="78801" y="-8154.8" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="78801" y="-8139.8" font-family="Arial" font-size="14.00">deprecated : Optional[bool]</text>
<text text-anchor="start" x="78801" y="-8124.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="78801" y="-8109.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="78801" y="-8094.8" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="78801" y="-8079.8" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="78801" y="-8064.8" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="78801" y="-8049.8" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="78801" y="-8034.8" font-family="Arial" font-size="14.00">supports_chat : Optional[bool]</text>
<text text-anchor="start" x="78801" y="-8019.8" font-family="Arial" font-size="14.00">supports_function_calling : Optional[bool]</text>
<text text-anchor="start" x="78801" y="-8004.8" font-family="Arial" font-size="14.00">supports_streaming : Optional[bool]</text>
<text text-anchor="start" x="78801" y="-7989.8" font-family="Arial" font-size="14.00">supports_vision : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="78793,-7982 79057,-7982 "/>
<text text-anchor="start" x="78923" y="-7966.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelConflictError -->
<g id="node235" class="node">
<title>mcpgateway.services.llm_provider_service.LLMModelConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="79027,-3884.6 79027,-3955.4 79183,-3955.4 79183,-3884.6 79027,-3884.6"/>
<text text-anchor="start" x="79035" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">LLMModelConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="79027,-3932.4 79183,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="79027,-3907.6 79183,-3907.6 "/>
<text text-anchor="start" x="79103" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="node244" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderError</title>
<polygon fill="white" stroke="#ffaabb" points="79327,-8040.6 79327,-8111.4 79451,-8111.4 79451,-8040.6 79327,-8040.6"/>
<text text-anchor="start" x="79335" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">LLMProviderError</text>
<polyline fill="none" stroke="#ffaabb" points="79327,-8088.4 79451,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="79327,-8063.6 79451,-8063.6 "/>
<text text-anchor="start" x="79387" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge100" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMModelConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M79102.64,-3955.52C79079.76,-4297.13 78904.22,-7075.27 79192,-7840 79221.84,-7919.29 79290.71,-7990.82 79338.55,-8033.59"/>
<polygon fill="none" stroke="gray" points="79336.52,-8036.46 79346.34,-8040.46 79341.16,-8031.22 79336.52,-8036.46"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelCreate -->
<g id="node236" class="node">
<title>mcpgateway.llm_schemas.LLMModelCreate</title>
<polygon fill="white" stroke="#77aadd" points="78841,-3885.5 78841,-3954.5 79009,-3954.5 79009,-3885.5 78841,-3885.5"/>
<text text-anchor="start" x="78872" y="-3939.3" font-family="Arial" font-size="14.00">LLMModelCreate</text>
<polyline fill="none" stroke="#77aadd" points="78841,-3931.5 79009,-3931.5 "/>
<text text-anchor="start" x="78849" y="-3916.3" font-family="Arial" font-size="14.00">provider_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="78841,-3908.5 79009,-3908.5 "/>
<text text-anchor="start" x="78923" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMModelCreate&#45;&gt;mcpgateway.llm_schemas.LLMModelBase -->
<g id="edge65" class="edge">
<title>mcpgateway.llm_schemas.LLMModelCreate&#45;&gt;mcpgateway.llm_schemas.LLMModelBase</title>
<path fill="none" stroke="gray" d="M78925,-3954.74C78925,-4305.96 78925,-7293.85 78925,-7948.55"/>
<polygon fill="none" stroke="gray" points="78921.5,-7948.95 78925,-7958.95 78928.5,-7948.95 78921.5,-7948.95"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelListResponse -->
<g id="node237" class="node">
<title>mcpgateway.llm_schemas.LLMModelListResponse</title>
<polygon fill="white" stroke="#77aadd" points="79815,-3863 79815,-3977 80041,-3977 80041,-3863 79815,-3863"/>
<text text-anchor="start" x="79854.5" y="-3961.8" font-family="Arial" font-size="14.00">LLMModelListResponse</text>
<polyline fill="none" stroke="#77aadd" points="79815,-3954 80041,-3954 "/>
<text text-anchor="start" x="79823" y="-3938.8" font-family="Arial" font-size="14.00">models : List[LLMModelResponse]</text>
<text text-anchor="start" x="79823" y="-3923.8" font-family="Arial" font-size="14.00">page : int</text>
<text text-anchor="start" x="79823" y="-3908.8" font-family="Arial" font-size="14.00">page_size : int</text>
<text text-anchor="start" x="79823" y="-3893.8" font-family="Arial" font-size="14.00">total : int</text>
<polyline fill="none" stroke="#77aadd" points="79815,-3886 80041,-3886 "/>
<text text-anchor="start" x="79926" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelNotFoundError -->
<g id="node238" class="node">
<title>mcpgateway.services.llm_provider_service.LLMModelNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="79201,-3884.6 79201,-3955.4 79371,-3955.4 79371,-3884.6 79201,-3884.6"/>
<text text-anchor="start" x="79209" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">LLMModelNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="79201,-3932.4 79371,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="79201,-3907.6 79371,-3907.6 "/>
<text text-anchor="start" x="79284" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMModelNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge101" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMModelNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M79286.64,-3955.47C79291.94,-4239.73 79329.77,-6226.96 79380,-7840 79382.06,-7906.2 79385.12,-7982.87 79387.09,-8030.16"/>
<polygon fill="none" stroke="gray" points="79383.6,-8030.52 79387.52,-8040.36 79390.6,-8030.23 79383.6,-8030.52"/>
</g>
<!-- mcpgateway.llm_schemas.LLMModelResponse -->
<g id="node239" class="node">
<title>mcpgateway.llm_schemas.LLMModelResponse</title>
<polygon fill="white" stroke="#77aadd" points="80059.5,-3750.5 80059.5,-4089.5 80278.5,-4089.5 80278.5,-3750.5 80059.5,-3750.5"/>
<text text-anchor="start" x="80106" y="-4074.3" font-family="Arial" font-size="14.00">LLMModelResponse</text>
<polyline fill="none" stroke="#77aadd" points="80059.5,-4066.5 80278.5,-4066.5 "/>
<text text-anchor="start" x="80067.5" y="-4051.3" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="80067.5" y="-4036.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="80067.5" y="-4021.3" font-family="Arial" font-size="14.00">deprecated : bool</text>
<text text-anchor="start" x="80067.5" y="-4006.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="80067.5" y="-3991.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="80067.5" y="-3976.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="80067.5" y="-3961.3" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="80067.5" y="-3946.3" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="80067.5" y="-3931.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="80067.5" y="-3916.3" font-family="Arial" font-size="14.00">model_id : str</text>
<text text-anchor="start" x="80067.5" y="-3901.3" font-family="Arial" font-size="14.00">model_name : str</text>
<text text-anchor="start" x="80067.5" y="-3886.3" font-family="Arial" font-size="14.00">provider_id : str</text>
<text text-anchor="start" x="80067.5" y="-3871.3" font-family="Arial" font-size="14.00">provider_name : Optional[str]</text>
<text text-anchor="start" x="80067.5" y="-3856.3" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<text text-anchor="start" x="80067.5" y="-3841.3" font-family="Arial" font-size="14.00">supports_chat : bool</text>
<text text-anchor="start" x="80067.5" y="-3826.3" font-family="Arial" font-size="14.00">supports_function_calling : bool</text>
<text text-anchor="start" x="80067.5" y="-3811.3" font-family="Arial" font-size="14.00">supports_streaming : bool</text>
<text text-anchor="start" x="80067.5" y="-3796.3" font-family="Arial" font-size="14.00">supports_vision : bool</text>
<text text-anchor="start" x="80067.5" y="-3781.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<polyline fill="none" stroke="#77aadd" points="80059.5,-3773.5 80278.5,-3773.5 "/>
<text text-anchor="start" x="80167" y="-3758.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMModelUpdate -->
<g id="node240" class="node">
<title>mcpgateway.llm_schemas.LLMModelUpdate</title>
<polygon fill="white" stroke="#77aadd" points="80297,-3803 80297,-4037 80561,-4037 80561,-3803 80297,-3803"/>
<text text-anchor="start" x="80374.5" y="-4021.8" font-family="Arial" font-size="14.00">LLMModelUpdate</text>
<polyline fill="none" stroke="#77aadd" points="80297,-4014 80561,-4014 "/>
<text text-anchor="start" x="80305" y="-3998.8" font-family="Arial" font-size="14.00">context_window : Optional[int]</text>
<text text-anchor="start" x="80305" y="-3983.8" font-family="Arial" font-size="14.00">deprecated : Optional[bool]</text>
<text text-anchor="start" x="80305" y="-3968.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="80305" y="-3953.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="80305" y="-3938.8" font-family="Arial" font-size="14.00">max_output_tokens : Optional[int]</text>
<text text-anchor="start" x="80305" y="-3923.8" font-family="Arial" font-size="14.00">model_alias : Optional[str]</text>
<text text-anchor="start" x="80305" y="-3908.8" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="80305" y="-3893.8" font-family="Arial" font-size="14.00">model_name : Optional[str]</text>
<text text-anchor="start" x="80305" y="-3878.8" font-family="Arial" font-size="14.00">supports_chat : Optional[bool]</text>
<text text-anchor="start" x="80305" y="-3863.8" font-family="Arial" font-size="14.00">supports_function_calling : Optional[bool]</text>
<text text-anchor="start" x="80305" y="-3848.8" font-family="Arial" font-size="14.00">supports_streaming : Optional[bool]</text>
<text text-anchor="start" x="80305" y="-3833.8" font-family="Arial" font-size="14.00">supports_vision : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="80297,-3826 80561,-3826 "/>
<text text-anchor="start" x="80427" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMProvider -->
<g id="node241" class="node">
<title>mcpgateway.db.LLMProvider</title>
<polygon fill="white" stroke="#77aadd" points="5808,-3735.5 5808,-4104.5 6112,-4104.5 6112,-3735.5 5808,-3735.5"/>
<text text-anchor="start" x="5921" y="-4089.3" font-family="Arial" font-size="14.00">LLMProvider</text>
<polyline fill="none" stroke="#77aadd" points="5808,-4081.5 6112,-4081.5 "/>
<text text-anchor="start" x="5816" y="-4066.3" font-family="Arial" font-size="14.00">api_base : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4051.3" font-family="Arial" font-size="14.00">api_key : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4036.3" font-family="Arial" font-size="14.00">api_version : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-4021.3" font-family="Arial" font-size="14.00">config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="5816" y="-4006.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="5816" y="-3991.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-3976.3" font-family="Arial" font-size="14.00">default_max_tokens : Mapped[Optional[int]]</text>
<text text-anchor="start" x="5816" y="-3961.3" font-family="Arial" font-size="14.00">default_model : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-3946.3" font-family="Arial" font-size="14.00">default_temperature : Mapped[float]</text>
<text text-anchor="start" x="5816" y="-3931.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-3916.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="5816" y="-3901.3" font-family="Arial" font-size="14.00">health_status : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3886.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3871.3" font-family="Arial" font-size="14.00">last_health_check : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="5816" y="-3856.3" font-family="Arial" font-size="14.00">models : Mapped[List[&#39;LLMModel&#39;]]</text>
<text text-anchor="start" x="5816" y="-3841.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="5816" y="-3826.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3811.3" font-family="Arial" font-size="14.00">plugin_ids : Mapped[List[str]]</text>
<text text-anchor="start" x="5816" y="-3796.3" font-family="Arial" font-size="14.00">provider_type : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3781.3" font-family="Arial" font-size="14.00">slug : Mapped[str]</text>
<text text-anchor="start" x="5816" y="-3766.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="5808,-3758.5 6112,-3758.5 "/>
<text text-anchor="start" x="5958" y="-3743.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.LLMProvider&#45;&gt;mcpgateway.db.Base -->
<g id="edge27" class="edge">
<title>mcpgateway.db.LLMProvider&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M5937.75,-4104.8C5857.34,-4804.89 5612.41,-7292.84 6121,-7840 6335.43,-8070.69 8706.42,-8076.51 9181.44,-8075.35"/>
<polygon fill="none" stroke="gray" points="9181.65,-8078.85 9191.64,-8075.32 9181.63,-8071.85 9181.65,-8078.85"/>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderBase -->
<g id="node242" class="node">
<title>mcpgateway.llm_schemas.LLMProviderBase</title>
<polygon fill="white" stroke="#77aadd" points="80497.5,-7966.5 80497.5,-8185.5 80808.5,-8185.5 80808.5,-7966.5 80497.5,-7966.5"/>
<text text-anchor="start" x="80598.5" y="-8170.3" font-family="Arial" font-size="14.00">LLMProviderBase</text>
<polyline fill="none" stroke="#77aadd" points="80497.5,-8162.5 80808.5,-8162.5 "/>
<text text-anchor="start" x="80505.5" y="-8147.3" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="80505.5" y="-8132.3" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="80505.5" y="-8117.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="80505.5" y="-8102.3" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="80505.5" y="-8087.3" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="80505.5" y="-8072.3" font-family="Arial" font-size="14.00">default_temperature : Optional[float]</text>
<text text-anchor="start" x="80505.5" y="-8057.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="80505.5" y="-8042.3" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="80505.5" y="-8027.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="80505.5" y="-8012.3" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="80505.5" y="-7997.3" font-family="Arial" font-size="14.00">provider_type : Optional[LLMProviderTypeEnum]</text>
<polyline fill="none" stroke="#77aadd" points="80497.5,-7989.5 80808.5,-7989.5 "/>
<text text-anchor="start" x="80555" y="-7974.3" font-family="Arial" font-size="14.00">validate_provider_config(): None</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderCreate -->
<g id="node243" class="node">
<title>mcpgateway.llm_schemas.LLMProviderCreate</title>
<polygon fill="white" stroke="#77aadd" points="80579,-3885.5 80579,-3954.5 80727,-3954.5 80727,-3885.5 80579,-3885.5"/>
<text text-anchor="start" x="80594" y="-3939.3" font-family="Arial" font-size="14.00">LLMProviderCreate</text>
<polyline fill="none" stroke="#77aadd" points="80579,-3931.5 80727,-3931.5 "/>
<text text-anchor="start" x="80587" y="-3916.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="80579,-3908.5 80727,-3908.5 "/>
<text text-anchor="start" x="80651" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderCreate&#45;&gt;mcpgateway.llm_schemas.LLMProviderBase -->
<g id="edge66" class="edge">
<title>mcpgateway.llm_schemas.LLMProviderCreate&#45;&gt;mcpgateway.llm_schemas.LLMProviderBase</title>
<path fill="none" stroke="gray" d="M80653,-3954.74C80653,-4307.35 80653,-7317.54 80653,-7956.22"/>
<polygon fill="none" stroke="gray" points="80649.5,-7956.35 80653,-7966.35 80656.5,-7956.35 80649.5,-7956.35"/>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.LLMProviderFactory -->
<g id="node245" class="node">
<title>mcpgateway.services.mcp_client_chat_service.LLMProviderFactory</title>
<polygon fill="white" stroke="#ffaabb" points="80745,-3884.6 80745,-3955.4 81801,-3955.4 81801,-3884.6 80745,-3884.6"/>
<text text-anchor="start" x="81211.5" y="-3940.2" font-family="Arial" font-size="14.00">LLMProviderFactory</text>
<polyline fill="none" stroke="#ffaabb" points="80745,-3932.4 81801,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="80745,-3907.6 81801,-3907.6 "/>
<text text-anchor="start" x="80753" y="-3892.4" font-family="Arial" font-size="14.00">create(llm_config: LLMConfig): Union[AzureOpenAIProvider, OpenAIProvider, AnthropicProvider, AWSBedrockProvider, OllamaProvider, WatsonxProvider, GatewayProvider]</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderListResponse -->
<g id="node246" class="node">
<title>mcpgateway.llm_schemas.LLMProviderListResponse</title>
<polygon fill="white" stroke="#77aadd" points="81819,-3863 81819,-3977 82069,-3977 82069,-3863 81819,-3863"/>
<text text-anchor="start" x="81864" y="-3961.8" font-family="Arial" font-size="14.00">LLMProviderListResponse</text>
<polyline fill="none" stroke="#77aadd" points="81819,-3954 82069,-3954 "/>
<text text-anchor="start" x="81827" y="-3938.8" font-family="Arial" font-size="14.00">page : int</text>
<text text-anchor="start" x="81827" y="-3923.8" font-family="Arial" font-size="14.00">page_size : int</text>
<text text-anchor="start" x="81827" y="-3908.8" font-family="Arial" font-size="14.00">providers : List[LLMProviderResponse]</text>
<text text-anchor="start" x="81827" y="-3893.8" font-family="Arial" font-size="14.00">total : int</text>
<polyline fill="none" stroke="#77aadd" points="81819,-3886 82069,-3886 "/>
<text text-anchor="start" x="81942" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNameConflictError -->
<g id="node247" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="79389,-3878 79389,-3962 79595,-3962 79595,-3878 79389,-3878"/>
<text text-anchor="start" x="79397" y="-3946.8" font-family="Arial" font-size="14.00" fill="red">LLMProviderNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="79389,-3939 79595,-3939 "/>
<text text-anchor="start" x="79416" y="-3923.8" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="79416" y="-3908.8" font-family="Arial" font-size="14.00" fill="red">provider_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="79389,-3901 79595,-3901 "/>
<text text-anchor="start" x="79490" y="-3885.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNameConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge102" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMProviderNameConflictError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M79491.07,-3962.38C79484.06,-4271.94 79438.8,-6258.17 79395,-7873 79393.53,-7927.04 79391.66,-7989.21 79390.4,-8030.14"/>
<polygon fill="none" stroke="gray" points="79386.89,-8030.23 79390.08,-8040.33 79393.89,-8030.44 79386.89,-8030.23"/>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNotFoundError -->
<g id="node248" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="79613.5,-3884.6 79613.5,-3955.4 79796.5,-3955.4 79796.5,-3884.6 79613.5,-3884.6"/>
<text text-anchor="start" x="79621.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">LLMProviderNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="79613.5,-3932.4 79796.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="79613.5,-3907.6 79796.5,-3907.6 "/>
<text text-anchor="start" x="79703" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError -->
<g id="edge103" class="edge">
<title>mcpgateway.services.llm_provider_service.LLMProviderNotFoundError&#45;&gt;mcpgateway.services.llm_provider_service.LLMProviderError</title>
<path fill="none" stroke="gray" d="M79707.41,-3955.6C79730.77,-4297.99 79909.66,-7082.16 79604,-7840 79571.14,-7921.46 79496.28,-7992.31 79444.2,-8034.35"/>
<polygon fill="none" stroke="gray" points="79442,-8031.62 79436.36,-8040.59 79446.37,-8037.1 79442,-8031.62"/>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderResponse -->
<g id="node249" class="node">
<title>mcpgateway.llm_schemas.LLMProviderResponse</title>
<polygon fill="white" stroke="#77aadd" points="82087.5,-3735.5 82087.5,-4104.5 82334.5,-4104.5 82334.5,-3735.5 82087.5,-3735.5"/>
<text text-anchor="start" x="82141.5" y="-4089.3" font-family="Arial" font-size="14.00">LLMProviderResponse</text>
<polyline fill="none" stroke="#77aadd" points="82087.5,-4081.5 82334.5,-4081.5 "/>
<text text-anchor="start" x="82095.5" y="-4066.3" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-4051.3" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-4036.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="82095.5" y="-4021.3" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="82095.5" y="-4006.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-3991.3" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="82095.5" y="-3976.3" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-3961.3" font-family="Arial" font-size="14.00">default_temperature : float</text>
<text text-anchor="start" x="82095.5" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-3931.3" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="82095.5" y="-3916.3" font-family="Arial" font-size="14.00">health_status : str</text>
<text text-anchor="start" x="82095.5" y="-3901.3" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="82095.5" y="-3886.3" font-family="Arial" font-size="14.00">last_health_check : Optional[datetime]</text>
<text text-anchor="start" x="82095.5" y="-3871.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="82095.5" y="-3856.3" font-family="Arial" font-size="14.00">model_count : Optional[int]</text>
<text text-anchor="start" x="82095.5" y="-3841.3" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="82095.5" y="-3826.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="82095.5" y="-3811.3" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="82095.5" y="-3796.3" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="82095.5" y="-3781.3" font-family="Arial" font-size="14.00">slug : str</text>
<text text-anchor="start" x="82095.5" y="-3766.3" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<polyline fill="none" stroke="#77aadd" points="82087.5,-3758.5 82334.5,-3758.5 "/>
<text text-anchor="start" x="82209" y="-3743.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_provider_service.LLMProviderService -->
<g id="node250" class="node">
<title>mcpgateway.services.llm_provider_service.LLMProviderService</title>
<polygon fill="white" stroke="#ffaabb" points="82352.5,-3749.6 82352.5,-4090.4 83107.5,-4090.4 83107.5,-3749.6 82352.5,-3749.6"/>
<text text-anchor="start" x="82668.5" y="-4075.2" font-family="Arial" font-size="14.00">LLMProviderService</text>
<polyline fill="none" stroke="#ffaabb" points="82352.5,-4067.4 83107.5,-4067.4 "/>
<polyline fill="none" stroke="#ffaabb" points="82352.5,-4042.6 83107.5,-4042.6 "/>
<text text-anchor="start" x="82360.5" y="-4027.4" font-family="Arial" font-size="14.00">check_provider_health(db: Session, provider_id: str): ProviderHealthCheck</text>
<text text-anchor="start" x="82360.5" y="-4012.4" font-family="Arial" font-size="14.00">create_model(db: Session, model_data: LLMModelCreate): LLMModel</text>
<text text-anchor="start" x="82360.5" y="-3997.4" font-family="Arial" font-size="14.00">create_provider(db: Session, provider_data: LLMProviderCreate, created_by: Optional[str]): LLMProvider</text>
<text text-anchor="start" x="82360.5" y="-3982.4" font-family="Arial" font-size="14.00">delete_model(db: Session, model_id: str): bool</text>
<text text-anchor="start" x="82360.5" y="-3967.4" font-family="Arial" font-size="14.00">delete_provider(db: Session, provider_id: str): bool</text>
<text text-anchor="start" x="82360.5" y="-3952.4" font-family="Arial" font-size="14.00">get_gateway_models(db: Session): List[GatewayModelInfo]</text>
<text text-anchor="start" x="82360.5" y="-3937.4" font-family="Arial" font-size="14.00">get_model(db: Session, model_id: str): LLMModel</text>
<text text-anchor="start" x="82360.5" y="-3922.4" font-family="Arial" font-size="14.00">get_provider(db: Session, provider_id: str): LLMProvider</text>
<text text-anchor="start" x="82360.5" y="-3907.4" font-family="Arial" font-size="14.00">get_provider_by_slug(db: Session, slug: str): LLMProvider</text>
<text text-anchor="start" x="82360.5" y="-3892.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="82360.5" y="-3877.4" font-family="Arial" font-size="14.00">list_models(db: Session, provider_id: Optional[str], enabled_only: bool, page: int, page_size: int): Tuple[List[LLMModel], int]</text>
<text text-anchor="start" x="82360.5" y="-3862.4" font-family="Arial" font-size="14.00">list_providers(db: Session, enabled_only: bool, page: int, page_size: int): Tuple[List[LLMProvider], int]</text>
<text text-anchor="start" x="82360.5" y="-3847.4" font-family="Arial" font-size="14.00">set_model_state(db: Session, model_id: str, activate: Optional[bool]): LLMModel</text>
<text text-anchor="start" x="82360.5" y="-3832.4" font-family="Arial" font-size="14.00">set_provider_state(db: Session, provider_id: str, activate: Optional[bool]): LLMProvider</text>
<text text-anchor="start" x="82360.5" y="-3817.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="82360.5" y="-3802.4" font-family="Arial" font-size="14.00">to_model_response(model: LLMModel, provider: Optional[LLMProvider]): LLMModelResponse</text>
<text text-anchor="start" x="82360.5" y="-3787.4" font-family="Arial" font-size="14.00">to_provider_response(provider: LLMProvider, model_count: int): LLMProviderResponse</text>
<text text-anchor="start" x="82360.5" y="-3772.4" font-family="Arial" font-size="14.00">update_model(db: Session, model_id: str, model_data: LLMModelUpdate): LLMModel</text>
<text text-anchor="start" x="82360.5" y="-3757.4" font-family="Arial" font-size="14.00">update_provider(db: Session, provider_id: str, provider_data: LLMProviderUpdate, modified_by: Optional[str]): LLMProvider</text>
</g>
<!-- mcpgateway.db.LLMProviderType -->
<g id="node251" class="node">
<title>mcpgateway.db.LLMProviderType</title>
<polygon fill="white" stroke="#77aadd" points="83126,-3795.5 83126,-4044.5 83416,-4044.5 83416,-3795.5 83126,-3795.5"/>
<text text-anchor="start" x="83217.5" y="-4029.3" font-family="Arial" font-size="14.00">LLMProviderType</text>
<polyline fill="none" stroke="#77aadd" points="83126,-4021.5 83416,-4021.5 "/>
<text text-anchor="start" x="83184.5" y="-4006.3" font-family="Arial" font-size="14.00">ANTHROPIC : str</text>
<text text-anchor="start" x="83184.5" y="-3991.3" font-family="Arial" font-size="14.00">AZURE_OPENAI : str</text>
<text text-anchor="start" x="83184.5" y="-3976.3" font-family="Arial" font-size="14.00">BEDROCK : str</text>
<text text-anchor="start" x="83184.5" y="-3961.3" font-family="Arial" font-size="14.00">COHERE : str</text>
<text text-anchor="start" x="83184.5" y="-3946.3" font-family="Arial" font-size="14.00">GOOGLE_VERTEX : str</text>
<text text-anchor="start" x="83184.5" y="-3931.3" font-family="Arial" font-size="14.00">GROQ : str</text>
<text text-anchor="start" x="83184.5" y="-3916.3" font-family="Arial" font-size="14.00">MISTRAL : str</text>
<text text-anchor="start" x="83184.5" y="-3901.3" font-family="Arial" font-size="14.00">OLLAMA : str</text>
<text text-anchor="start" x="83184.5" y="-3886.3" font-family="Arial" font-size="14.00">OPENAI : str</text>
<text text-anchor="start" x="83184.5" y="-3871.3" font-family="Arial" font-size="14.00">OPENAI_COMPATIBLE : str</text>
<text text-anchor="start" x="83184.5" y="-3856.3" font-family="Arial" font-size="14.00">TOGETHER : str</text>
<text text-anchor="start" x="83184.5" y="-3841.3" font-family="Arial" font-size="14.00">WATSONX : str</text>
<polyline fill="none" stroke="#77aadd" points="83126,-3833.5 83416,-3833.5 "/>
<text text-anchor="start" x="83134" y="-3818.3" font-family="Arial" font-size="14.00">get_all_types(): List[str]</text>
<text text-anchor="start" x="83134" y="-3803.3" font-family="Arial" font-size="14.00">get_provider_defaults(): Dict[str, Dict[str, Any]]</text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderTypeEnum -->
<g id="node252" class="node">
<title>mcpgateway.llm_schemas.LLMProviderTypeEnum</title>
<polygon fill="white" stroke="#77aadd" points="83434.5,-3885.5 83434.5,-3954.5 83593.5,-3954.5 83593.5,-3885.5 83434.5,-3885.5"/>
<text text-anchor="start" x="83442.5" y="-3939.3" font-family="Arial" font-size="14.00">LLMProviderTypeEnum</text>
<polyline fill="none" stroke="#77aadd" points="83434.5,-3931.5 83593.5,-3931.5 "/>
<text text-anchor="start" x="83496.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="83434.5,-3908.5 83593.5,-3908.5 "/>
<text text-anchor="start" x="83512" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.LLMProviderUpdate -->
<g id="node253" class="node">
<title>mcpgateway.llm_schemas.LLMProviderUpdate</title>
<polygon fill="white" stroke="#77aadd" points="83611.5,-3803 83611.5,-4037 83922.5,-4037 83922.5,-3803 83611.5,-3803"/>
<text text-anchor="start" x="83706.5" y="-4021.8" font-family="Arial" font-size="14.00">LLMProviderUpdate</text>
<polyline fill="none" stroke="#77aadd" points="83611.5,-4014 83922.5,-4014 "/>
<text text-anchor="start" x="83619.5" y="-3998.8" font-family="Arial" font-size="14.00">api_base : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3983.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3968.8" font-family="Arial" font-size="14.00">api_version : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3953.8" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="83619.5" y="-3938.8" font-family="Arial" font-size="14.00">default_max_tokens : Optional[int]</text>
<text text-anchor="start" x="83619.5" y="-3923.8" font-family="Arial" font-size="14.00">default_model : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3908.8" font-family="Arial" font-size="14.00">default_temperature : Optional[float]</text>
<text text-anchor="start" x="83619.5" y="-3893.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3878.8" font-family="Arial" font-size="14.00">enabled : Optional[bool]</text>
<text text-anchor="start" x="83619.5" y="-3863.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="83619.5" y="-3848.8" font-family="Arial" font-size="14.00">plugin_ids : Optional[List[str]]</text>
<text text-anchor="start" x="83619.5" y="-3833.8" font-family="Arial" font-size="14.00">provider_type : Optional[LLMProviderTypeEnum]</text>
<polyline fill="none" stroke="#77aadd" points="83611.5,-3826 83922.5,-3826 "/>
<text text-anchor="start" x="83765" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyAuthError -->
<g id="node254" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyAuthError</title>
<polygon fill="white" stroke="#ffaabb" points="83941,-3884.6 83941,-3955.4 84077,-3955.4 84077,-3884.6 83941,-3884.6"/>
<text text-anchor="start" x="83949" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">LLMProxyAuthError</text>
<polyline fill="none" stroke="#ffaabb" points="83941,-3932.4 84077,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="83941,-3907.6 84077,-3907.6 "/>
<text text-anchor="start" x="84007" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="node255" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<polygon fill="white" stroke="#ffaabb" points="84037,-8040.6 84037,-8111.4 84145,-8111.4 84145,-8040.6 84037,-8040.6"/>
<text text-anchor="start" x="84045" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">LLMProxyError</text>
<polyline fill="none" stroke="#ffaabb" points="84037,-8088.4 84145,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="84037,-8063.6 84145,-8063.6 "/>
<text text-anchor="start" x="84089" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyAuthError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="edge104" class="edge">
<title>mcpgateway.services.llm_proxy_service.LLMProxyAuthError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<path fill="none" stroke="gray" d="M84009.66,-3955.46C84015.07,-4239.69 84052.99,-6226.67 84086,-7840 84087.35,-7906.19 84089,-7982.86 84090.02,-8030.15"/>
<polygon fill="none" stroke="gray" points="84086.53,-8030.44 84090.25,-8040.36 84093.53,-8030.29 84086.53,-8030.44"/>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyRequestError -->
<g id="node256" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyRequestError</title>
<polygon fill="white" stroke="#ffaabb" points="84095,-3884.6 84095,-3955.4 84253,-3955.4 84253,-3884.6 84095,-3884.6"/>
<text text-anchor="start" x="84103" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">LLMProxyRequestError</text>
<polyline fill="none" stroke="#ffaabb" points="84095,-3932.4 84253,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="84095,-3907.6 84253,-3907.6 "/>
<text text-anchor="start" x="84172" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyRequestError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError -->
<g id="edge105" class="edge">
<title>mcpgateway.services.llm_proxy_service.LLMProxyRequestError&#45;&gt;mcpgateway.services.llm_proxy_service.LLMProxyError</title>
<path fill="none" stroke="gray" d="M84173.77,-3955.76C84171.78,-4242.47 84156.26,-6246.72 84101,-7873 84099.16,-7927.07 84095.91,-7989.23 84093.62,-8030.16"/>
<polygon fill="none" stroke="gray" points="84090.11,-8030.16 84093.04,-8040.34 84097.1,-8030.56 84090.11,-8030.16"/>
</g>
<!-- mcpgateway.services.llm_proxy_service.LLMProxyService -->
<g id="node257" class="node">
<title>mcpgateway.services.llm_proxy_service.LLMProxyService</title>
<polygon fill="white" stroke="#ffaabb" points="84271.5,-3862.1 84271.5,-3977.9 84890.5,-3977.9 84890.5,-3862.1 84271.5,-3862.1"/>
<text text-anchor="start" x="84527.5" y="-3962.7" font-family="Arial" font-size="14.00">LLMProxyService</text>
<polyline fill="none" stroke="#ffaabb" points="84271.5,-3954.9 84890.5,-3954.9 "/>
<polyline fill="none" stroke="#ffaabb" points="84271.5,-3930.1 84890.5,-3930.1 "/>
<text text-anchor="start" x="84279.5" y="-3914.9" font-family="Arial" font-size="14.00">chat_completion(db: Session, request: ChatCompletionRequest): ChatCompletionResponse</text>
<text text-anchor="start" x="84279.5" y="-3899.9" font-family="Arial" font-size="14.00">chat_completion_stream(db: Session, request: ChatCompletionRequest): AsyncGenerator[str, None]</text>
<text text-anchor="start" x="84279.5" y="-3884.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="84279.5" y="-3869.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.config.LazySettingsWrapper -->
<g id="node258" class="node">
<title>mcpgateway.config.LazySettingsWrapper</title>
<polygon fill="white" stroke="#77aadd" points="84908.5,-3885.5 84908.5,-3954.5 85065.5,-3954.5 85065.5,-3885.5 84908.5,-3885.5"/>
<text text-anchor="start" x="84922" y="-3939.3" font-family="Arial" font-size="14.00">LazySettingsWrapper</text>
<polyline fill="none" stroke="#77aadd" points="84908.5,-3931.5 85065.5,-3931.5 "/>
<text text-anchor="start" x="84916.5" y="-3916.3" font-family="Arial" font-size="14.00">auth_encryption_secret</text>
<polyline fill="none" stroke="#77aadd" points="84908.5,-3908.5 85065.5,-3908.5 "/>
<text text-anchor="start" x="84985" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ListFilters -->
<g id="node259" class="node">
<title>mcpgateway.schemas.ListFilters</title>
<polygon fill="white" stroke="#77aadd" points="85084,-3885.5 85084,-3954.5 85292,-3954.5 85292,-3885.5 85084,-3885.5"/>
<text text-anchor="start" x="85159" y="-3939.3" font-family="Arial" font-size="14.00">ListFilters</text>
<polyline fill="none" stroke="#77aadd" points="85084,-3931.5 85292,-3931.5 "/>
<text text-anchor="start" x="85092" y="-3916.3" font-family="Arial" font-size="14.00">include_inactive : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="85084,-3908.5 85292,-3908.5 "/>
<text text-anchor="start" x="85186" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ListResourceTemplatesResult -->
<g id="node260" class="node">
<title>mcpgateway.common.models.ListResourceTemplatesResult</title>
<polygon fill="white" stroke="#44bb99" points="85310.5,-3863 85310.5,-3977 85657.5,-3977 85657.5,-3863 85310.5,-3863"/>
<text text-anchor="start" x="85394" y="-3961.8" font-family="Arial" font-size="14.00">ListResourceTemplatesResult</text>
<polyline fill="none" stroke="#44bb99" points="85310.5,-3954 85657.5,-3954 "/>
<text text-anchor="start" x="85318.5" y="-3938.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="85318.5" y="-3923.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="85318.5" y="-3908.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="85318.5" y="-3893.8" font-family="Arial" font-size="14.00">resource_templates : Optional[List[ResourceTemplate]]</text>
<polyline fill="none" stroke="#44bb99" points="85310.5,-3886 85657.5,-3886 "/>
<text text-anchor="start" x="85482" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_aggregator.LogAggregator -->
<g id="node261" class="node">
<title>mcpgateway.services.log_aggregator.LogAggregator</title>
<polygon fill="white" stroke="#ffaabb" points="85675,-3840.5 85675,-3999.5 86947,-3999.5 86947,-3840.5 85675,-3840.5"/>
<text text-anchor="start" x="86266" y="-3984.3" font-family="Arial" font-size="14.00">LogAggregator</text>
<polyline fill="none" stroke="#ffaabb" points="85675,-3976.5 86947,-3976.5 "/>
<text text-anchor="start" x="86221" y="-3961.3" font-family="Arial" font-size="14.00">aggregation_window_minutes</text>
<text text-anchor="start" x="86221" y="-3946.3" font-family="Arial" font-size="14.00">enabled</text>
<polyline fill="none" stroke="#ffaabb" points="85675,-3938.5 86947,-3938.5 "/>
<text text-anchor="start" x="85683" y="-3923.3" font-family="Arial" font-size="14.00">aggregate_all_components(window_start: Optional[datetime], window_end: Optional[datetime], db: Optional[Session]): List[PerformanceMetric]</text>
<text text-anchor="start" x="85683" y="-3908.3" font-family="Arial" font-size="14.00">aggregate_all_components_batch(window_starts: List[datetime], window_minutes: int, db: Optional[Session]): List[PerformanceMetric]</text>
<text text-anchor="start" x="85683" y="-3893.3" font-family="Arial" font-size="14.00">aggregate_performance_metrics(component: Optional[str], operation_type: Optional[str], window_start: Optional[datetime], window_end: Optional[datetime], db: Optional[Session]): Optional[PerformanceMetric]</text>
<text text-anchor="start" x="85683" y="-3878.3" font-family="Arial" font-size="14.00">backfill(hours: float, db: Optional[Session]): int</text>
<text text-anchor="start" x="85683" y="-3863.3" font-family="Arial" font-size="14.00">get_degradation_alerts(threshold_multiplier: float, hours: int, db: Optional[Session]): List[Dict[str, Any]]</text>
<text text-anchor="start" x="85683" y="-3848.3" font-family="Arial" font-size="14.00">get_recent_metrics(component: Optional[str], operation: Optional[str], hours: int, db: Optional[Session]): List[PerformanceMetric]</text>
</g>
<!-- mcpgateway.services.structured_logger.LogCategory -->
<g id="node262" class="node">
<title>mcpgateway.services.structured_logger.LogCategory</title>
<polygon fill="white" stroke="#ffaabb" points="86965,-3885.5 86965,-3954.5 87059,-3954.5 87059,-3885.5 86965,-3885.5"/>
<text text-anchor="start" x="86973" y="-3939.3" font-family="Arial" font-size="14.00">LogCategory</text>
<polyline fill="none" stroke="#ffaabb" points="86965,-3931.5 87059,-3931.5 "/>
<text text-anchor="start" x="86994.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="86965,-3908.5 87059,-3908.5 "/>
<text text-anchor="start" x="87010" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.structured_logger.LogEnricher -->
<g id="node263" class="node">
<title>mcpgateway.services.structured_logger.LogEnricher</title>
<polygon fill="white" stroke="#ffaabb" points="87077.5,-3884.6 87077.5,-3955.4 87334.5,-3955.4 87334.5,-3884.6 87077.5,-3884.6"/>
<text text-anchor="start" x="87169.5" y="-3940.2" font-family="Arial" font-size="14.00">LogEnricher</text>
<polyline fill="none" stroke="#ffaabb" points="87077.5,-3932.4 87334.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="87077.5,-3907.6 87334.5,-3907.6 "/>
<text text-anchor="start" x="87085.5" y="-3892.4" font-family="Arial" font-size="14.00">enrich(entry: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.structured_logger.StructuredLogger -->
<g id="node524" class="node">
<title>mcpgateway.services.structured_logger.StructuredLogger</title>
<polygon fill="white" stroke="#ffaabb" points="86434,-7989 86434,-8163 88296,-8163 88296,-7989 86434,-7989"/>
<text text-anchor="start" x="87312.5" y="-8147.8" font-family="Arial" font-size="14.00">StructuredLogger</text>
<polyline fill="none" stroke="#ffaabb" points="86434,-8140 88296,-8140 "/>
<text text-anchor="start" x="87318" y="-8124.8" font-family="Arial" font-size="14.00">component : str</text>
<text text-anchor="start" x="87318" y="-8109.8" font-family="Arial" font-size="14.00">enricher</text>
<text text-anchor="start" x="87318" y="-8094.8" font-family="Arial" font-size="14.00">router</text>
<polyline fill="none" stroke="#ffaabb" points="86434,-8087 88296,-8087 "/>
<text text-anchor="start" x="86442" y="-8071.8" font-family="Arial" font-size="14.00">critical(message: str, error: Optional[Exception]): None</text>
<text text-anchor="start" x="86442" y="-8056.8" font-family="Arial" font-size="14.00">debug(message: str): None</text>
<text text-anchor="start" x="86442" y="-8041.8" font-family="Arial" font-size="14.00">error(message: str, error: Optional[Exception]): None</text>
<text text-anchor="start" x="86442" y="-8026.8" font-family="Arial" font-size="14.00">info(message: str): None</text>
<text text-anchor="start" x="86442" y="-8011.8" font-family="Arial" font-size="14.00">log(level: Union[LogLevel, str], message: str, category: Optional[Union[LogCategory, str]], user_id: Optional[str], user_email: Optional[str], team_id: Optional[str], error: Optional[Exception], duration_ms: Optional[float], custom_fields: Optional[Dict[str, Any]], tags: Optional[List[str]], db: Optional[Session]): None</text>
<text text-anchor="start" x="86442" y="-7996.8" font-family="Arial" font-size="14.00">warning(message: str): None</text>
</g>
<!-- mcpgateway.services.structured_logger.LogEnricher&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger -->
<g id="edge172" class="edge">
<title>mcpgateway.services.structured_logger.LogEnricher&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger</title>
<path fill="none" stroke="gray" d="M87206.44,-3955.5C87210.2,-4240.03 87239.52,-6228.98 87343,-7840 87345.89,-7885.04 87350.37,-7934.82 87354.53,-7976.93"/>
<polygon fill="gray" stroke="gray" points="87354.53,-7976.93 87359.11,-7982.51 87355.72,-7988.88 87351.15,-7983.3 87354.53,-7976.93"/>
<text text-anchor="middle" x="87370.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">enricher</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntry -->
<g id="node264" class="node">
<title>mcpgateway.services.log_storage_service.LogEntry</title>
<polygon fill="white" stroke="#ffaabb" points="88314,-7974 88314,-8178 88502,-8178 88502,-7974 88314,-7974"/>
<text text-anchor="start" x="88380.5" y="-8162.8" font-family="Arial" font-size="14.00">LogEntry</text>
<polyline fill="none" stroke="#ffaabb" points="88314,-8155 88502,-8155 "/>
<text text-anchor="start" x="88322" y="-8139.8" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="88322" y="-8124.8" font-family="Arial" font-size="14.00">entity_id : Optional[str]</text>
<text text-anchor="start" x="88322" y="-8109.8" font-family="Arial" font-size="14.00">entity_name : Optional[str]</text>
<text text-anchor="start" x="88322" y="-8094.8" font-family="Arial" font-size="14.00">entity_type : Optional[str]</text>
<text text-anchor="start" x="88322" y="-8079.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="88322" y="-8064.8" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="88322" y="-8049.8" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="88322" y="-8034.8" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="88322" y="-8019.8" font-family="Arial" font-size="14.00">request_id : Optional[str]</text>
<text text-anchor="start" x="88322" y="-8004.8" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="88314,-7997 88502,-7997 "/>
<text text-anchor="start" x="88341" y="-7981.8" font-family="Arial" font-size="14.00">to_dict(): LogEntryDict</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntryDict -->
<g id="node265" class="node">
<title>mcpgateway.services.log_storage_service.LogEntryDict</title>
<polygon fill="white" stroke="#ffaabb" points="88520,-7974 88520,-8178 88708,-8178 88708,-7974 88520,-7974"/>
<text text-anchor="start" x="88575" y="-8162.8" font-family="Arial" font-size="14.00">LogEntryDict</text>
<polyline fill="none" stroke="#ffaabb" points="88520,-8155 88708,-8155 "/>
<text text-anchor="start" x="88528" y="-8139.8" font-family="Arial" font-size="14.00">data : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="88528" y="-8124.8" font-family="Arial" font-size="14.00">entity_id : Optional[str]</text>
<text text-anchor="start" x="88528" y="-8109.8" font-family="Arial" font-size="14.00">entity_name : Optional[str]</text>
<text text-anchor="start" x="88528" y="-8094.8" font-family="Arial" font-size="14.00">entity_type : Optional[str]</text>
<text text-anchor="start" x="88528" y="-8079.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="88528" y="-8064.8" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="88528" y="-8049.8" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="88528" y="-8034.8" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="88528" y="-8019.8" font-family="Arial" font-size="14.00">request_id : Optional[str]</text>
<text text-anchor="start" x="88528" y="-8004.8" font-family="Arial" font-size="14.00">timestamp : str</text>
<polyline fill="none" stroke="#ffaabb" points="88520,-7997 88708,-7997 "/>
<text text-anchor="start" x="88612" y="-7981.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageMessage -->
<g id="node269" class="node">
<title>mcpgateway.services.log_storage_service.LogStorageMessage</title>
<polygon fill="white" stroke="#ffaabb" points="88543,-8485 88543,-8569 88685,-8569 88685,-8485 88543,-8485"/>
<text text-anchor="start" x="88551" y="-8553.8" font-family="Arial" font-size="14.00">LogStorageMessage</text>
<polyline fill="none" stroke="#ffaabb" points="88543,-8546 88685,-8546 "/>
<text text-anchor="start" x="88588" y="-8530.8" font-family="Arial" font-size="14.00">data</text>
<text text-anchor="start" x="88588" y="-8515.8" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#ffaabb" points="88543,-8508 88685,-8508 "/>
<text text-anchor="start" x="88612" y="-8492.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.log_storage_service.LogEntryDict&#45;&gt;mcpgateway.services.log_storage_service.LogStorageMessage -->
<g id="edge162" class="edge">
<title>mcpgateway.services.log_storage_service.LogEntryDict&#45;&gt;mcpgateway.services.log_storage_service.LogStorageMessage</title>
<path fill="none" stroke="gray" d="M88614,-8178.04C88614,-8269.28 88614,-8400 88614,-8472.47"/>
<polygon fill="gray" stroke="gray" points="88614,-8472.87 88618,-8478.87 88614,-8484.87 88610,-8478.87 88614,-8472.87"/>
<text text-anchor="middle" x="88627.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">data</text>
</g>
<!-- mcpgateway.services.structured_logger.LogLevel -->
<g id="node266" class="node">
<title>mcpgateway.services.structured_logger.LogLevel</title>
<polygon fill="white" stroke="#ffaabb" points="88833.5,-3885.5 88833.5,-3954.5 88904.5,-3954.5 88904.5,-3885.5 88833.5,-3885.5"/>
<text text-anchor="start" x="88841.5" y="-3939.3" font-family="Arial" font-size="14.00">LogLevel</text>
<polyline fill="none" stroke="#ffaabb" points="88833.5,-3931.5 88904.5,-3931.5 "/>
<text text-anchor="start" x="88851.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="88833.5,-3908.5 88904.5,-3908.5 "/>
<text text-anchor="start" x="88867" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel -->
<g id="node267" class="node">
<title>mcpgateway.common.models.LogLevel</title>
<polygon fill="white" stroke="#44bb99" points="88744.5,-3885.5 88744.5,-3954.5 88815.5,-3954.5 88815.5,-3885.5 88744.5,-3885.5"/>
<text text-anchor="start" x="88752.5" y="-3939.3" font-family="Arial" font-size="14.00">LogLevel</text>
<polyline fill="none" stroke="#44bb99" points="88744.5,-3931.5 88815.5,-3931.5 "/>
<text text-anchor="start" x="88762.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="88744.5,-3908.5 88815.5,-3908.5 "/>
<text text-anchor="start" x="88778" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntry -->
<g id="edge174" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntry</title>
<path fill="none" stroke="gray" d="M88776.98,-3954.74C88745.32,-4308.3 88474.37,-7333.88 88418.18,-7961.36"/>
<polygon fill="none" stroke="gray" points="88418.16,-7961.58 88421.61,-7967.91 88417.09,-7973.53 88413.64,-7967.2 88418.16,-7961.58"/>
<text text-anchor="middle" x="88441" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntryDict -->
<g id="edge127" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.log_storage_service.LogEntryDict</title>
<path fill="none" stroke="gray" d="M88778.65,-3954.74C88764.52,-4308.3 88643.62,-7333.88 88618.54,-7961.36"/>
<polygon fill="gray" stroke="gray" points="88618.53,-7961.54 88622.29,-7967.69 88618.05,-7973.53 88614.3,-7967.37 88618.53,-7961.54"/>
<text text-anchor="middle" x="88637" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.common.models.LoggingNotification -->
<g id="node271" class="node">
<title>mcpgateway.common.models.LoggingNotification</title>
<polygon fill="white" stroke="#44bb99" points="88726,-8019 88726,-8133 88980,-8133 88980,-8019 88726,-8019"/>
<text text-anchor="start" x="88795.5" y="-8117.8" font-family="Arial" font-size="14.00">LoggingNotification</text>
<polyline fill="none" stroke="#44bb99" points="88726,-8110 88980,-8110 "/>
<text text-anchor="start" x="88734" y="-8094.8" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="88734" y="-8079.8" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="88734" y="-8064.8" font-family="Arial" font-size="14.00">logger : Optional[str]</text>
<text text-anchor="start" x="88734" y="-8049.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/message&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="88726,-8042 88980,-8042 "/>
<text text-anchor="start" x="88851" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.common.models.LoggingNotification -->
<g id="edge126" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.common.models.LoggingNotification</title>
<path fill="none" stroke="gray" d="M88778.95,-3954.62C88770.43,-4236.01 88715.86,-6228.47 88824,-7840 88827.78,-7896.29 88835.84,-7959.76 88842.51,-8006.54"/>
<polygon fill="gray" stroke="gray" points="88842.54,-8006.79 88847.36,-8012.15 88844.26,-8018.66 88839.44,-8013.3 88842.54,-8006.79"/>
<text text-anchor="middle" x="88841" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.services.logging_service._LogMessageData -->
<g id="node612" class="node">
<title>mcpgateway.services.logging_service._LogMessageData</title>
<polygon fill="white" stroke="#ffaabb" points="88998,-8019 88998,-8133 89162,-8133 89162,-8019 88998,-8019"/>
<text text-anchor="start" x="89022.5" y="-8117.8" font-family="Arial" font-size="14.00">_LogMessageData</text>
<polyline fill="none" stroke="#ffaabb" points="88998,-8110 89162,-8110 "/>
<text text-anchor="start" x="89006" y="-8094.8" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="89006" y="-8079.8" font-family="Arial" font-size="14.00">level</text>
<text text-anchor="start" x="89006" y="-8064.8" font-family="Arial" font-size="14.00">logger : NotRequired[str]</text>
<text text-anchor="start" x="89006" y="-8049.8" font-family="Arial" font-size="14.00">timestamp : str</text>
<polyline fill="none" stroke="#ffaabb" points="88998,-8042 89162,-8042 "/>
<text text-anchor="start" x="89078" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.logging_service._LogMessageData -->
<g id="edge128" class="edge">
<title>mcpgateway.common.models.LogLevel&#45;&gt;mcpgateway.services.logging_service._LogMessageData</title>
<path fill="none" stroke="gray" d="M88767.16,-3954.73C88653.95,-4258.29 87852.89,-6538.76 88824,-7840 88835.48,-7855.38 88974.39,-7878.56 88989,-7891 89024.35,-7921.12 89047.3,-7968.26 89061.3,-8007.29"/>
<polygon fill="gray" stroke="gray" points="89061.37,-8007.5 89067.11,-8011.87 89065.28,-8018.84 89059.54,-8014.47 89061.37,-8007.5"/>
<text text-anchor="middle" x="88942" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">level</text>
</g>
<!-- mcpgateway.services.structured_logger.LogRouter -->
<g id="node268" class="node">
<title>mcpgateway.services.structured_logger.LogRouter</title>
<polygon fill="white" stroke="#ffaabb" points="87352.5,-3878 87352.5,-3962 87697.5,-3962 87697.5,-3878 87352.5,-3878"/>
<text text-anchor="start" x="87493" y="-3946.8" font-family="Arial" font-size="14.00">LogRouter</text>
<polyline fill="none" stroke="#ffaabb" points="87352.5,-3939 87697.5,-3939 "/>
<text text-anchor="start" x="87469" y="-3923.8" font-family="Arial" font-size="14.00">database_enabled</text>
<text text-anchor="start" x="87469" y="-3908.8" font-family="Arial" font-size="14.00">external_enabled</text>
<polyline fill="none" stroke="#ffaabb" points="87352.5,-3901 87697.5,-3901 "/>
<text text-anchor="start" x="87360.5" y="-3885.8" font-family="Arial" font-size="14.00">route(entry: Dict[str, Any], db: Optional[Session]): None</text>
</g>
<!-- mcpgateway.services.structured_logger.LogRouter&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger -->
<g id="edge173" class="edge">
<title>mcpgateway.services.structured_logger.LogRouter&#45;&gt;mcpgateway.services.structured_logger.StructuredLogger</title>
<path fill="none" stroke="gray" d="M87525.79,-3962.02C87531.3,-4270.96 87559.29,-6264.35 87399,-7873 87395.61,-7907.04 87389.97,-7944.02 87384.24,-7976.92"/>
<polygon fill="gray" stroke="gray" points="87384.22,-7977.03 87387.12,-7983.63 87382.13,-7988.84 87379.24,-7982.24 87384.22,-7977.03"/>
<text text-anchor="middle" x="87417" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">router</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageService -->
<g id="node270" class="node">
<title>mcpgateway.services.log_storage_service.LogStorageService</title>
<polygon fill="white" stroke="#ffaabb" points="88922.5,-3854.6 88922.5,-3985.4 90379.5,-3985.4 90379.5,-3854.6 88922.5,-3854.6"/>
<text text-anchor="start" x="89593.5" y="-3970.2" font-family="Arial" font-size="14.00">LogStorageService</text>
<polyline fill="none" stroke="#ffaabb" points="88922.5,-3962.4 90379.5,-3962.4 "/>
<polyline fill="none" stroke="#ffaabb" points="88922.5,-3937.6 90379.5,-3937.6 "/>
<text text-anchor="start" x="88930.5" y="-3922.4" font-family="Arial" font-size="14.00">add_log(level: LogLevel, message: str, entity_type: Optional[str], entity_id: Optional[str], entity_name: Optional[str], logger: Optional[str], data: Optional[Dict[str, Any]], request_id: Optional[str]): LogEntry</text>
<text text-anchor="start" x="88930.5" y="-3907.4" font-family="Arial" font-size="14.00">clear(): int</text>
<text text-anchor="start" x="88930.5" y="-3892.4" font-family="Arial" font-size="14.00">get_logs(entity_type: Optional[str], entity_id: Optional[str], level: Optional[LogLevel], start_time: Optional[datetime], end_time: Optional[datetime], request_id: Optional[str], search: Optional[str], limit: int, offset: int, order: str): List[LogEntryDict]</text>
<text text-anchor="start" x="88930.5" y="-3877.4" font-family="Arial" font-size="14.00">get_stats(): Dict[str, Any]</text>
<text text-anchor="start" x="88930.5" y="-3862.4" font-family="Arial" font-size="14.00">subscribe(): AsyncGenerator[LogStorageMessage, None]</text>
</g>
<!-- mcpgateway.services.logging_service.StorageHandler -->
<g id="node521" class="node">
<title>mcpgateway.services.logging_service.StorageHandler</title>
<polygon fill="white" stroke="#ffaabb" points="89525.5,-8034 89525.5,-8118 89776.5,-8118 89776.5,-8034 89525.5,-8034"/>
<text text-anchor="start" x="89603.5" y="-8102.8" font-family="Arial" font-size="14.00">StorageHandler</text>
<polyline fill="none" stroke="#ffaabb" points="89525.5,-8095 89776.5,-8095 "/>
<text text-anchor="start" x="89554" y="-8079.8" font-family="Arial" font-size="14.00">loop : AbstractEventLoop | None</text>
<text text-anchor="start" x="89554" y="-8064.8" font-family="Arial" font-size="14.00">storage</text>
<polyline fill="none" stroke="#ffaabb" points="89525.5,-8057 89776.5,-8057 "/>
<text text-anchor="start" x="89533.5" y="-8041.8" font-family="Arial" font-size="14.00">emit(record: logging.LogRecord): None</text>
</g>
<!-- mcpgateway.services.log_storage_service.LogStorageService&#45;&gt;mcpgateway.services.logging_service.StorageHandler -->
<g id="edge177" class="edge">
<title>mcpgateway.services.log_storage_service.LogStorageService&#45;&gt;mcpgateway.services.logging_service.StorageHandler</title>
<path fill="none" stroke="gray" d="M89651,-3985.42C89651,-4473.05 89651,-7576.52 89651,-8021.82"/>
<polygon fill="none" stroke="gray" points="89651,-8021.92 89655,-8027.92 89651,-8033.92 89647,-8027.92 89651,-8021.92"/>
<text text-anchor="middle" x="89674" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">storage</text>
</g>
<!-- mcpgateway.services.logging_service.LoggingService -->
<g id="node272" class="node">
<title>mcpgateway.services.logging_service.LoggingService</title>
<polygon fill="white" stroke="#ffaabb" points="90398,-3832.1 90398,-4007.9 91636,-4007.9 91636,-3832.1 90398,-3832.1"/>
<text text-anchor="start" x="90970" y="-3992.7" font-family="Arial" font-size="14.00">LoggingService</text>
<polyline fill="none" stroke="#ffaabb" points="90398,-3984.9 91636,-3984.9 "/>
<polyline fill="none" stroke="#ffaabb" points="90398,-3960.1 91636,-3960.1 "/>
<text text-anchor="start" x="90406" y="-3944.9" font-family="Arial" font-size="14.00">configure_uvicorn_after_startup(): None</text>
<text text-anchor="start" x="90406" y="-3929.9" font-family="Arial" font-size="14.00">get_logger(name: str): logging.Logger</text>
<text text-anchor="start" x="90406" y="-3914.9" font-family="Arial" font-size="14.00">get_storage(): Optional[LogStorageService]</text>
<text text-anchor="start" x="90406" y="-3899.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="90406" y="-3884.9" font-family="Arial" font-size="14.00">notify(data: Any, level: LogLevel, logger_name: Optional[str], entity_type: Optional[str], entity_id: Optional[str], entity_name: Optional[str], request_id: Optional[str], extra_data: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="90406" y="-3869.9" font-family="Arial" font-size="14.00">set_level(level: LogLevel): None</text>
<text text-anchor="start" x="90406" y="-3854.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="90406" y="-3839.9" font-family="Arial" font-size="14.00">subscribe(): AsyncGenerator[_LogMessage, None]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClient -->
<g id="node274" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPClient</title>
<polygon fill="white" stroke="#ffaabb" points="41782,-8019 41782,-8133 42062,-8133 42062,-8019 41782,-8019"/>
<text text-anchor="start" x="41889" y="-8117.8" font-family="Arial" font-size="14.00">MCPClient</text>
<polyline fill="none" stroke="#ffaabb" points="41782,-8110 42062,-8110 "/>
<text text-anchor="start" x="41882" y="-8094.8" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="41882" y="-8079.8" font-family="Arial" font-size="14.00">is_connected</text>
<polyline fill="none" stroke="#ffaabb" points="41782,-8072 42062,-8072 "/>
<text text-anchor="start" x="41790" y="-8056.8" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="41790" y="-8041.8" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="41790" y="-8026.8" font-family="Arial" font-size="14.00">get_tools(force_reload: bool): List[BaseTool]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClient&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge165" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPClient&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M41922,-8133.41C41922,-8195.55 41922,-8297.88 41922,-8382.49"/>
<polygon fill="gray" stroke="gray" points="41922,-8382.57 41926,-8388.57 41922,-8394.57 41918,-8388.57 41922,-8382.57"/>
<text text-anchor="middle" x="41955" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">mcp_client</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClientConfig -->
<g id="node275" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPClientConfig</title>
<polygon fill="white" stroke="#ffaabb" points="42080.5,-8011.5 42080.5,-8140.5 42347.5,-8140.5 42347.5,-8011.5 42080.5,-8011.5"/>
<text text-anchor="start" x="42161.5" y="-8125.3" font-family="Arial" font-size="14.00">MCPClientConfig</text>
<polyline fill="none" stroke="#ffaabb" points="42080.5,-8117.5 42347.5,-8117.5 "/>
<text text-anchor="start" x="42088.5" y="-8102.3" font-family="Arial" font-size="14.00">chat_history_max_messages : int</text>
<text text-anchor="start" x="42088.5" y="-8087.3" font-family="Arial" font-size="14.00">enable_streaming : Optional[bool]</text>
<text text-anchor="start" x="42088.5" y="-8072.3" font-family="Arial" font-size="14.00">llm : Optional[LLMConfig]</text>
<text text-anchor="start" x="42088.5" y="-8057.3" font-family="Arial" font-size="14.00">mcp_server : Optional[MCPServerConfig]</text>
<text text-anchor="start" x="42088.5" y="-8042.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#ffaabb" points="42080.5,-8034.5 42347.5,-8034.5 "/>
<text text-anchor="start" x="42212" y="-8019.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPClientConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService -->
<g id="edge182" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPClientConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPChatService</title>
<path fill="none" stroke="gray" d="M42172.47,-8140.85C42131.4,-8204.01 42067.17,-8302.78 42014.03,-8384.48"/>
<polygon fill="none" stroke="gray" points="42013.82,-8384.81 42013.9,-8392.02 42007.28,-8394.87 42007.2,-8387.66 42013.82,-8384.81"/>
<text text-anchor="middle" x="42095.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientConfig -->
<g id="node276" class="node">
<title>mcpgateway.plugins.framework.models.MCPClientConfig</title>
<polygon fill="white" stroke="#ee8866" points="91528,-7936.5 91528,-8215.5 91884,-8215.5 91884,-7936.5 91528,-7936.5"/>
<text text-anchor="start" x="91653.5" y="-8200.3" font-family="Arial" font-size="14.00">MCPClientConfig</text>
<polyline fill="none" stroke="#ee8866" points="91528,-8192.5 91884,-8192.5 "/>
<text text-anchor="start" x="91599.5" y="-8177.3" font-family="Arial" font-size="14.00">cmd : Optional[list[str]]</text>
<text text-anchor="start" x="91599.5" y="-8162.3" font-family="Arial" font-size="14.00">cwd : Optional[str]</text>
<text text-anchor="start" x="91599.5" y="-8147.3" font-family="Arial" font-size="14.00">env : Optional[dict[str, str]]</text>
<text text-anchor="start" x="91599.5" y="-8132.3" font-family="Arial" font-size="14.00">proto</text>
<text text-anchor="start" x="91599.5" y="-8117.3" font-family="Arial" font-size="14.00">script : Optional[str]</text>
<text text-anchor="start" x="91599.5" y="-8102.3" font-family="Arial" font-size="14.00">tls : Optional[MCPClientTLSConfig]</text>
<text text-anchor="start" x="91599.5" y="-8087.3" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<text text-anchor="start" x="91599.5" y="-8072.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="91528,-8064.5 91884,-8064.5 "/>
<text text-anchor="start" x="91536" y="-8049.3" font-family="Arial" font-size="14.00">validate_cmd(cmd: list[str] | None): list[str] | None</text>
<text text-anchor="start" x="91536" y="-8034.3" font-family="Arial" font-size="14.00">validate_cwd(cwd: str | None): str | None</text>
<text text-anchor="start" x="91536" y="-8019.3" font-family="Arial" font-size="14.00">validate_env(env: dict[str, str] | None): dict[str, str] | None</text>
<text text-anchor="start" x="91536" y="-8004.3" font-family="Arial" font-size="14.00">validate_script(script: str | None): str | None</text>
<text text-anchor="start" x="91536" y="-7989.3" font-family="Arial" font-size="14.00">validate_tls_usage(): Self</text>
<text text-anchor="start" x="91536" y="-7974.3" font-family="Arial" font-size="14.00">validate_transport_fields(): Self</text>
<text text-anchor="start" x="91536" y="-7959.3" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
<text text-anchor="start" x="91536" y="-7944.3" font-family="Arial" font-size="14.00">validate_url(url: str | None): str | None</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientTLSConfig -->
<g id="node277" class="node">
<title>mcpgateway.plugins.framework.models.MCPClientTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="91776,-3878 91776,-3962 92060,-3962 92060,-3878 91776,-3878"/>
<text text-anchor="start" x="91853" y="-3946.8" font-family="Arial" font-size="14.00">MCPClientTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="91776,-3939 92060,-3939 "/>
<text text-anchor="start" x="91818.5" y="-3923.8" font-family="Arial" font-size="14.00">check_hostname : Optional[bool]</text>
<text text-anchor="start" x="91818.5" y="-3908.8" font-family="Arial" font-size="14.00">verify : Optional[bool]</text>
<polyline fill="none" stroke="#ee8866" points="91776,-3901 92060,-3901 "/>
<text text-anchor="start" x="91784" y="-3885.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPClientTLSConfig&#39;]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="node284" class="node">
<title>mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<polygon fill="white" stroke="#ee8866" points="91988,-8011.5 91988,-8140.5 92288,-8140.5 92288,-8011.5 91988,-8011.5"/>
<text text-anchor="start" x="92046" y="-8125.3" font-family="Arial" font-size="14.00">MCPTransportTLSConfigBase</text>
<polyline fill="none" stroke="#ee8866" points="91988,-8117.5 92288,-8117.5 "/>
<text text-anchor="start" x="92043.5" y="-8102.3" font-family="Arial" font-size="14.00">ca_bundle : Optional[str]</text>
<text text-anchor="start" x="92043.5" y="-8087.3" font-family="Arial" font-size="14.00">certfile : Optional[str]</text>
<text text-anchor="start" x="92043.5" y="-8072.3" font-family="Arial" font-size="14.00">keyfile : Optional[str]</text>
<text text-anchor="start" x="92043.5" y="-8057.3" font-family="Arial" font-size="14.00">keyfile_password : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="91988,-8049.5 92288,-8049.5 "/>
<text text-anchor="start" x="91996" y="-8034.3" font-family="Arial" font-size="14.00">validate_cert_key(): Self</text>
<text text-anchor="start" x="91996" y="-8019.3" font-family="Arial" font-size="14.00">validate_path(value: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge70" class="edge">
<title>mcpgateway.plugins.framework.models.MCPClientTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M91915.75,-3962.42C91899.69,-4272.19 91810.43,-6258.36 92069,-7840 92078.03,-7895.24 92096.02,-7955.81 92111.36,-8001.62"/>
<polygon fill="none" stroke="gray" points="92108.07,-8002.81 92114.59,-8011.16 92114.7,-8000.57 92108.07,-8002.81"/>
</g>
<!-- mcpgateway.main.MCPPathRewriteMiddleware -->
<g id="node278" class="node">
<title>mcpgateway.main.MCPPathRewriteMiddleware</title>
<polygon fill="white" stroke="#77aadd" points="92385.5,-3878 92385.5,-3962 92576.5,-3962 92576.5,-3878 92385.5,-3878"/>
<text text-anchor="start" x="92393.5" y="-3946.8" font-family="Arial" font-size="14.00">MCPPathRewriteMiddleware</text>
<polyline fill="none" stroke="#77aadd" points="92385.5,-3939 92576.5,-3939 "/>
<text text-anchor="start" x="92419" y="-3923.8" font-family="Arial" font-size="14.00">application</text>
<text text-anchor="start" x="92419" y="-3908.8" font-family="Arial" font-size="14.00">dispatch : NoneType</text>
<polyline fill="none" stroke="#77aadd" points="92385.5,-3901 92576.5,-3901 "/>
<text text-anchor="start" x="92479" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.protocol_version.MCPProtocolVersionMiddleware -->
<g id="node279" class="node">
<title>mcpgateway.middleware.protocol_version.MCPProtocolVersionMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="92595,-3884.6 92595,-3955.4 92959,-3955.4 92959,-3884.6 92595,-3884.6"/>
<text text-anchor="start" x="92679" y="-3940.2" font-family="Arial" font-size="14.00">MCPProtocolVersionMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="92595,-3932.4 92959,-3932.4 "/>
<polyline fill="none" stroke="#eedd88" points="92595,-3907.6 92959,-3907.6 "/>
<text text-anchor="start" x="92603" y="-3892.4" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPServerConfig -->
<g id="node280" class="node">
<title>mcpgateway.services.mcp_client_chat_service.MCPServerConfig</title>
<polygon fill="white" stroke="#ffaabb" points="41723,-3825.5 41723,-4014.5 42121,-4014.5 42121,-3825.5 41723,-3825.5"/>
<text text-anchor="start" x="41867" y="-3999.3" font-family="Arial" font-size="14.00">MCPServerConfig</text>
<polyline fill="none" stroke="#ffaabb" points="41723,-3991.5 42121,-3991.5 "/>
<text text-anchor="start" x="41748" y="-3976.3" font-family="Arial" font-size="14.00">args : Optional[list[str]]</text>
<text text-anchor="start" x="41748" y="-3961.3" font-family="Arial" font-size="14.00">auth_token : Optional[str]</text>
<text text-anchor="start" x="41748" y="-3946.3" font-family="Arial" font-size="14.00">command : Optional[str]</text>
<text text-anchor="start" x="41748" y="-3931.3" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="41748" y="-3916.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="41748" y="-3901.3" font-family="Arial" font-size="14.00">transport : Optional[Literal[&#39;streamable_http&#39;, &#39;sse&#39;, &#39;stdio&#39;]]</text>
<text text-anchor="start" x="41748" y="-3886.3" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="41723,-3878.5 42121,-3878.5 "/>
<text text-anchor="start" x="41731" y="-3863.3" font-family="Arial" font-size="14.00">add_auth_to_headers(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="41731" y="-3848.3" font-family="Arial" font-size="14.00">validate_command_for_stdio(v: Optional[str], info): Optional[str]</text>
<text text-anchor="start" x="41731" y="-3833.3" font-family="Arial" font-size="14.00">validate_url_for_transport(v: Optional[str], info): Optional[str]</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.MCPServerConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPClient -->
<g id="edge183" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.MCPServerConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.MCPClient</title>
<path fill="none" stroke="gray" d="M41922,-4014.57C41922,-4578.89 41922,-7520.47 41922,-8006.85"/>
<polygon fill="none" stroke="gray" points="41922,-8006.88 41926,-8012.88 41922,-8018.88 41918,-8012.88 41922,-8006.88"/>
<text text-anchor="middle" x="41940.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerConfig -->
<g id="node281" class="node">
<title>mcpgateway.plugins.framework.models.MCPServerConfig</title>
<polygon fill="white" stroke="#ee8866" points="92977,-3848 92977,-3992 93241,-3992 93241,-3848 92977,-3848"/>
<text text-anchor="start" x="93054" y="-3976.8" font-family="Arial" font-size="14.00">MCPServerConfig</text>
<polyline fill="none" stroke="#ee8866" points="92977,-3969 93241,-3969 "/>
<text text-anchor="start" x="93000" y="-3953.8" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="93000" y="-3938.8" font-family="Arial" font-size="14.00">port : Optional[int]</text>
<text text-anchor="start" x="93000" y="-3923.8" font-family="Arial" font-size="14.00">tls : Optional[MCPServerTLSConfig]</text>
<text text-anchor="start" x="93000" y="-3908.8" font-family="Arial" font-size="14.00">uds : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="92977,-3901 93241,-3901 "/>
<text text-anchor="start" x="92985" y="-3885.8" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPServerConfig&#39;]</text>
<text text-anchor="start" x="92985" y="-3870.8" font-family="Arial" font-size="14.00">validate_uds(uds: str | None): str | None</text>
<text text-anchor="start" x="92985" y="-3855.8" font-family="Arial" font-size="14.00">validate_uds_tls(): Self</text>
</g>
<!-- mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP -->
<g id="node474" class="node">
<title>mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP</title>
<polygon fill="white" stroke="#ee8866" points="92992.5,-8041.5 92992.5,-8110.5 93225.5,-8110.5 93225.5,-8041.5 92992.5,-8041.5"/>
<text text-anchor="start" x="93042.5" y="-8095.3" font-family="Arial" font-size="14.00">SSLCapableFastMCP</text>
<polyline fill="none" stroke="#ee8866" points="92992.5,-8087.5 93225.5,-8087.5 "/>
<text text-anchor="start" x="93068" y="-8072.3" font-family="Arial" font-size="14.00">server_config</text>
<polyline fill="none" stroke="#ee8866" points="92992.5,-8064.5 93225.5,-8064.5 "/>
<text text-anchor="start" x="93000.5" y="-8049.3" font-family="Arial" font-size="14.00">run_streamable_http_async(): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerConfig&#45;&gt;mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP -->
<g id="edge175" class="edge">
<title>mcpgateway.plugins.framework.models.MCPServerConfig&#45;&gt;mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP</title>
<path fill="none" stroke="gray" d="M93109,-3992.23C93109,-4504.18 93109,-7614.58 93109,-8029.32"/>
<polygon fill="none" stroke="gray" points="93109,-8029.33 93113,-8035.33 93109,-8041.33 93105,-8035.33 93109,-8029.33"/>
<text text-anchor="middle" x="93150" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">server_config</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerTLSConfig -->
<g id="node282" class="node">
<title>mcpgateway.plugins.framework.models.MCPServerTLSConfig</title>
<polygon fill="white" stroke="#ee8866" points="92078.5,-3885.5 92078.5,-3954.5 92367.5,-3954.5 92367.5,-3885.5 92078.5,-3885.5"/>
<text text-anchor="start" x="92155.5" y="-3939.3" font-family="Arial" font-size="14.00">MCPServerTLSConfig</text>
<polyline fill="none" stroke="#ee8866" points="92078.5,-3931.5 92367.5,-3931.5 "/>
<text text-anchor="start" x="92140.5" y="-3916.3" font-family="Arial" font-size="14.00">ssl_cert_reqs : Optional[int]</text>
<polyline fill="none" stroke="#ee8866" points="92078.5,-3908.5 92367.5,-3908.5 "/>
<text text-anchor="start" x="92086.5" y="-3893.3" font-family="Arial" font-size="14.00">from_env(): Optional[&#39;MCPServerTLSConfig&#39;]</text>
</g>
<!-- mcpgateway.plugins.framework.models.MCPServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase -->
<g id="edge71" class="edge">
<title>mcpgateway.plugins.framework.models.MCPServerTLSConfig&#45;&gt;mcpgateway.plugins.framework.models.MCPTransportTLSConfigBase</title>
<path fill="none" stroke="gray" d="M92222.31,-3954.74C92214.91,-4316.54 92150.25,-7476.24 92139.51,-8001.23"/>
<polygon fill="none" stroke="gray" points="92136.01,-8001.26 92139.3,-8011.33 92143.01,-8001.4 92136.01,-8001.26"/>
</g>
<!-- mcpgateway.services.mcp_session_pool.MCPSessionPool -->
<g id="node283" class="node">
<title>mcpgateway.services.mcp_session_pool.MCPSessionPool</title>
<polygon fill="white" stroke="#ffaabb" points="93258.5,-3855.5 93258.5,-3984.5 94701.5,-3984.5 94701.5,-3855.5 93258.5,-3855.5"/>
<text text-anchor="start" x="93927" y="-3969.3" font-family="Arial" font-size="14.00">MCPSessionPool</text>
<polyline fill="none" stroke="#ffaabb" points="93258.5,-3961.5 94701.5,-3961.5 "/>
<text text-anchor="start" x="93834" y="-3946.3" font-family="Arial" font-size="14.00">DEFAULT_IDENTITY_HEADERS : frozenset[str]</text>
<polyline fill="none" stroke="#ffaabb" points="93258.5,-3938.5 94701.5,-3938.5 "/>
<text text-anchor="start" x="93266.5" y="-3923.3" font-family="Arial" font-size="14.00">acquire(url: str, headers: Optional[Dict[str, str]], transport_type: TransportType, httpx_client_factory: Optional[HttpxClientFactory], timeout: Optional[float], user_identity: Optional[str], gateway_id: Optional[str]): PooledSession</text>
<text text-anchor="start" x="93266.5" y="-3908.3" font-family="Arial" font-size="14.00">close_all(): None</text>
<text text-anchor="start" x="93266.5" y="-3893.3" font-family="Arial" font-size="14.00">get_metrics(): Dict[str, Any]</text>
<text text-anchor="start" x="93266.5" y="-3878.3" font-family="Arial" font-size="14.00">release(pooled: PooledSession): None</text>
<text text-anchor="start" x="93266.5" y="-3863.3" font-family="Arial" font-size="14.00">session(url: str, headers: Optional[Dict[str, str]], transport_type: TransportType, httpx_client_factory: Optional[HttpxClientFactory], timeout: Optional[float], user_identity: Optional[str], gateway_id: Optional[str]): &#39;AsyncIterator[PooledSession]&#39;</text>
</g>
<!-- mcpgateway.common.models.Message -->
<g id="node285" class="node">
<title>mcpgateway.common.models.Message</title>
<polygon fill="white" stroke="#44bb99" points="46948.5,-8034 46948.5,-8118 47055.5,-8118 47055.5,-8034 46948.5,-8034"/>
<text text-anchor="start" x="46974" y="-8102.8" font-family="Arial" font-size="14.00">Message</text>
<polyline fill="none" stroke="#44bb99" points="46948.5,-8095 47055.5,-8095 "/>
<text text-anchor="start" x="46956.5" y="-8079.8" font-family="Arial" font-size="14.00">content : Union</text>
<text text-anchor="start" x="46956.5" y="-8064.8" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="46948.5,-8057 47055.5,-8057 "/>
<text text-anchor="start" x="47000" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.reverse_proxy.MessageType -->
<g id="node286" class="node">
<title>mcpgateway.reverse_proxy.MessageType</title>
<polygon fill="white" stroke="#77aadd" points="94719.5,-3885.5 94719.5,-3954.5 94820.5,-3954.5 94820.5,-3885.5 94719.5,-3885.5"/>
<text text-anchor="start" x="94727.5" y="-3939.3" font-family="Arial" font-size="14.00">MessageType</text>
<polyline fill="none" stroke="#77aadd" points="94719.5,-3931.5 94820.5,-3931.5 "/>
<text text-anchor="start" x="94752.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="94719.5,-3908.5 94820.5,-3908.5 "/>
<text text-anchor="start" x="94768" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_buffer_service.MetricsBufferService -->
<g id="node287" class="node">
<title>mcpgateway.services.metrics_buffer_service.MetricsBufferService</title>
<polygon fill="white" stroke="#ffaabb" points="94838.5,-3803 94838.5,-4037 95773.5,-4037 95773.5,-3803 94838.5,-3803"/>
<text text-anchor="start" x="95243" y="-4021.8" font-family="Arial" font-size="14.00">MetricsBufferService</text>
<polyline fill="none" stroke="#ffaabb" points="94838.5,-4014 95773.5,-4014 "/>
<text text-anchor="start" x="95245.5" y="-3998.8" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="95245.5" y="-3983.8" font-family="Arial" font-size="14.00">flush_interval</text>
<text text-anchor="start" x="95245.5" y="-3968.8" font-family="Arial" font-size="14.00">max_buffer_size</text>
<text text-anchor="start" x="95245.5" y="-3953.8" font-family="Arial" font-size="14.00">recording_enabled</text>
<polyline fill="none" stroke="#ffaabb" points="94838.5,-3946 95773.5,-3946 "/>
<text text-anchor="start" x="94846.5" y="-3930.8" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="94846.5" y="-3915.8" font-family="Arial" font-size="14.00">record_a2a_agent_metric(a2a_agent_id: str, start_time: float, success: bool, interaction_type: str, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3900.8" font-family="Arial" font-size="14.00">record_a2a_agent_metric_with_duration(a2a_agent_id: str, response_time: float, success: bool, interaction_type: str, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3885.8" font-family="Arial" font-size="14.00">record_prompt_metric(prompt_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3870.8" font-family="Arial" font-size="14.00">record_resource_metric(resource_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3855.8" font-family="Arial" font-size="14.00">record_server_metric(server_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3840.8" font-family="Arial" font-size="14.00">record_tool_metric(tool_id: str, start_time: float, success: bool, error_message: Optional[str]): None</text>
<text text-anchor="start" x="94846.5" y="-3825.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="94846.5" y="-3810.8" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.cache.metrics_cache.MetricsCache -->
<g id="node288" class="node">
<title>mcpgateway.cache.metrics_cache.MetricsCache</title>
<polygon fill="white" stroke="#99ddff" points="95792,-3847.1 95792,-3992.9 96090,-3992.9 96090,-3847.1 95792,-3847.1"/>
<text text-anchor="start" x="95899" y="-3977.7" font-family="Arial" font-size="14.00">MetricsCache</text>
<polyline fill="none" stroke="#99ddff" points="95792,-3969.9 96090,-3969.9 "/>
<polyline fill="none" stroke="#99ddff" points="95792,-3945.1 96090,-3945.1 "/>
<text text-anchor="start" x="95800" y="-3929.9" font-family="Arial" font-size="14.00">get(metric_type: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="95800" y="-3914.9" font-family="Arial" font-size="14.00">invalidate(metric_type: Optional[str]): None</text>
<text text-anchor="start" x="95800" y="-3899.9" font-family="Arial" font-size="14.00">invalidate_prefix(prefix: str): None</text>
<text text-anchor="start" x="95800" y="-3884.9" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="95800" y="-3869.9" font-family="Arial" font-size="14.00">set(metric_type: str, value: Dict[str, Any]): None</text>
<text text-anchor="start" x="95800" y="-3854.9" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.metrics_cleanup_service.MetricsCleanupService -->
<g id="node289" class="node">
<title>mcpgateway.services.metrics_cleanup_service.MetricsCleanupService</title>
<polygon fill="white" stroke="#ffaabb" points="96108.5,-3795.5 96108.5,-4044.5 96611.5,-4044.5 96611.5,-3795.5 96108.5,-3795.5"/>
<text text-anchor="start" x="96290" y="-4029.3" font-family="Arial" font-size="14.00">MetricsCleanupService</text>
<polyline fill="none" stroke="#ffaabb" points="96108.5,-4021.5 96611.5,-4021.5 "/>
<text text-anchor="start" x="96268.5" y="-4006.3" font-family="Arial" font-size="14.00">METRIC_TABLES : list</text>
<text text-anchor="start" x="96268.5" y="-3991.3" font-family="Arial" font-size="14.00">batch_size</text>
<text text-anchor="start" x="96268.5" y="-3976.3" font-family="Arial" font-size="14.00">cleanup_interval_hours</text>
<text text-anchor="start" x="96268.5" y="-3961.3" font-family="Arial" font-size="14.00">delete_raw_after_rollup</text>
<text text-anchor="start" x="96268.5" y="-3946.3" font-family="Arial" font-size="14.00">delete_raw_after_rollup_hours</text>
<text text-anchor="start" x="96268.5" y="-3931.3" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="96268.5" y="-3916.3" font-family="Arial" font-size="14.00">retention_days</text>
<text text-anchor="start" x="96268.5" y="-3901.3" font-family="Arial" font-size="14.00">rollup_retention_days</text>
<polyline fill="none" stroke="#ffaabb" points="96108.5,-3893.5 96611.5,-3893.5 "/>
<text text-anchor="start" x="96116.5" y="-3878.3" font-family="Arial" font-size="14.00">cleanup_all(retention_days: Optional[int], include_rollup: bool): CleanupSummary</text>
<text text-anchor="start" x="96116.5" y="-3863.3" font-family="Arial" font-size="14.00">cleanup_table(table_type: str, retention_days: Optional[int]): CleanupResult</text>
<text text-anchor="start" x="96116.5" y="-3848.3" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="96116.5" y="-3833.3" font-family="Arial" font-size="14.00">get_table_sizes(): Dict[str, int]</text>
<text text-anchor="start" x="96116.5" y="-3818.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="96116.5" y="-3803.3" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.MetricsRollupService -->
<g id="node290" class="node">
<title>mcpgateway.services.metrics_rollup_service.MetricsRollupService</title>
<polygon fill="white" stroke="#ffaabb" points="96629.5,-3810.5 96629.5,-4029.5 97042.5,-4029.5 97042.5,-3810.5 96629.5,-3810.5"/>
<text text-anchor="start" x="96772" y="-4014.3" font-family="Arial" font-size="14.00">MetricsRollupService</text>
<polyline fill="none" stroke="#ffaabb" points="96629.5,-4006.5 97042.5,-4006.5 "/>
<text text-anchor="start" x="96729" y="-3991.3" font-family="Arial" font-size="14.00">METRIC_TABLES : list</text>
<text text-anchor="start" x="96729" y="-3976.3" font-family="Arial" font-size="14.00">delete_raw_after_rollup : NoneType</text>
<text text-anchor="start" x="96729" y="-3961.3" font-family="Arial" font-size="14.00">delete_raw_after_rollup_hours</text>
<text text-anchor="start" x="96729" y="-3946.3" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="96729" y="-3931.3" font-family="Arial" font-size="14.00">rollup_interval_hours</text>
<polyline fill="none" stroke="#ffaabb" points="96629.5,-3923.5 97042.5,-3923.5 "/>
<text text-anchor="start" x="96637.5" y="-3908.3" font-family="Arial" font-size="14.00">get_stats(): dict</text>
<text text-anchor="start" x="96637.5" y="-3893.3" font-family="Arial" font-size="14.00">pause(reason: str): None</text>
<text text-anchor="start" x="96637.5" y="-3878.3" font-family="Arial" font-size="14.00">pause_during(reason: str)</text>
<text text-anchor="start" x="96637.5" y="-3863.3" font-family="Arial" font-size="14.00">resume(): None</text>
<text text-anchor="start" x="96637.5" y="-3848.3" font-family="Arial" font-size="14.00">rollup_all(hours_back: int, force_reprocess: bool): RollupSummary</text>
<text text-anchor="start" x="96637.5" y="-3833.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="96637.5" y="-3818.3" font-family="Arial" font-size="14.00">start(): None</text>
</g>
<!-- mcpgateway.common.models.ModelHint -->
<g id="node291" class="node">
<title>mcpgateway.common.models.ModelHint</title>
<polygon fill="white" stroke="#44bb99" points="97061,-3885.5 97061,-3954.5 97197,-3954.5 97197,-3885.5 97061,-3885.5"/>
<text text-anchor="start" x="97098" y="-3939.3" font-family="Arial" font-size="14.00">ModelHint</text>
<polyline fill="none" stroke="#44bb99" points="97061,-3931.5 97197,-3931.5 "/>
<text text-anchor="start" x="97069" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="97061,-3908.5 97197,-3908.5 "/>
<text text-anchor="start" x="97127" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ModelPreferences -->
<g id="node292" class="node">
<title>mcpgateway.common.models.ModelPreferences</title>
<polygon fill="white" stroke="#44bb99" points="97215.5,-3863 97215.5,-3977 97442.5,-3977 97442.5,-3863 97215.5,-3863"/>
<text text-anchor="start" x="97273.5" y="-3961.8" font-family="Arial" font-size="14.00">ModelPreferences</text>
<polyline fill="none" stroke="#44bb99" points="97215.5,-3954 97442.5,-3954 "/>
<text text-anchor="start" x="97223.5" y="-3938.8" font-family="Arial" font-size="14.00">cost_priority : Optional[float]</text>
<text text-anchor="start" x="97223.5" y="-3923.8" font-family="Arial" font-size="14.00">hints : List[ModelHint]</text>
<text text-anchor="start" x="97223.5" y="-3908.8" font-family="Arial" font-size="14.00">intelligence_priority : Optional[float]</text>
<text text-anchor="start" x="97223.5" y="-3893.8" font-family="Arial" font-size="14.00">speed_priority : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="97215.5,-3886 97442.5,-3886 "/>
<text text-anchor="start" x="97327" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate_header_utils.NormalizedMappings -->
<g id="node293" class="node">
<title>mcpgateway.translate_header_utils.NormalizedMappings</title>
<polygon fill="white" stroke="#77aadd" points="97461,-3877.1 97461,-3962.9 97733,-3962.9 97733,-3877.1 97461,-3877.1"/>
<text text-anchor="start" x="97532.5" y="-3947.7" font-family="Arial" font-size="14.00">NormalizedMappings</text>
<polyline fill="none" stroke="#77aadd" points="97461,-3939.9 97733,-3939.9 "/>
<polyline fill="none" stroke="#77aadd" points="97461,-3915.1 97733,-3915.1 "/>
<text text-anchor="start" x="97469" y="-3899.9" font-family="Arial" font-size="14.00">get_env_var(header_name: str): str | None</text>
<text text-anchor="start" x="97469" y="-3884.9" font-family="Arial" font-size="14.00">values()</text>
</g>
<!-- mcpgateway.services.notification_service.NotificationService -->
<g id="node294" class="node">
<title>mcpgateway.services.notification_service.NotificationService</title>
<polygon fill="white" stroke="#ffaabb" points="97751,-3833 97751,-4007 98343,-4007 98343,-3833 97751,-3833"/>
<text text-anchor="start" x="97991" y="-3991.8" font-family="Arial" font-size="14.00">NotificationService</text>
<polyline fill="none" stroke="#ffaabb" points="97751,-3984 98343,-3984 "/>
<text text-anchor="start" x="97970" y="-3968.8" font-family="Arial" font-size="14.00">debounce_seconds : float</text>
<polyline fill="none" stroke="#ffaabb" points="97751,-3961 98343,-3961 "/>
<text text-anchor="start" x="97759" y="-3945.8" font-family="Arial" font-size="14.00">create_message_handler(gateway_id: str, gateway_url: Optional[str]): MessageHandlerCallback</text>
<text text-anchor="start" x="97759" y="-3930.8" font-family="Arial" font-size="14.00">get_metrics(): Dict[str, Any]</text>
<text text-anchor="start" x="97759" y="-3915.8" font-family="Arial" font-size="14.00">initialize(gateway_service: Optional[&#39;GatewayService&#39;]): None</text>
<text text-anchor="start" x="97759" y="-3900.8" font-family="Arial" font-size="14.00">register_gateway_capabilities(gateway_id: str, capabilities: Dict[str, Any]): None</text>
<text text-anchor="start" x="97759" y="-3885.8" font-family="Arial" font-size="14.00">set_gateway_service(gateway_service: &#39;GatewayService&#39;): None</text>
<text text-anchor="start" x="97759" y="-3870.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="97759" y="-3855.8" font-family="Arial" font-size="14.00">supports_list_changed(gateway_id: str): bool</text>
<text text-anchor="start" x="97759" y="-3840.8" font-family="Arial" font-size="14.00">unregister_gateway(gateway_id: str): None</text>
</g>
<!-- mcpgateway.services.notification_service.NotificationType -->
<g id="node295" class="node">
<title>mcpgateway.services.notification_service.NotificationType</title>
<polygon fill="white" stroke="#ffaabb" points="98361.5,-3885.5 98361.5,-3954.5 98474.5,-3954.5 98474.5,-3885.5 98361.5,-3885.5"/>
<text text-anchor="start" x="98369.5" y="-3939.3" font-family="Arial" font-size="14.00">NotificationType</text>
<polyline fill="none" stroke="#ffaabb" points="98361.5,-3931.5 98474.5,-3931.5 "/>
<text text-anchor="start" x="98400.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="98361.5,-3908.5 98474.5,-3908.5 "/>
<text text-anchor="start" x="98416" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthError -->
<g id="node296" class="node">
<title>mcpgateway.services.oauth_manager.OAuthError</title>
<polygon fill="white" stroke="#ffaabb" points="98493,-3884.6 98493,-3955.4 98579,-3955.4 98579,-3884.6 98493,-3884.6"/>
<text text-anchor="start" x="98501" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">OAuthError</text>
<polyline fill="none" stroke="#ffaabb" points="98493,-3932.4 98579,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="98493,-3907.6 98579,-3907.6 "/>
<text text-anchor="start" x="98534" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager -->
<g id="node297" class="node">
<title>mcpgateway.services.oauth_manager.OAuthManager</title>
<polygon fill="white" stroke="#ffaabb" points="50763.5,-7974 50763.5,-8178 51442.5,-8178 51442.5,-7974 50763.5,-7974"/>
<text text-anchor="start" x="51056" y="-8162.8" font-family="Arial" font-size="14.00">OAuthManager</text>
<polyline fill="none" stroke="#ffaabb" points="50763.5,-8155 51442.5,-8155 "/>
<text text-anchor="start" x="51013.5" y="-8139.8" font-family="Arial" font-size="14.00">max_retries : int</text>
<text text-anchor="start" x="51013.5" y="-8124.8" font-family="Arial" font-size="14.00">request_timeout : int</text>
<text text-anchor="start" x="51013.5" y="-8109.8" font-family="Arial" font-size="14.00">settings</text>
<text text-anchor="start" x="51013.5" y="-8094.8" font-family="Arial" font-size="14.00">token_storage : Optional[Any]</text>
<polyline fill="none" stroke="#ffaabb" points="50763.5,-8087 51442.5,-8087 "/>
<text text-anchor="start" x="50771.5" y="-8071.8" font-family="Arial" font-size="14.00">complete_authorization_code_flow(gateway_id: str, code: str, state: str, credentials: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="50771.5" y="-8056.8" font-family="Arial" font-size="14.00">exchange_code_for_token(credentials: Dict[str, Any], code: str, state: str): str</text>
<text text-anchor="start" x="50771.5" y="-8041.8" font-family="Arial" font-size="14.00">get_access_token(credentials: Dict[str, Any]): str</text>
<text text-anchor="start" x="50771.5" y="-8026.8" font-family="Arial" font-size="14.00">get_access_token_for_user(gateway_id: str, app_user_email: str): Optional[str]</text>
<text text-anchor="start" x="50771.5" y="-8011.8" font-family="Arial" font-size="14.00">get_authorization_url(credentials: Dict[str, Any]): Dict[str, str]</text>
<text text-anchor="start" x="50771.5" y="-7996.8" font-family="Arial" font-size="14.00">initiate_authorization_code_flow(gateway_id: str, credentials: Dict[str, Any], app_user_email: str): Dict[str, str]</text>
<text text-anchor="start" x="50771.5" y="-7981.8" font-family="Arial" font-size="14.00">refresh_token(refresh_token: str, credentials: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.gateway_service.GatewayService -->
<g id="edge167" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.gateway_service.GatewayService</title>
<path fill="none" stroke="gray" d="M50945.15,-8178.21C50887.25,-8210.4 50819.75,-8242.43 50754,-8261 50423.08,-8354.44 50319.41,-8262.74 49976.61,-8311.51"/>
<polygon fill="gray" stroke="gray" points="49976.45,-8311.54 49971.09,-8316.36 49964.58,-8313.27 49969.94,-8308.45 49976.45,-8311.54"/>
<text text-anchor="middle" x="50726" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.services.resource_service.ResourceService -->
<g id="node449" class="node">
<title>mcpgateway.services.resource_service.ResourceService</title>
<polygon fill="white" stroke="#ffaabb" points="49982.5,-8335 49982.5,-8719 52223.5,-8719 52223.5,-8335 49982.5,-8335"/>
<text text-anchor="start" x="51051.5" y="-8703.8" font-family="Arial" font-size="14.00">ResourceService</text>
<polyline fill="none" stroke="#ffaabb" points="49982.5,-8696 52223.5,-8696 "/>
<text text-anchor="start" x="51055" y="-8680.8" font-family="Arial" font-size="14.00">oauth_manager</text>
<polyline fill="none" stroke="#ffaabb" points="49982.5,-8673 52223.5,-8673 "/>
<text text-anchor="start" x="49990.5" y="-8657.8" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): ResourceMetrics</text>
<text text-anchor="start" x="49990.5" y="-8642.8" font-family="Arial" font-size="14.00">convert_resource_to_read(resource: DbResource, include_metrics: bool): ResourceRead</text>
<text text-anchor="start" x="49990.5" y="-8627.8" font-family="Arial" font-size="14.00">create_ssl_context(ca_certificate: str): ssl.SSLContext</text>
<text text-anchor="start" x="49990.5" y="-8612.8" font-family="Arial" font-size="14.00">delete_resource(db: Session, resource_id: Union[int, str], user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="49990.5" y="-8597.8" font-family="Arial" font-size="14.00">get_resource_by_id(db: Session, resource_id: str, include_inactive: bool): ResourceRead</text>
<text text-anchor="start" x="49990.5" y="-8582.8" font-family="Arial" font-size="14.00">get_top_resources(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="49990.5" y="-8567.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="49990.5" y="-8552.8" font-family="Arial" font-size="14.00">invoke_resource(db: Session, resource_id: str, resource_uri: str, resource_template_uri: Optional[str], user_identity: Optional[Union[str, Dict[str, Any]]], meta_data: Optional[Dict[str, Any]]): Any</text>
<text text-anchor="start" x="49990.5" y="-8537.8" font-family="Arial" font-size="14.00">list_resource_templates(db: Session, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]], tags: Optional[List[str]], visibility: Optional[str]): List[ResourceTemplate]</text>
<text text-anchor="start" x="49990.5" y="-8522.8" font-family="Arial" font-size="14.00">list_resources(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[ResourceRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="49990.5" y="-8507.8" font-family="Arial" font-size="14.00">list_resources_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[ResourceRead]</text>
<text text-anchor="start" x="49990.5" y="-8492.8" font-family="Arial" font-size="14.00">list_server_resources(db: Session, server_id: str, include_inactive: bool, user_email: Optional[str], token_teams: Optional[List[str]]): List[ResourceRead]</text>
<text text-anchor="start" x="49990.5" y="-8477.8" font-family="Arial" font-size="14.00">read_resource(db: Session, resource_id: Optional[Union[int, str]], resource_uri: Optional[str], request_id: Optional[str], user: Optional[str], server_id: Optional[str], include_inactive: bool, token_teams: Optional[List[str]], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], meta_data: Optional[Dict[str, Any]]): ResourceContent</text>
<text text-anchor="start" x="49990.5" y="-8462.8" font-family="Arial" font-size="14.00">register_resource(db: Session, resource: ResourceCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): ResourceRead</text>
<text text-anchor="start" x="49990.5" y="-8447.8" font-family="Arial" font-size="14.00">register_resources_bulk(db: Session, resources: List[ResourceCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="49990.5" y="-8432.8" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="49990.5" y="-8417.8" font-family="Arial" font-size="14.00">set_resource_state(db: Session, resource_id: int, activate: bool, user_email: Optional[str], skip_cache_invalidation: bool): ResourceRead</text>
<text text-anchor="start" x="49990.5" y="-8402.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="49990.5" y="-8387.8" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="49990.5" y="-8372.8" font-family="Arial" font-size="14.00">subscribe_resource(db: Session, subscription: ResourceSubscription): None</text>
<text text-anchor="start" x="49990.5" y="-8357.8" font-family="Arial" font-size="14.00">unsubscribe_resource(db: Session, subscription: ResourceSubscription): None</text>
<text text-anchor="start" x="49990.5" y="-8342.8" font-family="Arial" font-size="14.00">update_resource(db: Session, resource_id: Union[int, str], resource_update: ResourceUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): ResourceRead</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.resource_service.ResourceService -->
<g id="edge168" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.resource_service.ResourceService</title>
<path fill="none" stroke="gray" d="M51103,-8178.04C51103,-8220.9 51103,-8272.46 51103,-8322.61"/>
<polygon fill="gray" stroke="gray" points="51103,-8322.64 51107,-8328.64 51103,-8334.64 51099,-8328.64 51103,-8322.64"/>
<text text-anchor="middle" x="51151" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.services.tool_service.ToolService -->
<g id="node586" class="node">
<title>mcpgateway.services.tool_service.ToolService</title>
<polygon fill="white" stroke="#ffaabb" points="52242,-8350 52242,-8704 54536,-8704 54536,-8350 52242,-8350"/>
<text text-anchor="start" x="53354" y="-8688.8" font-family="Arial" font-size="14.00">ToolService</text>
<polyline fill="none" stroke="#ffaabb" points="52242,-8681 54536,-8681 "/>
<text text-anchor="start" x="53341" y="-8665.8" font-family="Arial" font-size="14.00">oauth_manager</text>
<polyline fill="none" stroke="#ffaabb" points="52242,-8658 54536,-8658 "/>
<text text-anchor="start" x="52250" y="-8642.8" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="52250" y="-8627.8" font-family="Arial" font-size="14.00">convert_tool_to_read(tool: DbTool, include_metrics: bool, include_auth: bool): ToolRead</text>
<text text-anchor="start" x="52250" y="-8612.8" font-family="Arial" font-size="14.00">create_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str]): DbTool</text>
<text text-anchor="start" x="52250" y="-8597.8" font-family="Arial" font-size="14.00">delete_tool(db: Session, tool_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="52250" y="-8582.8" font-family="Arial" font-size="14.00">delete_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="52250" y="-8567.8" font-family="Arial" font-size="14.00">get_tool(db: Session, tool_id: str): ToolRead</text>
<text text-anchor="start" x="52250" y="-8552.8" font-family="Arial" font-size="14.00">get_top_tools(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="52250" y="-8537.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="52250" y="-8522.8" font-family="Arial" font-size="14.00">invoke_tool(db: Session, name: str, arguments: Dict[str, Any], request_headers: Optional[Dict[str, str]], app_user_email: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]], server_id: Optional[str], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], meta_data: Optional[Dict[str, Any]]): ToolResult</text>
<text text-anchor="start" x="52250" y="-8507.8" font-family="Arial" font-size="14.00">list_server_tools(db: Session, server_id: str, include_inactive: bool, include_metrics: bool, cursor: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]], _request_headers: Optional[Dict[str, str]]): List[ToolRead]</text>
<text text-anchor="start" x="52250" y="-8492.8" font-family="Arial" font-size="14.00">list_tools(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], gateway_id: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]], _request_headers: Optional[Dict[str, str]]): Union[tuple[List[ToolRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="52250" y="-8477.8" font-family="Arial" font-size="14.00">list_tools_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, _skip: int, _limit: int): tuple[List[ToolRead], Optional[str]]</text>
<text text-anchor="start" x="52250" y="-8462.8" font-family="Arial" font-size="14.00">register_tool(db: Session, tool: ToolCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: str): ToolRead</text>
<text text-anchor="start" x="52250" y="-8447.8" font-family="Arial" font-size="14.00">register_tools_bulk(db: Session, tools: List[ToolCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="52250" y="-8432.8" font-family="Arial" font-size="14.00">reset_metrics(db: Session, tool_id: Optional[int]): None</text>
<text text-anchor="start" x="52250" y="-8417.8" font-family="Arial" font-size="14.00">set_tool_state(db: Session, tool_id: str, activate: bool, reachable: bool, user_email: Optional[str], skip_cache_invalidation: bool): ToolRead</text>
<text text-anchor="start" x="52250" y="-8402.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="52250" y="-8387.8" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="52250" y="-8372.8" font-family="Arial" font-size="14.00">update_tool(db: Session, tool_id: str, tool_update: ToolUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): ToolRead</text>
<text text-anchor="start" x="52250" y="-8357.8" font-family="Arial" font-size="14.00">update_tool_from_a2a_agent(db: Session, agent: DbA2AAgent, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str]): Optional[ToolRead]</text>
</g>
<!-- mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.tool_service.ToolService -->
<g id="edge169" class="edge">
<title>mcpgateway.services.oauth_manager.OAuthManager&#45;&gt;mcpgateway.services.tool_service.ToolService</title>
<path fill="none" stroke="gray" d="M51442.77,-8143.74C51716.84,-8197.57 52115.5,-8275.87 52480.75,-8347.61"/>
<polygon fill="gray" stroke="gray" points="52480.86,-8347.63 52487.52,-8344.86 52492.63,-8349.94 52485.97,-8352.71 52480.86,-8347.63"/>
<text text-anchor="middle" x="52226" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">oauth_manager</text>
</g>
<!-- mcpgateway.db.OAuthState -->
<g id="node298" class="node">
<title>mcpgateway.db.OAuthState</title>
<polygon fill="white" stroke="#77aadd" points="6130,-3833 6130,-4007 6366,-4007 6366,-3833 6130,-3833"/>
<text text-anchor="start" x="6212.5" y="-3991.8" font-family="Arial" font-size="14.00">OAuthState</text>
<polyline fill="none" stroke="#77aadd" points="6130,-3984 6366,-3984 "/>
<text text-anchor="start" x="6138" y="-3968.8" font-family="Arial" font-size="14.00">code_verifier : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6138" y="-3953.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6138" y="-3938.8" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="6138" y="-3923.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="6138" y="-3908.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-3893.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-3878.8" font-family="Arial" font-size="14.00">state : Mapped[str]</text>
<text text-anchor="start" x="6138" y="-3863.8" font-family="Arial" font-size="14.00">used : Mapped[bool]</text>
<polyline fill="none" stroke="#77aadd" points="6130,-3856 6366,-3856 "/>
<text text-anchor="start" x="6246" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.OAuthState&#45;&gt;mcpgateway.db.Base -->
<g id="edge28" class="edge">
<title>mcpgateway.db.OAuthState&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6244.19,-4007.12C6220.77,-4555.84 6105.93,-7550.04 6375,-7840 6571.07,-8051.29 8730.48,-8072.61 9181.67,-8074.76"/>
<polygon fill="none" stroke="gray" points="9181.67,-8078.26 9191.69,-8074.81 9181.7,-8071.26 9181.67,-8078.26"/>
</g>
<!-- mcpgateway.db.OAuthToken -->
<g id="node299" class="node">
<title>mcpgateway.db.OAuthToken</title>
<polygon fill="white" stroke="#77aadd" points="6384,-3795.5 6384,-4044.5 6642,-4044.5 6642,-3795.5 6384,-3795.5"/>
<text text-anchor="start" x="6475" y="-4029.3" font-family="Arial" font-size="14.00">OAuthToken</text>
<polyline fill="none" stroke="#77aadd" points="6384,-4021.5 6642,-4021.5 "/>
<text text-anchor="start" x="6392" y="-4006.3" font-family="Arial" font-size="14.00">access_token : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-3991.3" font-family="Arial" font-size="14.00">app_user : Mapped[&#39;EmailUser&#39;]</text>
<text text-anchor="start" x="6392" y="-3976.3" font-family="Arial" font-size="14.00">app_user_email : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-3961.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6392" y="-3946.3" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="6392" y="-3931.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="6392" y="-3916.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-3901.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-3886.3" font-family="Arial" font-size="14.00">refresh_token : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6392" y="-3871.3" font-family="Arial" font-size="14.00">scopes : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="6392" y="-3856.3" font-family="Arial" font-size="14.00">token_type : Mapped[str]</text>
<text text-anchor="start" x="6392" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="6392" y="-3826.3" font-family="Arial" font-size="14.00">user_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="6384,-3818.5 6642,-3818.5 "/>
<text text-anchor="start" x="6511" y="-3803.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.OAuthToken&#45;&gt;mcpgateway.db.Base -->
<g id="edge29" class="edge">
<title>mcpgateway.db.OAuthToken&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6507.93,-4044.61C6483.12,-4679.76 6386.02,-7557.44 6651,-7840 6828.37,-8029.14 8757.65,-8067.73 9181.84,-8073.95"/>
<polygon fill="none" stroke="gray" points="9181.82,-8077.45 9191.87,-8074.1 9181.93,-8070.45 9181.82,-8077.45"/>
</g>
<!-- mcpgateway.services.gateway_service.OAuthToolValidationError -->
<g id="node300" class="node">
<title>mcpgateway.services.gateway_service.OAuthToolValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="62030.5,-3884.6 62030.5,-3955.4 62199.5,-3955.4 62199.5,-3884.6 62030.5,-3884.6"/>
<text text-anchor="start" x="62038.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">OAuthToolValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="62030.5,-3932.4 62199.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="62030.5,-3907.6 62199.5,-3907.6 "/>
<text text-anchor="start" x="62113" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.gateway_service.OAuthToolValidationError&#45;&gt;mcpgateway.services.gateway_service.GatewayConnectionError -->
<g id="edge95" class="edge">
<title>mcpgateway.services.gateway_service.OAuthToolValidationError&#45;&gt;mcpgateway.services.gateway_service.GatewayConnectionError</title>
<path fill="none" stroke="gray" d="M62115,-3955.66C62115,-4329.39 62115,-7607.55 62115,-8030.19"/>
<polygon fill="none" stroke="gray" points="62111.5,-8030.48 62115,-8040.48 62118.5,-8030.48 62111.5,-8030.48"/>
</g>
<!-- mcpgateway.db.ObservabilityEvent -->
<g id="node301" class="node">
<title>mcpgateway.db.ObservabilityEvent</title>
<polygon fill="white" stroke="#77aadd" points="6660.5,-3803 6660.5,-4037 6945.5,-4037 6945.5,-3803 6660.5,-3803"/>
<text text-anchor="start" x="6746" y="-4021.8" font-family="Arial" font-size="14.00">ObservabilityEvent</text>
<polyline fill="none" stroke="#77aadd" points="6660.5,-4014 6945.5,-4014 "/>
<text text-anchor="start" x="6668.5" y="-3998.8" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="6668.5" y="-3983.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6668.5" y="-3968.8" font-family="Arial" font-size="14.00">exception_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-3953.8" font-family="Arial" font-size="14.00">exception_stacktrace : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-3938.8" font-family="Arial" font-size="14.00">exception_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="6668.5" y="-3908.8" font-family="Arial" font-size="14.00">message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-3893.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="6668.5" y="-3878.8" font-family="Arial" font-size="14.00">severity : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6668.5" y="-3863.8" font-family="Arial" font-size="14.00">span : Mapped[&#39;ObservabilitySpan&#39;]</text>
<text text-anchor="start" x="6668.5" y="-3848.8" font-family="Arial" font-size="14.00">span_id : Mapped[str]</text>
<text text-anchor="start" x="6668.5" y="-3833.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="6660.5,-3826 6945.5,-3826 "/>
<text text-anchor="start" x="6801" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge30" class="edge">
<title>mcpgateway.db.ObservabilityEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M6798.68,-4037.13C6776.78,-4656.75 6689.13,-7556.09 6955,-7840 7110.48,-8006.03 8788.19,-8062 9181.73,-8072.89"/>
<polygon fill="none" stroke="gray" points="9181.8,-8076.4 9191.89,-8073.17 9181.99,-8069.4 9181.8,-8076.4"/>
</g>
<!-- mcpgateway.schemas.ObservabilityEventBase -->
<g id="node302" class="node">
<title>mcpgateway.schemas.ObservabilityEventBase</title>
<polygon fill="white" stroke="#77aadd" points="98653,-7981.5 98653,-8170.5 98881,-8170.5 98881,-7981.5 98653,-7981.5"/>
<text text-anchor="start" x="98694.5" y="-8155.3" font-family="Arial" font-size="14.00">ObservabilityEventBase</text>
<polyline fill="none" stroke="#77aadd" points="98653,-8147.5 98881,-8147.5 "/>
<text text-anchor="start" x="98661" y="-8132.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="98661" y="-8117.3" font-family="Arial" font-size="14.00">exception_message : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8102.3" font-family="Arial" font-size="14.00">exception_stacktrace : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8087.3" font-family="Arial" font-size="14.00">exception_type : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8072.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8057.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8042.3" font-family="Arial" font-size="14.00">severity : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8027.3" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<text text-anchor="start" x="98661" y="-8012.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="98653,-8004.5 98881,-8004.5 "/>
<text text-anchor="start" x="98765" y="-7989.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventCreate -->
<g id="node303" class="node">
<title>mcpgateway.schemas.ObservabilityEventCreate</title>
<polygon fill="white" stroke="#77aadd" points="98597,-3884.6 98597,-3955.4 98767,-3955.4 98767,-3884.6 98597,-3884.6"/>
<text text-anchor="start" x="98605" y="-3940.2" font-family="Arial" font-size="14.00">ObservabilityEventCreate</text>
<polyline fill="none" stroke="#77aadd" points="98597,-3932.4 98767,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="98597,-3907.6 98767,-3907.6 "/>
<text text-anchor="start" x="98680" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventCreate&#45;&gt;mcpgateway.schemas.ObservabilityEventBase -->
<g id="edge75" class="edge">
<title>mcpgateway.schemas.ObservabilityEventCreate&#45;&gt;mcpgateway.schemas.ObservabilityEventBase</title>
<path fill="none" stroke="gray" d="M98682.71,-3955.66C98690.07,-4315.46 98752.52,-7367.18 98764.88,-7971.32"/>
<polygon fill="none" stroke="gray" points="98761.38,-7971.39 98765.08,-7981.32 98768.38,-7971.25 98761.38,-7971.39"/>
</g>
<!-- mcpgateway.schemas.ObservabilityEventRead -->
<g id="node304" class="node">
<title>mcpgateway.schemas.ObservabilityEventRead</title>
<polygon fill="white" stroke="#77aadd" points="98785.5,-3870.5 98785.5,-3969.5 98988.5,-3969.5 98988.5,-3870.5 98785.5,-3870.5"/>
<text text-anchor="start" x="98814" y="-3954.3" font-family="Arial" font-size="14.00">ObservabilityEventRead</text>
<polyline fill="none" stroke="#77aadd" points="98785.5,-3946.5 98988.5,-3946.5 "/>
<text text-anchor="start" x="98793.5" y="-3931.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="98793.5" y="-3916.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="98793.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="98785.5,-3893.5 98988.5,-3893.5 "/>
<text text-anchor="start" x="98885" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityEventRead&#45;&gt;mcpgateway.schemas.ObservabilityEventBase -->
<g id="edge76" class="edge">
<title>mcpgateway.schemas.ObservabilityEventRead&#45;&gt;mcpgateway.schemas.ObservabilityEventBase</title>
<path fill="none" stroke="gray" d="M98886.05,-3969.57C98879.44,-4301.54 98838.95,-6270.65 98777,-7873 98775.76,-7904.98 98774.14,-7939.79 98772.56,-7971.36"/>
<polygon fill="none" stroke="gray" points="98769.06,-7971.33 98772.05,-7981.49 98776.05,-7971.68 98769.06,-7971.33"/>
</g>
<!-- mcpgateway.db.ObservabilityMetric -->
<g id="node305" class="node">
<title>mcpgateway.db.ObservabilityMetric</title>
<polygon fill="white" stroke="#77aadd" points="6964,-3810.5 6964,-4029.5 7238,-4029.5 7238,-3810.5 6964,-3810.5"/>
<text text-anchor="start" x="7042.5" y="-4014.3" font-family="Arial" font-size="14.00">ObservabilityMetric</text>
<polyline fill="none" stroke="#77aadd" points="6964,-4006.5 7238,-4006.5 "/>
<text text-anchor="start" x="6972" y="-3991.3" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="6972" y="-3976.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="6972" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="6972" y="-3946.3" font-family="Arial" font-size="14.00">metric_type : Mapped[str]</text>
<text text-anchor="start" x="6972" y="-3931.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="6972" y="-3916.3" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-3901.3" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-3886.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="6972" y="-3871.3" font-family="Arial" font-size="14.00">trace_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-3856.3" font-family="Arial" font-size="14.00">unit : Mapped[Optional[str]]</text>
<text text-anchor="start" x="6972" y="-3841.3" font-family="Arial" font-size="14.00">value : Mapped[float]</text>
<polyline fill="none" stroke="#77aadd" points="6964,-3833.5 7238,-3833.5 "/>
<text text-anchor="start" x="7099" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge31" class="edge">
<title>mcpgateway.db.ObservabilityMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7096.83,-4029.56C7074.72,-4632.56 6981.94,-7553.19 7247,-7840 7380.76,-7984.73 8819.62,-8055.91 9181.68,-8071.61"/>
<polygon fill="none" stroke="gray" points="9181.68,-8075.12 9191.82,-8072.05 9181.98,-8068.12 9181.68,-8075.12"/>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricBase -->
<g id="node306" class="node">
<title>mcpgateway.schemas.ObservabilityMetricBase</title>
<polygon fill="white" stroke="#77aadd" points="99087.5,-7981.5 99087.5,-8170.5 99304.5,-8170.5 99304.5,-7981.5 99087.5,-7981.5"/>
<text text-anchor="start" x="99122" y="-8155.3" font-family="Arial" font-size="14.00">ObservabilityMetricBase</text>
<polyline fill="none" stroke="#77aadd" points="99087.5,-8147.5 99304.5,-8147.5 "/>
<text text-anchor="start" x="99095.5" y="-8132.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="99095.5" y="-8117.3" font-family="Arial" font-size="14.00">metric_type : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8102.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8087.3" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8072.3" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8057.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="99095.5" y="-8042.3" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8027.3" font-family="Arial" font-size="14.00">unit : Optional[str]</text>
<text text-anchor="start" x="99095.5" y="-8012.3" font-family="Arial" font-size="14.00">value : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="99087.5,-8004.5 99304.5,-8004.5 "/>
<text text-anchor="start" x="99194" y="-7989.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricCreate -->
<g id="node307" class="node">
<title>mcpgateway.schemas.ObservabilityMetricCreate</title>
<polygon fill="white" stroke="#77aadd" points="99006.5,-3884.6 99006.5,-3955.4 99179.5,-3955.4 99179.5,-3884.6 99006.5,-3884.6"/>
<text text-anchor="start" x="99014.5" y="-3940.2" font-family="Arial" font-size="14.00">ObservabilityMetricCreate</text>
<polyline fill="none" stroke="#77aadd" points="99006.5,-3932.4 99179.5,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="99006.5,-3907.6 99179.5,-3907.6 "/>
<text text-anchor="start" x="99091" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricCreate&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase -->
<g id="edge77" class="edge">
<title>mcpgateway.schemas.ObservabilityMetricCreate&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase</title>
<path fill="none" stroke="gray" d="M99093.71,-3955.46C99099.56,-4239.72 99140.99,-6226.86 99188,-7840 99189.25,-7882.88 99190.82,-7930.16 99192.24,-7971"/>
<polygon fill="none" stroke="gray" points="99188.75,-7971.37 99192.6,-7981.24 99195.75,-7971.12 99188.75,-7971.37"/>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricRead -->
<g id="node308" class="node">
<title>mcpgateway.schemas.ObservabilityMetricRead</title>
<polygon fill="white" stroke="#77aadd" points="99197.5,-3870.5 99197.5,-3969.5 99400.5,-3969.5 99400.5,-3870.5 99197.5,-3870.5"/>
<text text-anchor="start" x="99224.5" y="-3954.3" font-family="Arial" font-size="14.00">ObservabilityMetricRead</text>
<polyline fill="none" stroke="#77aadd" points="99197.5,-3946.5 99400.5,-3946.5 "/>
<text text-anchor="start" x="99205.5" y="-3931.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="99205.5" y="-3916.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="99205.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="99197.5,-3893.5 99400.5,-3893.5 "/>
<text text-anchor="start" x="99297" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityMetricRead&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase -->
<g id="edge78" class="edge">
<title>mcpgateway.schemas.ObservabilityMetricRead&#45;&gt;mcpgateway.schemas.ObservabilityMetricBase</title>
<path fill="none" stroke="gray" d="M99298.01,-3969.56C99291.21,-4301.48 99250.23,-6270.3 99203,-7873 99202.06,-7904.97 99200.9,-7939.77 99199.8,-7971.35"/>
<polygon fill="none" stroke="gray" points="99196.3,-7971.36 99199.44,-7981.48 99203.29,-7971.61 99196.3,-7971.36"/>
</g>
<!-- mcpgateway.middleware.observability_middleware.ObservabilityMiddleware -->
<g id="node309" class="node">
<title>mcpgateway.middleware.observability_middleware.ObservabilityMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="101144,-8034 101144,-8118 101508,-8118 101508,-8034 101144,-8034"/>
<text text-anchor="start" x="101251.5" y="-8102.8" font-family="Arial" font-size="14.00">ObservabilityMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="101144,-8095 101508,-8095 "/>
<text text-anchor="start" x="101265.5" y="-8079.8" font-family="Arial" font-size="14.00">enabled : NoneType</text>
<text text-anchor="start" x="101265.5" y="-8064.8" font-family="Arial" font-size="14.00">service</text>
<polyline fill="none" stroke="#eedd88" points="101144,-8057 101508,-8057 "/>
<text text-anchor="start" x="101152" y="-8041.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable): Response</text>
</g>
<!-- mcpgateway.schemas.ObservabilityQueryParams -->
<g id="node310" class="node">
<title>mcpgateway.schemas.ObservabilityQueryParams</title>
<polygon fill="white" stroke="#77aadd" points="103251.5,-3818 103251.5,-4022 103454.5,-4022 103454.5,-3818 103251.5,-3818"/>
<text text-anchor="start" x="103271" y="-4006.8" font-family="Arial" font-size="14.00">ObservabilityQueryParams</text>
<polyline fill="none" stroke="#77aadd" points="103251.5,-3999 103454.5,-3999 "/>
<text text-anchor="start" x="103259.5" y="-3983.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="103259.5" y="-3968.8" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="103259.5" y="-3953.8" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="103259.5" y="-3938.8" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="103259.5" y="-3923.8" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<text text-anchor="start" x="103259.5" y="-3908.8" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="103259.5" y="-3893.8" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="103259.5" y="-3878.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="103259.5" y="-3863.8" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<text text-anchor="start" x="103259.5" y="-3848.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103251.5,-3841 103454.5,-3841 "/>
<text text-anchor="start" x="103351" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySavedQuery -->
<g id="node311" class="node">
<title>mcpgateway.db.ObservabilitySavedQuery</title>
<polygon fill="white" stroke="#77aadd" points="7256,-3818 7256,-4022 7528,-4022 7528,-3818 7256,-3818"/>
<text text-anchor="start" x="7314.5" y="-4006.8" font-family="Arial" font-size="14.00">ObservabilitySavedQuery</text>
<polyline fill="none" stroke="#77aadd" points="7256,-3999 7528,-3999 "/>
<text text-anchor="start" x="7264" y="-3983.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7264" y="-3968.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7264" y="-3953.8" font-family="Arial" font-size="14.00">filter_config : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="7264" y="-3938.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="7264" y="-3923.8" font-family="Arial" font-size="14.00">is_shared : Mapped[bool]</text>
<text text-anchor="start" x="7264" y="-3908.8" font-family="Arial" font-size="14.00">last_used_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7264" y="-3893.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7264" y="-3878.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="7264" y="-3863.8" font-family="Arial" font-size="14.00">use_count : Mapped[int]</text>
<text text-anchor="start" x="7264" y="-3848.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="7256,-3841 7528,-3841 "/>
<text text-anchor="start" x="7390" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySavedQuery&#45;&gt;mcpgateway.db.Base -->
<g id="edge32" class="edge">
<title>mcpgateway.db.ObservabilitySavedQuery&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7388.15,-4022.21C7366.86,-4608.13 7273.68,-7549.44 7537,-7840 7649.16,-7963.76 8852.46,-8048.85 9181.34,-8069.91"/>
<polygon fill="none" stroke="gray" points="9181.54,-8073.43 9191.74,-8070.57 9181.99,-8066.44 9181.54,-8073.43"/>
</g>
<!-- mcpgateway.services.observability_service.ObservabilityService -->
<g id="node312" class="node">
<title>mcpgateway.services.observability_service.ObservabilityService</title>
<polygon fill="white" stroke="#ffaabb" points="99419,-3772.1 99419,-4067.9 103233,-4067.9 103233,-3772.1 99419,-3772.1"/>
<text text-anchor="start" x="101264" y="-4052.7" font-family="Arial" font-size="14.00">ObservabilityService</text>
<polyline fill="none" stroke="#ffaabb" points="99419,-4044.9 103233,-4044.9 "/>
<polyline fill="none" stroke="#ffaabb" points="99419,-4020.1 103233,-4020.1 "/>
<text text-anchor="start" x="99427" y="-4004.9" font-family="Arial" font-size="14.00">add_event(db: Session, span_id: str, name: str, severity: Optional[str], message: Optional[str], exception_type: Optional[str], exception_message: Optional[str], exception_stacktrace: Optional[str], attributes: Optional[Dict[str, Any]]): int</text>
<text text-anchor="start" x="99427" y="-3989.9" font-family="Arial" font-size="14.00">delete_old_traces(db: Session, before_time: datetime): int</text>
<text text-anchor="start" x="99427" y="-3974.9" font-family="Arial" font-size="14.00">end_span(db: Session, span_id: str, status: str, status_message: Optional[str], attributes: Optional[Dict[str, Any]], commit: bool): None</text>
<text text-anchor="start" x="99427" y="-3959.9" font-family="Arial" font-size="14.00">end_trace(db: Session, trace_id: str, status: str, status_message: Optional[str], http_status_code: Optional[int], attributes: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="99427" y="-3944.9" font-family="Arial" font-size="14.00">get_trace(db: Session, trace_id: str, include_spans: bool): Optional[ObservabilityTrace]</text>
<text text-anchor="start" x="99427" y="-3929.9" font-family="Arial" font-size="14.00">get_trace_with_spans(db: Session, trace_id: str): Optional[ObservabilityTrace]</text>
<text text-anchor="start" x="99427" y="-3914.9" font-family="Arial" font-size="14.00">query_spans(db: Session, trace_id: Optional[str], trace_id_in: Optional[List[str]], resource_type: Optional[str], resource_type_in: Optional[List[str]], resource_name: Optional[str], resource_name_in: Optional[List[str]], name_contains: Optional[str], kind: Optional[str], kind_in: Optional[List[str]], status: Optional[str], status_in: Optional[List[str]], status_not_in: Optional[List[str]], start_time: Optional[datetime], end_time: Optional[datetime], min_duration_ms: Optional[float], max_duration_ms: Optional[float], attribute_filters: Optional[Dict[str, Any]], attribute_search: Optional[str], order_by: str, limit: int, offset: int): List[ObservabilitySpan]</text>
<text text-anchor="start" x="99427" y="-3899.9" font-family="Arial" font-size="14.00">query_traces(db: Session, start_time: Optional[datetime], end_time: Optional[datetime], min_duration_ms: Optional[float], max_duration_ms: Optional[float], status: Optional[str], status_in: Optional[List[str]], status_not_in: Optional[List[str]], http_status_code: Optional[int], http_status_code_in: Optional[List[int]], http_method: Optional[str], http_method_in: Optional[List[str]], user_email: Optional[str], user_email_in: Optional[List[str]], attribute_filters: Optional[Dict[str, Any]], attribute_filters_or: Optional[Dict[str, Any]], attribute_search: Optional[str], name_contains: Optional[str], order_by: str, limit: int, offset: int): List[ObservabilityTrace]</text>
<text text-anchor="start" x="99427" y="-3884.9" font-family="Arial" font-size="14.00">record_metric(db: Session, name: str, value: float, metric_type: str, unit: Optional[str], resource_type: Optional[str], resource_id: Optional[str], trace_id: Optional[str], attributes: Optional[Dict[str, Any]]): int</text>
<text text-anchor="start" x="99427" y="-3869.9" font-family="Arial" font-size="14.00">record_token_usage(db: Session, span_id: Optional[str], trace_id: Optional[str], model: Optional[str], input_tokens: int, output_tokens: int, total_tokens: Optional[int], estimated_cost_usd: Optional[float], provider: Optional[str]): None</text>
<text text-anchor="start" x="99427" y="-3854.9" font-family="Arial" font-size="14.00">record_transport_activity(db: Session, transport_type: str, operation: str, message_count: int, bytes_sent: Optional[int], bytes_received: Optional[int], connection_id: Optional[str], error: Optional[str]): None</text>
<text text-anchor="start" x="99427" y="-3839.9" font-family="Arial" font-size="14.00">start_span(db: Session, trace_id: str, name: str, parent_span_id: Optional[str], kind: str, resource_name: Optional[str], resource_type: Optional[str], resource_id: Optional[str], attributes: Optional[Dict[str, Any]], commit: bool): str</text>
<text text-anchor="start" x="99427" y="-3824.9" font-family="Arial" font-size="14.00">start_trace(db: Session, name: str, trace_id: Optional[str], parent_span_id: Optional[str], http_method: Optional[str], http_url: Optional[str], user_email: Optional[str], user_agent: Optional[str], ip_address: Optional[str], attributes: Optional[Dict[str, Any]], resource_attributes: Optional[Dict[str, Any]]): str</text>
<text text-anchor="start" x="99427" y="-3809.9" font-family="Arial" font-size="14.00">trace_a2a_request(db: Session, agent_id: str, agent_name: Optional[str], operation: Optional[str], request_data: Optional[Dict[str, Any]])</text>
<text text-anchor="start" x="99427" y="-3794.9" font-family="Arial" font-size="14.00">trace_span(db: Session, trace_id: str, name: str, parent_span_id: Optional[str], resource_type: Optional[str], resource_name: Optional[str], attributes: Optional[Dict[str, Any]])</text>
<text text-anchor="start" x="99427" y="-3779.9" font-family="Arial" font-size="14.00">trace_tool_invocation(db: Session, tool_name: str, arguments: Dict[str, Any], integration_type: Optional[str])</text>
</g>
<!-- mcpgateway.services.observability_service.ObservabilityService&#45;&gt;mcpgateway.middleware.observability_middleware.ObservabilityMiddleware -->
<g id="edge170" class="edge">
<title>mcpgateway.services.observability_service.ObservabilityService&#45;&gt;mcpgateway.middleware.observability_middleware.ObservabilityMiddleware</title>
<path fill="none" stroke="gray" d="M101326,-4067.93C101326,-4750.39 101326,-7595.77 101326,-8021.58"/>
<polygon fill="gray" stroke="gray" points="101326,-8021.75 101330,-8027.75 101326,-8033.75 101322,-8027.75 101326,-8021.75"/>
<text text-anchor="middle" x="101347.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">service</text>
</g>
<!-- mcpgateway.db.ObservabilitySpan -->
<g id="node313" class="node">
<title>mcpgateway.db.ObservabilitySpan</title>
<polygon fill="white" stroke="#77aadd" points="7546.5,-3758 7546.5,-4082 7881.5,-4082 7881.5,-3758 7546.5,-3758"/>
<text text-anchor="start" x="7658.5" y="-4066.8" font-family="Arial" font-size="14.00">ObservabilitySpan</text>
<polyline fill="none" stroke="#77aadd" points="7546.5,-4059 7881.5,-4059 "/>
<text text-anchor="start" x="7554.5" y="-4043.8" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7554.5" y="-4028.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7554.5" y="-4013.8" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="7554.5" y="-3998.8" font-family="Arial" font-size="14.00">end_time : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7554.5" y="-3983.8" font-family="Arial" font-size="14.00">events : Mapped[List[&#39;ObservabilityEvent&#39;]]</text>
<text text-anchor="start" x="7554.5" y="-3968.8" font-family="Arial" font-size="14.00">kind : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-3953.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-3938.8" font-family="Arial" font-size="14.00">parent_span : Mapped[Optional[&#39;ObservabilitySpan&#39;]]</text>
<text text-anchor="start" x="7554.5" y="-3923.8" font-family="Arial" font-size="14.00">parent_span_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3908.8" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3893.8" font-family="Arial" font-size="14.00">resource_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3878.8" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3863.8" font-family="Arial" font-size="14.00">span_id : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-3848.8" font-family="Arial" font-size="14.00">start_time : Mapped[datetime]</text>
<text text-anchor="start" x="7554.5" y="-3833.8" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="7554.5" y="-3818.8" font-family="Arial" font-size="14.00">status_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7554.5" y="-3803.8" font-family="Arial" font-size="14.00">trace : Mapped[&#39;ObservabilityTrace&#39;]</text>
<text text-anchor="start" x="7554.5" y="-3788.8" font-family="Arial" font-size="14.00">trace_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="7546.5,-3781 7881.5,-3781 "/>
<text text-anchor="start" x="7712" y="-3765.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilitySpan&#45;&gt;mcpgateway.db.Base -->
<g id="edge33" class="edge">
<title>mcpgateway.db.ObservabilitySpan&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M7695.82,-4082.27C7624.47,-4748.01 7391.25,-7273.88 7891,-7840 8062.84,-8034.66 8912.47,-8068.1 9181.89,-8073.82"/>
<polygon fill="none" stroke="gray" points="9181.92,-8077.33 9191.99,-8074.03 9182.06,-8070.33 9181.92,-8077.33"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanBase -->
<g id="node314" class="node">
<title>mcpgateway.schemas.ObservabilitySpanBase</title>
<polygon fill="white" stroke="#77aadd" points="103367.5,-8402.5 103367.5,-8651.5 103584.5,-8651.5 103584.5,-8402.5 103367.5,-8402.5"/>
<text text-anchor="start" x="103405" y="-8636.3" font-family="Arial" font-size="14.00">ObservabilitySpanBase</text>
<polyline fill="none" stroke="#77aadd" points="103367.5,-8628.5 103584.5,-8628.5 "/>
<text text-anchor="start" x="103375.5" y="-8613.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="103375.5" y="-8598.3" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="103375.5" y="-8583.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="103375.5" y="-8568.3" font-family="Arial" font-size="14.00">kind : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8553.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8538.3" font-family="Arial" font-size="14.00">parent_span_id : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8523.3" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8508.3" font-family="Arial" font-size="14.00">resource_name : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8493.3" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8478.3" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="103375.5" y="-8463.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8448.3" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<text text-anchor="start" x="103375.5" y="-8433.3" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103367.5,-8425.5 103584.5,-8425.5 "/>
<text text-anchor="start" x="103474" y="-8410.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanCreate -->
<g id="node315" class="node">
<title>mcpgateway.schemas.ObservabilitySpanCreate</title>
<polygon fill="white" stroke="#77aadd" points="103335.5,-8041.5 103335.5,-8110.5 103502.5,-8110.5 103502.5,-8041.5 103335.5,-8041.5"/>
<text text-anchor="start" x="103343.5" y="-8095.3" font-family="Arial" font-size="14.00">ObservabilitySpanCreate</text>
<polyline fill="none" stroke="#77aadd" points="103335.5,-8087.5 103502.5,-8087.5 "/>
<text text-anchor="start" x="103352.5" y="-8072.3" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103335.5,-8064.5 103502.5,-8064.5 "/>
<text text-anchor="start" x="103417" y="-8049.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanCreate&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase -->
<g id="edge79" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanCreate&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase</title>
<path fill="none" stroke="gray" d="M103423.28,-8110.75C103430.78,-8169.8 103446.66,-8294.87 103459.04,-8392.4"/>
<polygon fill="none" stroke="gray" points="103455.57,-8392.87 103460.3,-8402.35 103462.52,-8391.99 103455.57,-8392.87"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanRead -->
<g id="node316" class="node">
<title>mcpgateway.schemas.ObservabilitySpanRead</title>
<polygon fill="white" stroke="#77aadd" points="103520.5,-8026.5 103520.5,-8125.5 103723.5,-8125.5 103723.5,-8026.5 103520.5,-8026.5"/>
<text text-anchor="start" x="103550.5" y="-8110.3" font-family="Arial" font-size="14.00">ObservabilitySpanRead</text>
<polyline fill="none" stroke="#77aadd" points="103520.5,-8102.5 103723.5,-8102.5 "/>
<text text-anchor="start" x="103528.5" y="-8087.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="103528.5" y="-8072.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="103528.5" y="-8057.3" font-family="Arial" font-size="14.00">span_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103520.5,-8049.5 103723.5,-8049.5 "/>
<text text-anchor="start" x="103620" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanRead&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase -->
<g id="edge80" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanRead&#45;&gt;mcpgateway.schemas.ObservabilitySpanBase</title>
<path fill="none" stroke="gray" d="M103606.1,-8125.91C103585.45,-8189.39 103548.61,-8302.69 103519.39,-8392.55"/>
<polygon fill="none" stroke="gray" points="103516,-8391.68 103516.23,-8402.27 103522.65,-8393.85 103516,-8391.68"/>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanUpdate -->
<g id="node317" class="node">
<title>mcpgateway.schemas.ObservabilitySpanUpdate</title>
<polygon fill="white" stroke="#77aadd" points="103790.5,-3855.5 103790.5,-3984.5 104007.5,-3984.5 104007.5,-3855.5 103790.5,-3855.5"/>
<text text-anchor="start" x="103822" y="-3969.3" font-family="Arial" font-size="14.00">ObservabilitySpanUpdate</text>
<polyline fill="none" stroke="#77aadd" points="103790.5,-3961.5 104007.5,-3961.5 "/>
<text text-anchor="start" x="103798.5" y="-3946.3" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="103798.5" y="-3931.3" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="103798.5" y="-3916.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="103798.5" y="-3901.3" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="103798.5" y="-3886.3" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103790.5,-3878.5 104007.5,-3878.5 "/>
<text text-anchor="start" x="103897" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanWithEvents -->
<g id="node318" class="node">
<title>mcpgateway.schemas.ObservabilitySpanWithEvents</title>
<polygon fill="white" stroke="#77aadd" points="103472,-3885.5 103472,-3954.5 103772,-3954.5 103772,-3885.5 103472,-3885.5"/>
<text text-anchor="start" x="103532" y="-3939.3" font-family="Arial" font-size="14.00">ObservabilitySpanWithEvents</text>
<polyline fill="none" stroke="#77aadd" points="103472,-3931.5 103772,-3931.5 "/>
<text text-anchor="start" x="103480" y="-3916.3" font-family="Arial" font-size="14.00">events : Optional[List[ObservabilityEventRead]]</text>
<polyline fill="none" stroke="#77aadd" points="103472,-3908.5 103772,-3908.5 "/>
<text text-anchor="start" x="103620" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilitySpanWithEvents&#45;&gt;mcpgateway.schemas.ObservabilitySpanRead -->
<g id="edge81" class="edge">
<title>mcpgateway.schemas.ObservabilitySpanWithEvents&#45;&gt;mcpgateway.schemas.ObservabilitySpanRead</title>
<path fill="none" stroke="gray" d="M103622,-3954.74C103622,-4320.19 103622,-7540.38 103622,-8016.33"/>
<polygon fill="none" stroke="gray" points="103618.5,-8016.41 103622,-8026.41 103625.5,-8016.41 103618.5,-8016.41"/>
</g>
<!-- mcpgateway.db.ObservabilityTrace -->
<g id="node319" class="node">
<title>mcpgateway.db.ObservabilityTrace</title>
<polygon fill="white" stroke="#77aadd" points="7900,-3765.5 7900,-4074.5 8234,-4074.5 8234,-3765.5 7900,-3765.5"/>
<text text-anchor="start" x="8010" y="-4059.3" font-family="Arial" font-size="14.00">ObservabilityTrace</text>
<polyline fill="none" stroke="#77aadd" points="7900,-4051.5 8234,-4051.5 "/>
<text text-anchor="start" x="7908" y="-4036.3" font-family="Arial" font-size="14.00">attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7908" y="-4021.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="7908" y="-4006.3" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="7908" y="-3991.3" font-family="Arial" font-size="14.00">end_time : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="7908" y="-3976.3" font-family="Arial" font-size="14.00">http_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3961.3" font-family="Arial" font-size="14.00">http_status_code : Mapped[Optional[int]]</text>
<text text-anchor="start" x="7908" y="-3946.3" font-family="Arial" font-size="14.00">http_url : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3931.3" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3916.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-3901.3" font-family="Arial" font-size="14.00">resource_attributes : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="7908" y="-3886.3" font-family="Arial" font-size="14.00">spans : Mapped[List[&#39;ObservabilitySpan&#39;]]</text>
<text text-anchor="start" x="7908" y="-3871.3" font-family="Arial" font-size="14.00">start_time : Mapped[datetime]</text>
<text text-anchor="start" x="7908" y="-3856.3" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-3841.3" font-family="Arial" font-size="14.00">status_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3826.3" font-family="Arial" font-size="14.00">trace_id : Mapped[str]</text>
<text text-anchor="start" x="7908" y="-3811.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="7908" y="-3796.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="7900,-3788.5 8234,-3788.5 "/>
<text text-anchor="start" x="8065" y="-3773.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ObservabilityTrace&#45;&gt;mcpgateway.db.Base -->
<g id="edge34" class="edge">
<title>mcpgateway.db.ObservabilityTrace&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8050.36,-4074.59C7983.16,-4726.51 7757.88,-7257.84 8243,-7840 8363.93,-7985.12 8960.72,-8049.45 9181.6,-8068.56"/>
<polygon fill="none" stroke="gray" points="9181.57,-8072.07 9191.83,-8069.43 9182.17,-8065.09 9181.57,-8072.07"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceBase -->
<g id="node320" class="node">
<title>mcpgateway.schemas.ObservabilityTraceBase</title>
<polygon fill="white" stroke="#77aadd" points="103886.5,-8395 103886.5,-8659 104163.5,-8659 104163.5,-8395 103886.5,-8395"/>
<text text-anchor="start" x="103952.5" y="-8643.8" font-family="Arial" font-size="14.00">ObservabilityTraceBase</text>
<polyline fill="none" stroke="#77aadd" points="103886.5,-8636 104163.5,-8636 "/>
<text text-anchor="start" x="103894.5" y="-8620.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="103894.5" y="-8605.8" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="103894.5" y="-8590.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="103894.5" y="-8575.8" font-family="Arial" font-size="14.00">http_method : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8560.8" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="103894.5" y="-8545.8" font-family="Arial" font-size="14.00">http_url : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8530.8" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8515.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8500.8" font-family="Arial" font-size="14.00">resource_attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="103894.5" y="-8485.8" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<text text-anchor="start" x="103894.5" y="-8470.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8455.8" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8440.8" font-family="Arial" font-size="14.00">user_agent : Optional[str]</text>
<text text-anchor="start" x="103894.5" y="-8425.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103886.5,-8418 104163.5,-8418 "/>
<text text-anchor="start" x="104023" y="-8402.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceCreate -->
<g id="node321" class="node">
<title>mcpgateway.schemas.ObservabilityTraceCreate</title>
<polygon fill="white" stroke="#77aadd" points="103882,-8041.5 103882,-8110.5 104052,-8110.5 104052,-8041.5 103882,-8041.5"/>
<text text-anchor="start" x="103890" y="-8095.3" font-family="Arial" font-size="14.00">ObservabilityTraceCreate</text>
<polyline fill="none" stroke="#77aadd" points="103882,-8087.5 104052,-8087.5 "/>
<text text-anchor="start" x="103900.5" y="-8072.3" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="103882,-8064.5 104052,-8064.5 "/>
<text text-anchor="start" x="103965" y="-8049.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceCreate&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase -->
<g id="edge82" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceCreate&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase</title>
<path fill="none" stroke="gray" d="M103971.36,-8110.75C103978.79,-8168.26 103994.31,-8288.41 104006.75,-8384.73"/>
<polygon fill="none" stroke="gray" points="104003.31,-8385.4 104008.06,-8394.87 104010.25,-8384.5 104003.31,-8385.4"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceRead -->
<g id="node322" class="node">
<title>mcpgateway.schemas.ObservabilityTraceRead</title>
<polygon fill="white" stroke="#77aadd" points="104070.5,-8026.5 104070.5,-8125.5 104273.5,-8125.5 104273.5,-8026.5 104070.5,-8026.5"/>
<text text-anchor="start" x="104099" y="-8110.3" font-family="Arial" font-size="14.00">ObservabilityTraceRead</text>
<polyline fill="none" stroke="#77aadd" points="104070.5,-8102.5 104273.5,-8102.5 "/>
<text text-anchor="start" x="104078.5" y="-8087.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="104078.5" y="-8072.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="104078.5" y="-8057.3" font-family="Arial" font-size="14.00">trace_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="104070.5,-8049.5 104273.5,-8049.5 "/>
<text text-anchor="start" x="104170" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceRead&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase -->
<g id="edge83" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceRead&#45;&gt;mcpgateway.schemas.ObservabilityTraceBase</title>
<path fill="none" stroke="gray" d="M104155.99,-8125.91C104135.78,-8187.64 104100.15,-8296.46 104071.15,-8385.05"/>
<polygon fill="none" stroke="gray" points="104067.79,-8384.05 104068,-8394.65 104074.44,-8386.23 104067.79,-8384.05"/>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceUpdate -->
<g id="node323" class="node">
<title>mcpgateway.schemas.ObservabilityTraceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="104336.5,-3848 104336.5,-3992 104553.5,-3992 104553.5,-3848 104336.5,-3848"/>
<text text-anchor="start" x="104366.5" y="-3976.8" font-family="Arial" font-size="14.00">ObservabilityTraceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="104336.5,-3969 104553.5,-3969 "/>
<text text-anchor="start" x="104344.5" y="-3953.8" font-family="Arial" font-size="14.00">attributes : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="104344.5" y="-3938.8" font-family="Arial" font-size="14.00">duration_ms : Optional[float]</text>
<text text-anchor="start" x="104344.5" y="-3923.8" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="104344.5" y="-3908.8" font-family="Arial" font-size="14.00">http_status_code : Optional[int]</text>
<text text-anchor="start" x="104344.5" y="-3893.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="104344.5" y="-3878.8" font-family="Arial" font-size="14.00">status_message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="104336.5,-3871 104553.5,-3871 "/>
<text text-anchor="start" x="104443" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceWithSpans -->
<g id="node324" class="node">
<title>mcpgateway.schemas.ObservabilityTraceWithSpans</title>
<polygon fill="white" stroke="#77aadd" points="104025.5,-3885.5 104025.5,-3954.5 104318.5,-3954.5 104318.5,-3885.5 104025.5,-3885.5"/>
<text text-anchor="start" x="104082" y="-3939.3" font-family="Arial" font-size="14.00">ObservabilityTraceWithSpans</text>
<polyline fill="none" stroke="#77aadd" points="104025.5,-3931.5 104318.5,-3931.5 "/>
<text text-anchor="start" x="104033.5" y="-3916.3" font-family="Arial" font-size="14.00">spans : Optional[List[ObservabilitySpanRead]]</text>
<polyline fill="none" stroke="#77aadd" points="104025.5,-3908.5 104318.5,-3908.5 "/>
<text text-anchor="start" x="104170" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ObservabilityTraceWithSpans&#45;&gt;mcpgateway.schemas.ObservabilityTraceRead -->
<g id="edge84" class="edge">
<title>mcpgateway.schemas.ObservabilityTraceWithSpans&#45;&gt;mcpgateway.schemas.ObservabilityTraceRead</title>
<path fill="none" stroke="gray" d="M104172,-3954.74C104172,-4320.19 104172,-7540.38 104172,-8016.33"/>
<polygon fill="none" stroke="gray" points="104168.5,-8016.41 104172,-8026.41 104175.5,-8016.41 104168.5,-8016.41"/>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaConfig -->
<g id="node325" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OllamaConfig</title>
<polygon fill="white" stroke="#ffaabb" points="104571.5,-3848 104571.5,-3992 104756.5,-3992 104756.5,-3848 104571.5,-3848"/>
<text text-anchor="start" x="104622" y="-3976.8" font-family="Arial" font-size="14.00">OllamaConfig</text>
<polyline fill="none" stroke="#ffaabb" points="104571.5,-3969 104756.5,-3969 "/>
<text text-anchor="start" x="104579.5" y="-3953.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="104579.5" y="-3938.8" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="104579.5" y="-3923.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="104579.5" y="-3908.8" font-family="Arial" font-size="14.00">num_ctx : Optional[int]</text>
<text text-anchor="start" x="104579.5" y="-3893.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="104579.5" y="-3878.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="104571.5,-3871 104756.5,-3871 "/>
<text text-anchor="start" x="104662" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaProvider -->
<g id="node326" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OllamaProvider</title>
<polygon fill="white" stroke="#ffaabb" points="104481.5,-8034 104481.5,-8118 104846.5,-8118 104846.5,-8034 104481.5,-8034"/>
<text text-anchor="start" x="104616.5" y="-8102.8" font-family="Arial" font-size="14.00">OllamaProvider</text>
<polyline fill="none" stroke="#ffaabb" points="104481.5,-8095 104846.5,-8095 "/>
<text text-anchor="start" x="104645.5" y="-8079.8" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="104481.5,-8072 104846.5,-8072 "/>
<text text-anchor="start" x="104489.5" y="-8056.8" font-family="Arial" font-size="14.00">get_llm(model_type: str): Union[ChatOllama, OllamaLLM]</text>
<text text-anchor="start" x="104489.5" y="-8041.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OllamaConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OllamaProvider -->
<g id="edge184" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.OllamaConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OllamaProvider</title>
<path fill="none" stroke="gray" d="M104664,-3992.23C104664,-4501.24 104664,-7578.96 104664,-8021.91"/>
<polygon fill="none" stroke="gray" points="104664,-8021.95 104668,-8027.95 104664,-8033.95 104660,-8027.95 104664,-8021.95"/>
<text text-anchor="middle" x="104682.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIConfig -->
<g id="node327" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIConfig</title>
<polygon fill="white" stroke="#ffaabb" points="104923,-3825.5 104923,-4014.5 105127,-4014.5 105127,-3825.5 104923,-3825.5"/>
<text text-anchor="start" x="104982" y="-3999.3" font-family="Arial" font-size="14.00">OpenAIConfig</text>
<polyline fill="none" stroke="#ffaabb" points="104923,-3991.5 105127,-3991.5 "/>
<text text-anchor="start" x="104931" y="-3976.3" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="104931" y="-3961.3" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="104931" y="-3946.3" font-family="Arial" font-size="14.00">default_headers : Optional[dict]</text>
<text text-anchor="start" x="104931" y="-3931.3" font-family="Arial" font-size="14.00">max_retries : Optional[int]</text>
<text text-anchor="start" x="104931" y="-3916.3" font-family="Arial" font-size="14.00">max_tokens : Optional[int]</text>
<text text-anchor="start" x="104931" y="-3901.3" font-family="Arial" font-size="14.00">model : Optional[str]</text>
<text text-anchor="start" x="104931" y="-3886.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="104931" y="-3871.3" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="104931" y="-3856.3" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="104923,-3848.5 105127,-3848.5 "/>
<text text-anchor="start" x="105023" y="-3833.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIProvider -->
<g id="node328" class="node">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIProvider</title>
<polygon fill="white" stroke="#ffaabb" points="104865,-8034 104865,-8118 105185,-8118 105185,-8034 104865,-8034"/>
<text text-anchor="start" x="104976.5" y="-8102.8" font-family="Arial" font-size="14.00">OpenAIProvider</text>
<polyline fill="none" stroke="#ffaabb" points="104865,-8095 105185,-8095 "/>
<text text-anchor="start" x="105006.5" y="-8079.8" font-family="Arial" font-size="14.00">config</text>
<polyline fill="none" stroke="#ffaabb" points="104865,-8072 105185,-8072 "/>
<text text-anchor="start" x="104873" y="-8056.8" font-family="Arial" font-size="14.00">get_llm(model_type): Union[ChatOpenAI, OpenAI]</text>
<text text-anchor="start" x="104873" y="-8041.8" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.OpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OpenAIProvider -->
<g id="edge185" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.OpenAIConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.OpenAIProvider</title>
<path fill="none" stroke="gray" d="M105025,-4014.57C105025,-4584.89 105025,-7583.32 105025,-8021.54"/>
<polygon fill="none" stroke="gray" points="105025,-8021.75 105029,-8027.75 105025,-8033.75 105021,-8027.75 105025,-8021.75"/>
<text text-anchor="middle" x="105043.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.schemas.PaginatedResponse -->
<g id="node329" class="node">
<title>mcpgateway.schemas.PaginatedResponse</title>
<polygon fill="white" stroke="#77aadd" points="105145.5,-3870.5 105145.5,-3969.5 105388.5,-3969.5 105388.5,-3870.5 105145.5,-3870.5"/>
<text text-anchor="start" x="105206" y="-3954.3" font-family="Arial" font-size="14.00">PaginatedResponse</text>
<polyline fill="none" stroke="#77aadd" points="105145.5,-3946.5 105388.5,-3946.5 "/>
<text text-anchor="start" x="105153.5" y="-3931.3" font-family="Arial" font-size="14.00">data : Optional[List[Any]]</text>
<text text-anchor="start" x="105153.5" y="-3916.3" font-family="Arial" font-size="14.00">links : Optional[PaginationLinks]</text>
<text text-anchor="start" x="105153.5" y="-3901.3" font-family="Arial" font-size="14.00">pagination : Optional[PaginationMeta]</text>
<polyline fill="none" stroke="#77aadd" points="105145.5,-3893.5 105388.5,-3893.5 "/>
<text text-anchor="start" x="105265" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginatedTeamMembersResponse -->
<g id="node330" class="node">
<title>mcpgateway.schemas.PaginatedTeamMembersResponse</title>
<polygon fill="white" stroke="#77aadd" points="105407,-3878 105407,-3962 105725,-3962 105725,-3878 105407,-3878"/>
<text text-anchor="start" x="105459" y="-3946.8" font-family="Arial" font-size="14.00">PaginatedTeamMembersResponse</text>
<polyline fill="none" stroke="#77aadd" points="105407,-3939 105725,-3939 "/>
<text text-anchor="start" x="105415" y="-3923.8" font-family="Arial" font-size="14.00">members : Optional[List[TeamMemberResponse]]</text>
<text text-anchor="start" x="105415" y="-3908.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="105407,-3901 105725,-3901 "/>
<text text-anchor="start" x="105564" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationLinks -->
<g id="node331" class="node">
<title>mcpgateway.schemas.PaginationLinks</title>
<polygon fill="white" stroke="#77aadd" points="105743,-3855.5 105743,-3984.5 105871,-3984.5 105871,-3855.5 105743,-3855.5"/>
<text text-anchor="start" x="105759" y="-3969.3" font-family="Arial" font-size="14.00">PaginationLinks</text>
<polyline fill="none" stroke="#77aadd" points="105743,-3961.5 105871,-3961.5 "/>
<text text-anchor="start" x="105751" y="-3946.3" font-family="Arial" font-size="14.00">first : Optional[str]</text>
<text text-anchor="start" x="105751" y="-3931.3" font-family="Arial" font-size="14.00">last : Optional[str]</text>
<text text-anchor="start" x="105751" y="-3916.3" font-family="Arial" font-size="14.00">next : Optional[str]</text>
<text text-anchor="start" x="105751" y="-3901.3" font-family="Arial" font-size="14.00">prev : Optional[str]</text>
<text text-anchor="start" x="105751" y="-3886.3" font-family="Arial" font-size="14.00">self : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="105743,-3878.5 105871,-3878.5 "/>
<text text-anchor="start" x="105805" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationMeta -->
<g id="node332" class="node">
<title>mcpgateway.schemas.PaginationMeta</title>
<polygon fill="white" stroke="#77aadd" points="105889.5,-3833 105889.5,-4007 106062.5,-4007 106062.5,-3833 105889.5,-3833"/>
<text text-anchor="start" x="105928.5" y="-3991.8" font-family="Arial" font-size="14.00">PaginationMeta</text>
<polyline fill="none" stroke="#77aadd" points="105889.5,-3984 106062.5,-3984 "/>
<text text-anchor="start" x="105897.5" y="-3968.8" font-family="Arial" font-size="14.00">has_next : Optional[bool]</text>
<text text-anchor="start" x="105897.5" y="-3953.8" font-family="Arial" font-size="14.00">has_prev : Optional[bool]</text>
<text text-anchor="start" x="105897.5" y="-3938.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="105897.5" y="-3923.8" font-family="Arial" font-size="14.00">page : Optional[int]</text>
<text text-anchor="start" x="105897.5" y="-3908.8" font-family="Arial" font-size="14.00">per_page : Optional[int]</text>
<text text-anchor="start" x="105897.5" y="-3893.8" font-family="Arial" font-size="14.00">prev_cursor : Optional[str]</text>
<text text-anchor="start" x="105897.5" y="-3878.8" font-family="Arial" font-size="14.00">total_items : Optional[int]</text>
<text text-anchor="start" x="105897.5" y="-3863.8" font-family="Arial" font-size="14.00">total_pages : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="105889.5,-3856 106062.5,-3856 "/>
<text text-anchor="start" x="105974" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PaginationParams -->
<g id="node333" class="node">
<title>mcpgateway.schemas.PaginationParams</title>
<polygon fill="white" stroke="#77aadd" points="106080.5,-3855.5 106080.5,-3984.5 106243.5,-3984.5 106243.5,-3855.5 106080.5,-3855.5"/>
<text text-anchor="start" x="106106" y="-3969.3" font-family="Arial" font-size="14.00">PaginationParams</text>
<polyline fill="none" stroke="#77aadd" points="106080.5,-3961.5 106243.5,-3961.5 "/>
<text text-anchor="start" x="106088.5" y="-3946.3" font-family="Arial" font-size="14.00">cursor : Optional[str]</text>
<text text-anchor="start" x="106088.5" y="-3931.3" font-family="Arial" font-size="14.00">page : Optional[int]</text>
<text text-anchor="start" x="106088.5" y="-3916.3" font-family="Arial" font-size="14.00">per_page : Optional[int]</text>
<text text-anchor="start" x="106088.5" y="-3901.3" font-family="Arial" font-size="14.00">sort_by : Optional[str]</text>
<text text-anchor="start" x="106088.5" y="-3886.3" font-family="Arial" font-size="14.00">sort_order : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="106080.5,-3878.5 106243.5,-3878.5 "/>
<text text-anchor="start" x="106160" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.email_auth_service.PasswordValidationError -->
<g id="node334" class="node">
<title>mcpgateway.services.email_auth_service.PasswordValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="106262,-3884.6 106262,-3955.4 106426,-3955.4 106426,-3884.6 106262,-3884.6"/>
<text text-anchor="start" x="106270" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PasswordValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="106262,-3932.4 106426,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="106262,-3907.6 106426,-3907.6 "/>
<text text-anchor="start" x="106342" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PayloadSizeError -->
<g id="node335" class="node">
<title>mcpgateway.plugins.framework.manager.PayloadSizeError</title>
<polygon fill="white" stroke="#ee8866" points="106444,-3884.6 106444,-3955.4 106566,-3955.4 106566,-3884.6 106444,-3884.6"/>
<text text-anchor="start" x="106452" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PayloadSizeError</text>
<polyline fill="none" stroke="#ee8866" points="106444,-3932.4 106566,-3932.4 "/>
<polyline fill="none" stroke="#ee8866" points="106444,-3907.6 106566,-3907.6 "/>
<text text-anchor="start" x="106503" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.elicitation_service.PendingElicitation -->
<g id="node336" class="node">
<title>mcpgateway.services.elicitation_service.PendingElicitation</title>
<polygon fill="white" stroke="#ffaabb" points="106584,-3833 106584,-4007 106772,-4007 106772,-3833 106584,-3833"/>
<text text-anchor="start" x="106624" y="-3991.8" font-family="Arial" font-size="14.00">PendingElicitation</text>
<polyline fill="none" stroke="#ffaabb" points="106584,-3984 106772,-3984 "/>
<text text-anchor="start" x="106592" y="-3968.8" font-family="Arial" font-size="14.00">created_at : float</text>
<text text-anchor="start" x="106592" y="-3953.8" font-family="Arial" font-size="14.00">downstream_session_id : str</text>
<text text-anchor="start" x="106592" y="-3938.8" font-family="Arial" font-size="14.00">future : Future</text>
<text text-anchor="start" x="106592" y="-3923.8" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="106592" y="-3908.8" font-family="Arial" font-size="14.00">request_id : str</text>
<text text-anchor="start" x="106592" y="-3893.8" font-family="Arial" font-size="14.00">schema : Dict[str, Any]</text>
<text text-anchor="start" x="106592" y="-3878.8" font-family="Arial" font-size="14.00">timeout : float</text>
<text text-anchor="start" x="106592" y="-3863.8" font-family="Arial" font-size="14.00">upstream_session_id : str</text>
<polyline fill="none" stroke="#ffaabb" points="106584,-3856 106772,-3856 "/>
<text text-anchor="start" x="106676" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.notification_service.PendingRefresh -->
<g id="node337" class="node">
<title>mcpgateway.services.notification_service.PendingRefresh</title>
<polygon fill="white" stroke="#ffaabb" points="106790.5,-3855.5 106790.5,-3984.5 107017.5,-3984.5 107017.5,-3855.5 106790.5,-3855.5"/>
<text text-anchor="start" x="106855.5" y="-3969.3" font-family="Arial" font-size="14.00">PendingRefresh</text>
<polyline fill="none" stroke="#ffaabb" points="106790.5,-3961.5 107017.5,-3961.5 "/>
<text text-anchor="start" x="106798.5" y="-3946.3" font-family="Arial" font-size="14.00">enqueued_at : float</text>
<text text-anchor="start" x="106798.5" y="-3931.3" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="106798.5" y="-3916.3" font-family="Arial" font-size="14.00">include_prompts : bool</text>
<text text-anchor="start" x="106798.5" y="-3901.3" font-family="Arial" font-size="14.00">include_resources : bool</text>
<text text-anchor="start" x="106798.5" y="-3886.3" font-family="Arial" font-size="14.00">triggered_by : Set[NotificationType]</text>
<polyline fill="none" stroke="#ffaabb" points="106790.5,-3878.5 107017.5,-3878.5 "/>
<text text-anchor="start" x="106902" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PendingUserApproval -->
<g id="node338" class="node">
<title>mcpgateway.db.PendingUserApproval</title>
<polygon fill="white" stroke="#77aadd" points="8252,-3780.5 8252,-4059.5 8642,-4059.5 8642,-3780.5 8252,-3780.5"/>
<text text-anchor="start" x="8381" y="-4044.3" font-family="Arial" font-size="14.00">PendingUserApproval</text>
<polyline fill="none" stroke="#77aadd" points="8252,-4036.5 8642,-4036.5 "/>
<text text-anchor="start" x="8319.5" y="-4021.3" font-family="Arial" font-size="14.00">admin_notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-4006.3" font-family="Arial" font-size="14.00">approved_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="8319.5" y="-3991.3" font-family="Arial" font-size="14.00">approved_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-3976.3" font-family="Arial" font-size="14.00">approver : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="8319.5" y="-3961.3" font-family="Arial" font-size="14.00">auth_provider : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-3946.3" font-family="Arial" font-size="14.00">email : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-3931.3" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="8319.5" y="-3916.3" font-family="Arial" font-size="14.00">full_name : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-3901.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8319.5" y="-3886.3" font-family="Arial" font-size="14.00">rejection_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8319.5" y="-3871.3" font-family="Arial" font-size="14.00">requested_at : Mapped[datetime]</text>
<text text-anchor="start" x="8319.5" y="-3856.3" font-family="Arial" font-size="14.00">sso_metadata : Mapped[Optional[Dict]]</text>
<text text-anchor="start" x="8319.5" y="-3841.3" font-family="Arial" font-size="14.00">status : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="8252,-3833.5 8642,-3833.5 "/>
<text text-anchor="start" x="8260" y="-3818.3" font-family="Arial" font-size="14.00">approve(admin_email: str, notes: Optional[str]): None</text>
<text text-anchor="start" x="8260" y="-3803.3" font-family="Arial" font-size="14.00">is_expired(): bool</text>
<text text-anchor="start" x="8260" y="-3788.3" font-family="Arial" font-size="14.00">reject(admin_email: str, reason: str, notes: Optional[str]): None</text>
</g>
<!-- mcpgateway.db.PendingUserApproval&#45;&gt;mcpgateway.db.Base -->
<g id="edge35" class="edge">
<title>mcpgateway.db.PendingUserApproval&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8434.81,-4059.67C8382.83,-4683.06 8202.27,-7222.43 8651,-7840 8776.21,-8012.32 9045.28,-8058.28 9181.45,-8070.54"/>
<polygon fill="none" stroke="gray" points="9181.56,-8074.06 9191.82,-8071.43 9182.16,-8067.09 9181.56,-8074.06"/>
</g>
<!-- mcpgateway.db.PerformanceAggregate -->
<g id="node339" class="node">
<title>mcpgateway.db.PerformanceAggregate</title>
<polygon fill="white" stroke="#77aadd" points="8660.5,-3765.5 8660.5,-4074.5 8937.5,-4074.5 8937.5,-3765.5 8660.5,-3765.5"/>
<text text-anchor="start" x="8728.5" y="-4059.3" font-family="Arial" font-size="14.00">PerformanceAggregate</text>
<polyline fill="none" stroke="#77aadd" points="8660.5,-4051.5 8937.5,-4051.5 "/>
<text text-anchor="start" x="8668.5" y="-4036.3" font-family="Arial" font-size="14.00">avg_cpu_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4021.3" font-family="Arial" font-size="14.00">avg_memory_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-4006.3" font-family="Arial" font-size="14.00">avg_response_time_ms : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-3991.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-3976.3" font-family="Arial" font-size="14.00">host : Mapped[Optional[str]]</text>
<text text-anchor="start" x="8668.5" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3946.3" font-family="Arial" font-size="14.00">p95_response_time_ms : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-3931.3" font-family="Arial" font-size="14.00">peak_cpu_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-3916.3" font-family="Arial" font-size="14.00">peak_memory_percent : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-3901.3" font-family="Arial" font-size="14.00">peak_requests_per_second : Mapped[float]</text>
<text text-anchor="start" x="8668.5" y="-3886.3" font-family="Arial" font-size="14.00">period_end : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-3871.3" font-family="Arial" font-size="14.00">period_start : Mapped[datetime]</text>
<text text-anchor="start" x="8668.5" y="-3856.3" font-family="Arial" font-size="14.00">period_type : Mapped[str]</text>
<text text-anchor="start" x="8668.5" y="-3841.3" font-family="Arial" font-size="14.00">requests_2xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3826.3" font-family="Arial" font-size="14.00">requests_4xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3811.3" font-family="Arial" font-size="14.00">requests_5xx : Mapped[int]</text>
<text text-anchor="start" x="8668.5" y="-3796.3" font-family="Arial" font-size="14.00">requests_total : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="8660.5,-3788.5 8937.5,-3788.5 "/>
<text text-anchor="start" x="8797" y="-3773.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceAggregate&#45;&gt;mcpgateway.db.Base -->
<g id="edge36" class="edge">
<title>mcpgateway.db.PerformanceAggregate&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M8787.48,-4074.65C8742.06,-4715.29 8594.45,-7171.5 8947,-7840 8997.59,-7935.93 9106.84,-8003.09 9182.85,-8040.37"/>
<polygon fill="none" stroke="gray" points="9181.43,-8043.56 9191.95,-8044.77 9184.47,-8037.26 9181.43,-8043.56"/>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateBase -->
<g id="node340" class="node">
<title>mcpgateway.schemas.PerformanceAggregateBase</title>
<polygon fill="white" stroke="#77aadd" points="107104,-7936.5 107104,-8215.5 107382,-8215.5 107382,-7936.5 107104,-7936.5"/>
<text text-anchor="start" x="107157" y="-8200.3" font-family="Arial" font-size="14.00">PerformanceAggregateBase</text>
<polyline fill="none" stroke="#77aadd" points="107104,-8192.5 107382,-8192.5 "/>
<text text-anchor="start" x="107112" y="-8177.3" font-family="Arial" font-size="14.00">avg_cpu_percent : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8162.3" font-family="Arial" font-size="14.00">avg_memory_percent : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8147.3" font-family="Arial" font-size="14.00">avg_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8132.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="107112" y="-8117.3" font-family="Arial" font-size="14.00">p95_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8102.3" font-family="Arial" font-size="14.00">peak_cpu_percent : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8087.3" font-family="Arial" font-size="14.00">peak_memory_percent : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8072.3" font-family="Arial" font-size="14.00">peak_requests_per_second : Optional[float]</text>
<text text-anchor="start" x="107112" y="-8057.3" font-family="Arial" font-size="14.00">period_end : Optional[datetime]</text>
<text text-anchor="start" x="107112" y="-8042.3" font-family="Arial" font-size="14.00">period_start : Optional[datetime]</text>
<text text-anchor="start" x="107112" y="-8027.3" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="107112" y="-8012.3" font-family="Arial" font-size="14.00">requests_2xx : Optional[int]</text>
<text text-anchor="start" x="107112" y="-7997.3" font-family="Arial" font-size="14.00">requests_4xx : Optional[int]</text>
<text text-anchor="start" x="107112" y="-7982.3" font-family="Arial" font-size="14.00">requests_5xx : Optional[int]</text>
<text text-anchor="start" x="107112" y="-7967.3" font-family="Arial" font-size="14.00">requests_total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="107104,-7959.5 107382,-7959.5 "/>
<text text-anchor="start" x="107241" y="-7944.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateCreate -->
<g id="node341" class="node">
<title>mcpgateway.schemas.PerformanceAggregateCreate</title>
<polygon fill="white" stroke="#77aadd" points="107035.5,-3884.6 107035.5,-3955.4 107232.5,-3955.4 107232.5,-3884.6 107035.5,-3884.6"/>
<text text-anchor="start" x="107043.5" y="-3940.2" font-family="Arial" font-size="14.00">PerformanceAggregateCreate</text>
<polyline fill="none" stroke="#77aadd" points="107035.5,-3932.4 107232.5,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="107035.5,-3907.6 107232.5,-3907.6 "/>
<text text-anchor="start" x="107132" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateCreate&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase -->
<g id="edge85" class="edge">
<title>mcpgateway.schemas.PerformanceAggregateCreate&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase</title>
<path fill="none" stroke="gray" d="M107134.91,-3955.66C107144.14,-4307.28 107220.82,-7229.8 107239.1,-7926.38"/>
<polygon fill="none" stroke="gray" points="107235.6,-7926.56 107239.36,-7936.47 107242.6,-7926.38 107235.6,-7926.56"/>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateRead -->
<g id="node342" class="node">
<title>mcpgateway.schemas.PerformanceAggregateRead</title>
<polygon fill="white" stroke="#77aadd" points="107250.5,-3870.5 107250.5,-3969.5 107453.5,-3969.5 107453.5,-3870.5 107250.5,-3870.5"/>
<text text-anchor="start" x="107265.5" y="-3954.3" font-family="Arial" font-size="14.00">PerformanceAggregateRead</text>
<polyline fill="none" stroke="#77aadd" points="107250.5,-3946.5 107453.5,-3946.5 "/>
<text text-anchor="start" x="107258.5" y="-3931.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="107258.5" y="-3916.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="107258.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<polyline fill="none" stroke="#77aadd" points="107250.5,-3893.5 107453.5,-3893.5 "/>
<text text-anchor="start" x="107350" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceAggregateRead&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase -->
<g id="edge86" class="edge">
<title>mcpgateway.schemas.PerformanceAggregateRead&#45;&gt;mcpgateway.schemas.PerformanceAggregateBase</title>
<path fill="none" stroke="gray" d="M107351.12,-3969.57C107345.07,-4301.52 107307.97,-6270.54 107252,-7873 107251.4,-7890.24 107250.7,-7908.3 107249.95,-7926.23"/>
<polygon fill="none" stroke="gray" points="107246.45,-7926.33 107249.52,-7936.47 107253.44,-7926.63 107246.45,-7926.33"/>
</g>
<!-- mcpgateway.schemas.PerformanceDashboard -->
<g id="node343" class="node">
<title>mcpgateway.schemas.PerformanceDashboard</title>
<polygon fill="white" stroke="#77aadd" points="107472,-3810.5 107472,-4029.5 107766,-4029.5 107766,-3810.5 107472,-3810.5"/>
<text text-anchor="start" x="107546.5" y="-4014.3" font-family="Arial" font-size="14.00">PerformanceDashboard</text>
<polyline fill="none" stroke="#77aadd" points="107472,-4006.5 107766,-4006.5 "/>
<text text-anchor="start" x="107480" y="-3991.3" font-family="Arial" font-size="14.00">cache : Optional[CacheMetricsSchema]</text>
<text text-anchor="start" x="107480" y="-3976.3" font-family="Arial" font-size="14.00">cluster_hosts : Optional[List[str]]</text>
<text text-anchor="start" x="107480" y="-3961.3" font-family="Arial" font-size="14.00">database : Optional[DatabaseMetricsSchema]</text>
<text text-anchor="start" x="107480" y="-3946.3" font-family="Arial" font-size="14.00">gunicorn : Optional[GunicornMetricsSchema]</text>
<text text-anchor="start" x="107480" y="-3931.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="107480" y="-3916.3" font-family="Arial" font-size="14.00">is_distributed : Optional[bool]</text>
<text text-anchor="start" x="107480" y="-3901.3" font-family="Arial" font-size="14.00">requests : Optional[RequestMetricsSchema]</text>
<text text-anchor="start" x="107480" y="-3886.3" font-family="Arial" font-size="14.00">system : Optional[SystemMetricsSchema]</text>
<text text-anchor="start" x="107480" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="107480" y="-3856.3" font-family="Arial" font-size="14.00">uptime_seconds : Optional[int]</text>
<text text-anchor="start" x="107480" y="-3841.3" font-family="Arial" font-size="14.00">workers : Optional[List[WorkerMetrics]]</text>
<polyline fill="none" stroke="#77aadd" points="107472,-3833.5 107766,-3833.5 "/>
<text text-anchor="start" x="107617" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceHistoryParams -->
<g id="node344" class="node">
<title>mcpgateway.schemas.PerformanceHistoryParams</title>
<polygon fill="white" stroke="#77aadd" points="107784.5,-3855.5 107784.5,-3984.5 107983.5,-3984.5 107983.5,-3855.5 107784.5,-3855.5"/>
<text text-anchor="start" x="107800" y="-3969.3" font-family="Arial" font-size="14.00">PerformanceHistoryParams</text>
<polyline fill="none" stroke="#77aadd" points="107784.5,-3961.5 107983.5,-3961.5 "/>
<text text-anchor="start" x="107792.5" y="-3946.3" font-family="Arial" font-size="14.00">end_time : Optional[datetime]</text>
<text text-anchor="start" x="107792.5" y="-3931.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="107792.5" y="-3916.3" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="107792.5" y="-3901.3" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="107792.5" y="-3886.3" font-family="Arial" font-size="14.00">start_time : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="107784.5,-3878.5 107983.5,-3878.5 "/>
<text text-anchor="start" x="107882" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceHistoryResponse -->
<g id="node345" class="node">
<title>mcpgateway.schemas.PerformanceHistoryResponse</title>
<polygon fill="white" stroke="#77aadd" points="108001.5,-3870.5 108001.5,-3969.5 108356.5,-3969.5 108356.5,-3870.5 108001.5,-3870.5"/>
<text text-anchor="start" x="108088.5" y="-3954.3" font-family="Arial" font-size="14.00">PerformanceHistoryResponse</text>
<polyline fill="none" stroke="#77aadd" points="108001.5,-3946.5 108356.5,-3946.5 "/>
<text text-anchor="start" x="108009.5" y="-3931.3" font-family="Arial" font-size="14.00">aggregates : Optional[List[PerformanceAggregateRead]]</text>
<text text-anchor="start" x="108009.5" y="-3916.3" font-family="Arial" font-size="14.00">period_type : Optional[str]</text>
<text text-anchor="start" x="108009.5" y="-3901.3" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="108001.5,-3893.5 108356.5,-3893.5 "/>
<text text-anchor="start" x="108177" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceMetric -->
<g id="node346" class="node">
<title>mcpgateway.db.PerformanceMetric</title>
<polygon fill="white" stroke="#77aadd" points="8956,-3765.5 8956,-4074.5 9276,-4074.5 9276,-3765.5 8956,-3765.5"/>
<text text-anchor="start" x="9058" y="-4059.3" font-family="Arial" font-size="14.00">PerformanceMetric</text>
<polyline fill="none" stroke="#77aadd" points="8956,-4051.5 9276,-4051.5 "/>
<text text-anchor="start" x="8964" y="-4036.3" font-family="Arial" font-size="14.00">avg_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-4021.3" font-family="Arial" font-size="14.00">component : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-4006.3" font-family="Arial" font-size="14.00">error_count : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-3991.3" font-family="Arial" font-size="14.00">error_rate : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3976.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-3961.3" font-family="Arial" font-size="14.00">max_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3946.3" font-family="Arial" font-size="14.00">metric_metadata : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="8964" y="-3931.3" font-family="Arial" font-size="14.00">min_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3916.3" font-family="Arial" font-size="14.00">operation_type : Mapped[str]</text>
<text text-anchor="start" x="8964" y="-3901.3" font-family="Arial" font-size="14.00">p50_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3886.3" font-family="Arial" font-size="14.00">p95_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3871.3" font-family="Arial" font-size="14.00">p99_duration_ms : Mapped[float]</text>
<text text-anchor="start" x="8964" y="-3856.3" font-family="Arial" font-size="14.00">request_count : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-3841.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="8964" y="-3826.3" font-family="Arial" font-size="14.00">window_duration_seconds : Mapped[int]</text>
<text text-anchor="start" x="8964" y="-3811.3" font-family="Arial" font-size="14.00">window_end : Mapped[datetime]</text>
<text text-anchor="start" x="8964" y="-3796.3" font-family="Arial" font-size="14.00">window_start : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="8956,-3788.5 9276,-3788.5 "/>
<text text-anchor="start" x="9114" y="-3773.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge37" class="edge">
<title>mcpgateway.db.PerformanceMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9121.48,-4074.7C9146.41,-4774.59 9248.6,-7642.78 9262.44,-8031.35"/>
<polygon fill="none" stroke="gray" points="9258.95,-8031.49 9262.8,-8041.36 9265.94,-8031.24 9258.95,-8031.49"/>
</g>
<!-- mcpgateway.services.performance_service.PerformanceService -->
<g id="node347" class="node">
<title>mcpgateway.services.performance_service.PerformanceService</title>
<polygon fill="white" stroke="#ffaabb" points="108375,-3810.5 108375,-4029.5 109361,-4029.5 109361,-3810.5 108375,-3810.5"/>
<text text-anchor="start" x="108806" y="-4014.3" font-family="Arial" font-size="14.00">PerformanceService</text>
<polyline fill="none" stroke="#ffaabb" points="108375,-4006.5 109361,-4006.5 "/>
<text text-anchor="start" x="108801.5" y="-3991.3" font-family="Arial" font-size="14.00">db : Optional[Session]</text>
<polyline fill="none" stroke="#ffaabb" points="108375,-3983.5 109361,-3983.5 "/>
<text text-anchor="start" x="108383" y="-3968.3" font-family="Arial" font-size="14.00">cleanup_old_snapshots(db: Session): int</text>
<text text-anchor="start" x="108383" y="-3953.3" font-family="Arial" font-size="14.00">create_hourly_aggregate(db: Session, hour_start: datetime): Optional[PerformanceAggregate]</text>
<text text-anchor="start" x="108383" y="-3938.3" font-family="Arial" font-size="14.00">get_cache_metrics(): CacheMetricsSchema</text>
<text text-anchor="start" x="108383" y="-3923.3" font-family="Arial" font-size="14.00">get_dashboard(): PerformanceDashboard</text>
<text text-anchor="start" x="108383" y="-3908.3" font-family="Arial" font-size="14.00">get_database_metrics(_db: Optional[Session]): DatabaseMetricsSchema</text>
<text text-anchor="start" x="108383" y="-3893.3" font-family="Arial" font-size="14.00">get_gunicorn_metrics(): GunicornMetricsSchema</text>
<text text-anchor="start" x="108383" y="-3878.3" font-family="Arial" font-size="14.00">get_history(db: Session, period_type: str, start_time: Optional[datetime], end_time: Optional[datetime], host: Optional[str], limit: int): PerformanceHistoryResponse</text>
<text text-anchor="start" x="108383" y="-3863.3" font-family="Arial" font-size="14.00">get_request_metrics(): RequestMetricsSchema</text>
<text text-anchor="start" x="108383" y="-3848.3" font-family="Arial" font-size="14.00">get_system_metrics(): SystemMetricsSchema</text>
<text text-anchor="start" x="108383" y="-3833.3" font-family="Arial" font-size="14.00">get_worker_metrics(): List[WorkerMetrics]</text>
<text text-anchor="start" x="108383" y="-3818.3" font-family="Arial" font-size="14.00">save_snapshot(db: Session): Optional[PerformanceSnapshot]</text>
</g>
<!-- mcpgateway.db.PerformanceSnapshot -->
<g id="node348" class="node">
<title>mcpgateway.db.PerformanceSnapshot</title>
<polygon fill="white" stroke="#77aadd" points="9294,-3848 9294,-3992 9530,-3992 9530,-3848 9294,-3848"/>
<text text-anchor="start" x="9344" y="-3976.8" font-family="Arial" font-size="14.00">PerformanceSnapshot</text>
<polyline fill="none" stroke="#77aadd" points="9294,-3969 9530,-3969 "/>
<text text-anchor="start" x="9302" y="-3953.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="9302" y="-3938.8" font-family="Arial" font-size="14.00">host : Mapped[str]</text>
<text text-anchor="start" x="9302" y="-3923.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="9302" y="-3908.8" font-family="Arial" font-size="14.00">metrics_json : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="9302" y="-3893.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="9302" y="-3878.8" font-family="Arial" font-size="14.00">worker_id : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="9294,-3871 9530,-3871 "/>
<text text-anchor="start" x="9410" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PerformanceSnapshot&#45;&gt;mcpgateway.db.Base -->
<g id="edge38" class="edge">
<title>mcpgateway.db.PerformanceSnapshot&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9411.2,-3992.24C9406.52,-4381.06 9379.53,-6286.11 9285,-7840 9280.94,-7906.71 9273.53,-7983.84 9268.68,-8031.02"/>
<polygon fill="none" stroke="gray" points="9265.18,-8030.88 9267.63,-8041.19 9272.14,-8031.6 9265.18,-8030.88"/>
</g>
<!-- mcpgateway.schemas.PerformanceSnapshotCreate -->
<g id="node349" class="node">
<title>mcpgateway.schemas.PerformanceSnapshotCreate</title>
<polygon fill="white" stroke="#77aadd" points="109379,-3870.5 109379,-3969.5 109617,-3969.5 109617,-3870.5 109379,-3870.5"/>
<text text-anchor="start" x="109410" y="-3954.3" font-family="Arial" font-size="14.00">PerformanceSnapshotCreate</text>
<polyline fill="none" stroke="#77aadd" points="109379,-3946.5 109617,-3946.5 "/>
<text text-anchor="start" x="109387" y="-3931.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="109387" y="-3916.3" font-family="Arial" font-size="14.00">metrics_json : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="109387" y="-3901.3" font-family="Arial" font-size="14.00">worker_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="109379,-3893.5 109617,-3893.5 "/>
<text text-anchor="start" x="109496" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PerformanceSnapshotRead -->
<g id="node350" class="node">
<title>mcpgateway.schemas.PerformanceSnapshotRead</title>
<polygon fill="white" stroke="#77aadd" points="109635,-3840.5 109635,-3999.5 109873,-3999.5 109873,-3840.5 109635,-3840.5"/>
<text text-anchor="start" x="109670" y="-3984.3" font-family="Arial" font-size="14.00">PerformanceSnapshotRead</text>
<polyline fill="none" stroke="#77aadd" points="109635,-3976.5 109873,-3976.5 "/>
<text text-anchor="start" x="109643" y="-3961.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="109643" y="-3946.3" font-family="Arial" font-size="14.00">host : Optional[str]</text>
<text text-anchor="start" x="109643" y="-3931.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="109643" y="-3916.3" font-family="Arial" font-size="14.00">metrics_json : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="109643" y="-3901.3" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="109643" y="-3886.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="109643" y="-3871.3" font-family="Arial" font-size="14.00">worker_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="109635,-3863.5 109873,-3863.5 "/>
<text text-anchor="start" x="109752" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.performance_tracker.PerformanceTracker -->
<g id="node351" class="node">
<title>mcpgateway.services.performance_tracker.PerformanceTracker</title>
<polygon fill="white" stroke="#ffaabb" points="109891.5,-3833 109891.5,-4007 110796.5,-4007 110796.5,-3833 109891.5,-3833"/>
<text text-anchor="start" x="110282" y="-3991.8" font-family="Arial" font-size="14.00">PerformanceTracker</text>
<polyline fill="none" stroke="#ffaabb" points="109891.5,-3984 110796.5,-3984 "/>
<text text-anchor="start" x="110254.5" y="-3968.8" font-family="Arial" font-size="14.00">max_samples</text>
<text text-anchor="start" x="110254.5" y="-3953.8" font-family="Arial" font-size="14.00">performance_thresholds : dict</text>
<polyline fill="none" stroke="#ffaabb" points="109891.5,-3946 110796.5,-3946 "/>
<text text-anchor="start" x="109899.5" y="-3930.8" font-family="Arial" font-size="14.00">check_performance_degradation(operation_name: str, baseline_multiplier: float): Dict[str, Any]</text>
<text text-anchor="start" x="109899.5" y="-3915.8" font-family="Arial" font-size="14.00">clear_stats(operation_name: Optional[str]): None</text>
<text text-anchor="start" x="109899.5" y="-3900.8" font-family="Arial" font-size="14.00">get_operation_stats(operation_name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="109899.5" y="-3885.8" font-family="Arial" font-size="14.00">get_performance_summary(operation_name: Optional[str], min_samples: int): Dict[str, Any]</text>
<text text-anchor="start" x="109899.5" y="-3870.8" font-family="Arial" font-size="14.00">record_timing(operation_name: str, duration: float, component: Optional[str], extra_context: Optional[Dict[str, Any]]): None</text>
<text text-anchor="start" x="109899.5" y="-3855.8" font-family="Arial" font-size="14.00">set_threshold(operation_name: str, threshold_seconds: float): None</text>
<text text-anchor="start" x="109899.5" y="-3840.8" font-family="Arial" font-size="14.00">track_operation(operation_name: str, component: Optional[str], log_slow: bool, extra_context: Optional[Dict[str, Any]]): Generator[None, None, None]</text>
</g>
<!-- mcpgateway.common.models.PermissionAudit -->
<g id="node352" class="node">
<title>mcpgateway.common.models.PermissionAudit</title>
<polygon fill="white" stroke="#44bb99" points="110814.5,-3810.5 110814.5,-4029.5 111017.5,-4029.5 111017.5,-3810.5 110814.5,-3810.5"/>
<text text-anchor="start" x="110866.5" y="-4014.3" font-family="Arial" font-size="14.00">PermissionAudit</text>
<polyline fill="none" stroke="#44bb99" points="110814.5,-4006.5 111017.5,-4006.5 "/>
<text text-anchor="start" x="110822.5" y="-3991.3" font-family="Arial" font-size="14.00">granted : Optional[bool]</text>
<text text-anchor="start" x="110822.5" y="-3976.3" font-family="Arial" font-size="14.00">id : Optional[int]</text>
<text text-anchor="start" x="110822.5" y="-3961.3" font-family="Arial" font-size="14.00">ip_address : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3946.3" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3931.3" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3916.3" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3901.3" font-family="Arial" font-size="14.00">roles_checked : Optional[Dict]</text>
<text text-anchor="start" x="110822.5" y="-3886.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="110822.5" y="-3856.3" font-family="Arial" font-size="14.00">user_agent : Optional[str]</text>
<text text-anchor="start" x="110822.5" y="-3841.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="110814.5,-3833.5 111017.5,-3833.5 "/>
<text text-anchor="start" x="110914" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PermissionAuditLog -->
<g id="node353" class="node">
<title>mcpgateway.db.PermissionAuditLog</title>
<polygon fill="white" stroke="#77aadd" points="9548,-3810.5 9548,-4029.5 9802,-4029.5 9802,-3810.5 9548,-3810.5"/>
<text text-anchor="start" x="9614.5" y="-4014.3" font-family="Arial" font-size="14.00">PermissionAuditLog</text>
<polyline fill="none" stroke="#77aadd" points="9548,-4006.5 9802,-4006.5 "/>
<text text-anchor="start" x="9556" y="-3991.3" font-family="Arial" font-size="14.00">granted : Mapped[bool]</text>
<text text-anchor="start" x="9556" y="-3976.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="9556" y="-3961.3" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-3946.3" font-family="Arial" font-size="14.00">permission : Mapped[str]</text>
<text text-anchor="start" x="9556" y="-3931.3" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-3916.3" font-family="Arial" font-size="14.00">resource_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-3901.3" font-family="Arial" font-size="14.00">roles_checked : Mapped[Optional[Dict]]</text>
<text text-anchor="start" x="9556" y="-3886.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="9556" y="-3856.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9556" y="-3841.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="9548,-3833.5 9802,-3833.5 "/>
<text text-anchor="start" x="9673" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PermissionAuditLog&#45;&gt;mcpgateway.db.Base -->
<g id="edge39" class="edge">
<title>mcpgateway.db.PermissionAuditLog&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9682.79,-4029.5C9721.19,-4588.29 9875.36,-7142.23 9539,-7840 9496.33,-7928.52 9403.08,-7996.62 9337.03,-8036.2"/>
<polygon fill="none" stroke="gray" points="9335.13,-8033.25 9328.3,-8041.36 9338.69,-8039.28 9335.13,-8033.25"/>
</g>
<!-- mcpgateway.schemas.PermissionCheckRequest -->
<g id="node354" class="node">
<title>mcpgateway.schemas.PermissionCheckRequest</title>
<polygon fill="white" stroke="#77aadd" points="111035.5,-3855.5 111035.5,-3984.5 111222.5,-3984.5 111222.5,-3855.5 111035.5,-3855.5"/>
<text text-anchor="start" x="111050.5" y="-3969.3" font-family="Arial" font-size="14.00">PermissionCheckRequest</text>
<polyline fill="none" stroke="#77aadd" points="111035.5,-3961.5 111222.5,-3961.5 "/>
<text text-anchor="start" x="111043.5" y="-3946.3" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="111043.5" y="-3931.3" font-family="Arial" font-size="14.00">resource_id : Optional[str]</text>
<text text-anchor="start" x="111043.5" y="-3916.3" font-family="Arial" font-size="14.00">resource_type : Optional[str]</text>
<text text-anchor="start" x="111043.5" y="-3901.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="111043.5" y="-3886.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="111035.5,-3878.5 111222.5,-3878.5 "/>
<text text-anchor="start" x="111127" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PermissionCheckResponse -->
<g id="node355" class="node">
<title>mcpgateway.schemas.PermissionCheckResponse</title>
<polygon fill="white" stroke="#77aadd" points="111241,-3855.5 111241,-3984.5 111449,-3984.5 111449,-3855.5 111241,-3855.5"/>
<text text-anchor="start" x="111261.5" y="-3969.3" font-family="Arial" font-size="14.00">PermissionCheckResponse</text>
<polyline fill="none" stroke="#77aadd" points="111241,-3961.5 111449,-3961.5 "/>
<text text-anchor="start" x="111249" y="-3946.3" font-family="Arial" font-size="14.00">checked_at : Optional[datetime]</text>
<text text-anchor="start" x="111249" y="-3931.3" font-family="Arial" font-size="14.00">checked_by : Optional[str]</text>
<text text-anchor="start" x="111249" y="-3916.3" font-family="Arial" font-size="14.00">granted : Optional[bool]</text>
<text text-anchor="start" x="111249" y="-3901.3" font-family="Arial" font-size="14.00">permission : Optional[str]</text>
<text text-anchor="start" x="111249" y="-3886.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="111241,-3878.5 111449,-3878.5 "/>
<text text-anchor="start" x="111343" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.rbac.PermissionChecker -->
<g id="node356" class="node">
<title>mcpgateway.middleware.rbac.PermissionChecker</title>
<polygon fill="white" stroke="#eedd88" points="111663.5,-8011.5 111663.5,-8140.5 112402.5,-8140.5 112402.5,-8011.5 111663.5,-8011.5"/>
<text text-anchor="start" x="111974" y="-8125.3" font-family="Arial" font-size="14.00">PermissionChecker</text>
<polyline fill="none" stroke="#eedd88" points="111663.5,-8117.5 112402.5,-8117.5 "/>
<text text-anchor="start" x="111974.5" y="-8102.3" font-family="Arial" font-size="14.00">permission_service</text>
<text text-anchor="start" x="111974.5" y="-8087.3" font-family="Arial" font-size="14.00">user_context : dict</text>
<polyline fill="none" stroke="#eedd88" points="111663.5,-8079.5 112402.5,-8079.5 "/>
<text text-anchor="start" x="111671.5" y="-8064.3" font-family="Arial" font-size="14.00">has_admin_permission(): bool</text>
<text text-anchor="start" x="111671.5" y="-8049.3" font-family="Arial" font-size="14.00">has_any_permission(permissions: List[str], resource_type: Optional[str], team_id: Optional[str]): bool</text>
<text text-anchor="start" x="111671.5" y="-8034.3" font-family="Arial" font-size="14.00">has_permission(permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str]): bool</text>
<text text-anchor="start" x="111671.5" y="-8019.3" font-family="Arial" font-size="14.00">require_permission(permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str]): None</text>
</g>
<!-- mcpgateway.schemas.PermissionListResponse -->
<g id="node357" class="node">
<title>mcpgateway.schemas.PermissionListResponse</title>
<polygon fill="white" stroke="#77aadd" points="112617.5,-3870.5 112617.5,-3969.5 112954.5,-3969.5 112954.5,-3870.5 112617.5,-3870.5"/>
<text text-anchor="start" x="112711" y="-3954.3" font-family="Arial" font-size="14.00">PermissionListResponse</text>
<polyline fill="none" stroke="#77aadd" points="112617.5,-3946.5 112954.5,-3946.5 "/>
<text text-anchor="start" x="112625.5" y="-3931.3" font-family="Arial" font-size="14.00">all_permissions : Optional[List[str]]</text>
<text text-anchor="start" x="112625.5" y="-3916.3" font-family="Arial" font-size="14.00">permissions_by_resource : Optional[Dict[str, List[str]]]</text>
<text text-anchor="start" x="112625.5" y="-3901.3" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="112617.5,-3893.5 112954.5,-3893.5 "/>
<text text-anchor="start" x="112784" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.permission_service.PermissionService -->
<g id="node358" class="node">
<title>mcpgateway.services.permission_service.PermissionService</title>
<polygon fill="white" stroke="#ffaabb" points="111467,-3818 111467,-4022 112599,-4022 112599,-3818 111467,-3818"/>
<text text-anchor="start" x="111976.5" y="-4006.8" font-family="Arial" font-size="14.00">PermissionService</text>
<polyline fill="none" stroke="#ffaabb" points="111467,-3999 112599,-3999 "/>
<text text-anchor="start" x="111972" y="-3983.8" font-family="Arial" font-size="14.00">audit_enabled : bool</text>
<text text-anchor="start" x="111972" y="-3968.8" font-family="Arial" font-size="14.00">cache_ttl : int</text>
<text text-anchor="start" x="111972" y="-3953.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="111467,-3946 112599,-3946 "/>
<text text-anchor="start" x="111475" y="-3930.8" font-family="Arial" font-size="14.00">check_admin_permission(user_email: str): bool</text>
<text text-anchor="start" x="111475" y="-3915.8" font-family="Arial" font-size="14.00">check_permission(user_email: str, permission: str, resource_type: Optional[str], resource_id: Optional[str], team_id: Optional[str], ip_address: Optional[str], user_agent: Optional[str]): bool</text>
<text text-anchor="start" x="111475" y="-3900.8" font-family="Arial" font-size="14.00">check_resource_ownership(user_email: str, resource: any, allow_team_admin: bool): bool</text>
<text text-anchor="start" x="111475" y="-3885.8" font-family="Arial" font-size="14.00">clear_cache(): None</text>
<text text-anchor="start" x="111475" y="-3870.8" font-family="Arial" font-size="14.00">clear_user_cache(user_email: str): None</text>
<text text-anchor="start" x="111475" y="-3855.8" font-family="Arial" font-size="14.00">get_user_permissions(user_email: str, team_id: Optional[str]): Set[str]</text>
<text text-anchor="start" x="111475" y="-3840.8" font-family="Arial" font-size="14.00">get_user_roles(user_email: str, scope: Optional[str], team_id: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="111475" y="-3825.8" font-family="Arial" font-size="14.00">has_permission_on_resource(user_email: str, permission: str, resource_type: str, resource_id: str, team_id: Optional[str]): bool</text>
</g>
<!-- mcpgateway.services.permission_service.PermissionService&#45;&gt;mcpgateway.middleware.rbac.PermissionChecker -->
<g id="edge171" class="edge">
<title>mcpgateway.services.permission_service.PermissionService&#45;&gt;mcpgateway.middleware.rbac.PermissionChecker</title>
<path fill="none" stroke="gray" d="M112033,-4022.14C112033,-4601.63 112033,-7492.33 112033,-7999.1"/>
<polygon fill="gray" stroke="gray" points="112033,-7999.33 112037,-8005.33 112033,-8011.33 112029,-8005.33 112033,-7999.33"/>
<text text-anchor="middle" x="112091.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">permission_service</text>
</g>
<!-- mcpgateway.db.Permissions -->
<g id="node359" class="node">
<title>mcpgateway.db.Permissions</title>
<polygon fill="white" stroke="#77aadd" points="112973,-3563 112973,-4277 113283,-4277 113283,-3563 112973,-3563"/>
<text text-anchor="start" x="113090.5" y="-4261.8" font-family="Arial" font-size="14.00">Permissions</text>
<polyline fill="none" stroke="#77aadd" points="112973,-4254 113283,-4254 "/>
<text text-anchor="start" x="113016.5" y="-4238.8" font-family="Arial" font-size="14.00">ADMIN_SECURITY_AUDIT : str</text>
<text text-anchor="start" x="113016.5" y="-4223.8" font-family="Arial" font-size="14.00">ADMIN_SYSTEM_CONFIG : str</text>
<text text-anchor="start" x="113016.5" y="-4208.8" font-family="Arial" font-size="14.00">ADMIN_USER_MANAGEMENT : str</text>
<text text-anchor="start" x="113016.5" y="-4193.8" font-family="Arial" font-size="14.00">ALL_PERMISSIONS : str</text>
<text text-anchor="start" x="113016.5" y="-4178.8" font-family="Arial" font-size="14.00">GATEWAYS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-4163.8" font-family="Arial" font-size="14.00">GATEWAYS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-4148.8" font-family="Arial" font-size="14.00">GATEWAYS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-4133.8" font-family="Arial" font-size="14.00">GATEWAYS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-4118.8" font-family="Arial" font-size="14.00">PROMPTS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-4103.8" font-family="Arial" font-size="14.00">PROMPTS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-4088.8" font-family="Arial" font-size="14.00">PROMPTS_EXECUTE : str</text>
<text text-anchor="start" x="113016.5" y="-4073.8" font-family="Arial" font-size="14.00">PROMPTS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-4058.8" font-family="Arial" font-size="14.00">PROMPTS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-4043.8" font-family="Arial" font-size="14.00">RESOURCES_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-4028.8" font-family="Arial" font-size="14.00">RESOURCES_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-4013.8" font-family="Arial" font-size="14.00">RESOURCES_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3998.8" font-family="Arial" font-size="14.00">RESOURCES_SHARE : str</text>
<text text-anchor="start" x="113016.5" y="-3983.8" font-family="Arial" font-size="14.00">RESOURCES_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-3968.8" font-family="Arial" font-size="14.00">SERVERS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-3953.8" font-family="Arial" font-size="14.00">SERVERS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-3938.8" font-family="Arial" font-size="14.00">SERVERS_MANAGE : str</text>
<text text-anchor="start" x="113016.5" y="-3923.8" font-family="Arial" font-size="14.00">SERVERS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3908.8" font-family="Arial" font-size="14.00">SERVERS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-3893.8" font-family="Arial" font-size="14.00">TEAMS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-3878.8" font-family="Arial" font-size="14.00">TEAMS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-3863.8" font-family="Arial" font-size="14.00">TEAMS_JOIN : str</text>
<text text-anchor="start" x="113016.5" y="-3848.8" font-family="Arial" font-size="14.00">TEAMS_MANAGE_MEMBERS : str</text>
<text text-anchor="start" x="113016.5" y="-3833.8" font-family="Arial" font-size="14.00">TEAMS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3818.8" font-family="Arial" font-size="14.00">TEAMS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-3803.8" font-family="Arial" font-size="14.00">TOKENS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-3788.8" font-family="Arial" font-size="14.00">TOKENS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3773.8" font-family="Arial" font-size="14.00">TOKENS_REVOKE : str</text>
<text text-anchor="start" x="113016.5" y="-3758.8" font-family="Arial" font-size="14.00">TOKENS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-3743.8" font-family="Arial" font-size="14.00">TOOLS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-3728.8" font-family="Arial" font-size="14.00">TOOLS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-3713.8" font-family="Arial" font-size="14.00">TOOLS_EXECUTE : str</text>
<text text-anchor="start" x="113016.5" y="-3698.8" font-family="Arial" font-size="14.00">TOOLS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3683.8" font-family="Arial" font-size="14.00">TOOLS_UPDATE : str</text>
<text text-anchor="start" x="113016.5" y="-3668.8" font-family="Arial" font-size="14.00">USERS_CREATE : str</text>
<text text-anchor="start" x="113016.5" y="-3653.8" font-family="Arial" font-size="14.00">USERS_DELETE : str</text>
<text text-anchor="start" x="113016.5" y="-3638.8" font-family="Arial" font-size="14.00">USERS_INVITE : str</text>
<text text-anchor="start" x="113016.5" y="-3623.8" font-family="Arial" font-size="14.00">USERS_READ : str</text>
<text text-anchor="start" x="113016.5" y="-3608.8" font-family="Arial" font-size="14.00">USERS_UPDATE : str</text>
<polyline fill="none" stroke="#77aadd" points="112973,-3601 113283,-3601 "/>
<text text-anchor="start" x="112981" y="-3585.8" font-family="Arial" font-size="14.00">get_all_permissions(): List[str]</text>
<text text-anchor="start" x="112981" y="-3570.8" font-family="Arial" font-size="14.00">get_permissions_by_resource(): Dict[str, List[str]]</text>
</g>
<!-- mcpgateway.services.personal_team_service.PersonalTeamService -->
<g id="node360" class="node">
<title>mcpgateway.services.personal_team_service.PersonalTeamService</title>
<polygon fill="white" stroke="#ffaabb" points="113301.5,-3848 113301.5,-3992 113666.5,-3992 113666.5,-3848 113301.5,-3848"/>
<text text-anchor="start" x="113417.5" y="-3976.8" font-family="Arial" font-size="14.00">PersonalTeamService</text>
<polyline fill="none" stroke="#ffaabb" points="113301.5,-3969 113666.5,-3969 "/>
<text text-anchor="start" x="113476" y="-3953.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="113301.5,-3946 113666.5,-3946 "/>
<text text-anchor="start" x="113309.5" y="-3930.8" font-family="Arial" font-size="14.00">create_personal_team(user: EmailUser): EmailTeam</text>
<text text-anchor="start" x="113309.5" y="-3915.8" font-family="Arial" font-size="14.00">delete_personal_team(team_id: str): bool</text>
<text text-anchor="start" x="113309.5" y="-3900.8" font-family="Arial" font-size="14.00">ensure_personal_team(user: EmailUser): EmailTeam</text>
<text text-anchor="start" x="113309.5" y="-3885.8" font-family="Arial" font-size="14.00">get_personal_team(user_email: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="113309.5" y="-3870.8" font-family="Arial" font-size="14.00">get_personal_team_owner(team_id: str): Optional[str]</text>
<text text-anchor="start" x="113309.5" y="-3855.8" font-family="Arial" font-size="14.00">is_personal_team(team_id: str): bool</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginCondition -->
<g id="node362" class="node">
<title>mcpgateway.plugins.framework.models.PluginCondition</title>
<polygon fill="white" stroke="#ee8866" points="113685,-3833 113685,-4007 113999,-4007 113999,-3833 113685,-3833"/>
<text text-anchor="start" x="113794.5" y="-3991.8" font-family="Arial" font-size="14.00">PluginCondition</text>
<polyline fill="none" stroke="#ee8866" points="113685,-3984 113999,-3984 "/>
<text text-anchor="start" x="113745.5" y="-3968.8" font-family="Arial" font-size="14.00">agents : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3953.8" font-family="Arial" font-size="14.00">content_types : Optional[list[str]]</text>
<text text-anchor="start" x="113745.5" y="-3938.8" font-family="Arial" font-size="14.00">prompts : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3923.8" font-family="Arial" font-size="14.00">resources : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3908.8" font-family="Arial" font-size="14.00">server_ids : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3893.8" font-family="Arial" font-size="14.00">tenant_ids : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3878.8" font-family="Arial" font-size="14.00">tools : Optional[set[str]]</text>
<text text-anchor="start" x="113745.5" y="-3863.8" font-family="Arial" font-size="14.00">user_patterns : Optional[list[str]]</text>
<polyline fill="none" stroke="#ee8866" points="113685,-3856 113999,-3856 "/>
<text text-anchor="start" x="113693" y="-3840.8" font-family="Arial" font-size="14.00">serialize_set(value: set[str] | None): list[str] | None</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginConfig -->
<g id="node363" class="node">
<title>mcpgateway.plugins.framework.models.PluginConfig</title>
<polygon fill="white" stroke="#ee8866" points="113896.5,-7936.5 113896.5,-8215.5 114227.5,-8215.5 114227.5,-7936.5 113896.5,-7936.5"/>
<text text-anchor="start" x="114023.5" y="-8200.3" font-family="Arial" font-size="14.00">PluginConfig</text>
<polyline fill="none" stroke="#ee8866" points="113896.5,-8192.5 114227.5,-8192.5 "/>
<text text-anchor="start" x="113937" y="-8177.3" font-family="Arial" font-size="14.00">applied_to : Optional[AppliedTo]</text>
<text text-anchor="start" x="113937" y="-8162.3" font-family="Arial" font-size="14.00">author : Optional[str]</text>
<text text-anchor="start" x="113937" y="-8147.3" font-family="Arial" font-size="14.00">conditions : Optional[list[PluginCondition]]</text>
<text text-anchor="start" x="113937" y="-8132.3" font-family="Arial" font-size="14.00">config : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="113937" y="-8117.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="113937" y="-8102.3" font-family="Arial" font-size="14.00">hooks : Optional[list[str]]</text>
<text text-anchor="start" x="113937" y="-8087.3" font-family="Arial" font-size="14.00">kind : str</text>
<text text-anchor="start" x="113937" y="-8072.3" font-family="Arial" font-size="14.00">mcp : Optional[MCPClientConfig]</text>
<text text-anchor="start" x="113937" y="-8057.3" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="113937" y="-8042.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="113937" y="-8027.3" font-family="Arial" font-size="14.00">namespace : Optional[str]</text>
<text text-anchor="start" x="113937" y="-8012.3" font-family="Arial" font-size="14.00">priority : int</text>
<text text-anchor="start" x="113937" y="-7997.3" font-family="Arial" font-size="14.00">tags : Optional[list[str]]</text>
<text text-anchor="start" x="113937" y="-7982.3" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#ee8866" points="113896.5,-7974.5 114227.5,-7974.5 "/>
<text text-anchor="start" x="113904.5" y="-7959.3" font-family="Arial" font-size="14.00">check_config_and_external(info: ValidationInfo): Self</text>
<text text-anchor="start" x="113904.5" y="-7944.3" font-family="Arial" font-size="14.00">check_url_or_script_filled(): Self</text>
</g>
<!-- mcpgateway.schemas.PluginDetail -->
<g id="node365" class="node">
<title>mcpgateway.schemas.PluginDetail</title>
<polygon fill="white" stroke="#77aadd" points="114270.5,-3855.5 114270.5,-3984.5 114483.5,-3984.5 114483.5,-3855.5 114270.5,-3855.5"/>
<text text-anchor="start" x="114340.5" y="-3969.3" font-family="Arial" font-size="14.00">PluginDetail</text>
<polyline fill="none" stroke="#77aadd" points="114270.5,-3961.5 114483.5,-3961.5 "/>
<text text-anchor="start" x="114278.5" y="-3946.3" font-family="Arial" font-size="14.00">conditions : Optional[List[Any]]</text>
<text text-anchor="start" x="114278.5" y="-3931.3" font-family="Arial" font-size="14.00">config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="114278.5" y="-3916.3" font-family="Arial" font-size="14.00">kind : Optional[str]</text>
<text text-anchor="start" x="114278.5" y="-3901.3" font-family="Arial" font-size="14.00">manifest : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="114278.5" y="-3886.3" font-family="Arial" font-size="14.00">namespace : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="114270.5,-3878.5 114483.5,-3878.5 "/>
<text text-anchor="start" x="114375" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PluginSummary -->
<g id="node380" class="node">
<title>mcpgateway.schemas.PluginSummary</title>
<polygon fill="white" stroke="#77aadd" points="114246,-7974 114246,-8178 114508,-8178 114508,-7974 114246,-7974"/>
<text text-anchor="start" x="114328.5" y="-8162.8" font-family="Arial" font-size="14.00">PluginSummary</text>
<polyline fill="none" stroke="#77aadd" points="114246,-8155 114508,-8155 "/>
<text text-anchor="start" x="114254" y="-8139.8" font-family="Arial" font-size="14.00">author : Optional[str]</text>
<text text-anchor="start" x="114254" y="-8124.8" font-family="Arial" font-size="14.00">config_summary : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="114254" y="-8109.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="114254" y="-8094.8" font-family="Arial" font-size="14.00">hooks : Optional[List[str]]</text>
<text text-anchor="start" x="114254" y="-8079.8" font-family="Arial" font-size="14.00">mode : Optional[str]</text>
<text text-anchor="start" x="114254" y="-8064.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="114254" y="-8049.8" font-family="Arial" font-size="14.00">priority : Optional[int]</text>
<text text-anchor="start" x="114254" y="-8034.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="114254" y="-8019.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="114254" y="-8004.8" font-family="Arial" font-size="14.00">version : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="114246,-7997 114508,-7997 "/>
<text text-anchor="start" x="114375" y="-7981.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PluginDetail&#45;&gt;mcpgateway.schemas.PluginSummary -->
<g id="edge87" class="edge">
<title>mcpgateway.schemas.PluginDetail&#45;&gt;mcpgateway.schemas.PluginSummary</title>
<path fill="none" stroke="gray" d="M114377,-3984.59C114377,-4452.13 114377,-7356.78 114377,-7963.85"/>
<polygon fill="none" stroke="gray" points="114373.5,-7963.91 114377,-7973.91 114380.5,-7963.91 114373.5,-7963.91"/>
</g>
<!-- mcpgateway.plugins.framework.errors.PluginError -->
<g id="node366" class="node">
<title>mcpgateway.plugins.framework.errors.PluginError</title>
<polygon fill="white" stroke="#ee8866" points="114559,-8041.5 114559,-8110.5 114643,-8110.5 114643,-8041.5 114559,-8041.5"/>
<text text-anchor="start" x="114567" y="-8095.3" font-family="Arial" font-size="14.00" fill="red">PluginError</text>
<polyline fill="none" stroke="#ee8866" points="114559,-8087.5 114643,-8087.5 "/>
<text text-anchor="start" x="114586.5" y="-8072.3" font-family="Arial" font-size="14.00" fill="red">error</text>
<polyline fill="none" stroke="#ee8866" points="114559,-8064.5 114643,-8064.5 "/>
<text text-anchor="start" x="114599" y="-8049.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginErrorModel -->
<g id="node367" class="node">
<title>mcpgateway.plugins.framework.models.PluginErrorModel</title>
<polygon fill="white" stroke="#ee8866" points="114502,-3855.5 114502,-3984.5 114700,-3984.5 114700,-3855.5 114502,-3855.5"/>
<text text-anchor="start" x="114548" y="-3969.3" font-family="Arial" font-size="14.00">PluginErrorModel</text>
<polyline fill="none" stroke="#ee8866" points="114502,-3961.5 114700,-3961.5 "/>
<text text-anchor="start" x="114510" y="-3946.3" font-family="Arial" font-size="14.00">code : Optional[str]</text>
<text text-anchor="start" x="114510" y="-3931.3" font-family="Arial" font-size="14.00">details : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="114510" y="-3916.3" font-family="Arial" font-size="14.00">mcp_error_code : int</text>
<text text-anchor="start" x="114510" y="-3901.3" font-family="Arial" font-size="14.00">message : str</text>
<text text-anchor="start" x="114510" y="-3886.3" font-family="Arial" font-size="14.00">plugin_name : str</text>
<polyline fill="none" stroke="#ee8866" points="114502,-3878.5 114700,-3878.5 "/>
<text text-anchor="start" x="114599" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginErrorModel&#45;&gt;mcpgateway.plugins.framework.errors.PluginError -->
<g id="edge176" class="edge">
<title>mcpgateway.plugins.framework.models.PluginErrorModel&#45;&gt;mcpgateway.plugins.framework.errors.PluginError</title>
<path fill="none" stroke="gray" d="M114601,-3984.59C114601,-4472.3 114601,-7611.95 114601,-8029.21"/>
<polygon fill="none" stroke="gray" points="114601,-8029.3 114605,-8035.3 114601,-8041.3 114597,-8035.3 114601,-8029.3"/>
<text text-anchor="middle" x="114615.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">error</text>
</g>
<!-- mcpgateway.plugins.framework.registry.PluginInstanceRegistry -->
<g id="node369" class="node">
<title>mcpgateway.plugins.framework.registry.PluginInstanceRegistry</title>
<polygon fill="white" stroke="#ee8866" points="114718.5,-3833 114718.5,-4007 115173.5,-4007 115173.5,-3833 114718.5,-3833"/>
<text text-anchor="start" x="114876.5" y="-3991.8" font-family="Arial" font-size="14.00">PluginInstanceRegistry</text>
<polyline fill="none" stroke="#ee8866" points="114718.5,-3984 115173.5,-3984 "/>
<text text-anchor="start" x="114907.5" y="-3968.8" font-family="Arial" font-size="14.00">plugin_count</text>
<polyline fill="none" stroke="#ee8866" points="114718.5,-3961 115173.5,-3961 "/>
<text text-anchor="start" x="114726.5" y="-3945.8" font-family="Arial" font-size="14.00">get_all_plugins(): list[PluginRef]</text>
<text text-anchor="start" x="114726.5" y="-3930.8" font-family="Arial" font-size="14.00">get_hook_refs_for_hook(hook_type: str): list[HookRef]</text>
<text text-anchor="start" x="114726.5" y="-3915.8" font-family="Arial" font-size="14.00">get_plugin(name: str): Optional[PluginRef]</text>
<text text-anchor="start" x="114726.5" y="-3900.8" font-family="Arial" font-size="14.00">get_plugin_hook_by_name(name: str, hook_type: str): Optional[HookRef]</text>
<text text-anchor="start" x="114726.5" y="-3885.8" font-family="Arial" font-size="14.00">has_hooks_for(hook_type: str): bool</text>
<text text-anchor="start" x="114726.5" y="-3870.8" font-family="Arial" font-size="14.00">register(plugin: Plugin): None</text>
<text text-anchor="start" x="114726.5" y="-3855.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="114726.5" y="-3840.8" font-family="Arial" font-size="14.00">unregister(plugin_name: str): None</text>
</g>
<!-- mcpgateway.schemas.PluginListResponse -->
<g id="node370" class="node">
<title>mcpgateway.schemas.PluginListResponse</title>
<polygon fill="white" stroke="#77aadd" points="115192,-3863 115192,-3977 115446,-3977 115446,-3863 115192,-3863"/>
<text text-anchor="start" x="115259" y="-3961.8" font-family="Arial" font-size="14.00">PluginListResponse</text>
<polyline fill="none" stroke="#77aadd" points="115192,-3954 115446,-3954 "/>
<text text-anchor="start" x="115200" y="-3938.8" font-family="Arial" font-size="14.00">disabled_count : Optional[int]</text>
<text text-anchor="start" x="115200" y="-3923.8" font-family="Arial" font-size="14.00">enabled_count : Optional[int]</text>
<text text-anchor="start" x="115200" y="-3908.8" font-family="Arial" font-size="14.00">plugins : Optional[List[PluginSummary]]</text>
<text text-anchor="start" x="115200" y="-3893.8" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="115192,-3886 115446,-3886 "/>
<text text-anchor="start" x="115317" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.loader.plugin.PluginLoader -->
<g id="node371" class="node">
<title>mcpgateway.plugins.framework.loader.plugin.PluginLoader</title>
<polygon fill="white" stroke="#ee8866" points="115464,-3877.1 115464,-3962.9 115866,-3962.9 115866,-3877.1 115464,-3877.1"/>
<text text-anchor="start" x="115625" y="-3947.7" font-family="Arial" font-size="14.00">PluginLoader</text>
<polyline fill="none" stroke="#ee8866" points="115464,-3939.9 115866,-3939.9 "/>
<polyline fill="none" stroke="#ee8866" points="115464,-3915.1 115866,-3915.1 "/>
<text text-anchor="start" x="115472" y="-3899.9" font-family="Arial" font-size="14.00">load_and_instantiate_plugin(config: PluginConfig): Plugin | None</text>
<text text-anchor="start" x="115472" y="-3884.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginManager -->
<g id="node372" class="node">
<title>mcpgateway.plugins.framework.manager.PluginManager</title>
<polygon fill="white" stroke="#ee8866" points="115884,-3825.5 115884,-4014.5 117188,-4014.5 117188,-3825.5 115884,-3825.5"/>
<text text-anchor="start" x="116490" y="-3999.3" font-family="Arial" font-size="14.00">PluginManager</text>
<polyline fill="none" stroke="#ee8866" points="115884,-3991.5 117188,-3991.5 "/>
<text text-anchor="start" x="116497.5" y="-3976.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="116497.5" y="-3961.3" font-family="Arial" font-size="14.00">initialized</text>
<text text-anchor="start" x="116497.5" y="-3946.3" font-family="Arial" font-size="14.00">plugin_count</text>
<polyline fill="none" stroke="#ee8866" points="115884,-3938.5 117188,-3938.5 "/>
<text text-anchor="start" x="115892" y="-3923.3" font-family="Arial" font-size="14.00">get_plugin(name: str): Optional[Plugin]</text>
<text text-anchor="start" x="115892" y="-3908.3" font-family="Arial" font-size="14.00">has_hooks_for(hook_type: str): bool</text>
<text text-anchor="start" x="115892" y="-3893.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="115892" y="-3878.3" font-family="Arial" font-size="14.00">invoke_hook(hook_type: str, payload: PluginPayload, global_context: GlobalContext, local_contexts: Optional[PluginContextTable], violations_as_exceptions: bool): tuple[PluginResult, PluginContextTable | None]</text>
<text text-anchor="start" x="115892" y="-3863.3" font-family="Arial" font-size="14.00">invoke_hook_for_plugin(name: str, hook_type: str, payload: Union[PluginPayload, dict[str, Any], str], context: Union[PluginContext, GlobalContext], violations_as_exceptions: bool, payload_as_json: bool): PluginResult</text>
<text text-anchor="start" x="115892" y="-3848.3" font-family="Arial" font-size="14.00">reset(): None</text>
<text text-anchor="start" x="115892" y="-3833.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginManifest -->
<g id="node373" class="node">
<title>mcpgateway.plugins.framework.models.PluginManifest</title>
<polygon fill="white" stroke="#ee8866" points="117206.5,-3848 117206.5,-3992 117391.5,-3992 117391.5,-3848 117206.5,-3848"/>
<text text-anchor="start" x="117254" y="-3976.8" font-family="Arial" font-size="14.00">PluginManifest</text>
<polyline fill="none" stroke="#ee8866" points="117206.5,-3969 117391.5,-3969 "/>
<text text-anchor="start" x="117214.5" y="-3953.8" font-family="Arial" font-size="14.00">author : str</text>
<text text-anchor="start" x="117214.5" y="-3938.8" font-family="Arial" font-size="14.00">available_hooks : list[str]</text>
<text text-anchor="start" x="117214.5" y="-3923.8" font-family="Arial" font-size="14.00">default_config : dict[str, Any]</text>
<text text-anchor="start" x="117214.5" y="-3908.8" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="117214.5" y="-3893.8" font-family="Arial" font-size="14.00">tags : list[str]</text>
<text text-anchor="start" x="117214.5" y="-3878.8" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ee8866" points="117206.5,-3871 117391.5,-3871 "/>
<text text-anchor="start" x="117297" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginMode -->
<g id="node374" class="node">
<title>mcpgateway.plugins.framework.models.PluginMode</title>
<polygon fill="white" stroke="#ee8866" points="114017.5,-3885.5 114017.5,-3954.5 114106.5,-3954.5 114106.5,-3885.5 114017.5,-3885.5"/>
<text text-anchor="start" x="114025.5" y="-3939.3" font-family="Arial" font-size="14.00">PluginMode</text>
<polyline fill="none" stroke="#ee8866" points="114017.5,-3931.5 114106.5,-3931.5 "/>
<text text-anchor="start" x="114044.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="114017.5,-3908.5 114106.5,-3908.5 "/>
<text text-anchor="start" x="114060" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginMode&#45;&gt;mcpgateway.plugins.framework.models.PluginConfig -->
<g id="edge152" class="edge">
<title>mcpgateway.plugins.framework.models.PluginMode&#45;&gt;mcpgateway.plugins.framework.models.PluginConfig</title>
<path fill="none" stroke="gray" d="M114062,-3954.74C114062,-4301.76 114062,-7222.83 114062,-7924.09"/>
<polygon fill="gray" stroke="gray" points="114062,-7924.26 114066,-7930.26 114062,-7936.26 114058,-7930.26 114062,-7924.26"/>
<text text-anchor="middle" x="114079.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">mode</text>
</g>
<!-- mcpgateway.plugins.framework.base.PluginRef -->
<g id="node375" class="node">
<title>mcpgateway.plugins.framework.base.PluginRef</title>
<polygon fill="white" stroke="#ee8866" points="117409.5,-3833 117409.5,-4007 117486.5,-4007 117486.5,-3833 117409.5,-3833"/>
<text text-anchor="start" x="117418.5" y="-3991.8" font-family="Arial" font-size="14.00">PluginRef</text>
<polyline fill="none" stroke="#ee8866" points="117409.5,-3984 117486.5,-3984 "/>
<text text-anchor="start" x="117417.5" y="-3968.8" font-family="Arial" font-size="14.00">conditions</text>
<text text-anchor="start" x="117417.5" y="-3953.8" font-family="Arial" font-size="14.00">hooks</text>
<text text-anchor="start" x="117417.5" y="-3938.8" font-family="Arial" font-size="14.00">mode</text>
<text text-anchor="start" x="117417.5" y="-3923.8" font-family="Arial" font-size="14.00">name</text>
<text text-anchor="start" x="117417.5" y="-3908.8" font-family="Arial" font-size="14.00">plugin</text>
<text text-anchor="start" x="117417.5" y="-3893.8" font-family="Arial" font-size="14.00">priority</text>
<text text-anchor="start" x="117417.5" y="-3878.8" font-family="Arial" font-size="14.00">tags</text>
<text text-anchor="start" x="117417.5" y="-3863.8" font-family="Arial" font-size="14.00">uuid</text>
<polyline fill="none" stroke="#ee8866" points="117409.5,-3856 117486.5,-3856 "/>
<text text-anchor="start" x="117446" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginResult -->
<g id="node376" class="node">
<title>mcpgateway.plugins.framework.models.PluginResult</title>
<polygon fill="white" stroke="#ee8866" points="117504.5,-3863 117504.5,-3977 117729.5,-3977 117729.5,-3863 117504.5,-3863"/>
<text text-anchor="start" x="117579" y="-3961.8" font-family="Arial" font-size="14.00">PluginResult</text>
<polyline fill="none" stroke="#ee8866" points="117504.5,-3954 117729.5,-3954 "/>
<text text-anchor="start" x="117512.5" y="-3938.8" font-family="Arial" font-size="14.00">continue_processing : bool</text>
<text text-anchor="start" x="117512.5" y="-3923.8" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="117512.5" y="-3908.8" font-family="Arial" font-size="14.00">modified_payload : Optional[T]</text>
<text text-anchor="start" x="117512.5" y="-3893.8" font-family="Arial" font-size="14.00">violation : Optional[PluginViolation]</text>
<polyline fill="none" stroke="#ee8866" points="117504.5,-3886 117729.5,-3886 "/>
<text text-anchor="start" x="117615" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.plugin_service.PluginService -->
<g id="node377" class="node">
<title>mcpgateway.services.plugin_service.PluginService</title>
<polygon fill="white" stroke="#ffaabb" points="117747,-3847.1 117747,-3992.9 118437,-3992.9 118437,-3847.1 117747,-3847.1"/>
<text text-anchor="start" x="118050.5" y="-3977.7" font-family="Arial" font-size="14.00">PluginService</text>
<polyline fill="none" stroke="#ffaabb" points="117747,-3969.9 118437,-3969.9 "/>
<polyline fill="none" stroke="#ffaabb" points="117747,-3945.1 118437,-3945.1 "/>
<text text-anchor="start" x="117755" y="-3929.9" font-family="Arial" font-size="14.00">get_all_plugins(): List[Dict[str, Any]]</text>
<text text-anchor="start" x="117755" y="-3914.9" font-family="Arial" font-size="14.00">get_plugin_by_name(name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="117755" y="-3899.9" font-family="Arial" font-size="14.00">get_plugin_manager(): Optional[PluginManager]</text>
<text text-anchor="start" x="117755" y="-3884.9" font-family="Arial" font-size="14.00">get_plugin_statistics(): Dict[str, Any]</text>
<text text-anchor="start" x="117755" y="-3869.9" font-family="Arial" font-size="14.00">search_plugins(query: Optional[str], mode: Optional[str], hook: Optional[str], tag: Optional[str]): List[Dict[str, Any]]</text>
<text text-anchor="start" x="117755" y="-3854.9" font-family="Arial" font-size="14.00">set_plugin_manager(manager: PluginManager): None</text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginSettings -->
<g id="node378" class="node">
<title>mcpgateway.plugins.framework.models.PluginSettings</title>
<polygon fill="white" stroke="#ee8866" points="45018,-3848 45018,-3992 45260,-3992 45260,-3848 45018,-3848"/>
<text text-anchor="start" x="45095.5" y="-3976.8" font-family="Arial" font-size="14.00">PluginSettings</text>
<polyline fill="none" stroke="#ee8866" points="45018,-3969 45260,-3969 "/>
<text text-anchor="start" x="45026" y="-3953.8" font-family="Arial" font-size="14.00">enable_plugin_api : bool</text>
<text text-anchor="start" x="45026" y="-3938.8" font-family="Arial" font-size="14.00">fail_on_plugin_error : bool</text>
<text text-anchor="start" x="45026" y="-3923.8" font-family="Arial" font-size="14.00">include_user_info : bool</text>
<text text-anchor="start" x="45026" y="-3908.8" font-family="Arial" font-size="14.00">parallel_execution_within_band : bool</text>
<text text-anchor="start" x="45026" y="-3893.8" font-family="Arial" font-size="14.00">plugin_health_check_interval : int</text>
<text text-anchor="start" x="45026" y="-3878.8" font-family="Arial" font-size="14.00">plugin_timeout : int</text>
<polyline fill="none" stroke="#ee8866" points="45018,-3871 45260,-3871 "/>
<text text-anchor="start" x="45137" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginSettings&#45;&gt;mcpgateway.plugins.framework.models.Config -->
<g id="edge153" class="edge">
<title>mcpgateway.plugins.framework.models.PluginSettings&#45;&gt;mcpgateway.plugins.framework.models.Config</title>
<path fill="none" stroke="gray" d="M45139,-3992.23C45139,-4495.77 45139,-7513.05 45139,-8006.71"/>
<polygon fill="gray" stroke="gray" points="45139,-8006.91 45143,-8012.91 45139,-8018.91 45135,-8012.91 45139,-8006.91"/>
<text text-anchor="middle" x="45184.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">plugin_settings</text>
</g>
<!-- mcpgateway.schemas.PluginStatsResponse -->
<g id="node379" class="node">
<title>mcpgateway.schemas.PluginStatsResponse</title>
<polygon fill="white" stroke="#77aadd" points="118455,-3855.5 118455,-3984.5 118715,-3984.5 118715,-3855.5 118455,-3855.5"/>
<text text-anchor="start" x="118520" y="-3969.3" font-family="Arial" font-size="14.00">PluginStatsResponse</text>
<polyline fill="none" stroke="#77aadd" points="118455,-3961.5 118715,-3961.5 "/>
<text text-anchor="start" x="118463" y="-3946.3" font-family="Arial" font-size="14.00">disabled_plugins : Optional[int]</text>
<text text-anchor="start" x="118463" y="-3931.3" font-family="Arial" font-size="14.00">enabled_plugins : Optional[int]</text>
<text text-anchor="start" x="118463" y="-3916.3" font-family="Arial" font-size="14.00">plugins_by_hook : Optional[Dict[str, int]]</text>
<text text-anchor="start" x="118463" y="-3901.3" font-family="Arial" font-size="14.00">plugins_by_mode : Optional[Dict[str, int]]</text>
<text text-anchor="start" x="118463" y="-3886.3" font-family="Arial" font-size="14.00">total_plugins : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="118455,-3878.5 118715,-3878.5 "/>
<text text-anchor="start" x="118583" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.manager.PluginTimeoutError -->
<g id="node381" class="node">
<title>mcpgateway.plugins.framework.manager.PluginTimeoutError</title>
<polygon fill="white" stroke="#ee8866" points="118733,-3884.6 118733,-3955.4 118867,-3955.4 118867,-3884.6 118733,-3884.6"/>
<text text-anchor="start" x="118741" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PluginTimeoutError</text>
<polyline fill="none" stroke="#ee8866" points="118733,-3932.4 118867,-3932.4 "/>
<polyline fill="none" stroke="#ee8866" points="118733,-3907.6 118867,-3907.6 "/>
<text text-anchor="start" x="118798" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PluginViolation -->
<g id="node382" class="node">
<title>mcpgateway.plugins.framework.models.PluginViolation</title>
<polygon fill="white" stroke="#ee8866" points="118885,-3848 118885,-3992 119085,-3992 119085,-3848 118885,-3848"/>
<text text-anchor="start" x="118940" y="-3976.8" font-family="Arial" font-size="14.00">PluginViolation</text>
<polyline fill="none" stroke="#ee8866" points="118885,-3969 119085,-3969 "/>
<text text-anchor="start" x="118893" y="-3953.8" font-family="Arial" font-size="14.00">code : str</text>
<text text-anchor="start" x="118893" y="-3938.8" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="118893" y="-3923.8" font-family="Arial" font-size="14.00">details : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="118893" y="-3908.8" font-family="Arial" font-size="14.00">mcp_error_code : Optional[int]</text>
<text text-anchor="start" x="118893" y="-3893.8" font-family="Arial" font-size="14.00">plugin_name</text>
<text text-anchor="start" x="118893" y="-3878.8" font-family="Arial" font-size="14.00">reason : str</text>
<polyline fill="none" stroke="#ee8866" points="118885,-3871 119085,-3871 "/>
<text text-anchor="start" x="118983" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.errors.PluginViolationError -->
<g id="node383" class="node">
<title>mcpgateway.plugins.framework.errors.PluginViolationError</title>
<polygon fill="white" stroke="#ee8866" points="119103,-3878 119103,-3962 119313,-3962 119313,-3878 119103,-3878"/>
<text text-anchor="start" x="119148" y="-3946.8" font-family="Arial" font-size="14.00" fill="red">PluginViolationError</text>
<polyline fill="none" stroke="#ee8866" points="119103,-3939 119313,-3939 "/>
<text text-anchor="start" x="119111" y="-3923.8" font-family="Arial" font-size="14.00" fill="red">message : str</text>
<text text-anchor="start" x="119111" y="-3908.8" font-family="Arial" font-size="14.00" fill="red">violation : PluginViolation | None</text>
<polyline fill="none" stroke="#ee8866" points="119103,-3901 119313,-3901 "/>
<text text-anchor="start" x="119206" y="-3885.8" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.PooledSession -->
<g id="node384" class="node">
<title>mcpgateway.services.mcp_session_pool.PooledSession</title>
<polygon fill="white" stroke="#ffaabb" points="119305,-7944 119305,-8208 119461,-8208 119461,-7944 119305,-7944"/>
<text text-anchor="start" x="119337.5" y="-8192.8" font-family="Arial" font-size="14.00">PooledSession</text>
<polyline fill="none" stroke="#ffaabb" points="119305,-8185 119461,-8185 "/>
<text text-anchor="start" x="119313" y="-8169.8" font-family="Arial" font-size="14.00">age_seconds</text>
<text text-anchor="start" x="119313" y="-8154.8" font-family="Arial" font-size="14.00">created_at : float</text>
<text text-anchor="start" x="119313" y="-8139.8" font-family="Arial" font-size="14.00">gateway_id : str</text>
<text text-anchor="start" x="119313" y="-8124.8" font-family="Arial" font-size="14.00">headers : Dict[str, str]</text>
<text text-anchor="start" x="119313" y="-8109.8" font-family="Arial" font-size="14.00">identity_key : str</text>
<text text-anchor="start" x="119313" y="-8094.8" font-family="Arial" font-size="14.00">idle_seconds</text>
<text text-anchor="start" x="119313" y="-8079.8" font-family="Arial" font-size="14.00">is_closed</text>
<text text-anchor="start" x="119313" y="-8064.8" font-family="Arial" font-size="14.00">last_used : float</text>
<text text-anchor="start" x="119313" y="-8049.8" font-family="Arial" font-size="14.00">session : ClientSession</text>
<text text-anchor="start" x="119313" y="-8034.8" font-family="Arial" font-size="14.00">transport_context : Any</text>
<text text-anchor="start" x="119313" y="-8019.8" font-family="Arial" font-size="14.00">transport_type</text>
<text text-anchor="start" x="119313" y="-8004.8" font-family="Arial" font-size="14.00">url : str</text>
<text text-anchor="start" x="119313" y="-7989.8" font-family="Arial" font-size="14.00">use_count : int</text>
<text text-anchor="start" x="119313" y="-7974.8" font-family="Arial" font-size="14.00">user_identity : str</text>
<polyline fill="none" stroke="#ffaabb" points="119305,-7967 119461,-7967 "/>
<text text-anchor="start" x="119319.5" y="-7951.8" font-family="Arial" font-size="14.00">mark_closed(): None</text>
</g>
<!-- mcpgateway.common.models.Progress -->
<g id="node385" class="node">
<title>mcpgateway.common.models.Progress</title>
<polygon fill="white" stroke="#44bb99" points="119479.5,-8026.5 119479.5,-8125.5 119616.5,-8125.5 119616.5,-8026.5 119479.5,-8026.5"/>
<text text-anchor="start" x="119520.5" y="-8110.3" font-family="Arial" font-size="14.00">Progress</text>
<polyline fill="none" stroke="#44bb99" points="119479.5,-8102.5 119616.5,-8102.5 "/>
<text text-anchor="start" x="119487.5" y="-8087.3" font-family="Arial" font-size="14.00">progress : float</text>
<text text-anchor="start" x="119487.5" y="-8072.3" font-family="Arial" font-size="14.00">progress_token</text>
<text text-anchor="start" x="119487.5" y="-8057.3" font-family="Arial" font-size="14.00">total : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="119479.5,-8049.5 119616.5,-8049.5 "/>
<text text-anchor="start" x="119546" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressNotification -->
<g id="node386" class="node">
<title>mcpgateway.common.models.ProgressNotification</title>
<polygon fill="white" stroke="#44bb99" points="119634.5,-8019 119634.5,-8133 119885.5,-8133 119885.5,-8019 119634.5,-8019"/>
<text text-anchor="start" x="119699.5" y="-8117.8" font-family="Arial" font-size="14.00">ProgressNotification</text>
<polyline fill="none" stroke="#44bb99" points="119634.5,-8110 119885.5,-8110 "/>
<text text-anchor="start" x="119642.5" y="-8094.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/progress&#39;]</text>
<text text-anchor="start" x="119642.5" y="-8079.8" font-family="Arial" font-size="14.00">progress : float</text>
<text text-anchor="start" x="119642.5" y="-8064.8" font-family="Arial" font-size="14.00">progress_token</text>
<text text-anchor="start" x="119642.5" y="-8049.8" font-family="Arial" font-size="14.00">total : Optional[float]</text>
<polyline fill="none" stroke="#44bb99" points="119634.5,-8042 119885.5,-8042 "/>
<text text-anchor="start" x="119758" y="-8026.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressToken -->
<g id="node387" class="node">
<title>mcpgateway.common.models.ProgressToken</title>
<polygon fill="white" stroke="#44bb99" points="119584.5,-3885.5 119584.5,-3954.5 119723.5,-3954.5 119723.5,-3885.5 119584.5,-3885.5"/>
<text text-anchor="start" x="119608.5" y="-3939.3" font-family="Arial" font-size="14.00">ProgressToken</text>
<polyline fill="none" stroke="#44bb99" points="119584.5,-3931.5 119723.5,-3931.5 "/>
<text text-anchor="start" x="119592.5" y="-3916.3" font-family="Arial" font-size="14.00">value : Union[str, int]</text>
<polyline fill="none" stroke="#44bb99" points="119584.5,-3908.5 119723.5,-3908.5 "/>
<text text-anchor="start" x="119652" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.Progress -->
<g id="edge129" class="edge">
<title>mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.Progress</title>
<path fill="none" stroke="gray" d="M119653.14,-3954.74C119643.83,-4319.65 119561.88,-7530.88 119549.55,-8014.2"/>
<polygon fill="gray" stroke="gray" points="119549.55,-8014.42 119553.39,-8020.52 119549.24,-8026.41 119545.39,-8020.31 119549.55,-8014.42"/>
<text text-anchor="middle" x="119601" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">progress_token</text>
</g>
<!-- mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.ProgressNotification -->
<g id="edge130" class="edge">
<title>mcpgateway.common.models.ProgressToken&#45;&gt;mcpgateway.common.models.ProgressNotification</title>
<path fill="none" stroke="gray" d="M119653.4,-3954.62C119648.67,-4236.01 119620.23,-6228.49 119732,-7840 119735.9,-7896.25 119743.67,-7959.73 119750.03,-8006.52"/>
<polygon fill="gray" stroke="gray" points="119750.06,-8006.75 119754.85,-8012.15 119751.7,-8018.64 119746.92,-8013.24 119750.06,-8006.75"/>
<text text-anchor="middle" x="119782" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">progress_token</text>
</g>
<!-- mcpgateway.db.Prompt -->
<g id="node388" class="node">
<title>mcpgateway.db.Prompt</title>
<polygon fill="white" stroke="#77aadd" points="9820.5,-3570.5 9820.5,-4269.5 10105.5,-4269.5 10105.5,-3570.5 9820.5,-3570.5"/>
<text text-anchor="start" x="9940.5" y="-4254.3" font-family="Arial" font-size="14.00">Prompt</text>
<polyline fill="none" stroke="#77aadd" points="9820.5,-4246.5 10105.5,-4246.5 "/>
<text text-anchor="start" x="9828.5" y="-4231.3" font-family="Arial" font-size="14.00">argument_schema : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="9828.5" y="-4216.3" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="9828.5" y="-4201.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="9828.5" y="-4186.3" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4171.3" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4156.3" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4141.3" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4126.3" font-family="Arial" font-size="14.00">custom_name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-4111.3" font-family="Arial" font-size="14.00">custom_name_slug : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-4096.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4081.3" font-family="Arial" font-size="14.00">display_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4066.3" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="9828.5" y="-4051.3" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="9828.5" y="-4036.3" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="9828.5" y="-4021.3" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-4006.3" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="9828.5" y="-3991.3" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3976.3" font-family="Arial" font-size="14.00">gateway_name_cache</text>
<text text-anchor="start" x="9828.5" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3946.3" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3931.3" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="9828.5" y="-3916.3" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="9828.5" y="-3901.3" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;PromptMetric&#39;]]</text>
<text text-anchor="start" x="9828.5" y="-3886.3" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="9828.5" y="-3871.3" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="9828.5" y="-3856.3" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3841.3" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3826.3" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3811.3" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3796.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3781.3" font-family="Arial" font-size="14.00">original_name : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3766.3" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3751.3" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="9828.5" y="-3736.3" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="9828.5" y="-3721.3" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="9828.5" y="-3706.3" font-family="Arial" font-size="14.00">team : NoneType</text>
<text text-anchor="start" x="9828.5" y="-3691.3" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="9828.5" y="-3676.3" font-family="Arial" font-size="14.00">template : Mapped[str]</text>
<text text-anchor="start" x="9828.5" y="-3661.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="9828.5" y="-3646.3" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="9828.5" y="-3631.3" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="9820.5,-3623.5 10105.5,-3623.5 "/>
<text text-anchor="start" x="9828.5" y="-3608.3" font-family="Arial" font-size="14.00">execution_count(): int</text>
<text text-anchor="start" x="9828.5" y="-3593.3" font-family="Arial" font-size="14.00">gateway_slug(): Optional[str]</text>
<text text-anchor="start" x="9828.5" y="-3578.3" font-family="Arial" font-size="14.00">validate_arguments(args: Dict[str, str]): None</text>
</g>
<!-- mcpgateway.db.Prompt&#45;&gt;mcpgateway.db.Base -->
<g id="edge40" class="edge">
<title>mcpgateway.db.Prompt&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M9995.41,-4269.54C10067.27,-5118.83 10204.24,-7267.54 9811,-7840 9704.13,-7995.58 9471.38,-8048.78 9346.73,-8066.49"/>
<polygon fill="none" stroke="gray" points="9345.91,-8063.07 9336.48,-8067.9 9346.86,-8070.01 9345.91,-8063.07"/>
</g>
<!-- mcpgateway.common.models.Prompt&#45;&gt;mcpgateway.schemas.FederatedPrompt -->
<g id="edge131" class="edge">
<title>mcpgateway.common.models.Prompt&#45;&gt;mcpgateway.schemas.FederatedPrompt</title>
<path fill="none" stroke="gray" d="M60040,-8133.41C60040,-8215.86 60040,-8369.07 60040,-8457.75"/>
<polygon fill="gray" stroke="gray" points="60040,-8457.82 60044,-8463.82 60040,-8469.82 60036,-8463.82 60040,-8457.82"/>
<text text-anchor="middle" x="60061.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">prompt</text>
</g>
<!-- mcpgateway.schemas.PromptArgument -->
<g id="node390" class="node">
<title>mcpgateway.schemas.PromptArgument</title>
<polygon fill="white" stroke="#77aadd" points="119741.5,-3870.5 119741.5,-3969.5 119908.5,-3969.5 119908.5,-3870.5 119741.5,-3870.5"/>
<text text-anchor="start" x="119773" y="-3954.3" font-family="Arial" font-size="14.00">PromptArgument</text>
<polyline fill="none" stroke="#77aadd" points="119741.5,-3946.5 119908.5,-3946.5 "/>
<text text-anchor="start" x="119749.5" y="-3931.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="119749.5" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="119749.5" y="-3901.3" font-family="Arial" font-size="14.00">required : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="119741.5,-3893.5 119908.5,-3893.5 "/>
<text text-anchor="start" x="119823" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptArgument -->
<g id="node391" class="node">
<title>mcpgateway.common.models.PromptArgument</title>
<polygon fill="white" stroke="#44bb99" points="119927,-3855.5 119927,-3984.5 120119,-3984.5 120119,-3855.5 119927,-3855.5"/>
<text text-anchor="start" x="119971" y="-3969.3" font-family="Arial" font-size="14.00">PromptArgument</text>
<polyline fill="none" stroke="#44bb99" points="119927,-3961.5 120119,-3961.5 "/>
<text text-anchor="start" x="119935" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="119935" y="-3931.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="119935" y="-3916.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="119935" y="-3901.3" font-family="Arial" font-size="14.00">required : bool</text>
<text text-anchor="start" x="119935" y="-3886.3" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="119927,-3878.5 120119,-3878.5 "/>
<text text-anchor="start" x="120021" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptCreate -->
<g id="node392" class="node">
<title>mcpgateway.schemas.PromptCreate</title>
<polygon fill="white" stroke="#77aadd" points="120137.5,-3758 120137.5,-4082 120472.5,-4082 120472.5,-3758 120137.5,-3758"/>
<text text-anchor="start" x="120262.5" y="-4066.8" font-family="Arial" font-size="14.00">PromptCreate</text>
<polyline fill="none" stroke="#77aadd" points="120137.5,-4059 120472.5,-4059 "/>
<text text-anchor="start" x="120171.5" y="-4043.8" font-family="Arial" font-size="14.00">arguments : Optional[List[PromptArgument]]</text>
<text text-anchor="start" x="120171.5" y="-4028.8" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-4013.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3998.8" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3983.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3968.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="120171.5" y="-3953.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3938.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3923.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="120171.5" y="-3908.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3893.8" font-family="Arial" font-size="14.00">template : Optional[str]</text>
<text text-anchor="start" x="120171.5" y="-3878.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="120137.5,-3871 120472.5,-3871 "/>
<text text-anchor="start" x="120145.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="120145.5" y="-3840.8" font-family="Arial" font-size="14.00">validate_custom_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="120145.5" y="-3825.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="120145.5" y="-3810.8" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="120145.5" y="-3795.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="120145.5" y="-3780.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="120145.5" y="-3765.8" font-family="Arial" font-size="14.00">validate_template(v: str): str</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptError -->
<g id="node393" class="node">
<title>mcpgateway.services.prompt_service.PromptError</title>
<polygon fill="white" stroke="#ffaabb" points="120804.5,-8040.6 120804.5,-8111.4 120895.5,-8111.4 120895.5,-8040.6 120804.5,-8040.6"/>
<text text-anchor="start" x="120812.5" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">PromptError</text>
<polyline fill="none" stroke="#ffaabb" points="120804.5,-8088.4 120895.5,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="120804.5,-8063.6 120895.5,-8063.6 "/>
<text text-anchor="start" x="120848" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.PromptExecuteArgs -->
<g id="node394" class="node">
<title>mcpgateway.schemas.PromptExecuteArgs</title>
<polygon fill="white" stroke="#77aadd" points="121200,-3878 121200,-3962 121380,-3962 121380,-3878 121200,-3878"/>
<text text-anchor="start" x="121229.5" y="-3946.8" font-family="Arial" font-size="14.00">PromptExecuteArgs</text>
<polyline fill="none" stroke="#77aadd" points="121200,-3939 121380,-3939 "/>
<text text-anchor="start" x="121208" y="-3923.8" font-family="Arial" font-size="14.00">args : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="121208" y="-3908.8" font-family="Arial" font-size="14.00">model_config</text>
<polyline fill="none" stroke="#77aadd" points="121200,-3901 121380,-3901 "/>
<text text-anchor="start" x="121213" y="-3885.8" font-family="Arial" font-size="14.00">validate_args(v: dict): dict</text>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptHookType -->
<g id="node395" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptHookType</title>
<polygon fill="white" stroke="#ee8866" points="121398,-3885.5 121398,-3954.5 121520,-3954.5 121520,-3885.5 121398,-3885.5"/>
<text text-anchor="start" x="121406" y="-3939.3" font-family="Arial" font-size="14.00">PromptHookType</text>
<polyline fill="none" stroke="#ee8866" points="121398,-3931.5 121520,-3931.5 "/>
<text text-anchor="start" x="121441.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="121398,-3908.5 121520,-3908.5 "/>
<text text-anchor="start" x="121457" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptInvocation -->
<g id="node396" class="node">
<title>mcpgateway.schemas.PromptInvocation</title>
<polygon fill="white" stroke="#77aadd" points="121538,-3878 121538,-3962 121756,-3962 121756,-3878 121538,-3878"/>
<text text-anchor="start" x="121594" y="-3946.8" font-family="Arial" font-size="14.00">PromptInvocation</text>
<polyline fill="none" stroke="#77aadd" points="121538,-3939 121756,-3939 "/>
<text text-anchor="start" x="121546" y="-3923.8" font-family="Arial" font-size="14.00">arguments : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="121546" y="-3908.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="121538,-3901 121756,-3901 "/>
<text text-anchor="start" x="121645" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptListChangedNotification -->
<g id="node397" class="node">
<title>mcpgateway.common.models.PromptListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="121774,-3885.5 121774,-3954.5 122102,-3954.5 122102,-3885.5 121774,-3885.5"/>
<text text-anchor="start" x="121844.5" y="-3939.3" font-family="Arial" font-size="14.00">PromptListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="121774,-3931.5 122102,-3931.5 "/>
<text text-anchor="start" x="121782" y="-3916.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/prompts/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="121774,-3908.5 122102,-3908.5 "/>
<text text-anchor="start" x="121936" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptLockConflictError -->
<g id="node398" class="node">
<title>mcpgateway.services.prompt_service.PromptLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="120491,-3884.6 120491,-3955.4 120655,-3955.4 120655,-3884.6 120491,-3884.6"/>
<text text-anchor="start" x="120499" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PromptLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="120491,-3932.4 120655,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="120491,-3907.6 120655,-3907.6 "/>
<text text-anchor="start" x="120571" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptLockConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge106" class="edge">
<title>mcpgateway.services.prompt_service.PromptLockConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M120570.81,-3955.48C120549.53,-4296.66 120386.6,-7071.42 120664,-7840 120692.19,-7918.12 120757.54,-7990.18 120802.74,-8033.37"/>
<polygon fill="none" stroke="gray" points="120800.42,-8035.99 120810.1,-8040.31 120805.23,-8030.9 120800.42,-8035.99"/>
</g>
<!-- mcpgateway.common.models.PromptMessage -->
<g id="node399" class="node">
<title>mcpgateway.common.models.PromptMessage</title>
<polygon fill="white" stroke="#44bb99" points="47074,-8034 47074,-8118 47190,-8118 47190,-8034 47074,-8034"/>
<text text-anchor="start" x="47082" y="-8102.8" font-family="Arial" font-size="14.00">PromptMessage</text>
<polyline fill="none" stroke="#44bb99" points="47074,-8095 47190,-8095 "/>
<text text-anchor="start" x="47096.5" y="-8079.8" font-family="Arial" font-size="14.00">content : str</text>
<text text-anchor="start" x="47096.5" y="-8064.8" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="47074,-8057 47190,-8057 "/>
<text text-anchor="start" x="47130" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetric -->
<g id="node400" class="node">
<title>mcpgateway.db.PromptMetric</title>
<polygon fill="white" stroke="#77aadd" points="10124,-3840.5 10124,-3999.5 10374,-3999.5 10374,-3840.5 10124,-3840.5"/>
<text text-anchor="start" x="10208" y="-3984.3" font-family="Arial" font-size="14.00">PromptMetric</text>
<polyline fill="none" stroke="#77aadd" points="10124,-3976.5 10374,-3976.5 "/>
<text text-anchor="start" x="10132" y="-3961.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10132" y="-3946.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="10132" y="-3931.3" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="10132" y="-3916.3" font-family="Arial" font-size="14.00">prompt : Mapped[&#39;Prompt&#39;]</text>
<text text-anchor="start" x="10132" y="-3901.3" font-family="Arial" font-size="14.00">prompt_id : Mapped[str]</text>
<text text-anchor="start" x="10132" y="-3886.3" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="10132" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="10124,-3863.5 10374,-3863.5 "/>
<text text-anchor="start" x="10247" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge41" class="edge">
<title>mcpgateway.db.PromptMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10251.77,-3999.69C10269.62,-4526.37 10360.02,-7528.03 10114,-7840 10017.83,-7961.95 9540.29,-8038.2 9346.21,-8064.59"/>
<polygon fill="none" stroke="gray" points="9345.51,-8061.16 9336.07,-8065.96 9346.45,-8068.09 9345.51,-8061.16"/>
</g>
<!-- mcpgateway.schemas.PromptMetrics -->
<g id="node401" class="node">
<title>mcpgateway.schemas.PromptMetrics</title>
<polygon fill="white" stroke="#77aadd" points="122120.5,-3833 122120.5,-4007 122379.5,-4007 122379.5,-3833 122120.5,-3833"/>
<text text-anchor="start" x="122205.5" y="-3991.8" font-family="Arial" font-size="14.00">PromptMetrics</text>
<polyline fill="none" stroke="#77aadd" points="122120.5,-3984 122379.5,-3984 "/>
<text text-anchor="start" x="122128.5" y="-3968.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="122128.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="122128.5" y="-3938.8" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="122128.5" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="122128.5" y="-3908.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="122128.5" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="122128.5" y="-3878.8" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="122128.5" y="-3863.8" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="122120.5,-3856 122379.5,-3856 "/>
<text text-anchor="start" x="122248" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetricsHourly -->
<g id="node402" class="node">
<title>mcpgateway.db.PromptMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="10392,-3788 10392,-4052 10684,-4052 10684,-3788 10392,-3788"/>
<text text-anchor="start" x="10474" y="-4036.8" font-family="Arial" font-size="14.00">PromptMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="10392,-4029 10684,-4029 "/>
<text text-anchor="start" x="10400" y="-4013.8" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="10400" y="-3983.8" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-3968.8" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="10400" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-3938.8" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3923.8" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3908.8" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3893.8" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3878.8" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="10400" y="-3863.8" font-family="Arial" font-size="14.00">prompt_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10400" y="-3848.8" font-family="Arial" font-size="14.00">prompt_name : Mapped[str]</text>
<text text-anchor="start" x="10400" y="-3833.8" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="10400" y="-3818.8" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="10392,-3811 10684,-3811 "/>
<text text-anchor="start" x="10536" y="-3795.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.PromptMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge42" class="edge">
<title>mcpgateway.db.PromptMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10553.31,-4052.21C10622.06,-4666.66 10877.87,-7254.44 10383,-7840 10248.46,-7999.2 9581.64,-8055.35 9346.36,-8070.38"/>
<polygon fill="none" stroke="gray" points="9345.92,-8066.91 9336.16,-8071.03 9346.36,-8073.89 9345.92,-8066.91"/>
</g>
<!-- mcpgateway.services.prompt_service.PromptNameConflictError -->
<g id="node403" class="node">
<title>mcpgateway.services.prompt_service.PromptNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="120673.5,-3870.5 120673.5,-3969.5 120846.5,-3969.5 120846.5,-3870.5 120673.5,-3870.5"/>
<text text-anchor="start" x="120681.5" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">PromptNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="120673.5,-3946.5 120846.5,-3946.5 "/>
<text text-anchor="start" x="120687.5" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="120687.5" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="120687.5" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">prompt_id : Optional[int]</text>
<polyline fill="none" stroke="#ffaabb" points="120673.5,-3893.5 120846.5,-3893.5 "/>
<text text-anchor="start" x="120758" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptNameConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge107" class="edge">
<title>mcpgateway.services.prompt_service.PromptNameConflictError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M120761.06,-3969.81C120770.49,-4404.96 120839.98,-7612.33 120849.03,-8030.17"/>
<polygon fill="none" stroke="gray" points="120845.53,-8030.42 120849.25,-8040.35 120852.53,-8030.27 120845.53,-8030.42"/>
</g>
<!-- mcpgateway.services.prompt_service.PromptNotFoundError -->
<g id="node404" class="node">
<title>mcpgateway.services.prompt_service.PromptNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="120865,-3884.6 120865,-3955.4 121015,-3955.4 121015,-3884.6 120865,-3884.6"/>
<text text-anchor="start" x="120873" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PromptNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="120865,-3932.4 121015,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="120865,-3907.6 121015,-3907.6 "/>
<text text-anchor="start" x="120938" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptNotFoundError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge108" class="edge">
<title>mcpgateway.services.prompt_service.PromptNotFoundError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M120939.68,-3955.76C120937,-4242.47 120916.7,-6246.71 120860,-7873 120858.11,-7927.07 120854.88,-7989.23 120852.6,-8030.16"/>
<polygon fill="none" stroke="gray" points="120849.09,-8030.16 120852.02,-8040.34 120856.08,-8030.55 120849.09,-8030.16"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload -->
<g id="node405" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload</title>
<polygon fill="white" stroke="#ee8866" points="122402,-8034 122402,-8118 122568,-8118 122568,-8034 122402,-8034"/>
<text text-anchor="start" x="122410" y="-8102.8" font-family="Arial" font-size="14.00">PromptPosthookPayload</text>
<polyline fill="none" stroke="#ee8866" points="122402,-8095 122568,-8095 "/>
<text text-anchor="start" x="122441" y="-8079.8" font-family="Arial" font-size="14.00">prompt_id : str</text>
<text text-anchor="start" x="122441" y="-8064.8" font-family="Arial" font-size="14.00">result</text>
<polyline fill="none" stroke="#ee8866" points="122402,-8057 122568,-8057 "/>
<text text-anchor="start" x="122483" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.prompts.PromptPrehookPayload -->
<g id="node406" class="node">
<title>mcpgateway.plugins.framework.hooks.prompts.PromptPrehookPayload</title>
<polygon fill="white" stroke="#ee8866" points="122590,-3878 122590,-3962 122768,-3962 122768,-3878 122590,-3878"/>
<text text-anchor="start" x="122607" y="-3946.8" font-family="Arial" font-size="14.00">PromptPrehookPayload</text>
<polyline fill="none" stroke="#ee8866" points="122590,-3939 122768,-3939 "/>
<text text-anchor="start" x="122598" y="-3923.8" font-family="Arial" font-size="14.00">args : Optional[dict[str, str]]</text>
<text text-anchor="start" x="122598" y="-3908.8" font-family="Arial" font-size="14.00">prompt_id : str</text>
<polyline fill="none" stroke="#ee8866" points="122590,-3901 122768,-3901 "/>
<text text-anchor="start" x="122677" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.PromptRead -->
<g id="node407" class="node">
<title>mcpgateway.schemas.PromptRead</title>
<polygon fill="white" stroke="#77aadd" points="122786,-3653 122786,-4187 123014,-4187 123014,-3653 122786,-3653"/>
<text text-anchor="start" x="122861.5" y="-4171.8" font-family="Arial" font-size="14.00">PromptRead</text>
<polyline fill="none" stroke="#77aadd" points="122786,-4164 123014,-4164 "/>
<text text-anchor="start" x="122794" y="-4148.8" font-family="Arial" font-size="14.00">arguments : List[PromptArgument]</text>
<text text-anchor="start" x="122794" y="-4133.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="122794" y="-4118.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="122794" y="-4103.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="122794" y="-4088.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="122794" y="-4073.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="122794" y="-4058.8" font-family="Arial" font-size="14.00">custom_name : str</text>
<text text-anchor="start" x="122794" y="-4043.8" font-family="Arial" font-size="14.00">custom_name_slug : str</text>
<text text-anchor="start" x="122794" y="-4028.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="122794" y="-4013.8" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3998.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="122794" y="-3983.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3968.8" font-family="Arial" font-size="14.00">gateway_slug : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3953.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3938.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3923.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="122794" y="-3908.8" font-family="Arial" font-size="14.00">metrics : Optional[PromptMetrics]</text>
<text text-anchor="start" x="122794" y="-3893.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3878.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3863.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3848.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3833.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="122794" y="-3818.8" font-family="Arial" font-size="14.00">original_name : str</text>
<text text-anchor="start" x="122794" y="-3803.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3788.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="122794" y="-3773.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3758.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3743.8" font-family="Arial" font-size="14.00">template : str</text>
<text text-anchor="start" x="122794" y="-3728.8" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<text text-anchor="start" x="122794" y="-3713.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="122794" y="-3698.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="122794" y="-3683.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="122786,-3676 123014,-3676 "/>
<text text-anchor="start" x="122898" y="-3660.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptReference -->
<g id="node408" class="node">
<title>mcpgateway.common.models.PromptReference</title>
<polygon fill="white" stroke="#44bb99" points="123032,-3878 123032,-3962 123198,-3962 123198,-3878 123032,-3878"/>
<text text-anchor="start" x="123061.5" y="-3946.8" font-family="Arial" font-size="14.00">PromptReference</text>
<polyline fill="none" stroke="#44bb99" points="123032,-3939 123198,-3939 "/>
<text text-anchor="start" x="123040" y="-3923.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="123040" y="-3908.8" font-family="Arial" font-size="14.00">type : Literal[&#39;ref/prompt&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="123032,-3901 123198,-3901 "/>
<text text-anchor="start" x="123113" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptResult -->
<g id="node409" class="node">
<title>mcpgateway.common.models.PromptResult</title>
<polygon fill="white" stroke="#44bb99" points="122398,-3878 122398,-3962 122572,-3962 122572,-3878 122398,-3878"/>
<text text-anchor="start" x="122443.5" y="-3946.8" font-family="Arial" font-size="14.00">PromptResult</text>
<polyline fill="none" stroke="#44bb99" points="122398,-3939 122572,-3939 "/>
<text text-anchor="start" x="122406" y="-3923.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="122406" y="-3908.8" font-family="Arial" font-size="14.00">messages : List[Message]</text>
<polyline fill="none" stroke="#44bb99" points="122398,-3901 122572,-3901 "/>
<text text-anchor="start" x="122483" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.PromptResult&#45;&gt;mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload -->
<g id="edge132" class="edge">
<title>mcpgateway.common.models.PromptResult&#45;&gt;mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload</title>
<path fill="none" stroke="gray" d="M122485,-3962.11C122485,-4362.82 122485,-7567.34 122485,-8021.54"/>
<polygon fill="gray" stroke="gray" points="122485,-8021.87 122489,-8027.87 122485,-8033.87 122481,-8027.87 122485,-8021.87"/>
<text text-anchor="middle" x="122502" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">result</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptService -->
<g id="node410" class="node">
<title>mcpgateway.services.prompt_service.PromptService</title>
<polygon fill="white" stroke="#ffaabb" points="123216.5,-3764.6 123216.5,-4075.4 125405.5,-4075.4 125405.5,-3764.6 123216.5,-3764.6"/>
<text text-anchor="start" x="124266" y="-4060.2" font-family="Arial" font-size="14.00">PromptService</text>
<polyline fill="none" stroke="#ffaabb" points="123216.5,-4052.4 125405.5,-4052.4 "/>
<polyline fill="none" stroke="#ffaabb" points="123216.5,-4027.6 125405.5,-4027.6 "/>
<text text-anchor="start" x="123224.5" y="-4012.4" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="123224.5" y="-3997.4" font-family="Arial" font-size="14.00">convert_prompt_to_read(db_prompt: DbPrompt, include_metrics: bool): PromptRead</text>
<text text-anchor="start" x="123224.5" y="-3982.4" font-family="Arial" font-size="14.00">delete_prompt(db: Session, prompt_id: Union[int, str], user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="123224.5" y="-3967.4" font-family="Arial" font-size="14.00">get_prompt(db: Session, prompt_id: Union[int, str], arguments: Optional[Dict[str, str]], user: Optional[str], tenant_id: Optional[str], server_id: Optional[str], request_id: Optional[str], token_teams: Optional[List[str]], plugin_context_table: Optional[PluginContextTable], plugin_global_context: Optional[GlobalContext], _meta_data: Optional[Dict[str, Any]]): PromptResult</text>
<text text-anchor="start" x="123224.5" y="-3952.4" font-family="Arial" font-size="14.00">get_prompt_details(db: Session, prompt_id: Union[int, str], include_inactive: bool): Dict[str, Any]</text>
<text text-anchor="start" x="123224.5" y="-3937.4" font-family="Arial" font-size="14.00">get_top_prompts(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="123224.5" y="-3922.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="123224.5" y="-3907.4" font-family="Arial" font-size="14.00">list_prompts(db: Session, include_inactive: bool, cursor: Optional[str], tags: Optional[List[str]], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str], token_teams: Optional[List[str]]): Union[tuple[List[PromptRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="123224.5" y="-3892.4" font-family="Arial" font-size="14.00">list_prompts_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[PromptRead]</text>
<text text-anchor="start" x="123224.5" y="-3877.4" font-family="Arial" font-size="14.00">list_server_prompts(db: Session, server_id: str, include_inactive: bool, cursor: Optional[str], user_email: Optional[str], token_teams: Optional[List[str]]): List[PromptRead]</text>
<text text-anchor="start" x="123224.5" y="-3862.4" font-family="Arial" font-size="14.00">register_prompt(db: Session, prompt: PromptCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): PromptRead</text>
<text text-anchor="start" x="123224.5" y="-3847.4" font-family="Arial" font-size="14.00">register_prompts_bulk(db: Session, prompts: List[PromptCreate], created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], import_batch_id: Optional[str], federation_source: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str], conflict_strategy: str): Dict[str, Any]</text>
<text text-anchor="start" x="123224.5" y="-3832.4" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="123224.5" y="-3817.4" font-family="Arial" font-size="14.00">set_prompt_state(db: Session, prompt_id: int, activate: bool, user_email: Optional[str], skip_cache_invalidation: bool): PromptRead</text>
<text text-anchor="start" x="123224.5" y="-3802.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="123224.5" y="-3787.4" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="123224.5" y="-3772.4" font-family="Arial" font-size="14.00">update_prompt(db: Session, prompt_id: Union[int, str], prompt_update: PromptUpdate, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str], user_email: Optional[str]): PromptRead</text>
</g>
<!-- mcpgateway.plugins.framework.models.PromptTemplate -->
<g id="node411" class="node">
<title>mcpgateway.plugins.framework.models.PromptTemplate</title>
<polygon fill="white" stroke="#ee8866" points="32611.5,-3870.5 32611.5,-3969.5 32768.5,-3969.5 32768.5,-3870.5 32611.5,-3870.5"/>
<text text-anchor="start" x="32640" y="-3954.3" font-family="Arial" font-size="14.00">PromptTemplate</text>
<polyline fill="none" stroke="#ee8866" points="32611.5,-3946.5 32768.5,-3946.5 "/>
<text text-anchor="start" x="32619.5" y="-3931.3" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="32619.5" y="-3916.3" font-family="Arial" font-size="14.00">prompt_name : str</text>
<text text-anchor="start" x="32619.5" y="-3901.3" font-family="Arial" font-size="14.00">result : bool</text>
<polyline fill="none" stroke="#ee8866" points="32611.5,-3893.5 32768.5,-3893.5 "/>
<text text-anchor="start" x="32688" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.PromptTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge72" class="edge">
<title>mcpgateway.plugins.framework.models.PromptTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M32685.01,-3969.53C32652.08,-4302.15 32476.26,-6278.34 32777,-7840 32789.72,-7906.04 32819.09,-7977.88 32840.42,-8024.52"/>
<polygon fill="none" stroke="gray" points="32837.33,-8026.18 32844.7,-8033.79 32843.68,-8023.24 32837.33,-8026.18"/>
</g>
<!-- mcpgateway.schemas.PromptUpdate -->
<g id="node412" class="node">
<title>mcpgateway.schemas.PromptUpdate</title>
<polygon fill="white" stroke="#77aadd" points="125423.5,-3773 125423.5,-4067 125758.5,-4067 125758.5,-3773 125423.5,-3773"/>
<text text-anchor="start" x="125547" y="-4051.8" font-family="Arial" font-size="14.00">PromptUpdate</text>
<polyline fill="none" stroke="#77aadd" points="125423.5,-4044 125758.5,-4044 "/>
<text text-anchor="start" x="125457.5" y="-4028.8" font-family="Arial" font-size="14.00">arguments : Optional[List[PromptArgument]]</text>
<text text-anchor="start" x="125457.5" y="-4013.8" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3998.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3983.8" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3968.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3953.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3938.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="125457.5" y="-3923.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3908.8" font-family="Arial" font-size="14.00">template : Optional[str]</text>
<text text-anchor="start" x="125457.5" y="-3893.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="125423.5,-3886 125758.5,-3886 "/>
<text text-anchor="start" x="125431.5" y="-3870.8" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="125431.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_custom_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="125431.5" y="-3840.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="125431.5" y="-3825.8" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="125431.5" y="-3810.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="125431.5" y="-3795.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="125431.5" y="-3780.8" font-family="Arial" font-size="14.00">validate_template(v: str): str</text>
</g>
<!-- mcpgateway.services.prompt_service.PromptValidationError -->
<g id="node413" class="node">
<title>mcpgateway.services.prompt_service.PromptValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="121032.5,-3884.6 121032.5,-3955.4 121181.5,-3955.4 121181.5,-3884.6 121032.5,-3884.6"/>
<text text-anchor="start" x="121040.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">PromptValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="121032.5,-3932.4 121181.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="121032.5,-3907.6 121181.5,-3907.6 "/>
<text text-anchor="start" x="121105" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.prompt_service.PromptValidationError&#45;&gt;mcpgateway.services.prompt_service.PromptError -->
<g id="edge109" class="edge">
<title>mcpgateway.services.prompt_service.PromptValidationError&#45;&gt;mcpgateway.services.prompt_service.PromptError</title>
<path fill="none" stroke="gray" d="M121109.13,-3955.42C121129.79,-4296.09 121288.19,-7066.82 121024,-7840 120997.7,-7916.97 120936.16,-7989.65 120893.79,-8033.26"/>
<polygon fill="none" stroke="gray" points="120891.16,-8030.95 120886.64,-8040.53 120896.15,-8035.85 120891.16,-8030.95"/>
</g>
<!-- mcpgateway.llm_provider_configs.ProviderConfigDefinition -->
<g id="node414" class="node">
<title>mcpgateway.llm_provider_configs.ProviderConfigDefinition</title>
<polygon fill="white" stroke="#77aadd" points="125777,-3818 125777,-4022 126103,-4022 126103,-3818 125777,-3818"/>
<text text-anchor="start" x="125867" y="-4006.8" font-family="Arial" font-size="14.00">ProviderConfigDefinition</text>
<polyline fill="none" stroke="#77aadd" points="125777,-3999 126103,-3999 "/>
<text text-anchor="start" x="125785" y="-3983.8" font-family="Arial" font-size="14.00">api_base_default : Optional[str]</text>
<text text-anchor="start" x="125785" y="-3968.8" font-family="Arial" font-size="14.00">api_base_help : Optional[str]</text>
<text text-anchor="start" x="125785" y="-3953.8" font-family="Arial" font-size="14.00">api_key_help : Optional[str]</text>
<text text-anchor="start" x="125785" y="-3938.8" font-family="Arial" font-size="14.00">api_key_label : str</text>
<text text-anchor="start" x="125785" y="-3923.8" font-family="Arial" font-size="14.00">config_fields : Optional[List[ProviderFieldDefinition]]</text>
<text text-anchor="start" x="125785" y="-3908.8" font-family="Arial" font-size="14.00">description : str</text>
<text text-anchor="start" x="125785" y="-3893.8" font-family="Arial" font-size="14.00">display_name : str</text>
<text text-anchor="start" x="125785" y="-3878.8" font-family="Arial" font-size="14.00">provider_type : str</text>
<text text-anchor="start" x="125785" y="-3863.8" font-family="Arial" font-size="14.00">requires_api_base : bool</text>
<text text-anchor="start" x="125785" y="-3848.8" font-family="Arial" font-size="14.00">requires_api_key : bool</text>
<polyline fill="none" stroke="#77aadd" points="125777,-3841 126103,-3841 "/>
<text text-anchor="start" x="125938" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_provider_configs.ProviderFieldDefinition -->
<g id="node415" class="node">
<title>mcpgateway.llm_provider_configs.ProviderFieldDefinition</title>
<polygon fill="white" stroke="#77aadd" points="126121,-3810.5 126121,-4029.5 126347,-4029.5 126347,-3810.5 126121,-3810.5"/>
<text text-anchor="start" x="126166" y="-4014.3" font-family="Arial" font-size="14.00">ProviderFieldDefinition</text>
<polyline fill="none" stroke="#77aadd" points="126121,-4006.5 126347,-4006.5 "/>
<text text-anchor="start" x="126129" y="-3991.3" font-family="Arial" font-size="14.00">default_value : Optional[Any]</text>
<text text-anchor="start" x="126129" y="-3976.3" font-family="Arial" font-size="14.00">field_type : Optional[str]</text>
<text text-anchor="start" x="126129" y="-3961.3" font-family="Arial" font-size="14.00">help_text : Optional[str]</text>
<text text-anchor="start" x="126129" y="-3946.3" font-family="Arial" font-size="14.00">label : Optional[str]</text>
<text text-anchor="start" x="126129" y="-3931.3" font-family="Arial" font-size="14.00">max_value : Optional[float]</text>
<text text-anchor="start" x="126129" y="-3916.3" font-family="Arial" font-size="14.00">min_value : Optional[float]</text>
<text text-anchor="start" x="126129" y="-3901.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="126129" y="-3886.3" font-family="Arial" font-size="14.00">options : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="126129" y="-3871.3" font-family="Arial" font-size="14.00">placeholder : Optional[str]</text>
<text text-anchor="start" x="126129" y="-3856.3" font-family="Arial" font-size="14.00">required : Optional[bool]</text>
<text text-anchor="start" x="126129" y="-3841.3" font-family="Arial" font-size="14.00">validation_pattern : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="126121,-3833.5 126347,-3833.5 "/>
<text text-anchor="start" x="126232" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.RBACRole -->
<g id="node417" class="node">
<title>mcpgateway.common.models.RBACRole</title>
<polygon fill="white" stroke="#44bb99" points="126365,-3810.5 126365,-4029.5 126571,-4029.5 126571,-3810.5 126365,-3810.5"/>
<text text-anchor="start" x="126435" y="-4014.3" font-family="Arial" font-size="14.00">RBACRole</text>
<polyline fill="none" stroke="#44bb99" points="126365,-4006.5 126571,-4006.5 "/>
<text text-anchor="start" x="126373" y="-3991.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="126373" y="-3976.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3961.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3946.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3931.3" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3916.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="126373" y="-3901.3" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="126373" y="-3886.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3871.3" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="126373" y="-3856.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="126373" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<polyline fill="none" stroke="#44bb99" points="126365,-3833.5 126571,-3833.5 "/>
<text text-anchor="start" x="126466" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.RPCRequest -->
<g id="node418" class="node">
<title>mcpgateway.schemas.RPCRequest</title>
<polygon fill="white" stroke="#77aadd" points="126589.5,-3855.5 126589.5,-3984.5 127042.5,-3984.5 127042.5,-3855.5 126589.5,-3855.5"/>
<text text-anchor="start" x="126776.5" y="-3969.3" font-family="Arial" font-size="14.00">RPCRequest</text>
<polyline fill="none" stroke="#77aadd" points="126589.5,-3961.5 127042.5,-3961.5 "/>
<text text-anchor="start" x="126720.5" y="-3946.3" font-family="Arial" font-size="14.00">id : Optional[Union[int, str]]</text>
<text text-anchor="start" x="126720.5" y="-3931.3" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="126720.5" y="-3916.3" font-family="Arial" font-size="14.00">method : str</text>
<text text-anchor="start" x="126720.5" y="-3901.3" font-family="Arial" font-size="14.00">params : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="126589.5,-3893.5 127042.5,-3893.5 "/>
<text text-anchor="start" x="126597.5" y="-3878.3" font-family="Arial" font-size="14.00">validate_method(v: str): str</text>
<text text-anchor="start" x="126597.5" y="-3863.3" font-family="Arial" font-size="14.00">validate_params(v: Optional[Union[Dict, List]]): Optional[Union[Dict, List]]</text>
</g>
<!-- mcpgateway.schemas.RPCResponse -->
<g id="node419" class="node">
<title>mcpgateway.schemas.RPCResponse</title>
<polygon fill="white" stroke="#77aadd" points="127061,-3863 127061,-3977 127251,-3977 127251,-3863 127061,-3863"/>
<text text-anchor="start" x="127111" y="-3961.8" font-family="Arial" font-size="14.00">RPCResponse</text>
<polyline fill="none" stroke="#77aadd" points="127061,-3954 127251,-3954 "/>
<text text-anchor="start" x="127069" y="-3938.8" font-family="Arial" font-size="14.00">error : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="127069" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[Union[int, str]]</text>
<text text-anchor="start" x="127069" y="-3908.8" font-family="Arial" font-size="14.00">jsonrpc : Literal[&#39;2.0&#39;]</text>
<text text-anchor="start" x="127069" y="-3893.8" font-family="Arial" font-size="14.00">result : Optional[Any]</text>
<polyline fill="none" stroke="#77aadd" points="127061,-3886 127251,-3886 "/>
<text text-anchor="start" x="127154" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.RegisteredOAuthClient -->
<g id="node420" class="node">
<title>mcpgateway.db.RegisteredOAuthClient</title>
<polygon fill="white" stroke="#77aadd" points="10702,-3773 10702,-4067 11084,-4067 11084,-3773 10702,-3773"/>
<text text-anchor="start" x="10823.5" y="-4051.8" font-family="Arial" font-size="14.00">RegisteredOAuthClient</text>
<polyline fill="none" stroke="#77aadd" points="10702,-4044 11084,-4044 "/>
<text text-anchor="start" x="10710" y="-4028.8" font-family="Arial" font-size="14.00">client_id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-4013.8" font-family="Arial" font-size="14.00">client_secret_encrypted : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="10710" y="-3983.8" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="10710" y="-3968.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="10710" y="-3953.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-3938.8" font-family="Arial" font-size="14.00">grant_types : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-3923.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-3908.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="10710" y="-3893.8" font-family="Arial" font-size="14.00">issuer : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-3878.8" font-family="Arial" font-size="14.00">redirect_uris : Mapped[str]</text>
<text text-anchor="start" x="10710" y="-3863.8" font-family="Arial" font-size="14.00">registration_access_token_encrypted : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3848.8" font-family="Arial" font-size="14.00">registration_client_uri : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3833.8" font-family="Arial" font-size="14.00">response_types : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3818.8" font-family="Arial" font-size="14.00">scope : Mapped[Optional[str]]</text>
<text text-anchor="start" x="10710" y="-3803.8" font-family="Arial" font-size="14.00">token_endpoint_auth_method : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="10702,-3796 11084,-3796 "/>
<text text-anchor="start" x="10891" y="-3780.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.RegisteredOAuthClient&#45;&gt;mcpgateway.db.Base -->
<g id="edge43" class="edge">
<title>mcpgateway.db.RegisteredOAuthClient&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M10908.68,-4067.01C10974.26,-4708.77 11200.36,-7272.38 10693,-7840 10512.48,-8041.96 9623.43,-8070.43 9346.5,-8074.38"/>
<polygon fill="none" stroke="gray" points="9346.08,-8070.89 9336.13,-8074.52 9346.17,-8077.89 9346.08,-8070.89"/>
</g>
<!-- mcpgateway.cache.registry_cache.RegistryCache -->
<g id="node421" class="node">
<title>mcpgateway.cache.registry_cache.RegistryCache</title>
<polygon fill="white" stroke="#99ddff" points="127269,-3787.1 127269,-4052.9 127703,-4052.9 127703,-3787.1 127269,-3787.1"/>
<text text-anchor="start" x="127441.5" y="-4037.7" font-family="Arial" font-size="14.00">RegistryCache</text>
<polyline fill="none" stroke="#99ddff" points="127269,-4029.9 127703,-4029.9 "/>
<polyline fill="none" stroke="#99ddff" points="127269,-4005.1 127703,-4005.1 "/>
<text text-anchor="start" x="127277" y="-3989.9" font-family="Arial" font-size="14.00">get(cache_type: str, filters_hash: str): Optional[Any]</text>
<text text-anchor="start" x="127277" y="-3974.9" font-family="Arial" font-size="14.00">hash_filters(): str</text>
<text text-anchor="start" x="127277" y="-3959.9" font-family="Arial" font-size="14.00">invalidate(cache_type: str): None</text>
<text text-anchor="start" x="127277" y="-3944.9" font-family="Arial" font-size="14.00">invalidate_agents(): None</text>
<text text-anchor="start" x="127277" y="-3929.9" font-family="Arial" font-size="14.00">invalidate_all(): None</text>
<text text-anchor="start" x="127277" y="-3914.9" font-family="Arial" font-size="14.00">invalidate_catalog(): None</text>
<text text-anchor="start" x="127277" y="-3899.9" font-family="Arial" font-size="14.00">invalidate_gateways(): None</text>
<text text-anchor="start" x="127277" y="-3884.9" font-family="Arial" font-size="14.00">invalidate_prompts(): None</text>
<text text-anchor="start" x="127277" y="-3869.9" font-family="Arial" font-size="14.00">invalidate_resources(): None</text>
<text text-anchor="start" x="127277" y="-3854.9" font-family="Arial" font-size="14.00">invalidate_servers(): None</text>
<text text-anchor="start" x="127277" y="-3839.9" font-family="Arial" font-size="14.00">invalidate_tools(): None</text>
<text text-anchor="start" x="127277" y="-3824.9" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="127277" y="-3809.9" font-family="Arial" font-size="14.00">set(cache_type: str, data: Any, filters_hash: str, ttl: Optional[int]): None</text>
<text text-anchor="start" x="127277" y="-3794.9" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.cache.registry_cache.RegistryCacheConfig -->
<g id="node422" class="node">
<title>mcpgateway.cache.registry_cache.RegistryCacheConfig</title>
<polygon fill="white" stroke="#99ddff" points="127721,-3833 127721,-4007 127865,-4007 127865,-3833 127721,-3833"/>
<text text-anchor="start" x="127729" y="-3991.8" font-family="Arial" font-size="14.00">RegistryCacheConfig</text>
<polyline fill="none" stroke="#99ddff" points="127721,-3984 127865,-3984 "/>
<text text-anchor="start" x="127741.5" y="-3968.8" font-family="Arial" font-size="14.00">agents_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3953.8" font-family="Arial" font-size="14.00">catalog_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3938.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="127741.5" y="-3923.8" font-family="Arial" font-size="14.00">gateways_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3908.8" font-family="Arial" font-size="14.00">prompts_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3893.8" font-family="Arial" font-size="14.00">resources_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3878.8" font-family="Arial" font-size="14.00">servers_ttl : int</text>
<text text-anchor="start" x="127741.5" y="-3863.8" font-family="Arial" font-size="14.00">tools_ttl : int</text>
<polyline fill="none" stroke="#99ddff" points="127721,-3856 127865,-3856 "/>
<text text-anchor="start" x="127791" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.request_logging_middleware.RequestLoggingMiddleware -->
<g id="node423" class="node">
<title>mcpgateway.middleware.request_logging_middleware.RequestLoggingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="127883,-3833 127883,-4007 128179,-4007 128179,-3833 127883,-3833"/>
<text text-anchor="start" x="127946.5" y="-3991.8" font-family="Arial" font-size="14.00">RequestLoggingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="127883,-3984 128179,-3984 "/>
<text text-anchor="start" x="127931.5" y="-3968.8" font-family="Arial" font-size="14.00">enable_gateway_logging : bool</text>
<text text-anchor="start" x="127931.5" y="-3953.8" font-family="Arial" font-size="14.00">log_detailed_requests : bool</text>
<text text-anchor="start" x="127931.5" y="-3938.8" font-family="Arial" font-size="14.00">log_detailed_sample_rate : float</text>
<text text-anchor="start" x="127931.5" y="-3923.8" font-family="Arial" font-size="14.00">log_detailed_skip_endpoints : list</text>
<text text-anchor="start" x="127931.5" y="-3908.8" font-family="Arial" font-size="14.00">log_level : str</text>
<text text-anchor="start" x="127931.5" y="-3893.8" font-family="Arial" font-size="14.00">log_request_start : bool</text>
<text text-anchor="start" x="127931.5" y="-3878.8" font-family="Arial" font-size="14.00">log_resolve_user_identity : bool</text>
<text text-anchor="start" x="127931.5" y="-3863.8" font-family="Arial" font-size="14.00">max_body_size : NoneType</text>
<polyline fill="none" stroke="#eedd88" points="127883,-3856 128179,-3856 "/>
<text text-anchor="start" x="127891" y="-3840.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next: Callable)</text>
</g>
<!-- mcpgateway.schemas.RequestMetricsSchema -->
<g id="node424" class="node">
<title>mcpgateway.schemas.RequestMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="128197.5,-3795.5 128197.5,-4044.5 128454.5,-4044.5 128454.5,-3795.5 128197.5,-3795.5"/>
<text text-anchor="start" x="128253.5" y="-4029.3" font-family="Arial" font-size="14.00">RequestMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="128197.5,-4021.5 128454.5,-4021.5 "/>
<text text-anchor="start" x="128205.5" y="-4006.3" font-family="Arial" font-size="14.00">active_requests : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3991.3" font-family="Arial" font-size="14.00">error_rate : Optional[float]</text>
<text text-anchor="start" x="128205.5" y="-3976.3" font-family="Arial" font-size="14.00">requests_1xx : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3961.3" font-family="Arial" font-size="14.00">requests_2xx : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3946.3" font-family="Arial" font-size="14.00">requests_3xx : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3931.3" font-family="Arial" font-size="14.00">requests_4xx : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3916.3" font-family="Arial" font-size="14.00">requests_5xx : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3901.3" font-family="Arial" font-size="14.00">requests_per_second : Optional[float]</text>
<text text-anchor="start" x="128205.5" y="-3886.3" font-family="Arial" font-size="14.00">requests_total : Optional[int]</text>
<text text-anchor="start" x="128205.5" y="-3871.3" font-family="Arial" font-size="14.00">response_time_avg_ms : Optional[float]</text>
<text text-anchor="start" x="128205.5" y="-3856.3" font-family="Arial" font-size="14.00">response_time_p50_ms : Optional[float]</text>
<text text-anchor="start" x="128205.5" y="-3841.3" font-family="Arial" font-size="14.00">response_time_p95_ms : Optional[float]</text>
<text text-anchor="start" x="128205.5" y="-3826.3" font-family="Arial" font-size="14.00">response_time_p99_ms : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="128197.5,-3818.5 128454.5,-3818.5 "/>
<text text-anchor="start" x="128324" y="-3803.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.RequestStatus -->
<g id="node425" class="node">
<title>mcpgateway.llm_schemas.RequestStatus</title>
<polygon fill="white" stroke="#77aadd" points="128472.5,-3885.5 128472.5,-3954.5 128577.5,-3954.5 128577.5,-3885.5 128472.5,-3885.5"/>
<text text-anchor="start" x="128480.5" y="-3939.3" font-family="Arial" font-size="14.00">RequestStatus</text>
<polyline fill="none" stroke="#77aadd" points="128472.5,-3931.5 128577.5,-3931.5 "/>
<text text-anchor="start" x="128507.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="128472.5,-3908.5 128577.5,-3908.5 "/>
<text text-anchor="start" x="128523" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.RequestType -->
<g id="node426" class="node">
<title>mcpgateway.llm_schemas.RequestType</title>
<polygon fill="white" stroke="#77aadd" points="128596,-3885.5 128596,-3954.5 128692,-3954.5 128692,-3885.5 128596,-3885.5"/>
<text text-anchor="start" x="128604" y="-3939.3" font-family="Arial" font-size="14.00">RequestType</text>
<polyline fill="none" stroke="#77aadd" points="128596,-3931.5 128692,-3931.5 "/>
<text text-anchor="start" x="128626.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="128596,-3908.5 128692,-3908.5 "/>
<text text-anchor="start" x="128642" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResilientSession -->
<g id="node427" class="node">
<title>mcpgateway.db.ResilientSession</title>
<polygon fill="white" stroke="#77aadd" points="128710,-3869.6 128710,-3970.4 128896,-3970.4 128896,-3869.6 128710,-3869.6"/>
<text text-anchor="start" x="128753" y="-3955.2" font-family="Arial" font-size="14.00">ResilientSession</text>
<polyline fill="none" stroke="#77aadd" points="128710,-3947.4 128896,-3947.4 "/>
<polyline fill="none" stroke="#77aadd" points="128710,-3922.6 128896,-3922.6 "/>
<text text-anchor="start" x="128718" y="-3907.4" font-family="Arial" font-size="14.00">execute(statement, params)</text>
<text text-anchor="start" x="128718" y="-3892.4" font-family="Arial" font-size="14.00">scalar(statement, params)</text>
<text text-anchor="start" x="128718" y="-3877.4" font-family="Arial" font-size="14.00">scalars(statement, params)</text>
</g>
<!-- mcpgateway.db.Resource -->
<g id="node428" class="node">
<title>mcpgateway.db.Resource</title>
<polygon fill="white" stroke="#77aadd" points="11102,-3578 11102,-4262 11432,-4262 11432,-3578 11102,-3578"/>
<text text-anchor="start" x="11238" y="-4246.8" font-family="Arial" font-size="14.00">Resource</text>
<polyline fill="none" stroke="#77aadd" points="11102,-4239 11432,-4239 "/>
<text text-anchor="start" x="11110" y="-4223.8" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="11110" y="-4208.8" font-family="Arial" font-size="14.00">binary_content : Mapped[Optional[bytes]]</text>
<text text-anchor="start" x="11110" y="-4193.8" font-family="Arial" font-size="14.00">content</text>
<text text-anchor="start" x="11110" y="-4178.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="11110" y="-4163.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4148.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4133.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4118.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4103.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4088.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="11110" y="-4073.8" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="11110" y="-4058.8" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="11110" y="-4043.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-4028.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="11110" y="-4013.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3998.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-3983.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3968.8" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="11110" y="-3953.8" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="11110" y="-3938.8" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ResourceMetric&#39;]]</text>
<text text-anchor="start" x="11110" y="-3923.8" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="11110" y="-3908.8" font-family="Arial" font-size="14.00">mime_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="11110" y="-3878.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3863.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3848.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3833.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3818.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-3803.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3788.8" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="11110" y="-3773.8" font-family="Arial" font-size="14.00">size : Mapped[Optional[int]]</text>
<text text-anchor="start" x="11110" y="-3758.8" font-family="Arial" font-size="14.00">subscriptions : Mapped[List[&#39;ResourceSubscription&#39;]]</text>
<text text-anchor="start" x="11110" y="-3743.8" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="11110" y="-3728.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="11110" y="-3713.8" font-family="Arial" font-size="14.00">team : NoneType</text>
<text text-anchor="start" x="11110" y="-3698.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3683.8" font-family="Arial" font-size="14.00">text_content : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3668.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="11110" y="-3653.8" font-family="Arial" font-size="14.00">uri : Mapped[str]</text>
<text text-anchor="start" x="11110" y="-3638.8" font-family="Arial" font-size="14.00">uri_template : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11110" y="-3623.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="11110" y="-3608.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="11102,-3601 11432,-3601 "/>
<text text-anchor="start" x="11202" y="-3585.8" font-family="Arial" font-size="14.00">execution_count(): int</text>
</g>
<!-- mcpgateway.db.Resource&#45;&gt;mcpgateway.db.Base -->
<g id="edge44" class="edge">
<title>mcpgateway.db.Resource&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11305.06,-4262.12C11392.56,-5118.2 11566.04,-7325.76 11093,-7840 10972.74,-7970.74 9686.27,-8051.42 9346.11,-8070.57"/>
<polygon fill="none" stroke="gray" points="9345.87,-8067.08 9336.09,-8071.13 9346.27,-8074.07 9345.87,-8067.08"/>
</g>
<!-- mcpgateway.common.models.Resource&#45;&gt;mcpgateway.schemas.FederatedResource -->
<g id="edge133" class="edge">
<title>mcpgateway.common.models.Resource&#45;&gt;mcpgateway.schemas.FederatedResource</title>
<path fill="none" stroke="gray" d="M60266,-8148.15C60266,-8233.02 60266,-8373.92 60266,-8457.58"/>
<polygon fill="gray" stroke="gray" points="60266,-8457.74 60270,-8463.74 60266,-8469.74 60262,-8463.74 60266,-8457.74"/>
<text text-anchor="middle" x="60292.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">resource</text>
</g>
<!-- mcpgateway.observability.init_telemetry.ResourceAttributeSpanProcessor -->
<g id="node430" class="node">
<title>mcpgateway.observability.init_telemetry.ResourceAttributeSpanProcessor</title>
<polygon fill="white" stroke="#bbcc33" points="128914.5,-3879 128914.5,-3961 129131.5,-3961 129131.5,-3879 128914.5,-3879"/>
<text text-anchor="start" x="128922.5" y="-3945.8" font-family="Arial" font-size="14.00">ResourceAttributeSpanProcessor</text>
<polyline fill="none" stroke="#bbcc33" points="128914.5,-3938 129131.5,-3938 "/>
<text text-anchor="start" x="128953.5" y="-3922.8" font-family="Arial" font-size="14.00">attributes_to_copy : list</text>
<polyline fill="none" stroke="#bbcc33" points="128914.5,-3915 129131.5,-3915 "/>
<text text-anchor="start" x="128927" y="-3900.8" font-family="Arial" font-style="italic" font-size="14.00">on_end</text>
<text text-anchor="start" x="128973" y="-3900.8" font-family="Arial" font-size="14.00">(span)</text>
<text text-anchor="start" x="128927" y="-3886.8" font-family="Arial" font-size="14.00">on_start(span, _parent_context)</text>
</g>
<!-- mcpgateway.cache.resource_cache.ResourceCache -->
<g id="node431" class="node">
<title>mcpgateway.cache.resource_cache.ResourceCache</title>
<polygon fill="white" stroke="#99ddff" points="129150,-3840.5 129150,-3999.5 129346,-3999.5 129346,-3840.5 129150,-3840.5"/>
<text text-anchor="start" x="129199.5" y="-3984.3" font-family="Arial" font-size="14.00">ResourceCache</text>
<polyline fill="none" stroke="#99ddff" points="129150,-3976.5 129346,-3976.5 "/>
<text text-anchor="start" x="129206" y="-3961.3" font-family="Arial" font-size="14.00">max_size : int</text>
<text text-anchor="start" x="129206" y="-3946.3" font-family="Arial" font-size="14.00">ttl : int</text>
<polyline fill="none" stroke="#99ddff" points="129150,-3938.5 129346,-3938.5 "/>
<text text-anchor="start" x="129158" y="-3923.3" font-family="Arial" font-size="14.00">clear(): None</text>
<text text-anchor="start" x="129158" y="-3908.3" font-family="Arial" font-size="14.00">delete(key: str): None</text>
<text text-anchor="start" x="129158" y="-3893.3" font-family="Arial" font-size="14.00">get(key: str): Optional[Any]</text>
<text text-anchor="start" x="129158" y="-3878.3" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="129158" y="-3863.3" font-family="Arial" font-size="14.00">set(key: str, value: Any): None</text>
<text text-anchor="start" x="129158" y="-3848.3" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.common.models.ResourceContent -->
<g id="node432" class="node">
<title>mcpgateway.common.models.ResourceContent</title>
<polygon fill="white" stroke="#44bb99" points="129363.5,-3848 129363.5,-3992 129532.5,-3992 129532.5,-3848 129363.5,-3848"/>
<text text-anchor="start" x="129395" y="-3976.8" font-family="Arial" font-size="14.00">ResourceContent</text>
<polyline fill="none" stroke="#44bb99" points="129363.5,-3969 129532.5,-3969 "/>
<text text-anchor="start" x="129371.5" y="-3953.8" font-family="Arial" font-size="14.00">blob : Optional[bytes]</text>
<text text-anchor="start" x="129371.5" y="-3938.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="129371.5" y="-3923.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="129371.5" y="-3908.8" font-family="Arial" font-size="14.00">text : Optional[str]</text>
<text text-anchor="start" x="129371.5" y="-3893.8" font-family="Arial" font-size="14.00">type : Literal[&#39;resource&#39;]</text>
<text text-anchor="start" x="129371.5" y="-3878.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="129363.5,-3871 129532.5,-3871 "/>
<text text-anchor="start" x="129446" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ResourceNotification -->
<g id="node444" class="node">
<title>mcpgateway.schemas.ResourceNotification</title>
<polygon fill="white" stroke="#77aadd" points="129328,-8026.5 129328,-8125.5 129568,-8125.5 129568,-8026.5 129328,-8026.5"/>
<text text-anchor="start" x="129385.5" y="-8110.3" font-family="Arial" font-size="14.00">ResourceNotification</text>
<polyline fill="none" stroke="#77aadd" points="129328,-8102.5 129568,-8102.5 "/>
<text text-anchor="start" x="129354.5" y="-8087.3" font-family="Arial" font-size="14.00">content</text>
<text text-anchor="start" x="129354.5" y="-8072.3" font-family="Arial" font-size="14.00">timestamp : Optional[datetime]</text>
<text text-anchor="start" x="129354.5" y="-8057.3" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#77aadd" points="129328,-8049.5 129568,-8049.5 "/>
<text text-anchor="start" x="129336" y="-8034.3" font-family="Arial" font-size="14.00">serialize_timestamp(dt: datetime): str</text>
</g>
<!-- mcpgateway.common.models.ResourceContent&#45;&gt;mcpgateway.schemas.ResourceNotification -->
<g id="edge134" class="edge">
<title>mcpgateway.common.models.ResourceContent&#45;&gt;mcpgateway.schemas.ResourceNotification</title>
<path fill="none" stroke="gray" d="M129448,-3992.23C129448,-4498.31 129448,-7543.55 129448,-8013.98"/>
<polygon fill="gray" stroke="gray" points="129448,-8014.2 129452,-8020.2 129448,-8026.2 129444,-8020.2 129448,-8014.2"/>
<text text-anchor="middle" x="129470.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">content</text>
</g>
<!-- mcpgateway.schemas.ResourceCreate -->
<g id="node434" class="node">
<title>mcpgateway.schemas.ResourceCreate</title>
<polygon fill="white" stroke="#77aadd" points="129551,-3765.5 129551,-4074.5 130007,-4074.5 130007,-3765.5 129551,-3765.5"/>
<text text-anchor="start" x="129729.5" y="-4059.3" font-family="Arial" font-size="14.00">ResourceCreate</text>
<polyline fill="none" stroke="#77aadd" points="129551,-4051.5 130007,-4051.5 "/>
<text text-anchor="start" x="129673.5" y="-4036.3" font-family="Arial" font-size="14.00">content : Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="129673.5" y="-4021.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-4006.3" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3991.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3976.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="129673.5" y="-3961.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3946.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3931.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="129673.5" y="-3916.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3901.3" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3886.3" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="129673.5" y="-3871.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="129551,-3863.5 130007,-3863.5 "/>
<text text-anchor="start" x="129559" y="-3848.3" font-family="Arial" font-size="14.00">validate_content(v: Optional[Union[str, bytes]]): Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="129559" y="-3833.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="129559" y="-3818.3" font-family="Arial" font-size="14.00">validate_mime_type(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="129559" y="-3803.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="129559" y="-3788.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="129559" y="-3773.3" font-family="Arial" font-size="14.00">validate_uri(v: str): str</text>
</g>
<!-- mcpgateway.services.resource_service.ResourceError -->
<g id="node435" class="node">
<title>mcpgateway.services.resource_service.ResourceError</title>
<polygon fill="white" stroke="#ffaabb" points="130345,-8040.6 130345,-8111.4 130449,-8111.4 130449,-8040.6 130345,-8040.6"/>
<text text-anchor="start" x="130353" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">ResourceError</text>
<polyline fill="none" stroke="#ffaabb" points="130345,-8088.4 130449,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="130345,-8063.6 130449,-8063.6 "/>
<text text-anchor="start" x="130395" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourceHookType -->
<g id="node436" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourceHookType</title>
<polygon fill="white" stroke="#ee8866" points="130775.5,-3885.5 130775.5,-3954.5 130910.5,-3954.5 130910.5,-3885.5 130775.5,-3885.5"/>
<text text-anchor="start" x="130783.5" y="-3939.3" font-family="Arial" font-size="14.00">ResourceHookType</text>
<polyline fill="none" stroke="#ee8866" points="130775.5,-3931.5 130910.5,-3931.5 "/>
<text text-anchor="start" x="130825.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="130775.5,-3908.5 130910.5,-3908.5 "/>
<text text-anchor="start" x="130841" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceLink -->
<g id="node437" class="node">
<title>mcpgateway.common.models.ResourceLink</title>
<polygon fill="white" stroke="#44bb99" points="60316,-3885.5 60316,-3954.5 60500,-3954.5 60500,-3885.5 60316,-3885.5"/>
<text text-anchor="start" x="60366.5" y="-3939.3" font-family="Arial" font-size="14.00">ResourceLink</text>
<polyline fill="none" stroke="#44bb99" points="60316,-3931.5 60500,-3931.5 "/>
<text text-anchor="start" x="60324" y="-3916.3" font-family="Arial" font-size="14.00">type : Literal[&#39;resource_link&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="60316,-3908.5 60500,-3908.5 "/>
<text text-anchor="start" x="60406" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceLink&#45;&gt;mcpgateway.common.models.Resource -->
<g id="edge8" class="edge">
<title>mcpgateway.common.models.ResourceLink&#45;&gt;mcpgateway.common.models.Resource</title>
<path fill="none" stroke="gray" d="M60409.02,-3954.68C60417.13,-4236.58 60467.08,-6232.36 60307,-7840 60301.87,-7891.53 60291.97,-7948.79 60283.18,-7993.88"/>
<polygon fill="none" stroke="gray" points="60279.71,-7993.41 60281.21,-8003.9 60286.58,-7994.76 60279.71,-7993.41"/>
</g>
<!-- mcpgateway.common.models.ResourceListChangedNotification -->
<g id="node438" class="node">
<title>mcpgateway.common.models.ResourceListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="130928,-3885.5 130928,-3954.5 131266,-3954.5 131266,-3885.5 130928,-3885.5"/>
<text text-anchor="start" x="130996.5" y="-3939.3" font-family="Arial" font-size="14.00">ResourceListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="130928,-3931.5 131266,-3931.5 "/>
<text text-anchor="start" x="130936" y="-3916.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/resources/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="130928,-3908.5 131266,-3908.5 "/>
<text text-anchor="start" x="131095" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceLockConflictError -->
<g id="node439" class="node">
<title>mcpgateway.services.resource_service.ResourceLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="130025,-3884.6 130025,-3955.4 130203,-3955.4 130203,-3884.6 130025,-3884.6"/>
<text text-anchor="start" x="130033" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ResourceLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="130025,-3932.4 130203,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="130025,-3907.6 130203,-3907.6 "/>
<text text-anchor="start" x="130112" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceLockConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge110" class="edge">
<title>mcpgateway.services.resource_service.ResourceLockConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M130111.89,-3955.47C130091.41,-4296.64 129934.91,-7071.27 130212,-7840 130240.1,-7917.97 130305.08,-7990.07 130350.02,-8033.3"/>
<polygon fill="none" stroke="gray" points="130347.67,-8035.9 130357.33,-8040.25 130352.5,-8030.83 130347.67,-8035.9"/>
</g>
<!-- mcpgateway.db.ResourceMetric -->
<g id="node440" class="node">
<title>mcpgateway.db.ResourceMetric</title>
<polygon fill="white" stroke="#77aadd" points="11450,-3840.5 11450,-3999.5 11700,-3999.5 11700,-3840.5 11450,-3840.5"/>
<text text-anchor="start" x="11527" y="-3984.3" font-family="Arial" font-size="14.00">ResourceMetric</text>
<polyline fill="none" stroke="#77aadd" points="11450,-3976.5 11700,-3976.5 "/>
<text text-anchor="start" x="11458" y="-3961.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11458" y="-3946.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="11458" y="-3931.3" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="11458" y="-3916.3" font-family="Arial" font-size="14.00">resource : Mapped[&#39;Resource&#39;]</text>
<text text-anchor="start" x="11458" y="-3901.3" font-family="Arial" font-size="14.00">resource_id : Mapped[str]</text>
<text text-anchor="start" x="11458" y="-3886.3" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="11458" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="11450,-3863.5 11700,-3863.5 "/>
<text text-anchor="start" x="11573" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge45" class="edge">
<title>mcpgateway.db.ResourceMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11578.35,-3999.75C11600.03,-4528.44 11711.52,-7548.88 11441,-7840 11295.52,-7996.57 9725.64,-8059.41 9346.2,-8072.37"/>
<polygon fill="none" stroke="gray" points="9346,-8068.87 9336.12,-8072.71 9346.24,-8075.87 9346,-8068.87"/>
</g>
<!-- mcpgateway.schemas.ResourceMetrics -->
<g id="node441" class="node">
<title>mcpgateway.schemas.ResourceMetrics</title>
<polygon fill="white" stroke="#77aadd" points="131284.5,-3833 131284.5,-4007 131543.5,-4007 131543.5,-3833 131284.5,-3833"/>
<text text-anchor="start" x="131362.5" y="-3991.8" font-family="Arial" font-size="14.00">ResourceMetrics</text>
<polyline fill="none" stroke="#77aadd" points="131284.5,-3984 131543.5,-3984 "/>
<text text-anchor="start" x="131292.5" y="-3968.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="131292.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="131292.5" y="-3938.8" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="131292.5" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="131292.5" y="-3908.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="131292.5" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="131292.5" y="-3878.8" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="131292.5" y="-3863.8" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="131284.5,-3856 131543.5,-3856 "/>
<text text-anchor="start" x="131412" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetricsHourly -->
<g id="node442" class="node">
<title>mcpgateway.db.ResourceMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="11718,-3788 11718,-4052 12010,-4052 12010,-3788 11718,-3788"/>
<text text-anchor="start" x="11793" y="-4036.8" font-family="Arial" font-size="14.00">ResourceMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="11718,-4029 12010,-4029 "/>
<text text-anchor="start" x="11726" y="-4013.8" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="11726" y="-3983.8" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-3968.8" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="11726" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-3938.8" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3923.8" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3908.8" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3893.8" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3878.8" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="11726" y="-3863.8" font-family="Arial" font-size="14.00">resource_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="11726" y="-3848.8" font-family="Arial" font-size="14.00">resource_name : Mapped[str]</text>
<text text-anchor="start" x="11726" y="-3833.8" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="11726" y="-3818.8" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="11718,-3811 12010,-3811 "/>
<text text-anchor="start" x="11862" y="-3795.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge46" class="edge">
<title>mcpgateway.db.ResourceMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M11868.7,-4052.26C11890.7,-4702.36 11971.72,-7557.36 11709,-7840 11544.48,-8017 9754.43,-8064.79 9346.44,-8073.42"/>
<polygon fill="none" stroke="gray" points="9346.13,-8069.93 9336.2,-8073.64 9346.27,-8076.93 9346.13,-8069.93"/>
</g>
<!-- mcpgateway.services.resource_service.ResourceNotFoundError -->
<g id="node443" class="node">
<title>mcpgateway.services.resource_service.ResourceNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="130221,-3884.6 130221,-3955.4 130385,-3955.4 130385,-3884.6 130221,-3884.6"/>
<text text-anchor="start" x="130229" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ResourceNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="130221,-3932.4 130385,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="130221,-3907.6 130385,-3907.6 "/>
<text text-anchor="start" x="130301" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceNotFoundError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge111" class="edge">
<title>mcpgateway.services.resource_service.ResourceNotFoundError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M130303.78,-3955.66C130312.24,-4329.39 130386.42,-7607.55 130395.99,-8030.19"/>
<polygon fill="none" stroke="gray" points="130392.49,-8030.56 130396.22,-8040.48 130399.49,-8030.4 130392.49,-8030.56"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourcePostFetchPayload -->
<g id="node445" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourcePostFetchPayload</title>
<polygon fill="white" stroke="#ee8866" points="131562,-3878 131562,-3962 131746,-3962 131746,-3878 131562,-3878"/>
<text text-anchor="start" x="131570" y="-3946.8" font-family="Arial" font-size="14.00">ResourcePostFetchPayload</text>
<polyline fill="none" stroke="#ee8866" points="131562,-3939 131746,-3939 "/>
<text text-anchor="start" x="131614.5" y="-3923.8" font-family="Arial" font-size="14.00">content : Any</text>
<text text-anchor="start" x="131614.5" y="-3908.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#ee8866" points="131562,-3901 131746,-3901 "/>
<text text-anchor="start" x="131652" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.resources.ResourcePreFetchPayload -->
<g id="node446" class="node">
<title>mcpgateway.plugins.framework.hooks.resources.ResourcePreFetchPayload</title>
<polygon fill="white" stroke="#ee8866" points="131764,-3878 131764,-3962 131980,-3962 131980,-3878 131764,-3878"/>
<text text-anchor="start" x="131791" y="-3946.8" font-family="Arial" font-size="14.00">ResourcePreFetchPayload</text>
<polyline fill="none" stroke="#ee8866" points="131764,-3939 131980,-3939 "/>
<text text-anchor="start" x="131772" y="-3923.8" font-family="Arial" font-size="14.00">metadata : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="131772" y="-3908.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#ee8866" points="131764,-3901 131980,-3901 "/>
<text text-anchor="start" x="131870" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ResourceRead -->
<g id="node447" class="node">
<title>mcpgateway.schemas.ResourceRead</title>
<polygon fill="white" stroke="#77aadd" points="131998.5,-3668 131998.5,-4172 132231.5,-4172 132231.5,-3668 131998.5,-3668"/>
<text text-anchor="start" x="132069.5" y="-4156.8" font-family="Arial" font-size="14.00">ResourceRead</text>
<polyline fill="none" stroke="#77aadd" points="131998.5,-4149 132231.5,-4149 "/>
<text text-anchor="start" x="132006.5" y="-4133.8" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="132006.5" y="-4118.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="132006.5" y="-4103.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-4088.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-4073.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-4058.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-4043.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-4028.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="132006.5" y="-4013.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3998.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3983.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3968.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="132006.5" y="-3953.8" font-family="Arial" font-size="14.00">metrics : Optional[ResourceMetrics]</text>
<text text-anchor="start" x="132006.5" y="-3938.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3923.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3908.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3893.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3878.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3863.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="132006.5" y="-3848.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3833.8" font-family="Arial" font-size="14.00">size : Optional[int]</text>
<text text-anchor="start" x="132006.5" y="-3818.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="132006.5" y="-3803.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3788.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3773.8" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3758.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="132006.5" y="-3743.8" font-family="Arial" font-size="14.00">uri : str</text>
<text text-anchor="start" x="132006.5" y="-3728.8" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="132006.5" y="-3713.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="132006.5" y="-3698.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="131998.5,-3691 132231.5,-3691 "/>
<text text-anchor="start" x="132113" y="-3675.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ResourceReference -->
<g id="node448" class="node">
<title>mcpgateway.common.models.ResourceReference</title>
<polygon fill="white" stroke="#44bb99" points="132250,-3878 132250,-3962 132426,-3962 132426,-3878 132250,-3878"/>
<text text-anchor="start" x="132277.5" y="-3946.8" font-family="Arial" font-size="14.00">ResourceReference</text>
<polyline fill="none" stroke="#44bb99" points="132250,-3939 132426,-3939 "/>
<text text-anchor="start" x="132258" y="-3923.8" font-family="Arial" font-size="14.00">type : Literal[&#39;ref/resource&#39;]</text>
<text text-anchor="start" x="132258" y="-3908.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="132250,-3901 132426,-3901 "/>
<text text-anchor="start" x="132336" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceSubscription -->
<g id="node450" class="node">
<title>mcpgateway.db.ResourceSubscription</title>
<polygon fill="white" stroke="#77aadd" points="12028.5,-3848 12028.5,-3992 12317.5,-3992 12317.5,-3848 12028.5,-3848"/>
<text text-anchor="start" x="12106.5" y="-3976.8" font-family="Arial" font-size="14.00">ResourceSubscription</text>
<polyline fill="none" stroke="#77aadd" points="12028.5,-3969 12317.5,-3969 "/>
<text text-anchor="start" x="12036.5" y="-3953.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12036.5" y="-3938.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="12036.5" y="-3923.8" font-family="Arial" font-size="14.00">last_notification : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="12036.5" y="-3908.8" font-family="Arial" font-size="14.00">resource : Mapped[&#39;Resource&#39;]</text>
<text text-anchor="start" x="12036.5" y="-3893.8" font-family="Arial" font-size="14.00">resource_id : Mapped[str]</text>
<text text-anchor="start" x="12036.5" y="-3878.8" font-family="Arial" font-size="14.00">subscriber_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="12028.5,-3871 12317.5,-3871 "/>
<text text-anchor="start" x="12171" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ResourceSubscription&#45;&gt;mcpgateway.db.Base -->
<g id="edge47" class="edge">
<title>mcpgateway.db.ResourceSubscription&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12175.68,-3992.32C12194.05,-4499.54 12292.63,-7549.06 12019,-7840 11831.17,-8039.71 9784.62,-8070.13 9346.32,-8074.36"/>
<polygon fill="none" stroke="gray" points="9346.23,-8070.86 9336.27,-8074.45 9346.3,-8077.86 9346.23,-8070.86"/>
</g>
<!-- mcpgateway.schemas.ResourceSubscription -->
<g id="node451" class="node">
<title>mcpgateway.schemas.ResourceSubscription</title>
<polygon fill="white" stroke="#77aadd" points="132444,-3870.5 132444,-3969.5 132656,-3969.5 132656,-3870.5 132444,-3870.5"/>
<text text-anchor="start" x="132483.5" y="-3954.3" font-family="Arial" font-size="14.00">ResourceSubscription</text>
<polyline fill="none" stroke="#77aadd" points="132444,-3946.5 132656,-3946.5 "/>
<text text-anchor="start" x="132467" y="-3931.3" font-family="Arial" font-size="14.00">subscriber_id : Optional[str]</text>
<text text-anchor="start" x="132467" y="-3916.3" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="132444,-3908.5 132656,-3908.5 "/>
<text text-anchor="start" x="132452" y="-3893.3" font-family="Arial" font-size="14.00">validate_subscriber_id(v: str): str</text>
<text text-anchor="start" x="132452" y="-3878.3" font-family="Arial" font-size="14.00">validate_uri(v: str): str</text>
</g>
<!-- mcpgateway.common.models.ResourceTemplate -->
<g id="node452" class="node">
<title>mcpgateway.common.models.ResourceTemplate</title>
<polygon fill="white" stroke="#44bb99" points="132673.5,-3840.5 132673.5,-3999.5 132904.5,-3999.5 132904.5,-3840.5 132673.5,-3840.5"/>
<text text-anchor="start" x="132732" y="-3984.3" font-family="Arial" font-size="14.00">ResourceTemplate</text>
<polyline fill="none" stroke="#44bb99" points="132673.5,-3976.5 132904.5,-3976.5 "/>
<text text-anchor="start" x="132681.5" y="-3961.3" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="132681.5" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="132681.5" y="-3931.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="132681.5" y="-3916.3" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="132681.5" y="-3901.3" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="132681.5" y="-3886.3" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="132681.5" y="-3871.3" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="132673.5,-3863.5 132904.5,-3863.5 "/>
<text text-anchor="start" x="132787" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ResourceTemplate -->
<g id="node453" class="node">
<title>mcpgateway.plugins.framework.models.ResourceTemplate</title>
<polygon fill="white" stroke="#ee8866" points="32786.5,-3870.5 32786.5,-3969.5 32943.5,-3969.5 32943.5,-3870.5 32786.5,-3870.5"/>
<text text-anchor="start" x="32808" y="-3954.3" font-family="Arial" font-size="14.00">ResourceTemplate</text>
<polyline fill="none" stroke="#ee8866" points="32786.5,-3946.5 32943.5,-3946.5 "/>
<text text-anchor="start" x="32794.5" y="-3931.3" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="32794.5" y="-3916.3" font-family="Arial" font-size="14.00">resource_uri : str</text>
<text text-anchor="start" x="32794.5" y="-3901.3" font-family="Arial" font-size="14.00">result : bool</text>
<polyline fill="none" stroke="#ee8866" points="32786.5,-3893.5 32943.5,-3893.5 "/>
<text text-anchor="start" x="32863" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ResourceTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge73" class="edge">
<title>mcpgateway.plugins.framework.models.ResourceTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M32865,-3969.81C32865,-4402.69 32865,-7578.99 32865,-8023.41"/>
<polygon fill="none" stroke="gray" points="32861.5,-8023.7 32865,-8033.7 32868.5,-8023.7 32861.5,-8023.7"/>
</g>
<!-- mcpgateway.services.resource_service.ResourceURIConflictError -->
<g id="node454" class="node">
<title>mcpgateway.services.resource_service.ResourceURIConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="130403.5,-3870.5 130403.5,-3969.5 130576.5,-3969.5 130576.5,-3870.5 130403.5,-3870.5"/>
<text text-anchor="start" x="130411.5" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">ResourceURIConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="130403.5,-3946.5 130576.5,-3946.5 "/>
<text text-anchor="start" x="130412.5" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="130412.5" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">resource_id : Optional[int]</text>
<text text-anchor="start" x="130412.5" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">uri : str</text>
<polyline fill="none" stroke="#ffaabb" points="130403.5,-3893.5 130576.5,-3893.5 "/>
<text text-anchor="start" x="130488" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceURIConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge112" class="edge">
<title>mcpgateway.services.resource_service.ResourceURIConflictError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M130488.91,-3969.81C130479.17,-4404.96 130407.36,-7612.33 130398,-8030.17"/>
<polygon fill="none" stroke="gray" points="130394.5,-8030.27 130397.78,-8040.35 130401.5,-8030.43 130394.5,-8030.27"/>
</g>
<!-- mcpgateway.schemas.ResourceUpdate -->
<g id="node455" class="node">
<title>mcpgateway.schemas.ResourceUpdate</title>
<polygon fill="white" stroke="#77aadd" points="132923,-3788 132923,-4052 133379,-4052 133379,-3788 132923,-3788"/>
<text text-anchor="start" x="133100" y="-4036.8" font-family="Arial" font-size="14.00">ResourceUpdate</text>
<polyline fill="none" stroke="#77aadd" points="132923,-4029 133379,-4029 "/>
<text text-anchor="start" x="133045.5" y="-4013.8" font-family="Arial" font-size="14.00">content : Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="133045.5" y="-3998.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3983.8" font-family="Arial" font-size="14.00">mime_type : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3968.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3953.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3938.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="133045.5" y="-3923.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3908.8" font-family="Arial" font-size="14.00">uri : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3893.8" font-family="Arial" font-size="14.00">uri_template : Optional[str]</text>
<text text-anchor="start" x="133045.5" y="-3878.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="132923,-3871 133379,-3871 "/>
<text text-anchor="start" x="132931" y="-3855.8" font-family="Arial" font-size="14.00">validate_content(v: Optional[Union[str, bytes]]): Optional[Union[str, bytes]]</text>
<text text-anchor="start" x="132931" y="-3840.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="132931" y="-3825.8" font-family="Arial" font-size="14.00">validate_mime_type(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="132931" y="-3810.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="132931" y="-3795.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
</g>
<!-- mcpgateway.common.models.ResourceUpdateNotification -->
<g id="node456" class="node">
<title>mcpgateway.common.models.ResourceUpdateNotification</title>
<polygon fill="white" stroke="#44bb99" points="133397.5,-3878 133397.5,-3962 133708.5,-3962 133708.5,-3878 133397.5,-3878"/>
<text text-anchor="start" x="133468.5" y="-3946.8" font-family="Arial" font-size="14.00">ResourceUpdateNotification</text>
<polyline fill="none" stroke="#44bb99" points="133397.5,-3939 133708.5,-3939 "/>
<text text-anchor="start" x="133405.5" y="-3923.8" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/resources/updated&#39;]</text>
<text text-anchor="start" x="133405.5" y="-3908.8" font-family="Arial" font-size="14.00">uri : str</text>
<polyline fill="none" stroke="#44bb99" points="133397.5,-3901 133708.5,-3901 "/>
<text text-anchor="start" x="133551" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceValidationError -->
<g id="node457" class="node">
<title>mcpgateway.services.resource_service.ResourceValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="130594.5,-3884.6 130594.5,-3955.4 130757.5,-3955.4 130757.5,-3884.6 130594.5,-3884.6"/>
<text text-anchor="start" x="130602.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ResourceValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="130594.5,-3932.4 130757.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="130594.5,-3907.6 130757.5,-3907.6 "/>
<text text-anchor="start" x="130674" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.resource_service.ResourceValidationError&#45;&gt;mcpgateway.services.resource_service.ResourceError -->
<g id="edge113" class="edge">
<title>mcpgateway.services.resource_service.ResourceValidationError&#45;&gt;mcpgateway.services.resource_service.ResourceError</title>
<path fill="none" stroke="gray" d="M130678.22,-3955.48C130699.72,-4296.75 130864.4,-7072.15 130585,-7840 130556.48,-7918.37 130490.44,-7990.37 130444.76,-8033.47"/>
<polygon fill="none" stroke="gray" points="130442.25,-8031.02 130437.33,-8040.4 130447.03,-8036.14 130442.25,-8031.02"/>
</g>
<!-- mcpgateway.reverse_proxy.ReverseProxyClient -->
<g id="node458" class="node">
<title>mcpgateway.reverse_proxy.ReverseProxyClient</title>
<polygon fill="white" stroke="#77aadd" points="133672.5,-7944 133672.5,-8208 134085.5,-8208 134085.5,-7944 133672.5,-7944"/>
<text text-anchor="start" x="133819" y="-8192.8" font-family="Arial" font-size="14.00">ReverseProxyClient</text>
<polyline fill="none" stroke="#77aadd" points="133672.5,-8185 134085.5,-8185 "/>
<text text-anchor="start" x="133680.5" y="-8169.8" font-family="Arial" font-size="14.00">connection : Optional[WSClientProtocol]</text>
<text text-anchor="start" x="133680.5" y="-8154.8" font-family="Arial" font-size="14.00">gateway_url : str</text>
<text text-anchor="start" x="133680.5" y="-8139.8" font-family="Arial" font-size="14.00">keepalive_interval : float</text>
<text text-anchor="start" x="133680.5" y="-8124.8" font-family="Arial" font-size="14.00">local_command : str</text>
<text text-anchor="start" x="133680.5" y="-8109.8" font-family="Arial" font-size="14.00">max_retries : int</text>
<text text-anchor="start" x="133680.5" y="-8094.8" font-family="Arial" font-size="14.00">reconnect_delay : float</text>
<text text-anchor="start" x="133680.5" y="-8079.8" font-family="Arial" font-size="14.00">retry_count : int</text>
<text text-anchor="start" x="133680.5" y="-8064.8" font-family="Arial" font-size="14.00">session_id : str</text>
<text text-anchor="start" x="133680.5" y="-8049.8" font-family="Arial" font-size="14.00">state : DISCONNECTED, RECONNECTING, SHUTTING_DOWN</text>
<text text-anchor="start" x="133680.5" y="-8034.8" font-family="Arial" font-size="14.00">stdio_process</text>
<text text-anchor="start" x="133680.5" y="-8019.8" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<text text-anchor="start" x="133680.5" y="-8004.8" font-family="Arial" font-size="14.00">use_websocket</text>
<polyline fill="none" stroke="#77aadd" points="133672.5,-7997 134085.5,-7997 "/>
<text text-anchor="start" x="133795.5" y="-7981.8" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="133795.5" y="-7966.8" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="133795.5" y="-7951.8" font-family="Arial" font-size="14.00">run_with_reconnect(): None</text>
</g>
<!-- mcpgateway.db.Role -->
<g id="node459" class="node">
<title>mcpgateway.db.Role</title>
<polygon fill="white" stroke="#77aadd" points="12336,-3795.5 12336,-4044.5 12622,-4044.5 12622,-3795.5 12336,-3795.5"/>
<text text-anchor="start" x="12465" y="-4029.3" font-family="Arial" font-size="14.00">Role</text>
<polyline fill="none" stroke="#77aadd" points="12336,-4021.5 12622,-4021.5 "/>
<text text-anchor="start" x="12344" y="-4006.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12344" y="-3991.3" font-family="Arial" font-size="14.00">created_by : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-3976.3" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12344" y="-3961.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-3946.3" font-family="Arial" font-size="14.00">inherits_from : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12344" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="12344" y="-3916.3" font-family="Arial" font-size="14.00">is_system_role : Mapped[bool]</text>
<text text-anchor="start" x="12344" y="-3901.3" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-3886.3" font-family="Arial" font-size="14.00">parent_role : Mapped[Optional[&#39;Role&#39;]]</text>
<text text-anchor="start" x="12344" y="-3871.3" font-family="Arial" font-size="14.00">permissions : Mapped[List[str]]</text>
<text text-anchor="start" x="12344" y="-3856.3" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="12344" y="-3841.3" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="12344" y="-3826.3" font-family="Arial" font-size="14.00">user_assignments : Mapped[List[&#39;UserRole&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="12336,-3818.5 12622,-3818.5 "/>
<text text-anchor="start" x="12370.5" y="-3803.3" font-family="Arial" font-size="14.00">get_effective_permissions(): List[str]</text>
</g>
<!-- mcpgateway.db.Role&#45;&gt;mcpgateway.db.Base -->
<g id="edge48" class="edge">
<title>mcpgateway.db.Role&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12483.57,-4044.63C12505.84,-4679.85 12591.47,-7557.83 12326,-7840 12116,-8063.21 9813.15,-8075.04 9346.27,-8075.13"/>
<polygon fill="none" stroke="gray" points="9346.24,-8071.63 9336.24,-8075.13 9346.24,-8078.63 9346.24,-8071.63"/>
</g>
<!-- mcpgateway.common.models.Role -->
<g id="node460" class="node">
<title>mcpgateway.common.models.Role</title>
<polygon fill="white" stroke="#44bb99" points="47040,-3885.5 47040,-3954.5 47094,-3954.5 47094,-3885.5 47040,-3885.5"/>
<text text-anchor="start" x="47053" y="-3939.3" font-family="Arial" font-size="14.00">Role</text>
<polyline fill="none" stroke="#44bb99" points="47040,-3931.5 47094,-3931.5 "/>
<text text-anchor="start" x="47049.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="47040,-3908.5 47094,-3908.5 "/>
<text text-anchor="start" x="47065" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.CreateMessageResult -->
<g id="edge135" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.CreateMessageResult</title>
<path fill="none" stroke="gray" d="M47067.66,-3954.72C47074.84,-4327.21 47136.14,-7663.36 47031,-7840 47028.01,-7845.02 46943.48,-7887.24 46939,-7891 46898.53,-7924.96 46861.15,-7971.19 46833.94,-8008.82"/>
<polygon fill="gray" stroke="gray" points="46833.87,-8008.92 46833.64,-8016.13 46826.9,-8018.68 46827.13,-8011.48 46833.87,-8008.92"/>
<text text-anchor="middle" x="47010.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.Message -->
<g id="edge136" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.Message</title>
<path fill="none" stroke="gray" d="M47068.15,-3954.62C47077.45,-4236 47137.5,-6228.39 47031,-7840 47026.86,-7902.69 47017.32,-7974.29 47010.31,-8021.82"/>
<polygon fill="gray" stroke="gray" points="47010.27,-8022.09 47013.34,-8028.61 47008.5,-8033.96 47005.43,-8027.43 47010.27,-8022.09"/>
<text text-anchor="middle" x="47041.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.PromptMessage -->
<g id="edge137" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.PromptMessage</title>
<path fill="none" stroke="gray" d="M47065.85,-3954.62C47056.55,-4236 46996.5,-6228.39 47103,-7840 47107.14,-7902.69 47116.68,-7974.29 47123.69,-8021.82"/>
<polygon fill="gray" stroke="gray" points="47123.73,-8022.09 47128.57,-8027.43 47125.5,-8033.96 47120.66,-8028.61 47123.73,-8022.09"/>
<text text-anchor="middle" x="47117.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.common.models.SamplingMessage -->
<g id="node483" class="node">
<title>mcpgateway.common.models.SamplingMessage</title>
<polygon fill="white" stroke="#44bb99" points="47208.5,-8034 47208.5,-8118 47337.5,-8118 47337.5,-8034 47208.5,-8034"/>
<text text-anchor="start" x="47216.5" y="-8102.8" font-family="Arial" font-size="14.00">SamplingMessage</text>
<polyline fill="none" stroke="#44bb99" points="47208.5,-8095 47337.5,-8095 "/>
<text text-anchor="start" x="47227.5" y="-8079.8" font-family="Arial" font-size="14.00">content : Union</text>
<text text-anchor="start" x="47227.5" y="-8064.8" font-family="Arial" font-size="14.00">role</text>
<polyline fill="none" stroke="#44bb99" points="47208.5,-8057 47337.5,-8057 "/>
<text text-anchor="start" x="47271" y="-8041.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.SamplingMessage -->
<g id="edge138" class="edge">
<title>mcpgateway.common.models.Role&#45;&gt;mcpgateway.common.models.SamplingMessage</title>
<path fill="none" stroke="gray" d="M47066.32,-3954.73C47058.98,-4327.31 46996.29,-7664.31 47103,-7840 47109.27,-7850.32 47190.92,-7882.02 47199,-7891 47232.28,-7928.01 47251.57,-7981.88 47262.06,-8021.78"/>
<polygon fill="gray" stroke="gray" points="47262.12,-8022.04 47267.46,-8026.89 47265.04,-8033.68 47259.7,-8028.83 47262.12,-8022.04"/>
<text text-anchor="middle" x="47175.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">role</text>
</g>
<!-- mcpgateway.schemas.RoleCreateRequest -->
<g id="node461" class="node">
<title>mcpgateway.schemas.RoleCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="134049.5,-3848 134049.5,-3992 134252.5,-3992 134252.5,-3848 134049.5,-3848"/>
<text text-anchor="start" x="134091.5" y="-3976.8" font-family="Arial" font-size="14.00">RoleCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="134049.5,-3969 134252.5,-3969 "/>
<text text-anchor="start" x="134057.5" y="-3953.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="134057.5" y="-3938.8" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="134057.5" y="-3923.8" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="134057.5" y="-3908.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="134057.5" y="-3893.8" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="134057.5" y="-3878.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="134049.5,-3871 134252.5,-3871 "/>
<text text-anchor="start" x="134149" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.RoleResponse -->
<g id="node462" class="node">
<title>mcpgateway.schemas.RoleResponse</title>
<polygon fill="white" stroke="#77aadd" points="134271,-3795.5 134271,-4044.5 134531,-4044.5 134531,-3795.5 134271,-3795.5"/>
<text text-anchor="start" x="134356.5" y="-4029.3" font-family="Arial" font-size="14.00">RoleResponse</text>
<polyline fill="none" stroke="#77aadd" points="134271,-4021.5 134531,-4021.5 "/>
<text text-anchor="start" x="134279" y="-4006.3" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="134279" y="-3991.3" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3976.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3961.3" font-family="Arial" font-size="14.00">effective_permissions : Optional[List[str]]</text>
<text text-anchor="start" x="134279" y="-3946.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3931.3" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3916.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="134279" y="-3901.3" font-family="Arial" font-size="14.00">is_system_role : Optional[bool]</text>
<text text-anchor="start" x="134279" y="-3886.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="134279" y="-3871.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3856.3" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="134279" y="-3841.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="134279" y="-3826.3" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="134271,-3818.5 134531,-3818.5 "/>
<text text-anchor="start" x="134399" y="-3803.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.role_service.RoleService -->
<g id="node463" class="node">
<title>mcpgateway.services.role_service.RoleService</title>
<polygon fill="white" stroke="#ffaabb" points="134549,-3810.5 134549,-4029.5 135587,-4029.5 135587,-3810.5 134549,-3810.5"/>
<text text-anchor="start" x="135031.5" y="-4014.3" font-family="Arial" font-size="14.00">RoleService</text>
<polyline fill="none" stroke="#ffaabb" points="134549,-4006.5 135587,-4006.5 "/>
<text text-anchor="start" x="135060" y="-3991.3" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="134549,-3983.5 135587,-3983.5 "/>
<text text-anchor="start" x="134557" y="-3968.3" font-family="Arial" font-size="14.00">assign_role_to_user(user_email: str, role_id: str, scope: str, scope_id: Optional[str], granted_by: str, expires_at: Optional[datetime]): UserRole</text>
<text text-anchor="start" x="134557" y="-3953.3" font-family="Arial" font-size="14.00">create_role(name: str, description: str, scope: str, permissions: List[str], created_by: str, inherits_from: Optional[str], is_system_role: bool): Role</text>
<text text-anchor="start" x="134557" y="-3938.3" font-family="Arial" font-size="14.00">delete_role(role_id: str): bool</text>
<text text-anchor="start" x="134557" y="-3923.3" font-family="Arial" font-size="14.00">get_role_by_id(role_id: str): Optional[Role]</text>
<text text-anchor="start" x="134557" y="-3908.3" font-family="Arial" font-size="14.00">get_role_by_name(name: str, scope: str): Optional[Role]</text>
<text text-anchor="start" x="134557" y="-3893.3" font-family="Arial" font-size="14.00">get_user_role_assignment(user_email: str, role_id: str, scope: str, scope_id: Optional[str]): Optional[UserRole]</text>
<text text-anchor="start" x="134557" y="-3878.3" font-family="Arial" font-size="14.00">list_role_assignments(role_id: str, scope: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="134557" y="-3863.3" font-family="Arial" font-size="14.00">list_roles(scope: Optional[str], include_system: bool, include_inactive: bool): List[Role]</text>
<text text-anchor="start" x="134557" y="-3848.3" font-family="Arial" font-size="14.00">list_user_roles(user_email: str, scope: Optional[str], include_expired: bool): List[UserRole]</text>
<text text-anchor="start" x="134557" y="-3833.3" font-family="Arial" font-size="14.00">revoke_role_from_user(user_email: str, role_id: str, scope: str, scope_id: Optional[str]): bool</text>
<text text-anchor="start" x="134557" y="-3818.3" font-family="Arial" font-size="14.00">update_role(role_id: str, name: Optional[str], description: Optional[str], permissions: Optional[List[str]], inherits_from: Optional[str], is_active: Optional[bool]): Optional[Role]</text>
</g>
<!-- mcpgateway.schemas.RoleUpdateRequest -->
<g id="node464" class="node">
<title>mcpgateway.schemas.RoleUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="135605.5,-3855.5 135605.5,-3984.5 135808.5,-3984.5 135808.5,-3855.5 135605.5,-3855.5"/>
<text text-anchor="start" x="135646" y="-3969.3" font-family="Arial" font-size="14.00">RoleUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="135605.5,-3961.5 135808.5,-3961.5 "/>
<text text-anchor="start" x="135613.5" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="135613.5" y="-3931.3" font-family="Arial" font-size="14.00">inherits_from : Optional[str]</text>
<text text-anchor="start" x="135613.5" y="-3916.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="135613.5" y="-3901.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="135613.5" y="-3886.3" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="135605.5,-3878.5 135808.5,-3878.5 "/>
<text text-anchor="start" x="135705" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.RollupResult -->
<g id="node465" class="node">
<title>mcpgateway.services.metrics_rollup_service.RollupResult</title>
<polygon fill="white" stroke="#ffaabb" points="135826.5,-3833 135826.5,-4007 135989.5,-4007 135989.5,-3833 135826.5,-3833"/>
<text text-anchor="start" x="135869.5" y="-3991.8" font-family="Arial" font-size="14.00">RollupResult</text>
<polyline fill="none" stroke="#ffaabb" points="135826.5,-3984 135989.5,-3984 "/>
<text text-anchor="start" x="135834.5" y="-3968.8" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="135834.5" y="-3953.8" font-family="Arial" font-size="14.00">error : Optional[str]</text>
<text text-anchor="start" x="135834.5" y="-3938.8" font-family="Arial" font-size="14.00">hours_processed : int</text>
<text text-anchor="start" x="135834.5" y="-3923.8" font-family="Arial" font-size="14.00">raw_deleted : int</text>
<text text-anchor="start" x="135834.5" y="-3908.8" font-family="Arial" font-size="14.00">records_aggregated : int</text>
<text text-anchor="start" x="135834.5" y="-3893.8" font-family="Arial" font-size="14.00">rollups_created : int</text>
<text text-anchor="start" x="135834.5" y="-3878.8" font-family="Arial" font-size="14.00">rollups_updated : int</text>
<text text-anchor="start" x="135834.5" y="-3863.8" font-family="Arial" font-size="14.00">table_name : str</text>
<polyline fill="none" stroke="#ffaabb" points="135826.5,-3856 135989.5,-3856 "/>
<text text-anchor="start" x="135906" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_rollup_service.RollupSummary -->
<g id="node466" class="node">
<title>mcpgateway.services.metrics_rollup_service.RollupSummary</title>
<polygon fill="white" stroke="#ffaabb" points="136008,-3833 136008,-4007 136204,-4007 136204,-3833 136008,-3833"/>
<text text-anchor="start" x="136057" y="-3991.8" font-family="Arial" font-size="14.00">RollupSummary</text>
<polyline fill="none" stroke="#ffaabb" points="136008,-3984 136204,-3984 "/>
<text text-anchor="start" x="136016" y="-3968.8" font-family="Arial" font-size="14.00">completed_at : datetime</text>
<text text-anchor="start" x="136016" y="-3953.8" font-family="Arial" font-size="14.00">duration_seconds : float</text>
<text text-anchor="start" x="136016" y="-3938.8" font-family="Arial" font-size="14.00">started_at : datetime</text>
<text text-anchor="start" x="136016" y="-3923.8" font-family="Arial" font-size="14.00">tables : Dict[str, RollupResult]</text>
<text text-anchor="start" x="136016" y="-3908.8" font-family="Arial" font-size="14.00">total_hours_processed : int</text>
<text text-anchor="start" x="136016" y="-3893.8" font-family="Arial" font-size="14.00">total_records_aggregated : int</text>
<text text-anchor="start" x="136016" y="-3878.8" font-family="Arial" font-size="14.00">total_rollups_created : int</text>
<text text-anchor="start" x="136016" y="-3863.8" font-family="Arial" font-size="14.00">total_rollups_updated : int</text>
<polyline fill="none" stroke="#ffaabb" points="136008,-3856 136204,-3856 "/>
<text text-anchor="start" x="136104" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.Root -->
<g id="node467" class="node">
<title>mcpgateway.common.models.Root</title>
<polygon fill="white" stroke="#44bb99" points="136222,-3863 136222,-3977 136452,-3977 136452,-3863 136222,-3863"/>
<text text-anchor="start" x="136322.5" y="-3961.8" font-family="Arial" font-size="14.00">Root</text>
<polyline fill="none" stroke="#44bb99" points="136222,-3954 136452,-3954 "/>
<text text-anchor="start" x="136230" y="-3938.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="136230" y="-3923.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="136230" y="-3908.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="136230" y="-3893.8" font-family="Arial" font-size="14.00">uri : Optional[Union[FileUrl, AnyUrl]]</text>
<polyline fill="none" stroke="#44bb99" points="136222,-3886 136452,-3886 "/>
<text text-anchor="start" x="136335" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.root_service.RootService -->
<g id="node468" class="node">
<title>mcpgateway.services.root_service.RootService</title>
<polygon fill="white" stroke="#ffaabb" points="136470.5,-3847.1 136470.5,-3992.9 136787.5,-3992.9 136787.5,-3847.1 136470.5,-3847.1"/>
<text text-anchor="start" x="136592" y="-3977.7" font-family="Arial" font-size="14.00">RootService</text>
<polyline fill="none" stroke="#ffaabb" points="136470.5,-3969.9 136787.5,-3969.9 "/>
<polyline fill="none" stroke="#ffaabb" points="136470.5,-3945.1 136787.5,-3945.1 "/>
<text text-anchor="start" x="136478.5" y="-3929.9" font-family="Arial" font-size="14.00">add_root(uri: str, name: Optional[str]): Root</text>
<text text-anchor="start" x="136478.5" y="-3914.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="136478.5" y="-3899.9" font-family="Arial" font-size="14.00">list_roots(): List[Root]</text>
<text text-anchor="start" x="136478.5" y="-3884.9" font-family="Arial" font-size="14.00">remove_root(root_uri: str): None</text>
<text text-anchor="start" x="136478.5" y="-3869.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="136478.5" y="-3854.9" font-family="Arial" font-size="14.00">subscribe_changes(): AsyncGenerator[Dict, None]</text>
</g>
<!-- mcpgateway.services.root_service.RootServiceError -->
<g id="node469" class="node">
<title>mcpgateway.services.root_service.RootServiceError</title>
<polygon fill="white" stroke="#ffaabb" points="136806,-3884.6 136806,-3955.4 136926,-3955.4 136926,-3884.6 136806,-3884.6"/>
<text text-anchor="start" x="136814" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">RootServiceError</text>
<polyline fill="none" stroke="#ffaabb" points="136806,-3932.4 136926,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="136806,-3907.6 136926,-3907.6 "/>
<text text-anchor="start" x="136864" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.middleware.compression.SSEAwareCompressMiddleware -->
<g id="node470" class="node">
<title>mcpgateway.middleware.compression.SSEAwareCompressMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="136944.5,-3848 136944.5,-3992 137193.5,-3992 137193.5,-3848 136944.5,-3848"/>
<text text-anchor="start" x="136970" y="-3976.8" font-family="Arial" font-size="14.00">SSEAwareCompressMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="136944.5,-3969 137193.5,-3969 "/>
<text text-anchor="start" x="136952.5" y="-3953.8" font-family="Arial" font-size="14.00">app : Callable</text>
<text text-anchor="start" x="136952.5" y="-3938.8" font-family="Arial" font-size="14.00">brotli_quality : int</text>
<text text-anchor="start" x="136952.5" y="-3923.8" font-family="Arial" font-size="14.00">compress_app : CompressMiddleware</text>
<text text-anchor="start" x="136952.5" y="-3908.8" font-family="Arial" font-size="14.00">gzip_level : int</text>
<text text-anchor="start" x="136952.5" y="-3893.8" font-family="Arial" font-size="14.00">minimum_size : int</text>
<text text-anchor="start" x="136952.5" y="-3878.8" font-family="Arial" font-size="14.00">zstd_level : int</text>
<polyline fill="none" stroke="#eedd88" points="136944.5,-3871 137193.5,-3871 "/>
<text text-anchor="start" x="137067" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate.SSEEvent -->
<g id="node471" class="node">
<title>mcpgateway.translate.SSEEvent</title>
<polygon fill="white" stroke="#77aadd" points="137212,-3863 137212,-3977 137802,-3977 137802,-3863 137212,-3863"/>
<text text-anchor="start" x="137476" y="-3961.8" font-family="Arial" font-size="14.00">SSEEvent</text>
<polyline fill="none" stroke="#77aadd" points="137212,-3954 137802,-3954 "/>
<text text-anchor="start" x="137439" y="-3938.8" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="137439" y="-3923.8" font-family="Arial" font-size="14.00">event : str</text>
<text text-anchor="start" x="137439" y="-3908.8" font-family="Arial" font-size="14.00">event_id : Optional[str]</text>
<text text-anchor="start" x="137439" y="-3893.8" font-family="Arial" font-size="14.00">retry : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="137212,-3886 137802,-3886 "/>
<text text-anchor="start" x="137220" y="-3870.8" font-family="Arial" font-size="14.00">parse_sse_line(line: str, current_event: Optional[&#39;SSEEvent&#39;]): Tuple[Optional[&#39;SSEEvent&#39;], bool]</text>
</g>
<!-- mcpgateway.common.models.SSEEvent -->
<g id="node472" class="node">
<title>mcpgateway.common.models.SSEEvent</title>
<polygon fill="white" stroke="#44bb99" points="137820,-3863 137820,-3977 137954,-3977 137954,-3863 137820,-3863"/>
<text text-anchor="start" x="137856" y="-3961.8" font-family="Arial" font-size="14.00">SSEEvent</text>
<polyline fill="none" stroke="#44bb99" points="137820,-3954 137954,-3954 "/>
<text text-anchor="start" x="137828" y="-3938.8" font-family="Arial" font-size="14.00">data : str</text>
<text text-anchor="start" x="137828" y="-3923.8" font-family="Arial" font-size="14.00">event : Optional[str]</text>
<text text-anchor="start" x="137828" y="-3908.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="137828" y="-3893.8" font-family="Arial" font-size="14.00">retry : Optional[int]</text>
<polyline fill="none" stroke="#44bb99" points="137820,-3886 137954,-3886 "/>
<text text-anchor="start" x="137885" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.sse_transport.SSETransport -->
<g id="node473" class="node">
<title>mcpgateway.transports.sse_transport.SSETransport</title>
<polygon fill="white" stroke="#77aadd" points="137972.5,-3848 137972.5,-3992 138745.5,-3992 138745.5,-3848 137972.5,-3848"/>
<text text-anchor="start" x="138316.5" y="-3976.8" font-family="Arial" font-size="14.00">SSETransport</text>
<polyline fill="none" stroke="#77aadd" points="137972.5,-3969 138745.5,-3969 "/>
<text text-anchor="start" x="138327" y="-3953.8" font-family="Arial" font-size="14.00">session_id</text>
<polyline fill="none" stroke="#77aadd" points="137972.5,-3946 138745.5,-3946 "/>
<text text-anchor="start" x="137980.5" y="-3930.8" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="137980.5" y="-3915.8" font-family="Arial" font-size="14.00">create_sse_response(request: Request, on_disconnect_callback: Callable[[], Awaitable[None]] | None): EventSourceResponse</text>
<text text-anchor="start" x="137980.5" y="-3900.8" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="137980.5" y="-3885.8" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="137980.5" y="-3870.8" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="137980.5" y="-3855.8" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.base.Transport -->
<g id="node592" class="node">
<title>mcpgateway.transports.base.Transport</title>
<polygon fill="white" stroke="#77aadd" points="138763,-8013.1 138763,-8138.9 139123,-8138.9 139123,-8013.1 138763,-8013.1"/>
<text text-anchor="start" x="138914" y="-8123.7" font-family="Arial" font-size="14.00">Transport</text>
<polyline fill="none" stroke="#77aadd" points="138763,-8115.9 139123,-8115.9 "/>
<polyline fill="none" stroke="#77aadd" points="138763,-8091.1 139123,-8091.1 "/>
<text text-anchor="start" x="138771" y="-8076.9" font-family="Arial" font-style="italic" font-size="14.00">connect</text>
<text text-anchor="start" x="138819" y="-8076.9" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="138771" y="-8062.9" font-family="Arial" font-style="italic" font-size="14.00">disconnect</text>
<text text-anchor="start" x="138836" y="-8062.9" font-family="Arial" font-size="14.00">(): None</text>
<text text-anchor="start" x="138771" y="-8048.9" font-family="Arial" font-style="italic" font-size="14.00">is_connected</text>
<text text-anchor="start" x="138851" y="-8048.9" font-family="Arial" font-size="14.00">(): bool</text>
<text text-anchor="start" x="138771" y="-8034.9" font-family="Arial" font-style="italic" font-size="14.00">receive_message</text>
<text text-anchor="start" x="138878" y="-8034.9" font-family="Arial" font-size="14.00">(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="138771" y="-8020.9" font-family="Arial" font-style="italic" font-size="14.00">send_message</text>
<text text-anchor="start" x="138864" y="-8020.9" font-family="Arial" font-size="14.00">(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.sse_transport.SSETransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge122" class="edge">
<title>mcpgateway.transports.sse_transport.SSETransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M138351.63,-3992.26C138313.18,-4391.89 138159.27,-6388.59 138754,-7840 138779.71,-7902.74 138827.78,-7962.15 138869,-8005.53"/>
<polygon fill="none" stroke="gray" points="138866.63,-8008.11 138876.08,-8012.9 138871.67,-8003.26 138866.63,-8008.11"/>
</g>
<!-- mcpgateway.db.SSOAuthSession -->
<g id="node475" class="node">
<title>mcpgateway.db.SSOAuthSession</title>
<polygon fill="white" stroke="#77aadd" points="12640.5,-3803 12640.5,-4037 12879.5,-4037 12879.5,-3803 12640.5,-3803"/>
<text text-anchor="start" x="12707" y="-4021.8" font-family="Arial" font-size="14.00">SSOAuthSession</text>
<polyline fill="none" stroke="#77aadd" points="12640.5,-4014 12879.5,-4014 "/>
<text text-anchor="start" x="12648.5" y="-3998.8" font-family="Arial" font-size="14.00">code_verifier : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12648.5" y="-3983.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12648.5" y="-3968.8" font-family="Arial" font-size="14.00">expires_at : Mapped[datetime]</text>
<text text-anchor="start" x="12648.5" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-3938.8" font-family="Arial" font-size="14.00">is_expired</text>
<text text-anchor="start" x="12648.5" y="-3923.8" font-family="Arial" font-size="14.00">nonce : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12648.5" y="-3908.8" font-family="Arial" font-size="14.00">provider : Mapped[&#39;SSOProvider&#39;]</text>
<text text-anchor="start" x="12648.5" y="-3893.8" font-family="Arial" font-size="14.00">provider_id : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-3878.8" font-family="Arial" font-size="14.00">redirect_uri : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-3863.8" font-family="Arial" font-size="14.00">state : Mapped[str]</text>
<text text-anchor="start" x="12648.5" y="-3848.8" font-family="Arial" font-size="14.00">user : Mapped[Optional[&#39;EmailUser&#39;]]</text>
<text text-anchor="start" x="12648.5" y="-3833.8" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="12640.5,-3826 12879.5,-3826 "/>
<text text-anchor="start" x="12758" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOAuthSession&#45;&gt;mcpgateway.db.Base -->
<g id="edge49" class="edge">
<title>mcpgateway.db.SSOAuthSession&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M12765.05,-4037.12C12790.86,-4656.74 12896.69,-7556.04 12631,-7840 12515.07,-7963.9 9851.88,-8056 9346.41,-8072.39"/>
<polygon fill="none" stroke="gray" points="9346.16,-8068.9 9336.28,-8072.72 9346.39,-8075.89 9346.16,-8068.9"/>
</g>
<!-- mcpgateway.schemas.SSOCallbackResponse -->
<g id="node476" class="node">
<title>mcpgateway.schemas.SSOCallbackResponse</title>
<polygon fill="white" stroke="#77aadd" points="139518,-3863 139518,-3977 139706,-3977 139706,-3863 139518,-3863"/>
<text text-anchor="start" x="139541" y="-3961.8" font-family="Arial" font-size="14.00">SSOCallbackResponse</text>
<polyline fill="none" stroke="#77aadd" points="139518,-3954 139706,-3954 "/>
<text text-anchor="start" x="139526" y="-3938.8" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="139526" y="-3923.8" font-family="Arial" font-size="14.00">expires_in : Optional[int]</text>
<text text-anchor="start" x="139526" y="-3908.8" font-family="Arial" font-size="14.00">token_type : Optional[str]</text>
<text text-anchor="start" x="139526" y="-3893.8" font-family="Arial" font-size="14.00">user : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="139518,-3886 139706,-3886 "/>
<text text-anchor="start" x="139610" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.SSOLoginResponse -->
<g id="node477" class="node">
<title>mcpgateway.schemas.SSOLoginResponse</title>
<polygon fill="white" stroke="#77aadd" points="139724.5,-3878 139724.5,-3962 139925.5,-3962 139925.5,-3878 139724.5,-3878"/>
<text text-anchor="start" x="139763" y="-3946.8" font-family="Arial" font-size="14.00">SSOLoginResponse</text>
<polyline fill="none" stroke="#77aadd" points="139724.5,-3939 139925.5,-3939 "/>
<text text-anchor="start" x="139732.5" y="-3923.8" font-family="Arial" font-size="14.00">authorization_url : Optional[str]</text>
<text text-anchor="start" x="139732.5" y="-3908.8" font-family="Arial" font-size="14.00">state : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="139724.5,-3901 139925.5,-3901 "/>
<text text-anchor="start" x="139823" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOProvider -->
<g id="node478" class="node">
<title>mcpgateway.db.SSOProvider</title>
<polygon fill="white" stroke="#77aadd" points="12898,-3758 12898,-4082 13140,-4082 13140,-3758 12898,-3758"/>
<text text-anchor="start" x="12979" y="-4066.8" font-family="Arial" font-size="14.00">SSOProvider</text>
<polyline fill="none" stroke="#77aadd" points="12898,-4059 13140,-4059 "/>
<text text-anchor="start" x="12906" y="-4043.8" font-family="Arial" font-size="14.00">authorization_url : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-4028.8" font-family="Arial" font-size="14.00">auto_create_users : Mapped[bool]</text>
<text text-anchor="start" x="12906" y="-4013.8" font-family="Arial" font-size="14.00">client_id : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3998.8" font-family="Arial" font-size="14.00">client_secret_encrypted : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3983.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="12906" y="-3968.8" font-family="Arial" font-size="14.00">display_name : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3938.8" font-family="Arial" font-size="14.00">is_enabled : Mapped[bool]</text>
<text text-anchor="start" x="12906" y="-3923.8" font-family="Arial" font-size="14.00">issuer : Mapped[Optional[str]]</text>
<text text-anchor="start" x="12906" y="-3908.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3893.8" font-family="Arial" font-size="14.00">provider_metadata : Mapped[dict]</text>
<text text-anchor="start" x="12906" y="-3878.8" font-family="Arial" font-size="14.00">provider_type : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3863.8" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3848.8" font-family="Arial" font-size="14.00">team_mapping : Mapped[dict]</text>
<text text-anchor="start" x="12906" y="-3833.8" font-family="Arial" font-size="14.00">token_url : Mapped[str]</text>
<text text-anchor="start" x="12906" y="-3818.8" font-family="Arial" font-size="14.00">trusted_domains : Mapped[List[str]]</text>
<text text-anchor="start" x="12906" y="-3803.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="12906" y="-3788.8" font-family="Arial" font-size="14.00">userinfo_url : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="12898,-3781 13140,-3781 "/>
<text text-anchor="start" x="13017" y="-3765.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SSOProvider&#45;&gt;mcpgateway.db.Base -->
<g id="edge50" class="edge">
<title>mcpgateway.db.SSOProvider&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13025.78,-4082.17C13053.77,-4785.32 13147.06,-7561.77 12888,-7840 12763.09,-7974.15 9873.85,-8058.52 9346.29,-8072.83"/>
<polygon fill="none" stroke="gray" points="9346.01,-8069.33 9336.11,-8073.1 9346.2,-8076.33 9346.01,-8069.33"/>
</g>
<!-- mcpgateway.schemas.SSOProviderResponse -->
<g id="node479" class="node">
<title>mcpgateway.schemas.SSOProviderResponse</title>
<polygon fill="white" stroke="#77aadd" points="139943.5,-3848 139943.5,-3992 140144.5,-3992 140144.5,-3848 139943.5,-3848"/>
<text text-anchor="start" x="139973.5" y="-3976.8" font-family="Arial" font-size="14.00">SSOProviderResponse</text>
<polyline fill="none" stroke="#77aadd" points="139943.5,-3969 140144.5,-3969 "/>
<text text-anchor="start" x="139951.5" y="-3953.8" font-family="Arial" font-size="14.00">authorization_url : Optional[str]</text>
<text text-anchor="start" x="139951.5" y="-3938.8" font-family="Arial" font-size="14.00">display_name : Optional[str]</text>
<text text-anchor="start" x="139951.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="139951.5" y="-3908.8" font-family="Arial" font-size="14.00">is_enabled : Optional[bool]</text>
<text text-anchor="start" x="139951.5" y="-3893.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="139951.5" y="-3878.8" font-family="Arial" font-size="14.00">provider_type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="139943.5,-3871 140144.5,-3871 "/>
<text text-anchor="start" x="140042" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.handlers.sampling.SamplingError -->
<g id="node481" class="node">
<title>mcpgateway.handlers.sampling.SamplingError</title>
<polygon fill="white" stroke="#bbcc33" points="140163,-3884.6 140163,-3955.4 140267,-3955.4 140267,-3884.6 140163,-3884.6"/>
<text text-anchor="start" x="140171" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">SamplingError</text>
<polyline fill="none" stroke="#bbcc33" points="140163,-3932.4 140267,-3932.4 "/>
<polyline fill="none" stroke="#bbcc33" points="140163,-3907.6 140267,-3907.6 "/>
<text text-anchor="start" x="140213" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.handlers.sampling.SamplingHandler -->
<g id="node482" class="node">
<title>mcpgateway.handlers.sampling.SamplingHandler</title>
<polygon fill="white" stroke="#bbcc33" points="140285.5,-3869.6 140285.5,-3970.4 140758.5,-3970.4 140758.5,-3869.6 140285.5,-3869.6"/>
<text text-anchor="start" x="140469.5" y="-3955.2" font-family="Arial" font-size="14.00">SamplingHandler</text>
<polyline fill="none" stroke="#bbcc33" points="140285.5,-3947.4 140758.5,-3947.4 "/>
<polyline fill="none" stroke="#bbcc33" points="140285.5,-3922.6 140758.5,-3922.6 "/>
<text text-anchor="start" x="140293.5" y="-3907.4" font-family="Arial" font-size="14.00">create_message(db: Session, request: Dict[str, Any]): CreateMessageResult</text>
<text text-anchor="start" x="140293.5" y="-3892.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="140293.5" y="-3877.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.db.SecurityEvent -->
<g id="node484" class="node">
<title>mcpgateway.db.SecurityEvent</title>
<polygon fill="white" stroke="#77aadd" points="13158,-3705.5 13158,-4134.5 13436,-4134.5 13436,-3705.5 13158,-3705.5"/>
<text text-anchor="start" x="13255" y="-4119.3" font-family="Arial" font-size="14.00">SecurityEvent</text>
<polyline fill="none" stroke="#77aadd" points="13158,-4111.5 13436,-4111.5 "/>
<text text-anchor="start" x="13166" y="-4096.3" font-family="Arial" font-size="14.00">action_taken : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-4081.3" font-family="Arial" font-size="14.00">alert_recipients : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="13166" y="-4066.3" font-family="Arial" font-size="14.00">alert_sent : Mapped[bool]</text>
<text text-anchor="start" x="13166" y="-4051.3" font-family="Arial" font-size="14.00">alert_sent_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="13166" y="-4036.3" font-family="Arial" font-size="14.00">category : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4021.3" font-family="Arial" font-size="14.00">client_ip : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-4006.3" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="13166" y="-3991.3" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3976.3" font-family="Arial" font-size="14.00">description : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-3961.3" font-family="Arial" font-size="14.00">detected_at : Mapped[datetime]</text>
<text text-anchor="start" x="13166" y="-3946.3" font-family="Arial" font-size="14.00">event_type : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-3931.3" font-family="Arial" font-size="14.00">failed_attempts_count : Mapped[int]</text>
<text text-anchor="start" x="13166" y="-3916.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-3901.3" font-family="Arial" font-size="14.00">log_entry_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3886.3" font-family="Arial" font-size="14.00">resolution_notes : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3871.3" font-family="Arial" font-size="14.00">resolved : Mapped[bool]</text>
<text text-anchor="start" x="13166" y="-3856.3" font-family="Arial" font-size="14.00">resolved_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="13166" y="-3841.3" font-family="Arial" font-size="14.00">resolved_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3826.3" font-family="Arial" font-size="14.00">severity : Mapped[str]</text>
<text text-anchor="start" x="13166" y="-3811.3" font-family="Arial" font-size="14.00">threat_indicators : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="13166" y="-3796.3" font-family="Arial" font-size="14.00">threat_score : Mapped[float]</text>
<text text-anchor="start" x="13166" y="-3781.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="13166" y="-3766.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3751.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13166" y="-3736.3" font-family="Arial" font-size="14.00">user_id : Mapped[Optional[str]]</text>
<polyline fill="none" stroke="#77aadd" points="13158,-3728.5 13436,-3728.5 "/>
<text text-anchor="start" x="13295" y="-3713.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SecurityEvent&#45;&gt;mcpgateway.db.Base -->
<g id="edge51" class="edge">
<title>mcpgateway.db.SecurityEvent&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13304.86,-4134.8C13331.36,-4913.74 13402.27,-7568.44 13149,-7840 13014.55,-7984.16 9896.35,-8060.78 9346.46,-8073.2"/>
<polygon fill="none" stroke="gray" points="9346.15,-8069.7 9336.23,-8073.43 9346.31,-8076.7 9346.15,-8069.7"/>
</g>
<!-- mcpgateway.services.security_logger.SecurityEventType -->
<g id="node485" class="node">
<title>mcpgateway.services.security_logger.SecurityEventType</title>
<polygon fill="white" stroke="#ffaabb" points="140776.5,-3885.5 140776.5,-3954.5 140905.5,-3954.5 140905.5,-3885.5 140776.5,-3885.5"/>
<text text-anchor="start" x="140784.5" y="-3939.3" font-family="Arial" font-size="14.00">SecurityEventType</text>
<polyline fill="none" stroke="#ffaabb" points="140776.5,-3931.5 140905.5,-3931.5 "/>
<text text-anchor="start" x="140823.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="140776.5,-3908.5 140905.5,-3908.5 "/>
<text text-anchor="start" x="140839" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.security_headers.SecurityHeadersMiddleware -->
<g id="node486" class="node">
<title>mcpgateway.middleware.security_headers.SecurityHeadersMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="140924,-3884.6 140924,-3955.4 141232,-3955.4 141232,-3884.6 140924,-3884.6"/>
<text text-anchor="start" x="140993" y="-3940.2" font-family="Arial" font-size="14.00">SecurityHeadersMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="140924,-3932.4 141232,-3932.4 "/>
<polyline fill="none" stroke="#eedd88" points="140924,-3907.6 141232,-3907.6 "/>
<text text-anchor="start" x="140932" y="-3892.4" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next): Response</text>
</g>
<!-- mcpgateway.services.security_logger.SecurityLogger -->
<g id="node487" class="node">
<title>mcpgateway.services.security_logger.SecurityLogger</title>
<polygon fill="white" stroke="#ffaabb" points="141250,-3855.5 141250,-3984.5 143910,-3984.5 143910,-3855.5 141250,-3855.5"/>
<text text-anchor="start" x="142534.5" y="-3969.3" font-family="Arial" font-size="14.00">SecurityLogger</text>
<polyline fill="none" stroke="#ffaabb" points="141250,-3961.5 143910,-3961.5 "/>
<text text-anchor="start" x="142494" y="-3946.3" font-family="Arial" font-size="14.00">failed_auth_threshold</text>
<text text-anchor="start" x="142494" y="-3931.3" font-family="Arial" font-size="14.00">rate_limit_window_minutes</text>
<text text-anchor="start" x="142494" y="-3916.3" font-family="Arial" font-size="14.00">threat_score_alert_threshold</text>
<polyline fill="none" stroke="#ffaabb" points="141250,-3908.5 143910,-3908.5 "/>
<text text-anchor="start" x="141258" y="-3893.3" font-family="Arial" font-size="14.00">log_authentication_attempt(user_id: str, user_email: Optional[str], auth_method: str, success: bool, client_ip: str, user_agent: Optional[str], failure_reason: Optional[str], additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[SecurityEvent]</text>
<text text-anchor="start" x="141258" y="-3878.3" font-family="Arial" font-size="14.00">log_data_access(action: str, resource_type: str, resource_id: str, resource_name: Optional[str], user_id: str, user_email: Optional[str], team_id: Optional[str], client_ip: Optional[str], user_agent: Optional[str], success: bool, data_classification: Optional[str], old_values: Optional[Dict[str, Any]], new_values: Optional[Dict[str, Any]], error_message: Optional[str], additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[AuditTrail]</text>
<text text-anchor="start" x="141258" y="-3863.3" font-family="Arial" font-size="14.00">log_suspicious_activity(activity_type: str, description: str, user_id: Optional[str], user_email: Optional[str], client_ip: str, user_agent: Optional[str], threat_score: float, severity: SecuritySeverity, threat_indicators: Dict[str, Any], action_taken: str, additional_context: Optional[Dict[str, Any]], db: Optional[Session]): Optional[SecurityEvent]</text>
</g>
<!-- mcpgateway.services.security_logger.SecuritySeverity -->
<g id="node488" class="node">
<title>mcpgateway.services.security_logger.SecuritySeverity</title>
<polygon fill="white" stroke="#ffaabb" points="143928,-3885.5 143928,-3954.5 144042,-3954.5 144042,-3885.5 143928,-3885.5"/>
<text text-anchor="start" x="143936" y="-3939.3" font-family="Arial" font-size="14.00">SecuritySeverity</text>
<polyline fill="none" stroke="#ffaabb" points="143928,-3931.5 144042,-3931.5 "/>
<text text-anchor="start" x="143967.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="143928,-3908.5 144042,-3908.5 "/>
<text text-anchor="start" x="143983" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.config.Settings.SecurityStatus -->
<g id="node489" class="node">
<title>mcpgateway.config.Settings.SecurityStatus</title>
<polygon fill="white" stroke="#44bb99" points="144060.5,-3833 144060.5,-4007 144209.5,-4007 144209.5,-3833 144060.5,-3833"/>
<text text-anchor="start" x="144091" y="-3991.8" font-family="Arial" font-size="14.00">SecurityStatus</text>
<polyline fill="none" stroke="#44bb99" points="144060.5,-3984 144209.5,-3984 "/>
<text text-anchor="start" x="144068.5" y="-3968.8" font-family="Arial" font-size="14.00">auth_enabled : bool</text>
<text text-anchor="start" x="144068.5" y="-3953.8" font-family="Arial" font-size="14.00">cors_restricted : bool</text>
<text text-anchor="start" x="144068.5" y="-3938.8" font-family="Arial" font-size="14.00">debug_disabled : bool</text>
<text text-anchor="start" x="144068.5" y="-3923.8" font-family="Arial" font-size="14.00">secure_secrets : bool</text>
<text text-anchor="start" x="144068.5" y="-3908.8" font-family="Arial" font-size="14.00">security_score : int</text>
<text text-anchor="start" x="144068.5" y="-3893.8" font-family="Arial" font-size="14.00">ssl_verification : bool</text>
<text text-anchor="start" x="144068.5" y="-3878.8" font-family="Arial" font-size="14.00">ui_protected : bool</text>
<text text-anchor="start" x="144068.5" y="-3863.8" font-family="Arial" font-size="14.00">warnings : List[str]</text>
<polyline fill="none" stroke="#44bb99" points="144060.5,-3856 144209.5,-3856 "/>
<text text-anchor="start" x="144133" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.validators.SecurityValidator -->
<g id="node490" class="node">
<title>mcpgateway.common.validators.SecurityValidator</title>
<polygon fill="white" stroke="#44bb99" points="144227,-3668 144227,-4172 144727,-4172 144727,-3668 144227,-3668"/>
<text text-anchor="start" x="144426" y="-4156.8" font-family="Arial" font-size="14.00">SecurityValidator</text>
<polyline fill="none" stroke="#44bb99" points="144227,-4149 144727,-4149 "/>
<text text-anchor="start" x="144356" y="-4133.8" font-family="Arial" font-size="14.00">ALLOWED_URL_SCHEMES</text>
<text text-anchor="start" x="144356" y="-4118.8" font-family="Arial" font-size="14.00">DANGEROUS_HTML_PATTERN</text>
<text text-anchor="start" x="144356" y="-4103.8" font-family="Arial" font-size="14.00">DANGEROUS_JS_PATTERN</text>
<text text-anchor="start" x="144356" y="-4088.8" font-family="Arial" font-size="14.00">IDENTIFIER_PATTERN</text>
<text text-anchor="start" x="144356" y="-4073.8" font-family="Arial" font-size="14.00">MAX_CONTENT_LENGTH</text>
<text text-anchor="start" x="144356" y="-4058.8" font-family="Arial" font-size="14.00">MAX_DESCRIPTION_LENGTH</text>
<text text-anchor="start" x="144356" y="-4043.8" font-family="Arial" font-size="14.00">MAX_JSON_DEPTH</text>
<text text-anchor="start" x="144356" y="-4028.8" font-family="Arial" font-size="14.00">MAX_NAME_LENGTH</text>
<text text-anchor="start" x="144356" y="-4013.8" font-family="Arial" font-size="14.00">MAX_TEMPLATE_LENGTH</text>
<text text-anchor="start" x="144356" y="-3998.8" font-family="Arial" font-size="14.00">MAX_URL_LENGTH</text>
<text text-anchor="start" x="144356" y="-3983.8" font-family="Arial" font-size="14.00">NAME_PATTERN</text>
<text text-anchor="start" x="144356" y="-3968.8" font-family="Arial" font-size="14.00">TOOL_NAME_PATTERN</text>
<text text-anchor="start" x="144356" y="-3953.8" font-family="Arial" font-size="14.00">VALIDATION_SAFE_URI_PATTERN</text>
<text text-anchor="start" x="144356" y="-3938.8" font-family="Arial" font-size="14.00">VALIDATION_UNSAFE_URI_PATTERN</text>
<polyline fill="none" stroke="#44bb99" points="144227,-3931 144727,-3931 "/>
<text text-anchor="start" x="144235" y="-3915.8" font-family="Arial" font-size="14.00">sanitize_display_text(value: str, field_name: str): str</text>
<text text-anchor="start" x="144235" y="-3900.8" font-family="Arial" font-size="14.00">sanitize_json_response(data: Any): Any</text>
<text text-anchor="start" x="144235" y="-3885.8" font-family="Arial" font-size="14.00">sanitize_text(text: str): str</text>
<text text-anchor="start" x="144235" y="-3870.8" font-family="Arial" font-size="14.00">validate_identifier(value: str, field_name: str): str</text>
<text text-anchor="start" x="144235" y="-3855.8" font-family="Arial" font-size="14.00">validate_json_depth(obj: object, max_depth: int | None, current_depth: int): None</text>
<text text-anchor="start" x="144235" y="-3840.8" font-family="Arial" font-size="14.00">validate_mime_type(value: str): str</text>
<text text-anchor="start" x="144235" y="-3825.8" font-family="Arial" font-size="14.00">validate_name(value: str, field_name: str): str</text>
<text text-anchor="start" x="144235" y="-3810.8" font-family="Arial" font-size="14.00">validate_no_xss(value: str, field_name: str): None</text>
<text text-anchor="start" x="144235" y="-3795.8" font-family="Arial" font-size="14.00">validate_parameter_length(value: str, max_length: Optional[int]): str</text>
<text text-anchor="start" x="144235" y="-3780.8" font-family="Arial" font-size="14.00">validate_path(path: str, allowed_roots: Optional[List[str]]): str</text>
<text text-anchor="start" x="144235" y="-3765.8" font-family="Arial" font-size="14.00">validate_shell_parameter(value: str): str</text>
<text text-anchor="start" x="144235" y="-3750.8" font-family="Arial" font-size="14.00">validate_sql_parameter(value: str): str</text>
<text text-anchor="start" x="144235" y="-3735.8" font-family="Arial" font-size="14.00">validate_template(value: str): str</text>
<text text-anchor="start" x="144235" y="-3720.8" font-family="Arial" font-size="14.00">validate_tool_name(value: str): str</text>
<text text-anchor="start" x="144235" y="-3705.8" font-family="Arial" font-size="14.00">validate_uri(value: str, field_name: str): str</text>
<text text-anchor="start" x="144235" y="-3690.8" font-family="Arial" font-size="14.00">validate_url(value: str, field_name: str): str</text>
<text text-anchor="start" x="144235" y="-3675.8" font-family="Arial" font-size="14.00">validate_uuid(value: str, field_name: str): str</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportData -->
<g id="node491" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportData</title>
<polygon fill="white" stroke="#ffaabb" points="144725.5,-8447.5 144725.5,-8606.5 144952.5,-8606.5 144952.5,-8447.5 144725.5,-8447.5"/>
<text text-anchor="start" x="144795" y="-8591.3" font-family="Arial" font-size="14.00">SelExportData</text>
<polyline fill="none" stroke="#ffaabb" points="144725.5,-8583.5 144952.5,-8583.5 "/>
<text text-anchor="start" x="144733.5" y="-8568.3" font-family="Arial" font-size="14.00">encryption_method : str</text>
<text text-anchor="start" x="144733.5" y="-8553.3" font-family="Arial" font-size="14.00">entities : Dict[str, List[Dict[str, Any]]]</text>
<text text-anchor="start" x="144733.5" y="-8538.3" font-family="Arial" font-size="14.00">exported_at : str</text>
<text text-anchor="start" x="144733.5" y="-8523.3" font-family="Arial" font-size="14.00">exported_by : str</text>
<text text-anchor="start" x="144733.5" y="-8508.3" font-family="Arial" font-size="14.00">metadata</text>
<text text-anchor="start" x="144733.5" y="-8493.3" font-family="Arial" font-size="14.00">source_gateway : str</text>
<text text-anchor="start" x="144733.5" y="-8478.3" font-family="Arial" font-size="14.00">version : str</text>
<polyline fill="none" stroke="#ffaabb" points="144725.5,-8470.5 144952.5,-8470.5 "/>
<text text-anchor="start" x="144837" y="-8455.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata -->
<g id="node492" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata</title>
<polygon fill="white" stroke="#ffaabb" points="144745.5,-8026.5 144745.5,-8125.5 144932.5,-8125.5 144932.5,-8026.5 144745.5,-8026.5"/>
<text text-anchor="start" x="144781" y="-8110.3" font-family="Arial" font-size="14.00">SelExportMetadata</text>
<polyline fill="none" stroke="#ffaabb" points="144745.5,-8102.5 144932.5,-8102.5 "/>
<text text-anchor="start" x="144753.5" y="-8087.3" font-family="Arial" font-size="14.00">dependencies : Dict[str, Any]</text>
<text text-anchor="start" x="144753.5" y="-8072.3" font-family="Arial" font-size="14.00">entity_counts : Dict[str, int]</text>
<text text-anchor="start" x="144753.5" y="-8057.3" font-family="Arial" font-size="14.00">export_options</text>
<polyline fill="none" stroke="#ffaabb" points="144745.5,-8049.5 144932.5,-8049.5 "/>
<text text-anchor="start" x="144837" y="-8034.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportData -->
<g id="edge160" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportData</title>
<path fill="none" stroke="gray" d="M144839,-8125.91C144839,-8199.97 144839,-8341.83 144839,-8435.18"/>
<polygon fill="gray" stroke="gray" points="144839,-8435.45 144843,-8441.45 144839,-8447.45 144835,-8441.45 144839,-8435.45"/>
<text text-anchor="middle" x="144868" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">metadata</text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions -->
<g id="node493" class="node">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions</title>
<polygon fill="white" stroke="#ffaabb" points="144745,-3870.5 144745,-3969.5 144933,-3969.5 144933,-3870.5 144745,-3870.5"/>
<text text-anchor="start" x="144786" y="-3954.3" font-family="Arial" font-size="14.00">SelExportOptions</text>
<polyline fill="none" stroke="#ffaabb" points="144745,-3946.5 144933,-3946.5 "/>
<text text-anchor="start" x="144753" y="-3931.3" font-family="Arial" font-size="14.00">include_dependencies : bool</text>
<text text-anchor="start" x="144753" y="-3916.3" font-family="Arial" font-size="14.00">selections : Dict[str, List[str]]</text>
<text text-anchor="start" x="144753" y="-3901.3" font-family="Arial" font-size="14.00">selective : bool</text>
<polyline fill="none" stroke="#ffaabb" points="144745,-3893.5 144933,-3893.5 "/>
<text text-anchor="start" x="144837" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata -->
<g id="edge161" class="edge">
<title>mcpgateway.services.export_service.ExportService.export_selective.SelExportOptions&#45;&gt;mcpgateway.services.export_service.ExportService.export_selective.SelExportMetadata</title>
<path fill="none" stroke="gray" d="M144839,-3969.81C144839,-4399.9 144839,-7538.04 144839,-8014.45"/>
<polygon fill="gray" stroke="gray" points="144839,-8014.49 144843,-8020.49 144839,-8026.49 144835,-8020.49 144839,-8014.49"/>
<text text-anchor="middle" x="144883.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">export_options</text>
</g>
<!-- mcpgateway.db.Server -->
<g id="node494" class="node">
<title>mcpgateway.db.Server</title>
<polygon fill="white" stroke="#77aadd" points="13454,-3593 13454,-4247 13754,-4247 13754,-3593 13454,-3593"/>
<text text-anchor="start" x="13584" y="-4231.8" font-family="Arial" font-size="14.00">Server</text>
<polyline fill="none" stroke="#77aadd" points="13454,-4224 13754,-4224 "/>
<text text-anchor="start" x="13462" y="-4208.8" font-family="Arial" font-size="14.00">a2a_agents : Mapped[List[&#39;A2AAgent&#39;]]</text>
<text text-anchor="start" x="13462" y="-4193.8" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="13462" y="-4178.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="13462" y="-4163.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4148.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4133.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4118.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4103.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4088.8" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="13462" y="-4073.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="13462" y="-4058.8" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="13462" y="-4043.8" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="13462" y="-4028.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-4013.8" font-family="Arial" font-size="14.00">icon : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3998.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="13462" y="-3983.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3968.8" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="13462" y="-3953.8" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="13462" y="-3938.8" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ServerMetric&#39;]]</text>
<text text-anchor="start" x="13462" y="-3923.8" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="13462" y="-3908.8" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="13462" y="-3893.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3878.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3863.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3848.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3833.8" font-family="Arial" font-size="14.00">name : Mapped[str]</text>
<text text-anchor="start" x="13462" y="-3818.8" font-family="Arial" font-size="14.00">oauth_config : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="13462" y="-3803.8" font-family="Arial" font-size="14.00">oauth_enabled : Mapped[bool]</text>
<text text-anchor="start" x="13462" y="-3788.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3773.8" font-family="Arial" font-size="14.00">prompts : Mapped[List[&#39;Prompt&#39;]]</text>
<text text-anchor="start" x="13462" y="-3758.8" font-family="Arial" font-size="14.00">resources : Mapped[List[&#39;Resource&#39;]]</text>
<text text-anchor="start" x="13462" y="-3743.8" font-family="Arial" font-size="14.00">scoped_tokens : Mapped[List[&#39;EmailApiToken&#39;]]</text>
<text text-anchor="start" x="13462" y="-3728.8" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="13462" y="-3713.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="13462" y="-3698.8" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="13462" y="-3683.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13462" y="-3668.8" font-family="Arial" font-size="14.00">tools : Mapped[List[&#39;Tool&#39;]]</text>
<text text-anchor="start" x="13462" y="-3653.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="13462" y="-3638.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="13462" y="-3623.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="13454,-3616 13754,-3616 "/>
<text text-anchor="start" x="13539" y="-3600.8" font-family="Arial" font-size="14.00">execution_count(): int</text>
</g>
<!-- mcpgateway.db.Server&#45;&gt;mcpgateway.db.Base -->
<g id="edge52" class="edge">
<title>mcpgateway.db.Server&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13642.65,-4247.3C13735.09,-5093.55 13927.17,-7328.6 13445,-7840 13298.96,-7994.89 9919.48,-8063.08 9346.26,-8073.55"/>
<polygon fill="none" stroke="gray" points="9345.95,-8070.06 9336.02,-8073.74 9346.08,-8077.06 9345.95,-8070.06"/>
</g>
<!-- mcpgateway.common.models.ServerCapabilities -->
<g id="node495" class="node">
<title>mcpgateway.common.models.ServerCapabilities</title>
<polygon fill="white" stroke="#44bb99" points="43019,-3848 43019,-3992 43311,-3992 43311,-3848 43019,-3848"/>
<text text-anchor="start" x="43110" y="-3976.8" font-family="Arial" font-size="14.00">ServerCapabilities</text>
<polyline fill="none" stroke="#44bb99" points="43019,-3969 43311,-3969 "/>
<text text-anchor="start" x="43027" y="-3953.8" font-family="Arial" font-size="14.00">completions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43027" y="-3938.8" font-family="Arial" font-size="14.00">experimental : Optional[Dict[str, Dict[str, Any]]]</text>
<text text-anchor="start" x="43027" y="-3923.8" font-family="Arial" font-size="14.00">logging : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="43027" y="-3908.8" font-family="Arial" font-size="14.00">prompts : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="43027" y="-3893.8" font-family="Arial" font-size="14.00">resources : Optional[Dict[str, bool]]</text>
<text text-anchor="start" x="43027" y="-3878.8" font-family="Arial" font-size="14.00">tools : Optional[Dict[str, bool]]</text>
<polyline fill="none" stroke="#44bb99" points="43019,-3871 43311,-3871 "/>
<text text-anchor="start" x="43163" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.ServerCapabilities&#45;&gt;mcpgateway.common.models.Gateway -->
<g id="edge139" class="edge">
<title>mcpgateway.common.models.ServerCapabilities&#45;&gt;mcpgateway.common.models.Gateway</title>
<path fill="none" stroke="gray" d="M43165,-3992.23C43165,-4486.41 43165,-7401.81 43165,-7976.62"/>
<polygon fill="gray" stroke="gray" points="43165,-7976.95 43169,-7982.95 43165,-7988.95 43161,-7982.95 43165,-7976.95"/>
<text text-anchor="middle" x="43198.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">capabilities</text>
</g>
<!-- mcpgateway.schemas.ServerCreate -->
<g id="node496" class="node">
<title>mcpgateway.schemas.ServerCreate</title>
<polygon fill="white" stroke="#77aadd" points="144951,-3728 144951,-4112 145265,-4112 145265,-3728 144951,-3728"/>
<text text-anchor="start" x="145067.5" y="-4096.8" font-family="Arial" font-size="14.00">ServerCreate</text>
<polyline fill="none" stroke="#77aadd" points="144951,-4089 145265,-4089 "/>
<text text-anchor="start" x="144980" y="-4073.8" font-family="Arial" font-size="14.00">associated_a2a_agents : Optional[List[str]]</text>
<text text-anchor="start" x="144980" y="-4058.8" font-family="Arial" font-size="14.00">associated_prompts : Optional[List[str]]</text>
<text text-anchor="start" x="144980" y="-4043.8" font-family="Arial" font-size="14.00">associated_resources : Optional[List[str]]</text>
<text text-anchor="start" x="144980" y="-4028.8" font-family="Arial" font-size="14.00">associated_tools : Optional[List[str]]</text>
<text text-anchor="start" x="144980" y="-4013.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3998.8" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3983.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3968.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="144980" y="-3953.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3938.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="144980" y="-3923.8" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="144980" y="-3908.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3893.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="144980" y="-3878.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="144980" y="-3863.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="144951,-3856 145265,-3856 "/>
<text text-anchor="start" x="144959" y="-3840.8" font-family="Arial" font-size="14.00">split_comma_separated(v)</text>
<text text-anchor="start" x="144959" y="-3825.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="144959" y="-3810.8" font-family="Arial" font-size="14.00">validate_icon(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="144959" y="-3795.8" font-family="Arial" font-size="14.00">validate_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="144959" y="-3780.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="144959" y="-3765.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="144959" y="-3750.8" font-family="Arial" font-size="14.00">validate_team_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="144959" y="-3735.8" font-family="Arial" font-size="14.00">validate_visibility(v: str): str</text>
</g>
<!-- mcpgateway.services.server_service.ServerError -->
<g id="node497" class="node">
<title>mcpgateway.services.server_service.ServerError</title>
<polygon fill="white" stroke="#ffaabb" points="145502,-8040.6 145502,-8111.4 145588,-8111.4 145588,-8040.6 145502,-8040.6"/>
<text text-anchor="start" x="145510" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">ServerError</text>
<polyline fill="none" stroke="#ffaabb" points="145502,-8088.4 145588,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="145502,-8063.6 145588,-8063.6 "/>
<text text-anchor="start" x="145543" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerLockConflictError -->
<g id="node498" class="node">
<title>mcpgateway.services.server_service.ServerLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="145283,-3884.6 145283,-3955.4 145443,-3955.4 145443,-3884.6 145283,-3884.6"/>
<text text-anchor="start" x="145291" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ServerLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="145283,-3932.4 145443,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="145283,-3907.6 145443,-3907.6 "/>
<text text-anchor="start" x="145361" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerLockConflictError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge114" class="edge">
<title>mcpgateway.services.server_service.ServerLockConflictError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M145362.1,-3955.63C145353.52,-4295.51 145289.94,-7039.57 145452,-7840 145466.09,-7909.6 145499.54,-7985.13 145522.23,-8031.27"/>
<polygon fill="none" stroke="gray" points="145519.18,-8032.98 145526.76,-8040.37 145525.44,-8029.86 145519.18,-8032.98"/>
</g>
<!-- mcpgateway.db.ServerMetric -->
<g id="node499" class="node">
<title>mcpgateway.db.ServerMetric</title>
<polygon fill="white" stroke="#77aadd" points="13772,-3840.5 13772,-3999.5 14022,-3999.5 14022,-3840.5 13772,-3840.5"/>
<text text-anchor="start" x="13858" y="-3984.3" font-family="Arial" font-size="14.00">ServerMetric</text>
<polyline fill="none" stroke="#77aadd" points="13772,-3976.5 14022,-3976.5 "/>
<text text-anchor="start" x="13780" y="-3961.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="13780" y="-3946.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="13780" y="-3931.3" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="13780" y="-3916.3" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="13780" y="-3901.3" font-family="Arial" font-size="14.00">server : Mapped[&#39;Server&#39;]</text>
<text text-anchor="start" x="13780" y="-3886.3" font-family="Arial" font-size="14.00">server_id : Mapped[str]</text>
<text text-anchor="start" x="13780" y="-3871.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<polyline fill="none" stroke="#77aadd" points="13772,-3863.5 14022,-3863.5 "/>
<text text-anchor="start" x="13895" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge53" class="edge">
<title>mcpgateway.db.ServerMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M13900.4,-3999.8C13922.42,-4528.8 14035.7,-7550.93 13763,-7840 13605.3,-8007.16 9944.35,-8065.47 9346.28,-8073.89"/>
<polygon fill="none" stroke="gray" points="9345.97,-8070.4 9336.02,-8074.04 9346.07,-8077.4 9345.97,-8070.4"/>
</g>
<!-- mcpgateway.schemas.ServerMetrics -->
<g id="node500" class="node">
<title>mcpgateway.schemas.ServerMetrics</title>
<polygon fill="white" stroke="#77aadd" points="145811.5,-3833 145811.5,-4007 146070.5,-4007 146070.5,-3833 145811.5,-3833"/>
<text text-anchor="start" x="145898.5" y="-3991.8" font-family="Arial" font-size="14.00">ServerMetrics</text>
<polyline fill="none" stroke="#77aadd" points="145811.5,-3984 146070.5,-3984 "/>
<text text-anchor="start" x="145819.5" y="-3968.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="145819.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="145819.5" y="-3938.8" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="145819.5" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="145819.5" y="-3908.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="145819.5" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="145819.5" y="-3878.8" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="145819.5" y="-3863.8" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="145811.5,-3856 146070.5,-3856 "/>
<text text-anchor="start" x="145939" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetricsHourly -->
<g id="node501" class="node">
<title>mcpgateway.db.ServerMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="14040,-3788 14040,-4052 14332,-4052 14332,-3788 14040,-3788"/>
<text text-anchor="start" x="14124" y="-4036.8" font-family="Arial" font-size="14.00">ServerMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="14040,-4029 14332,-4029 "/>
<text text-anchor="start" x="14048" y="-4013.8" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14048" y="-3983.8" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-3968.8" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="14048" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-3938.8" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3923.8" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3908.8" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3893.8" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3878.8" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14048" y="-3863.8" font-family="Arial" font-size="14.00">server_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14048" y="-3848.8" font-family="Arial" font-size="14.00">server_name : Mapped[str]</text>
<text text-anchor="start" x="14048" y="-3833.8" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="14048" y="-3818.8" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="14040,-3811 14332,-3811 "/>
<text text-anchor="start" x="14184" y="-3795.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ServerMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge54" class="edge">
<title>mcpgateway.db.ServerMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14190.73,-4052.02C14212.89,-4701.77 14294.67,-7558.17 14031,-7840 13864.23,-8018.25 9964.61,-8067.47 9346.27,-8074.16"/>
<polygon fill="none" stroke="gray" points="9346.07,-8070.66 9336.11,-8074.27 9346.14,-8077.66 9346.07,-8070.66"/>
</g>
<!-- mcpgateway.services.server_service.ServerNameConflictError -->
<g id="node502" class="node">
<title>mcpgateway.services.server_service.ServerNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="145461,-3870.5 145461,-3969.5 145629,-3969.5 145629,-3870.5 145461,-3870.5"/>
<text text-anchor="start" x="145469" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">ServerNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="145461,-3946.5 145629,-3946.5 "/>
<text text-anchor="start" x="145474.5" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="145474.5" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="145474.5" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">server_id : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="145461,-3893.5 145629,-3893.5 "/>
<text text-anchor="start" x="145543" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerNameConflictError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge115" class="edge">
<title>mcpgateway.services.server_service.ServerNameConflictError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M145545,-3969.81C145545,-4404.96 145545,-7612.33 145545,-8030.17"/>
<polygon fill="none" stroke="gray" points="145541.5,-8030.35 145545,-8040.35 145548.5,-8030.35 145541.5,-8030.35"/>
</g>
<!-- mcpgateway.services.server_service.ServerNotFoundError -->
<g id="node503" class="node">
<title>mcpgateway.services.server_service.ServerNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="145647,-3884.6 145647,-3955.4 145793,-3955.4 145793,-3884.6 145647,-3884.6"/>
<text text-anchor="start" x="145655" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ServerNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="145647,-3932.4 145793,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="145647,-3907.6 145793,-3907.6 "/>
<text text-anchor="start" x="145718" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.server_service.ServerNotFoundError&#45;&gt;mcpgateway.services.server_service.ServerError -->
<g id="edge116" class="edge">
<title>mcpgateway.services.server_service.ServerNotFoundError&#45;&gt;mcpgateway.services.server_service.ServerError</title>
<path fill="none" stroke="gray" d="M145720.97,-3955.63C145730.24,-4295.5 145799.34,-7039.46 145638,-7840 145623.97,-7909.62 145590.51,-7985.14 145567.79,-8031.27"/>
<polygon fill="none" stroke="gray" points="145564.58,-8029.86 145563.26,-8040.38 145570.85,-8032.98 145564.58,-8029.86"/>
</g>
<!-- mcpgateway.schemas.ServerRead -->
<g id="node504" class="node">
<title>mcpgateway.schemas.ServerRead</title>
<polygon fill="white" stroke="#77aadd" points="146088.5,-3668 146088.5,-4172 146327.5,-4172 146327.5,-3668 146088.5,-3668"/>
<text text-anchor="start" x="146171.5" y="-4156.8" font-family="Arial" font-size="14.00">ServerRead</text>
<polyline fill="none" stroke="#77aadd" points="146088.5,-4149 146327.5,-4149 "/>
<text text-anchor="start" x="146096.5" y="-4133.8" font-family="Arial" font-size="14.00">associated_a2a_agents : List[str]</text>
<text text-anchor="start" x="146096.5" y="-4118.8" font-family="Arial" font-size="14.00">associated_prompts : List[str]</text>
<text text-anchor="start" x="146096.5" y="-4103.8" font-family="Arial" font-size="14.00">associated_resources : List[str]</text>
<text text-anchor="start" x="146096.5" y="-4088.8" font-family="Arial" font-size="14.00">associated_tools : List[str]</text>
<text text-anchor="start" x="146096.5" y="-4073.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="146096.5" y="-4058.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-4043.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-4028.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-4013.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3998.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3983.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="146096.5" y="-3968.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3953.8" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3938.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="146096.5" y="-3923.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3908.8" font-family="Arial" font-size="14.00">metrics : Optional[ServerMetrics]</text>
<text text-anchor="start" x="146096.5" y="-3893.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3878.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3863.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3848.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3833.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="146096.5" y="-3818.8" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="146096.5" y="-3803.8" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="146096.5" y="-3788.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3773.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="146096.5" y="-3758.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3743.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="146096.5" y="-3728.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="146096.5" y="-3713.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="146096.5" y="-3698.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="146088.5,-3691 146327.5,-3691 "/>
<text text-anchor="start" x="146109.5" y="-3675.8" font-family="Arial" font-size="14.00">populate_associated_ids(values)</text>
</g>
<!-- mcpgateway.services.server_service.ServerService -->
<g id="node505" class="node">
<title>mcpgateway.services.server_service.ServerService</title>
<polygon fill="white" stroke="#ffaabb" points="146345.5,-3779.6 146345.5,-4060.4 148068.5,-4060.4 148068.5,-3779.6 146345.5,-3779.6"/>
<text text-anchor="start" x="147164.5" y="-4045.2" font-family="Arial" font-size="14.00">ServerService</text>
<polyline fill="none" stroke="#ffaabb" points="146345.5,-4037.4 148068.5,-4037.4 "/>
<polyline fill="none" stroke="#ffaabb" points="146345.5,-4012.6 148068.5,-4012.6 "/>
<text text-anchor="start" x="146353.5" y="-3997.4" font-family="Arial" font-size="14.00">aggregate_metrics(db: Session): ServerMetrics</text>
<text text-anchor="start" x="146353.5" y="-3982.4" font-family="Arial" font-size="14.00">convert_server_to_read(server: DbServer, include_metrics: bool): ServerRead</text>
<text text-anchor="start" x="146353.5" y="-3967.4" font-family="Arial" font-size="14.00">delete_server(db: Session, server_id: str, user_email: Optional[str], purge_metrics: bool): None</text>
<text text-anchor="start" x="146353.5" y="-3952.4" font-family="Arial" font-size="14.00">get_oauth_protected_resource_metadata(db: Session, server_id: str, resource_base_url: str): Dict[str, Any]</text>
<text text-anchor="start" x="146353.5" y="-3937.4" font-family="Arial" font-size="14.00">get_server(db: Session, server_id: str): ServerRead</text>
<text text-anchor="start" x="146353.5" y="-3922.4" font-family="Arial" font-size="14.00">get_top_servers(db: Session, limit: Optional[int], include_deleted: bool): List[TopPerformer]</text>
<text text-anchor="start" x="146353.5" y="-3907.4" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="146353.5" y="-3892.4" font-family="Arial" font-size="14.00">list_servers(db: Session, include_inactive: bool, tags: Optional[List[str]], cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int], user_email: Optional[str], team_id: Optional[str], visibility: Optional[str]): Union[tuple[List[ServerRead], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="146353.5" y="-3877.4" font-family="Arial" font-size="14.00">list_servers_for_user(db: Session, user_email: str, team_id: Optional[str], visibility: Optional[str], include_inactive: bool, skip: int, limit: int): List[ServerRead]</text>
<text text-anchor="start" x="146353.5" y="-3862.4" font-family="Arial" font-size="14.00">register_server(db: Session, server_in: ServerCreate, created_by: Optional[str], created_from_ip: Optional[str], created_via: Optional[str], created_user_agent: Optional[str], team_id: Optional[str], owner_email: Optional[str], visibility: Optional[str]): ServerRead</text>
<text text-anchor="start" x="146353.5" y="-3847.4" font-family="Arial" font-size="14.00">reset_metrics(db: Session): None</text>
<text text-anchor="start" x="146353.5" y="-3832.4" font-family="Arial" font-size="14.00">set_server_state(db: Session, server_id: str, activate: bool, user_email: Optional[str]): ServerRead</text>
<text text-anchor="start" x="146353.5" y="-3817.4" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="146353.5" y="-3802.4" font-family="Arial" font-size="14.00">subscribe_events(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="146353.5" y="-3787.4" font-family="Arial" font-size="14.00">update_server(db: Session, server_id: str, server_update: ServerUpdate, user_email: str, modified_by: Optional[str], modified_from_ip: Optional[str], modified_via: Optional[str], modified_user_agent: Optional[str]): ServerRead</text>
</g>
<!-- mcpgateway.schemas.ServerUpdate -->
<g id="node506" class="node">
<title>mcpgateway.schemas.ServerUpdate</title>
<polygon fill="white" stroke="#77aadd" points="148087,-3750.5 148087,-4089.5 148401,-4089.5 148401,-3750.5 148087,-3750.5"/>
<text text-anchor="start" x="148202" y="-4074.3" font-family="Arial" font-size="14.00">ServerUpdate</text>
<polyline fill="none" stroke="#77aadd" points="148087,-4066.5 148401,-4066.5 "/>
<text text-anchor="start" x="148116" y="-4051.3" font-family="Arial" font-size="14.00">associated_a2a_agents : Optional[List[str]]</text>
<text text-anchor="start" x="148116" y="-4036.3" font-family="Arial" font-size="14.00">associated_prompts : Optional[List[str]]</text>
<text text-anchor="start" x="148116" y="-4021.3" font-family="Arial" font-size="14.00">associated_resources : Optional[List[str]]</text>
<text text-anchor="start" x="148116" y="-4006.3" font-family="Arial" font-size="14.00">associated_tools : Optional[List[str]]</text>
<text text-anchor="start" x="148116" y="-3991.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3976.3" font-family="Arial" font-size="14.00">icon : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3961.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3946.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3931.3" font-family="Arial" font-size="14.00">oauth_config : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="148116" y="-3916.3" font-family="Arial" font-size="14.00">oauth_enabled : Optional[bool]</text>
<text text-anchor="start" x="148116" y="-3901.3" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3886.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="148116" y="-3871.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="148116" y="-3856.3" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="148087,-3848.5 148401,-3848.5 "/>
<text text-anchor="start" x="148095" y="-3833.3" font-family="Arial" font-size="14.00">split_comma_separated(v)</text>
<text text-anchor="start" x="148095" y="-3818.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="148095" y="-3803.3" font-family="Arial" font-size="14.00">validate_icon(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="148095" y="-3788.3" font-family="Arial" font-size="14.00">validate_id(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="148095" y="-3773.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="148095" y="-3758.3" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
</g>
<!-- mcpgateway.cache.session_registry.SessionBackend -->
<g id="node507" class="node">
<title>mcpgateway.cache.session_registry.SessionBackend</title>
<polygon fill="white" stroke="#99ddff" points="148768.5,-8040.6 148768.5,-8111.4 148885.5,-8111.4 148885.5,-8040.6 148768.5,-8040.6"/>
<text text-anchor="start" x="148776.5" y="-8096.2" font-family="Arial" font-size="14.00">SessionBackend</text>
<polyline fill="none" stroke="#99ddff" points="148768.5,-8088.4 148885.5,-8088.4 "/>
<polyline fill="none" stroke="#99ddff" points="148768.5,-8063.6 148885.5,-8063.6 "/>
<text text-anchor="start" x="148825" y="-8048.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper -->
<g id="node508" class="node">
<title>mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper</title>
<polygon fill="white" stroke="#77aadd" points="149253,-3863 149253,-3977 149729,-3977 149729,-3863 149253,-3863"/>
<text text-anchor="start" x="149414" y="-3961.8" font-family="Arial" font-size="14.00">SessionManagerWrapper</text>
<polyline fill="none" stroke="#77aadd" points="149253,-3954 149729,-3954 "/>
<text text-anchor="start" x="149328" y="-3938.8" font-family="Arial" font-size="14.00">session_manager : StreamableHTTPSessionManager</text>
<text text-anchor="start" x="149328" y="-3923.8" font-family="Arial" font-size="14.00">stack : AsyncExitStack</text>
<polyline fill="none" stroke="#77aadd" points="149253,-3916 149729,-3916 "/>
<text text-anchor="start" x="149261" y="-3900.8" font-family="Arial" font-size="14.00">handle_streamable_http(scope: Scope, receive: Receive, send: Send): None</text>
<text text-anchor="start" x="149261" y="-3885.8" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="149261" y="-3870.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.db.SessionMessageRecord -->
<g id="node509" class="node">
<title>mcpgateway.db.SessionMessageRecord</title>
<polygon fill="white" stroke="#77aadd" points="14350,-3848 14350,-3992 14578,-3992 14578,-3848 14350,-3848"/>
<text text-anchor="start" x="14390" y="-3976.8" font-family="Arial" font-size="14.00">SessionMessageRecord</text>
<polyline fill="none" stroke="#77aadd" points="14350,-3969 14578,-3969 "/>
<text text-anchor="start" x="14358" y="-3953.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14358" y="-3938.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="14358" y="-3923.8" font-family="Arial" font-size="14.00">last_accessed : Mapped[datetime]</text>
<text text-anchor="start" x="14358" y="-3908.8" font-family="Arial" font-size="14.00">message : Mapped[str]</text>
<text text-anchor="start" x="14358" y="-3893.8" font-family="Arial" font-size="14.00">session : Mapped[&#39;SessionRecord&#39;]</text>
<text text-anchor="start" x="14358" y="-3878.8" font-family="Arial" font-size="14.00">session_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14350,-3871 14578,-3871 "/>
<text text-anchor="start" x="14462" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SessionMessageRecord&#45;&gt;mcpgateway.db.Base -->
<g id="edge55" class="edge">
<title>mcpgateway.db.SessionMessageRecord&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14467.28,-3992.31C14489.89,-4499.44 14613.87,-7548.51 14341,-7840 14162.89,-8030.26 9988.38,-8069.5 9346.51,-8074.42"/>
<polygon fill="none" stroke="gray" points="9346.4,-8070.92 9336.42,-8074.5 9346.45,-8077.92 9346.4,-8070.92"/>
</g>
<!-- mcpgateway.db.SessionRecord -->
<g id="node510" class="node">
<title>mcpgateway.db.SessionRecord</title>
<polygon fill="white" stroke="#77aadd" points="14596.5,-3855.5 14596.5,-3984.5 14925.5,-3984.5 14925.5,-3855.5 14596.5,-3855.5"/>
<text text-anchor="start" x="14715" y="-3969.3" font-family="Arial" font-size="14.00">SessionRecord</text>
<polyline fill="none" stroke="#77aadd" points="14596.5,-3961.5 14925.5,-3961.5 "/>
<text text-anchor="start" x="14604.5" y="-3946.3" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="14604.5" y="-3931.3" font-family="Arial" font-size="14.00">data : Mapped[str]</text>
<text text-anchor="start" x="14604.5" y="-3916.3" font-family="Arial" font-size="14.00">last_accessed : Mapped[datetime]</text>
<text text-anchor="start" x="14604.5" y="-3901.3" font-family="Arial" font-size="14.00">messages : Mapped[List[&#39;SessionMessageRecord&#39;]]</text>
<text text-anchor="start" x="14604.5" y="-3886.3" font-family="Arial" font-size="14.00">session_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14596.5,-3878.5 14925.5,-3878.5 "/>
<text text-anchor="start" x="14759" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.SessionRecord&#45;&gt;mcpgateway.db.Base -->
<g id="edge56" class="edge">
<title>mcpgateway.db.SessionRecord&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M14768.76,-3984.68C14823.28,-4444.37 15131.18,-7253.86 14587,-7840 14400.76,-8040.59 10007.47,-8071.15 9346.85,-8074.62"/>
<polygon fill="none" stroke="gray" points="9346.45,-8071.12 9336.47,-8074.67 9346.49,-8078.12 9346.45,-8071.12"/>
</g>
<!-- mcpgateway.cache.session_registry.SessionRegistry -->
<g id="node511" class="node">
<title>mcpgateway.cache.session_registry.SessionRegistry</title>
<polygon fill="white" stroke="#99ddff" points="148419.5,-3772.1 148419.5,-4067.9 149234.5,-4067.9 149234.5,-3772.1 148419.5,-3772.1"/>
<text text-anchor="start" x="148778" y="-4052.7" font-family="Arial" font-size="14.00">SessionRegistry</text>
<polyline fill="none" stroke="#99ddff" points="148419.5,-4044.9 149234.5,-4044.9 "/>
<polyline fill="none" stroke="#99ddff" points="148419.5,-4020.1 149234.5,-4020.1 "/>
<text text-anchor="start" x="148427.5" y="-4004.9" font-family="Arial" font-size="14.00">add_session(session_id: str, transport: SSETransport): None</text>
<text text-anchor="start" x="148427.5" y="-3989.9" font-family="Arial" font-size="14.00">broadcast(session_id: str, message: Dict[str, Any]): None</text>
<text text-anchor="start" x="148427.5" y="-3974.9" font-family="Arial" font-size="14.00">generate_response(message: Dict[str, Any], transport: SSETransport, server_id: Optional[str], user: Dict[str, Any], base_url: str): None</text>
<text text-anchor="start" x="148427.5" y="-3959.9" font-family="Arial" font-size="14.00">get_all_session_ids(): list[str]</text>
<text text-anchor="start" x="148427.5" y="-3944.9" font-family="Arial" font-size="14.00">get_client_capabilities(session_id: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="148427.5" y="-3929.9" font-family="Arial" font-size="14.00">get_elicitation_capable_sessions(): list[str]</text>
<text text-anchor="start" x="148427.5" y="-3914.9" font-family="Arial" font-size="14.00">get_session(session_id: str): Any</text>
<text text-anchor="start" x="148427.5" y="-3899.9" font-family="Arial" font-size="14.00">get_session_sync(session_id: str): Any</text>
<text text-anchor="start" x="148427.5" y="-3884.9" font-family="Arial" font-size="14.00">handle_initialize_logic(body: Dict[str, Any], session_id: Optional[str], server_id: Optional[str]): InitializeResult</text>
<text text-anchor="start" x="148427.5" y="-3869.9" font-family="Arial" font-size="14.00">has_elicitation_capability(session_id: str): bool</text>
<text text-anchor="start" x="148427.5" y="-3854.9" font-family="Arial" font-size="14.00">initialize(): None</text>
<text text-anchor="start" x="148427.5" y="-3839.9" font-family="Arial" font-size="14.00">register_respond_task(session_id: str, task: asyncio.Task): None</text>
<text text-anchor="start" x="148427.5" y="-3824.9" font-family="Arial" font-size="14.00">remove_session(session_id: str): None</text>
<text text-anchor="start" x="148427.5" y="-3809.9" font-family="Arial" font-size="14.00">respond(server_id: Optional[str], user: Dict[str, Any], session_id: str, base_url: str): None</text>
<text text-anchor="start" x="148427.5" y="-3794.9" font-family="Arial" font-size="14.00">shutdown(): None</text>
<text text-anchor="start" x="148427.5" y="-3779.9" font-family="Arial" font-size="14.00">store_client_capabilities(session_id: str, capabilities: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.cache.session_registry.SessionRegistry&#45;&gt;mcpgateway.cache.session_registry.SessionBackend -->
<g id="edge1" class="edge">
<title>mcpgateway.cache.session_registry.SessionRegistry&#45;&gt;mcpgateway.cache.session_registry.SessionBackend</title>
<path fill="none" stroke="gray" d="M148827,-4067.93C148827,-4755.17 148827,-7635.74 148827,-8030.17"/>
<polygon fill="none" stroke="gray" points="148823.5,-8030.34 148827,-8040.34 148830.5,-8030.34 148823.5,-8030.34"/>
</g>
<!-- mcpgateway.config.Settings -->
<g id="node512" class="node">
<title>mcpgateway.config.Settings</title>
<polygon fill="white" stroke="#77aadd" points="50280.5,-0.5 50280.5,-7839.5 50783.5,-7839.5 50783.5,-0.5 50280.5,-0.5"/>
<text text-anchor="start" x="50507.5" y="-7824.3" font-family="Arial" font-size="14.00">Settings</text>
<polyline fill="none" stroke="#77aadd" points="50280.5,-7816.5 50783.5,-7816.5 "/>
<text text-anchor="start" x="50288.5" y="-7801.3" font-family="Arial" font-size="14.00">ENABLE_METRICS : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7786.3" font-family="Arial" font-size="14.00">METRICS_CUSTOM_LABELS : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-7771.3" font-family="Arial" font-size="14.00">METRICS_EXCLUDED_HANDLERS : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-7756.3" font-family="Arial" font-size="14.00">METRICS_NAMESPACE : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-7741.3" font-family="Arial" font-size="14.00">METRICS_SUBSYSTEM : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-7726.3" font-family="Arial" font-size="14.00">a2a_stats_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7711.3" font-family="Arial" font-size="14.00">account_lockout_duration_minutes : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7696.3" font-family="Arial" font-size="14.00">admin_require_password_change_on_bootstrap : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7681.3" font-family="Arial" font-size="14.00">admin_stats_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7666.3" font-family="Arial" font-size="14.00">admin_stats_cache_observability_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7651.3" font-family="Arial" font-size="14.00">admin_stats_cache_performance_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7636.3" font-family="Arial" font-size="14.00">admin_stats_cache_plugins_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7621.3" font-family="Arial" font-size="14.00">admin_stats_cache_system_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7606.3" font-family="Arial" font-size="14.00">admin_stats_cache_tags_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7591.3" font-family="Arial" font-size="14.00">allowed_mime_types : Set[str]</text>
<text text-anchor="start" x="50288.5" y="-7576.3" font-family="Arial" font-size="14.00">allowed_origins : Annotated[Set[str], NoDecode]</text>
<text text-anchor="start" x="50288.5" y="-7561.3" font-family="Arial" font-size="14.00">allowed_roots : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-7546.3" font-family="Arial" font-size="14.00">anyio_cancel_delivery_max_iterations : int</text>
<text text-anchor="start" x="50288.5" y="-7531.3" font-family="Arial" font-size="14.00">anyio_cancel_delivery_patch_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-7516.3" font-family="Arial" font-size="14.00">api_allow_basic_auth : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7501.3" font-family="Arial" font-size="14.00">api_key</text>
<text text-anchor="start" x="50288.5" y="-7486.3" font-family="Arial" font-size="14.00">app_domain : Optional[HttpUrl]</text>
<text text-anchor="start" x="50288.5" y="-7471.3" font-family="Arial" font-size="14.00">app_name : str</text>
<text text-anchor="start" x="50288.5" y="-7456.3" font-family="Arial" font-size="14.00">app_root_path : str</text>
<text text-anchor="start" x="50288.5" y="-7441.3" font-family="Arial" font-size="14.00">argon2id_memory_cost : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7426.3" font-family="Arial" font-size="14.00">argon2id_parallelism : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7411.3" font-family="Arial" font-size="14.00">argon2id_time_cost : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7396.3" font-family="Arial" font-size="14.00">audit_trail_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7381.3" font-family="Arial" font-size="14.00">auth_cache_batch_queries : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7366.3" font-family="Arial" font-size="14.00">auth_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7351.3" font-family="Arial" font-size="14.00">auth_cache_revocation_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7336.3" font-family="Arial" font-size="14.00">auth_cache_role_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7321.3" font-family="Arial" font-size="14.00">auth_cache_team_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7306.3" font-family="Arial" font-size="14.00">auth_cache_teams_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7291.3" font-family="Arial" font-size="14.00">auth_cache_teams_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7276.3" font-family="Arial" font-size="14.00">auth_cache_user_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7261.3" font-family="Arial" font-size="14.00">auth_encryption_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-7246.3" font-family="Arial" font-size="14.00">auth_required : bool</text>
<text text-anchor="start" x="50288.5" y="-7231.3" font-family="Arial" font-size="14.00">auto_create_personal_teams : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7216.3" font-family="Arial" font-size="14.00">auto_refresh_servers : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7201.3" font-family="Arial" font-size="14.00">backoff_factor : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-7186.3" font-family="Arial" font-size="14.00">basic_auth_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-7171.3" font-family="Arial" font-size="14.00">basic_auth_user : str</text>
<text text-anchor="start" x="50288.5" y="-7156.3" font-family="Arial" font-size="14.00">cache_prefix : str</text>
<text text-anchor="start" x="50288.5" y="-7141.3" font-family="Arial" font-size="14.00">cache_type : Literal[&#39;redis&#39;, &#39;memory&#39;, &#39;none&#39;, &#39;database&#39;]</text>
<text text-anchor="start" x="50288.5" y="-7126.3" font-family="Arial" font-size="14.00">client_mode : bool</text>
<text text-anchor="start" x="50288.5" y="-7111.3" font-family="Arial" font-size="14.00">compression_brotli_quality : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7096.3" font-family="Arial" font-size="14.00">compression_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7081.3" font-family="Arial" font-size="14.00">compression_gzip_level : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7066.3" font-family="Arial" font-size="14.00">compression_minimum_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7051.3" font-family="Arial" font-size="14.00">compression_zstd_level : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-7036.3" font-family="Arial" font-size="14.00">cookie_samesite : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-7021.3" font-family="Arial" font-size="14.00">correlation_id_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-7006.3" font-family="Arial" font-size="14.00">correlation_id_header : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6991.3" font-family="Arial" font-size="14.00">correlation_id_preserve : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6976.3" font-family="Arial" font-size="14.00">correlation_id_response_header : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6961.3" font-family="Arial" font-size="14.00">cors_allow_credentials : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6946.3" font-family="Arial" font-size="14.00">cors_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-6931.3" font-family="Arial" font-size="14.00">cors_settings</text>
<text text-anchor="start" x="50288.5" y="-6916.3" font-family="Arial" font-size="14.00">custom_well_known_files</text>
<text text-anchor="start" x="50288.5" y="-6901.3" font-family="Arial" font-size="14.00">dangerous_patterns : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-6886.3" font-family="Arial" font-size="14.00">database_settings</text>
<text text-anchor="start" x="50288.5" y="-6871.3" font-family="Arial" font-size="14.00">database_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6856.3" font-family="Arial" font-size="14.00">db_driver : str</text>
<text text-anchor="start" x="50288.5" y="-6841.3" font-family="Arial" font-size="14.00">db_max_backoff_seconds : int</text>
<text text-anchor="start" x="50288.5" y="-6826.3" font-family="Arial" font-size="14.00">db_max_overflow : int</text>
<text text-anchor="start" x="50288.5" y="-6811.3" font-family="Arial" font-size="14.00">db_max_retries : int</text>
<text text-anchor="start" x="50288.5" y="-6796.3" font-family="Arial" font-size="14.00">db_metrics_recording_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6781.3" font-family="Arial" font-size="14.00">db_pool_class : Optional[Literal[&#39;auto&#39;, &#39;null&#39;, &#39;queue&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-6766.3" font-family="Arial" font-size="14.00">db_pool_pre_ping : Optional[Literal[&#39;auto&#39;, &#39;true&#39;, &#39;false&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-6751.3" font-family="Arial" font-size="14.00">db_pool_recycle : int</text>
<text text-anchor="start" x="50288.5" y="-6736.3" font-family="Arial" font-size="14.00">db_pool_size : int</text>
<text text-anchor="start" x="50288.5" y="-6721.3" font-family="Arial" font-size="14.00">db_pool_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-6706.3" font-family="Arial" font-size="14.00">db_prepare_threshold : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6691.3" font-family="Arial" font-size="14.00">db_query_log_detect_n1 : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6676.3" font-family="Arial" font-size="14.00">db_query_log_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6661.3" font-family="Arial" font-size="14.00">db_query_log_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6646.3" font-family="Arial" font-size="14.00">db_query_log_format : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6631.3" font-family="Arial" font-size="14.00">db_query_log_include_params : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6616.3" font-family="Arial" font-size="14.00">db_query_log_json_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6601.3" font-family="Arial" font-size="14.00">db_query_log_min_queries : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6586.3" font-family="Arial" font-size="14.00">db_query_log_n1_threshold : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6571.3" font-family="Arial" font-size="14.00">db_retry_interval_ms : int</text>
<text text-anchor="start" x="50288.5" y="-6556.3" font-family="Arial" font-size="14.00">db_sqlite_busy_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6541.3" font-family="Arial" font-size="14.00">dcr_allowed_issuers : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-6526.3" font-family="Arial" font-size="14.00">dcr_auto_register_on_missing_credentials : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6511.3" font-family="Arial" font-size="14.00">dcr_client_name_template : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6496.3" font-family="Arial" font-size="14.00">dcr_default_scopes : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-6481.3" font-family="Arial" font-size="14.00">dcr_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6466.3" font-family="Arial" font-size="14.00">dcr_metadata_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6451.3" font-family="Arial" font-size="14.00">dcr_request_refresh_token_when_unsupported : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6436.3" font-family="Arial" font-size="14.00">dcr_token_endpoint_auth_method : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6421.3" font-family="Arial" font-size="14.00">debug : bool</text>
<text text-anchor="start" x="50288.5" y="-6406.3" font-family="Arial" font-size="14.00">default_passthrough_headers : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-6391.3" font-family="Arial" font-size="14.00">default_roots : List[str]</text>
<text text-anchor="start" x="50288.5" y="-6376.3" font-family="Arial" font-size="14.00">default_user_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-6361.3" font-family="Arial" font-size="14.00">detect_default_password_on_login : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6346.3" font-family="Arial" font-size="14.00">dev_mode : bool</text>
<text text-anchor="start" x="50288.5" y="-6331.3" font-family="Arial" font-size="14.00">docs_allow_basic_auth : bool</text>
<text text-anchor="start" x="50288.5" y="-6316.3" font-family="Arial" font-size="14.00">ed25519_private_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-6301.3" font-family="Arial" font-size="14.00">ed25519_public_key : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6286.3" font-family="Arial" font-size="14.00">elasticsearch_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6271.3" font-family="Arial" font-size="14.00">elasticsearch_index_prefix : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6256.3" font-family="Arial" font-size="14.00">elasticsearch_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-6241.3" font-family="Arial" font-size="14.00">email_auth_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6226.3" font-family="Arial" font-size="14.00">embed_environment_in_tokens : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6211.3" font-family="Arial" font-size="14.00">enable_ed25519_signing : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6196.3" font-family="Arial" font-size="14.00">enable_header_passthrough : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6181.3" font-family="Arial" font-size="14.00">enable_overwrite_base_headers : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6166.3" font-family="Arial" font-size="14.00">environment : Optional[Literal[&#39;development&#39;, &#39;staging&#39;, &#39;production&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-6151.3" font-family="Arial" font-size="14.00">experimental_validate_io : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-6136.3" font-family="Arial" font-size="14.00">federation_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-6121.3" font-family="Arial" font-size="14.00">filelock_name : str</text>
<text text-anchor="start" x="50288.5" y="-6106.3" font-family="Arial" font-size="14.00">gateway_auto_refresh_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6091.3" font-family="Arial" font-size="14.00">gateway_health_check_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-6076.3" font-family="Arial" font-size="14.00">gateway_max_redirects : int</text>
<text text-anchor="start" x="50288.5" y="-6061.3" font-family="Arial" font-size="14.00">gateway_tool_name_separator : str</text>
<text text-anchor="start" x="50288.5" y="-6046.3" font-family="Arial" font-size="14.00">gateway_validation_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-6031.3" font-family="Arial" font-size="14.00">global_config_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-6016.3" font-family="Arial" font-size="14.00">health_check_interval : int</text>
<text text-anchor="start" x="50288.5" y="-6001.3" font-family="Arial" font-size="14.00">health_check_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-5986.3" font-family="Arial" font-size="14.00">host : str</text>
<text text-anchor="start" x="50288.5" y="-5971.3" font-family="Arial" font-size="14.00">hsts_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5956.3" font-family="Arial" font-size="14.00">hsts_include_subdomains : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5941.3" font-family="Arial" font-size="14.00">hsts_max_age : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5926.3" font-family="Arial" font-size="14.00">httpx_admin_read_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5911.3" font-family="Arial" font-size="14.00">httpx_connect_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5896.3" font-family="Arial" font-size="14.00">httpx_http2_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5881.3" font-family="Arial" font-size="14.00">httpx_keepalive_expiry : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5866.3" font-family="Arial" font-size="14.00">httpx_max_connections : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5851.3" font-family="Arial" font-size="14.00">httpx_max_keepalive_connections : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5836.3" font-family="Arial" font-size="14.00">httpx_pool_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5821.3" font-family="Arial" font-size="14.00">httpx_read_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5806.3" font-family="Arial" font-size="14.00">httpx_write_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5791.3" font-family="Arial" font-size="14.00">insecure_allow_queryparam_auth : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5776.3" font-family="Arial" font-size="14.00">insecure_queryparam_auth_allowed_hosts : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-5761.3" font-family="Arial" font-size="14.00">invitation_expiry_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5746.3" font-family="Arial" font-size="14.00">json_response_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-5731.3" font-family="Arial" font-size="14.00">jwt_algorithm : str</text>
<text text-anchor="start" x="50288.5" y="-5716.3" font-family="Arial" font-size="14.00">jwt_audience : str</text>
<text text-anchor="start" x="50288.5" y="-5701.3" font-family="Arial" font-size="14.00">jwt_audience_verification : bool</text>
<text text-anchor="start" x="50288.5" y="-5686.3" font-family="Arial" font-size="14.00">jwt_issuer : str</text>
<text text-anchor="start" x="50288.5" y="-5671.3" font-family="Arial" font-size="14.00">jwt_issuer_verification : bool</text>
<text text-anchor="start" x="50288.5" y="-5656.3" font-family="Arial" font-size="14.00">jwt_private_key_path : str</text>
<text text-anchor="start" x="50288.5" y="-5641.3" font-family="Arial" font-size="14.00">jwt_public_key_path : str</text>
<text text-anchor="start" x="50288.5" y="-5626.3" font-family="Arial" font-size="14.00">jwt_secret_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-5611.3" font-family="Arial" font-size="14.00">llm_api_prefix : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-5596.3" font-family="Arial" font-size="14.00">llm_health_check_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5581.3" font-family="Arial" font-size="14.00">llm_request_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5566.3" font-family="Arial" font-size="14.00">llm_streaming_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5551.3" font-family="Arial" font-size="14.00">llmchat_chat_history_max_messages : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5536.3" font-family="Arial" font-size="14.00">llmchat_chat_history_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5521.3" font-family="Arial" font-size="14.00">llmchat_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5506.3" font-family="Arial" font-size="14.00">llmchat_session_lock_retries : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5491.3" font-family="Arial" font-size="14.00">llmchat_session_lock_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5476.3" font-family="Arial" font-size="14.00">llmchat_session_lock_wait : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5461.3" font-family="Arial" font-size="14.00">llmchat_session_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5446.3" font-family="Arial" font-size="14.00">log_backup_count : int</text>
<text text-anchor="start" x="50288.5" y="-5431.3" font-family="Arial" font-size="14.00">log_buffer_size_mb : float</text>
<text text-anchor="start" x="50288.5" y="-5416.3" font-family="Arial" font-size="14.00">log_detailed_max_body_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5401.3" font-family="Arial" font-size="14.00">log_detailed_sample_rate : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5386.3" font-family="Arial" font-size="14.00">log_detailed_skip_endpoints : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-5371.3" font-family="Arial" font-size="14.00">log_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-5356.3" font-family="Arial" font-size="14.00">log_filemode : str</text>
<text text-anchor="start" x="50288.5" y="-5341.3" font-family="Arial" font-size="14.00">log_folder : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-5326.3" font-family="Arial" font-size="14.00">log_format : Literal[&#39;json&#39;, &#39;text&#39;]</text>
<text text-anchor="start" x="50288.5" y="-5311.3" font-family="Arial" font-size="14.00">log_level : Optional[Literal[&#39;DEBUG&#39;, &#39;INFO&#39;, &#39;WARNING&#39;, &#39;ERROR&#39;, &#39;CRITICAL&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-5296.3" font-family="Arial" font-size="14.00">log_max_size_mb : int</text>
<text text-anchor="start" x="50288.5" y="-5281.3" font-family="Arial" font-size="14.00">log_requests : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5266.3" font-family="Arial" font-size="14.00">log_resolve_user_identity : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5251.3" font-family="Arial" font-size="14.00">log_retention_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5236.3" font-family="Arial" font-size="14.00">log_rotation_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-5221.3" font-family="Arial" font-size="14.00">log_search_max_results : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5206.3" font-family="Arial" font-size="14.00">log_to_file : bool</text>
<text text-anchor="start" x="50288.5" y="-5191.3" font-family="Arial" font-size="14.00">masked_auth_value : str</text>
<text text-anchor="start" x="50288.5" y="-5176.3" font-family="Arial" font-size="14.00">max_concurrent_health_checks : int</text>
<text text-anchor="start" x="50288.5" y="-5161.3" font-family="Arial" font-size="14.00">max_failed_login_attempts : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5146.3" font-family="Arial" font-size="14.00">max_interval : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-5131.3" font-family="Arial" font-size="14.00">max_members_per_team : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5116.3" font-family="Arial" font-size="14.00">max_param_length : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5101.3" font-family="Arial" font-size="14.00">max_path_depth : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5086.3" font-family="Arial" font-size="14.00">max_prompt_size : int</text>
<text text-anchor="start" x="50288.5" y="-5071.3" font-family="Arial" font-size="14.00">max_resource_size : int</text>
<text text-anchor="start" x="50288.5" y="-5056.3" font-family="Arial" font-size="14.00">max_teams_per_user : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-5041.3" font-family="Arial" font-size="14.00">max_tool_retries : int</text>
<text text-anchor="start" x="50288.5" y="-5026.3" font-family="Arial" font-size="14.00">mcp_client_auth_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-5011.3" font-family="Arial" font-size="14.00">mcp_require_auth : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4996.3" font-family="Arial" font-size="14.00">mcp_session_pool_acquire_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-4981.3" font-family="Arial" font-size="14.00">mcp_session_pool_circuit_breaker_reset : float</text>
<text text-anchor="start" x="50288.5" y="-4966.3" font-family="Arial" font-size="14.00">mcp_session_pool_circuit_breaker_threshold : int</text>
<text text-anchor="start" x="50288.5" y="-4951.3" font-family="Arial" font-size="14.00">mcp_session_pool_cleanup_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-4936.3" font-family="Arial" font-size="14.00">mcp_session_pool_create_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-4921.3" font-family="Arial" font-size="14.00">mcp_session_pool_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4906.3" font-family="Arial" font-size="14.00">mcp_session_pool_explicit_health_rpc : bool</text>
<text text-anchor="start" x="50288.5" y="-4891.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_interval : float</text>
<text text-anchor="start" x="50288.5" y="-4876.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_methods : List[str]</text>
<text text-anchor="start" x="50288.5" y="-4861.3" font-family="Arial" font-size="14.00">mcp_session_pool_health_check_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-4846.3" font-family="Arial" font-size="14.00">mcp_session_pool_identity_headers : List[str]</text>
<text text-anchor="start" x="50288.5" y="-4831.3" font-family="Arial" font-size="14.00">mcp_session_pool_idle_eviction : float</text>
<text text-anchor="start" x="50288.5" y="-4816.3" font-family="Arial" font-size="14.00">mcp_session_pool_max_per_key : int</text>
<text text-anchor="start" x="50288.5" y="-4801.3" font-family="Arial" font-size="14.00">mcp_session_pool_transport_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-4786.3" font-family="Arial" font-size="14.00">mcp_session_pool_ttl : float</text>
<text text-anchor="start" x="50288.5" y="-4771.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_default_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-4756.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4741.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_max_agents : int</text>
<text text-anchor="start" x="50288.5" y="-4726.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_max_retries : int</text>
<text text-anchor="start" x="50288.5" y="-4711.3" font-family="Arial" font-size="14.00">mcpgateway_a2a_metrics_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4696.3" font-family="Arial" font-size="14.00">mcpgateway_admin_api_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4681.3" font-family="Arial" font-size="14.00">mcpgateway_bootstrap_roles_in_db_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4666.3" font-family="Arial" font-size="14.00">mcpgateway_bootstrap_roles_in_db_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-4651.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4636.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_max_tools : int</text>
<text text-anchor="start" x="50288.5" y="-4621.3" font-family="Arial" font-size="14.00">mcpgateway_bulk_import_rate_limit : int</text>
<text text-anchor="start" x="50288.5" y="-4606.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_auto_health_check : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4591.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4576.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4561.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-4546.3" font-family="Arial" font-size="14.00">mcpgateway_catalog_page_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4531.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4516.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_max_concurrent : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4501.3" font-family="Arial" font-size="14.00">mcpgateway_elicitation_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4486.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4471.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_max_message_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4456.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_reflection_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4441.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4426.3" font-family="Arial" font-size="14.00">mcpgateway_grpc_tls_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4411.3" font-family="Arial" font-size="14.00">mcpgateway_performance_collection_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4396.3" font-family="Arial" font-size="14.00">mcpgateway_performance_distributed : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4381.3" font-family="Arial" font-size="14.00">mcpgateway_performance_max_snapshots : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4366.3" font-family="Arial" font-size="14.00">mcpgateway_performance_net_connections_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4351.3" font-family="Arial" font-size="14.00">mcpgateway_performance_net_connections_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4336.3" font-family="Arial" font-size="14.00">mcpgateway_performance_retention_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4321.3" font-family="Arial" font-size="14.00">mcpgateway_performance_retention_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4306.3" font-family="Arial" font-size="14.00">mcpgateway_performance_tracking : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4291.3" font-family="Arial" font-size="14.00">mcpgateway_tool_cancellation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4276.3" font-family="Arial" font-size="14.00">mcpgateway_ui_airgapped : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4261.3" font-family="Arial" font-size="14.00">mcpgateway_ui_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-4246.3" font-family="Arial" font-size="14.00">mcpgateway_ui_tool_test_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4231.3" font-family="Arial" font-size="14.00">message_ttl : int</text>
<text text-anchor="start" x="50288.5" y="-4216.3" font-family="Arial" font-size="14.00">metrics_aggregation_auto_start : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4201.3" font-family="Arial" font-size="14.00">metrics_aggregation_backfill_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4186.3" font-family="Arial" font-size="14.00">metrics_aggregation_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4171.3" font-family="Arial" font-size="14.00">metrics_aggregation_window_minutes : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4156.3" font-family="Arial" font-size="14.00">metrics_buffer_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4141.3" font-family="Arial" font-size="14.00">metrics_buffer_flush_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4126.3" font-family="Arial" font-size="14.00">metrics_buffer_max_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4111.3" font-family="Arial" font-size="14.00">metrics_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4096.3" font-family="Arial" font-size="14.00">metrics_cache_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4081.3" font-family="Arial" font-size="14.00">metrics_cleanup_batch_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4066.3" font-family="Arial" font-size="14.00">metrics_cleanup_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4051.3" font-family="Arial" font-size="14.00">metrics_cleanup_interval_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4036.3" font-family="Arial" font-size="14.00">metrics_delete_raw_after_rollup : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-4021.3" font-family="Arial" font-size="14.00">metrics_delete_raw_after_rollup_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-4006.3" font-family="Arial" font-size="14.00">metrics_retention_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3991.3" font-family="Arial" font-size="14.00">metrics_rollup_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3976.3" font-family="Arial" font-size="14.00">metrics_rollup_interval_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3961.3" font-family="Arial" font-size="14.00">metrics_rollup_late_data_hours : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3946.3" font-family="Arial" font-size="14.00">metrics_rollup_retention_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3931.3" font-family="Arial" font-size="14.00">min_password_length : int</text>
<text text-anchor="start" x="50288.5" y="-3916.3" font-family="Arial" font-size="14.00">min_secret_length : int</text>
<text text-anchor="start" x="50288.5" y="-3901.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="50288.5" y="-3886.3" font-family="Arial" font-size="14.00">oauth_default_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3871.3" font-family="Arial" font-size="14.00">oauth_discovery_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3856.3" font-family="Arial" font-size="14.00">oauth_max_retries : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3841.3" font-family="Arial" font-size="14.00">oauth_preferred_code_challenge_method : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3826.3" font-family="Arial" font-size="14.00">oauth_request_timeout : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3811.3" font-family="Arial" font-size="14.00">observability_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3796.3" font-family="Arial" font-size="14.00">observability_events_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3781.3" font-family="Arial" font-size="14.00">observability_exclude_paths : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-3766.3" font-family="Arial" font-size="14.00">observability_include_paths : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-3751.3" font-family="Arial" font-size="14.00">observability_max_traces : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3736.3" font-family="Arial" font-size="14.00">observability_metrics_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3721.3" font-family="Arial" font-size="14.00">observability_sample_rate : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3706.3" font-family="Arial" font-size="14.00">observability_trace_http_requests : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3691.3" font-family="Arial" font-size="14.00">observability_trace_retention_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3676.3" font-family="Arial" font-size="14.00">otel_bsp_max_export_batch_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3661.3" font-family="Arial" font-size="14.00">otel_bsp_max_queue_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3646.3" font-family="Arial" font-size="14.00">otel_bsp_schedule_delay : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3631.3" font-family="Arial" font-size="14.00">otel_enable_observability : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3616.3" font-family="Arial" font-size="14.00">otel_exporter_jaeger_endpoint : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3601.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_endpoint : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3586.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_headers : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3571.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_insecure : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3556.3" font-family="Arial" font-size="14.00">otel_exporter_otlp_protocol : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3541.3" font-family="Arial" font-size="14.00">otel_exporter_zipkin_endpoint : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3526.3" font-family="Arial" font-size="14.00">otel_resource_attributes : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3511.3" font-family="Arial" font-size="14.00">otel_service_name : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3496.3" font-family="Arial" font-size="14.00">otel_traces_exporter : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3481.3" font-family="Arial" font-size="14.00">pagination_base_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3466.3" font-family="Arial" font-size="14.00">pagination_count_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3451.3" font-family="Arial" font-size="14.00">pagination_cursor_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3436.3" font-family="Arial" font-size="14.00">pagination_cursor_threshold : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3421.3" font-family="Arial" font-size="14.00">pagination_default_page_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3406.3" font-family="Arial" font-size="14.00">pagination_default_sort_field : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3391.3" font-family="Arial" font-size="14.00">pagination_default_sort_order : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3376.3" font-family="Arial" font-size="14.00">pagination_include_links : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3361.3" font-family="Arial" font-size="14.00">pagination_max_offset : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3346.3" font-family="Arial" font-size="14.00">pagination_max_page_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3331.3" font-family="Arial" font-size="14.00">pagination_min_page_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3316.3" font-family="Arial" font-size="14.00">passthrough_headers_source : Optional[Literal[&#39;env&#39;, &#39;db&#39;, &#39;merge&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-3301.3" font-family="Arial" font-size="14.00">password_change_enforcement_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3286.3" font-family="Arial" font-size="14.00">password_max_age_days : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3271.3" font-family="Arial" font-size="14.00">password_min_length : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-3256.3" font-family="Arial" font-size="14.00">password_policy_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3241.3" font-family="Arial" font-size="14.00">password_prevent_reuse : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3226.3" font-family="Arial" font-size="14.00">password_require_lowercase : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3211.3" font-family="Arial" font-size="14.00">password_require_numbers : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3196.3" font-family="Arial" font-size="14.00">password_require_special : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3181.3" font-family="Arial" font-size="14.00">password_require_uppercase : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3166.3" font-family="Arial" font-size="14.00">performance_degradation_multiplier : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3151.3" font-family="Arial" font-size="14.00">performance_threshold_database_query_ms : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3136.3" font-family="Arial" font-size="14.00">performance_threshold_http_request_ms : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3121.3" font-family="Arial" font-size="14.00">performance_threshold_resource_read_ms : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3106.3" font-family="Arial" font-size="14.00">performance_threshold_tool_invocation_ms : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-3091.3" font-family="Arial" font-size="14.00">performance_tracking_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-3076.3" font-family="Arial" font-size="14.00">personal_team_prefix : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3061.3" font-family="Arial" font-size="14.00">platform_admin_email : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3046.3" font-family="Arial" font-size="14.00">platform_admin_full_name : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3031.3" font-family="Arial" font-size="14.00">platform_admin_password : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-3016.3" font-family="Arial" font-size="14.00">plugin_config_file : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-3001.3" font-family="Arial" font-size="14.00">plugins_cli_completion : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2986.3" font-family="Arial" font-size="14.00">plugins_cli_markup_mode : Literal[&#39;markdown&#39;, &#39;rich&#39;, &#39;disabled&#39;] | None</text>
<text text-anchor="start" x="50288.5" y="-2971.3" font-family="Arial" font-size="14.00">plugins_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2956.3" font-family="Arial" font-size="14.00">poll_interval : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-2941.3" font-family="Arial" font-size="14.00">port : Optional[PositiveInt]</text>
<text text-anchor="start" x="50288.5" y="-2926.3" font-family="Arial" font-size="14.00">prev_ed25519_private_key : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-2911.3" font-family="Arial" font-size="14.00">prev_ed25519_public_key : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-2896.3" font-family="Arial" font-size="14.00">prompt_cache_size : int</text>
<text text-anchor="start" x="50288.5" y="-2881.3" font-family="Arial" font-size="14.00">prompt_render_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-2866.3" font-family="Arial" font-size="14.00">protocol_version : str</text>
<text text-anchor="start" x="50288.5" y="-2851.3" font-family="Arial" font-size="14.00">proxy_user_header : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-2836.3" font-family="Arial" font-size="14.00">public_registration_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2821.3" font-family="Arial" font-size="14.00">redis_decode_responses : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2806.3" font-family="Arial" font-size="14.00">redis_health_check_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2791.3" font-family="Arial" font-size="14.00">redis_leader_heartbeat_interval : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2776.3" font-family="Arial" font-size="14.00">redis_leader_key : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-2761.3" font-family="Arial" font-size="14.00">redis_leader_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2746.3" font-family="Arial" font-size="14.00">redis_max_backoff_seconds : int</text>
<text text-anchor="start" x="50288.5" y="-2731.3" font-family="Arial" font-size="14.00">redis_max_connections : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2716.3" font-family="Arial" font-size="14.00">redis_max_retries : int</text>
<text text-anchor="start" x="50288.5" y="-2701.3" font-family="Arial" font-size="14.00">redis_parser : Optional[Literal[&#39;auto&#39;, &#39;hiredis&#39;, &#39;python&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-2686.3" font-family="Arial" font-size="14.00">redis_retry_interval_ms : int</text>
<text text-anchor="start" x="50288.5" y="-2671.3" font-family="Arial" font-size="14.00">redis_retry_on_timeout : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2656.3" font-family="Arial" font-size="14.00">redis_socket_connect_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-2641.3" font-family="Arial" font-size="14.00">redis_socket_timeout : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-2626.3" font-family="Arial" font-size="14.00">redis_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-2611.3" font-family="Arial" font-size="14.00">registry_cache_agents_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2596.3" font-family="Arial" font-size="14.00">registry_cache_catalog_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2581.3" font-family="Arial" font-size="14.00">registry_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2566.3" font-family="Arial" font-size="14.00">registry_cache_gateways_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2551.3" font-family="Arial" font-size="14.00">registry_cache_prompts_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2536.3" font-family="Arial" font-size="14.00">registry_cache_resources_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2521.3" font-family="Arial" font-size="14.00">registry_cache_servers_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2506.3" font-family="Arial" font-size="14.00">registry_cache_tools_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2491.3" font-family="Arial" font-size="14.00">reload : bool</text>
<text text-anchor="start" x="50288.5" y="-2476.3" font-family="Arial" font-size="14.00">remove_server_headers : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2461.3" font-family="Arial" font-size="14.00">require_email_verification_for_invites : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2446.3" font-family="Arial" font-size="14.00">require_jti : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2431.3" font-family="Arial" font-size="14.00">require_password_change_for_default_password : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2416.3" font-family="Arial" font-size="14.00">require_strong_secrets : bool</text>
<text text-anchor="start" x="50288.5" y="-2401.3" font-family="Arial" font-size="14.00">require_token_expiration : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2386.3" font-family="Arial" font-size="14.00">require_user_in_db : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2371.3" font-family="Arial" font-size="14.00">resource_cache_size : int</text>
<text text-anchor="start" x="50288.5" y="-2356.3" font-family="Arial" font-size="14.00">resource_cache_ttl : int</text>
<text text-anchor="start" x="50288.5" y="-2341.3" font-family="Arial" font-size="14.00">retry_base_delay : float</text>
<text text-anchor="start" x="50288.5" y="-2326.3" font-family="Arial" font-size="14.00">retry_jitter_max : float</text>
<text text-anchor="start" x="50288.5" y="-2311.3" font-family="Arial" font-size="14.00">retry_max_attempts : int</text>
<text text-anchor="start" x="50288.5" y="-2296.3" font-family="Arial" font-size="14.00">retry_max_delay : int</text>
<text text-anchor="start" x="50288.5" y="-2281.3" font-family="Arial" font-size="14.00">sanitize_output : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2266.3" font-family="Arial" font-size="14.00">secure_cookies : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2251.3" font-family="Arial" font-size="14.00">security_failed_auth_threshold : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2236.3" font-family="Arial" font-size="14.00">security_headers_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2221.3" font-family="Arial" font-size="14.00">security_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2206.3" font-family="Arial" font-size="14.00">security_logging_level : Optional[Literal[&#39;all&#39;, &#39;failures_only&#39;, &#39;high_severity&#39;]]</text>
<text text-anchor="start" x="50288.5" y="-2191.3" font-family="Arial" font-size="14.00">security_rate_limit_window_minutes : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2176.3" font-family="Arial" font-size="14.00">security_threat_score_alert : Optional[float]</text>
<text text-anchor="start" x="50288.5" y="-2161.3" font-family="Arial" font-size="14.00">session_ttl : int</text>
<text text-anchor="start" x="50288.5" y="-2146.3" font-family="Arial" font-size="14.00">skip_ssl_verify : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-2131.3" font-family="Arial" font-size="14.00">slug_refresh_batch_size : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-2116.3" font-family="Arial" font-size="14.00">sse_keepalive_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-2101.3" font-family="Arial" font-size="14.00">sse_keepalive_interval : int</text>
<text text-anchor="start" x="50288.5" y="-2086.3" font-family="Arial" font-size="14.00">sse_rapid_yield_max : int</text>
<text text-anchor="start" x="50288.5" y="-2071.3" font-family="Arial" font-size="14.00">sse_rapid_yield_window_ms : int</text>
<text text-anchor="start" x="50288.5" y="-2056.3" font-family="Arial" font-size="14.00">sse_retry_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-2041.3" font-family="Arial" font-size="14.00">sse_send_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-2026.3" font-family="Arial" font-size="14.00">sse_task_group_cleanup_timeout : float</text>
<text text-anchor="start" x="50288.5" y="-2011.3" font-family="Arial" font-size="14.00">sso_auto_admin_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50288.5" y="-1996.3" font-family="Arial" font-size="14.00">sso_auto_create_users : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1981.3" font-family="Arial" font-size="14.00">sso_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1966.3" font-family="Arial" font-size="14.00">sso_entra_admin_groups : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50288.5" y="-1951.3" font-family="Arial" font-size="14.00">sso_entra_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1936.3" font-family="Arial" font-size="14.00">sso_entra_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1921.3" font-family="Arial" font-size="14.00">sso_entra_default_role : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1906.3" font-family="Arial" font-size="14.00">sso_entra_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1891.3" font-family="Arial" font-size="14.00">sso_entra_groups_claim : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1876.3" font-family="Arial" font-size="14.00">sso_entra_role_mappings : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="50288.5" y="-1861.3" font-family="Arial" font-size="14.00">sso_entra_sync_roles_on_login : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1846.3" font-family="Arial" font-size="14.00">sso_entra_tenant_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1831.3" font-family="Arial" font-size="14.00">sso_generic_authorization_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1816.3" font-family="Arial" font-size="14.00">sso_generic_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1801.3" font-family="Arial" font-size="14.00">sso_generic_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1786.3" font-family="Arial" font-size="14.00">sso_generic_display_name : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1771.3" font-family="Arial" font-size="14.00">sso_generic_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1756.3" font-family="Arial" font-size="14.00">sso_generic_issuer : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1741.3" font-family="Arial" font-size="14.00">sso_generic_provider_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1726.3" font-family="Arial" font-size="14.00">sso_generic_scope : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1711.3" font-family="Arial" font-size="14.00">sso_generic_token_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1696.3" font-family="Arial" font-size="14.00">sso_generic_userinfo_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1681.3" font-family="Arial" font-size="14.00">sso_github_admin_orgs : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50288.5" y="-1666.3" font-family="Arial" font-size="14.00">sso_github_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1651.3" font-family="Arial" font-size="14.00">sso_github_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1636.3" font-family="Arial" font-size="14.00">sso_github_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1621.3" font-family="Arial" font-size="14.00">sso_google_admin_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50288.5" y="-1606.3" font-family="Arial" font-size="14.00">sso_google_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1591.3" font-family="Arial" font-size="14.00">sso_google_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1576.3" font-family="Arial" font-size="14.00">sso_google_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1561.3" font-family="Arial" font-size="14.00">sso_ibm_verify_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1546.3" font-family="Arial" font-size="14.00">sso_ibm_verify_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1531.3" font-family="Arial" font-size="14.00">sso_ibm_verify_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1516.3" font-family="Arial" font-size="14.00">sso_ibm_verify_issuer : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1501.3" font-family="Arial" font-size="14.00">sso_issuers : Optional[list[HttpUrl]]</text>
<text text-anchor="start" x="50288.5" y="-1486.3" font-family="Arial" font-size="14.00">sso_keycloak_base_url : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1471.3" font-family="Arial" font-size="14.00">sso_keycloak_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1456.3" font-family="Arial" font-size="14.00">sso_keycloak_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1441.3" font-family="Arial" font-size="14.00">sso_keycloak_email_claim : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1426.3" font-family="Arial" font-size="14.00">sso_keycloak_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1411.3" font-family="Arial" font-size="14.00">sso_keycloak_groups_claim : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1396.3" font-family="Arial" font-size="14.00">sso_keycloak_map_client_roles : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1381.3" font-family="Arial" font-size="14.00">sso_keycloak_map_realm_roles : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1366.3" font-family="Arial" font-size="14.00">sso_keycloak_realm : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1351.3" font-family="Arial" font-size="14.00">sso_keycloak_username_claim : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1336.3" font-family="Arial" font-size="14.00">sso_okta_client_id : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1321.3" font-family="Arial" font-size="14.00">sso_okta_client_secret : Optional[SecretStr]</text>
<text text-anchor="start" x="50288.5" y="-1306.3" font-family="Arial" font-size="14.00">sso_okta_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1291.3" font-family="Arial" font-size="14.00">sso_okta_issuer : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1276.3" font-family="Arial" font-size="14.00">sso_preserve_admin_auth : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1261.3" font-family="Arial" font-size="14.00">sso_require_admin_approval : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1246.3" font-family="Arial" font-size="14.00">sso_trusted_domains : Optional[Annotated[list[str], NoDecode()]]</text>
<text text-anchor="start" x="50288.5" y="-1231.3" font-family="Arial" font-size="14.00">static_dir : Optional[Path]</text>
<text text-anchor="start" x="50288.5" y="-1216.3" font-family="Arial" font-size="14.00">structured_logging_database_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1201.3" font-family="Arial" font-size="14.00">structured_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1186.3" font-family="Arial" font-size="14.00">structured_logging_external_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1171.3" font-family="Arial" font-size="14.00">supports_http</text>
<text text-anchor="start" x="50288.5" y="-1156.3" font-family="Arial" font-size="14.00">supports_sse</text>
<text text-anchor="start" x="50288.5" y="-1141.3" font-family="Arial" font-size="14.00">supports_websocket</text>
<text text-anchor="start" x="50288.5" y="-1126.3" font-family="Arial" font-size="14.00">syslog_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1111.3" font-family="Arial" font-size="14.00">syslog_host : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-1096.3" font-family="Arial" font-size="14.00">syslog_port : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-1081.3" font-family="Arial" font-size="14.00">team_member_count_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1066.3" font-family="Arial" font-size="14.00">team_member_count_cache_ttl : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-1051.3" font-family="Arial" font-size="14.00">templates_auto_reload : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-1036.3" font-family="Arial" font-size="14.00">templates_dir : Optional[Path]</text>
<text text-anchor="start" x="50288.5" y="-1021.3" font-family="Arial" font-size="14.00">token_expiry : int</text>
<text text-anchor="start" x="50288.5" y="-1006.3" font-family="Arial" font-size="14.00">tool_concurrent_limit : int</text>
<text text-anchor="start" x="50288.5" y="-991.3" font-family="Arial" font-size="14.00">tool_lookup_cache_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-976.3" font-family="Arial" font-size="14.00">tool_lookup_cache_l1_maxsize : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-961.3" font-family="Arial" font-size="14.00">tool_lookup_cache_l2_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-946.3" font-family="Arial" font-size="14.00">tool_lookup_cache_negative_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-931.3" font-family="Arial" font-size="14.00">tool_lookup_cache_ttl_seconds : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-916.3" font-family="Arial" font-size="14.00">tool_rate_limit : int</text>
<text text-anchor="start" x="50288.5" y="-901.3" font-family="Arial" font-size="14.00">tool_timeout : int</text>
<text text-anchor="start" x="50288.5" y="-886.3" font-family="Arial" font-size="14.00">toolops_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-871.3" font-family="Arial" font-size="14.00">transport_type : str</text>
<text text-anchor="start" x="50288.5" y="-856.3" font-family="Arial" font-size="14.00">trust_proxy_auth : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-841.3" font-family="Arial" font-size="14.00">unhealthy_threshold : int</text>
<text text-anchor="start" x="50288.5" y="-826.3" font-family="Arial" font-size="14.00">use_postgresdb_percentiles : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-811.3" font-family="Arial" font-size="14.00">use_stateful_sessions : bool</text>
<text text-anchor="start" x="50288.5" y="-796.3" font-family="Arial" font-size="14.00">valid_slug_separator_regexp : ClassVar[str]</text>
<text text-anchor="start" x="50288.5" y="-781.3" font-family="Arial" font-size="14.00">validate_token_environment : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-766.3" font-family="Arial" font-size="14.00">validation_allowed_mime_types : List[str]</text>
<text text-anchor="start" x="50288.5" y="-751.3" font-family="Arial" font-size="14.00">validation_allowed_url_schemes : List[str]</text>
<text text-anchor="start" x="50288.5" y="-736.3" font-family="Arial" font-size="14.00">validation_dangerous_html_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-721.3" font-family="Arial" font-size="14.00">validation_dangerous_js_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-706.3" font-family="Arial" font-size="14.00">validation_identifier_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-691.3" font-family="Arial" font-size="14.00">validation_max_content_length : int</text>
<text text-anchor="start" x="50288.5" y="-676.3" font-family="Arial" font-size="14.00">validation_max_description_length : int</text>
<text text-anchor="start" x="50288.5" y="-661.3" font-family="Arial" font-size="14.00">validation_max_json_depth : Optional[int]</text>
<text text-anchor="start" x="50288.5" y="-646.3" font-family="Arial" font-size="14.00">validation_max_method_length : int</text>
<text text-anchor="start" x="50288.5" y="-631.3" font-family="Arial" font-size="14.00">validation_max_name_length : int</text>
<text text-anchor="start" x="50288.5" y="-616.3" font-family="Arial" font-size="14.00">validation_max_requests_per_minute : int</text>
<text text-anchor="start" x="50288.5" y="-601.3" font-family="Arial" font-size="14.00">validation_max_rpc_param_size : int</text>
<text text-anchor="start" x="50288.5" y="-586.3" font-family="Arial" font-size="14.00">validation_max_template_length : int</text>
<text text-anchor="start" x="50288.5" y="-571.3" font-family="Arial" font-size="14.00">validation_max_url_length : int</text>
<text text-anchor="start" x="50288.5" y="-556.3" font-family="Arial" font-size="14.00">validation_middleware_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-541.3" font-family="Arial" font-size="14.00">validation_name_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-526.3" font-family="Arial" font-size="14.00">validation_safe_uri_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-511.3" font-family="Arial" font-size="14.00">validation_strict : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-496.3" font-family="Arial" font-size="14.00">validation_tool_method_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-481.3" font-family="Arial" font-size="14.00">validation_tool_name_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-466.3" font-family="Arial" font-size="14.00">validation_unsafe_uri_pattern : str</text>
<text text-anchor="start" x="50288.5" y="-451.3" font-family="Arial" font-size="14.00">webhook_logging_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-436.3" font-family="Arial" font-size="14.00">webhook_logging_urls : Optional[List[str]]</text>
<text text-anchor="start" x="50288.5" y="-421.3" font-family="Arial" font-size="14.00">websocket_ping_interval : int</text>
<text text-anchor="start" x="50288.5" y="-406.3" font-family="Arial" font-size="14.00">well_known_cache_max_age : int</text>
<text text-anchor="start" x="50288.5" y="-391.3" font-family="Arial" font-size="14.00">well_known_custom_files : str</text>
<text text-anchor="start" x="50288.5" y="-376.3" font-family="Arial" font-size="14.00">well_known_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-361.3" font-family="Arial" font-size="14.00">well_known_robots_txt : str</text>
<text text-anchor="start" x="50288.5" y="-346.3" font-family="Arial" font-size="14.00">well_known_security_txt : str</text>
<text text-anchor="start" x="50288.5" y="-331.3" font-family="Arial" font-size="14.00">well_known_security_txt_enabled : bool</text>
<text text-anchor="start" x="50288.5" y="-316.3" font-family="Arial" font-size="14.00">x_content_type_options_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-301.3" font-family="Arial" font-size="14.00">x_download_options_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-286.3" font-family="Arial" font-size="14.00">x_frame_options : Optional[str]</text>
<text text-anchor="start" x="50288.5" y="-271.3" font-family="Arial" font-size="14.00">x_xss_protection_enabled : Optional[bool]</text>
<text text-anchor="start" x="50288.5" y="-256.3" font-family="Arial" font-size="14.00">yield_batch_size : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="50280.5,-248.5 50783.5,-248.5 "/>
<text text-anchor="start" x="50310" y="-233.3" font-family="Arial" font-size="14.00">derive_public_keys(): &#39;Settings&#39;</text>
<text text-anchor="start" x="50310" y="-218.3" font-family="Arial" font-size="14.00">get_security_status(): SecurityStatus</text>
<text text-anchor="start" x="50310" y="-203.3" font-family="Arial" font-size="14.00">get_security_warnings(): List[str]</text>
<text text-anchor="start" x="50310" y="-188.3" font-family="Arial" font-size="14.00">log_summary(): None</text>
<text text-anchor="start" x="50310" y="-173.3" font-family="Arial" font-size="14.00">must_be_allowed_sep(v: str): str</text>
<text text-anchor="start" x="50310" y="-158.3" font-family="Arial" font-size="14.00">normalize_x_frame_options(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="50310" y="-143.3" font-family="Arial" font-size="14.00">parse_allowed_roots(v)</text>
<text text-anchor="start" x="50310" y="-128.3" font-family="Arial" font-size="14.00">parse_issuers(v: Any): list[str]</text>
<text text-anchor="start" x="50310" y="-113.3" font-family="Arial" font-size="14.00">validate_admin_password(v: str | SecretStr, info: ValidationInfo): SecretStr</text>
<text text-anchor="start" x="50310" y="-98.3" font-family="Arial" font-size="14.00">validate_cors_origins(v: Any, info: ValidationInfo): set[str] | None</text>
<text text-anchor="start" x="50310" y="-83.3" font-family="Arial" font-size="14.00">validate_database(): None</text>
<text text-anchor="start" x="50310" y="-68.3" font-family="Arial" font-size="14.00">validate_database_url(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="50310" y="-53.3" font-family="Arial" font-size="14.00">validate_log_level(v: str): str</text>
<text text-anchor="start" x="50310" y="-38.3" font-family="Arial" font-size="14.00">validate_secrets(v: Any, info: ValidationInfo): SecretStr</text>
<text text-anchor="start" x="50310" y="-23.3" font-family="Arial" font-size="14.00">validate_security_combinations(): Self</text>
<text text-anchor="start" x="50310" y="-8.3" font-family="Arial" font-size="14.00">validate_transport(): None</text>
</g>
<!-- mcpgateway.config.Settings&#45;&gt;mcpgateway.services.dcr_service.DcrService -->
<g id="edge142" class="edge">
<title>mcpgateway.config.Settings&#45;&gt;mcpgateway.services.dcr_service.DcrService</title>
<path fill="none" stroke="gray" d="M50330.12,-7839.76C50326.71,-7905.84 50323.94,-7959.7 50321.91,-7999.12"/>
<polygon fill="gray" stroke="gray" points="50321.91,-7999.17 50325.59,-8005.37 50321.29,-8011.15 50317.6,-8004.96 50321.91,-7999.17"/>
<text text-anchor="middle" x="50352.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">settings</text>
</g>
<!-- mcpgateway.config.Settings&#45;&gt;mcpgateway.services.oauth_manager.OAuthManager -->
<g id="edge143" class="edge">
<title>mcpgateway.config.Settings&#45;&gt;mcpgateway.services.oauth_manager.OAuthManager</title>
<path fill="none" stroke="gray" d="M50783.55,-7824.22C50786.35,-7829.49 50789.17,-7834.75 50792,-7840 50818.86,-7889.76 50861.32,-7932.07 50906.33,-7966.5"/>
<polygon fill="gray" stroke="gray" points="50906.37,-7966.53 50913.57,-7966.92 50915.97,-7973.72 50908.77,-7973.33 50906.37,-7966.53"/>
<text text-anchor="middle" x="50832.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">settings</text>
</g>
<!-- mcpgateway.wrapper.Settings -->
<g id="node513" class="node">
<title>mcpgateway.wrapper.Settings</title>
<polygon fill="white" stroke="#77aadd" points="149747.5,-3848 149747.5,-3992 149924.5,-3992 149924.5,-3848 149747.5,-3848"/>
<text text-anchor="start" x="149811.5" y="-3976.8" font-family="Arial" font-size="14.00">Settings</text>
<polyline fill="none" stroke="#77aadd" points="149747.5,-3969 149924.5,-3969 "/>
<text text-anchor="start" x="149755.5" y="-3953.8" font-family="Arial" font-size="14.00">auth_header : Optional[str]</text>
<text text-anchor="start" x="149755.5" y="-3938.8" font-family="Arial" font-size="14.00">concurrency : int</text>
<text text-anchor="start" x="149755.5" y="-3923.8" font-family="Arial" font-size="14.00">connect_timeout : float</text>
<text text-anchor="start" x="149755.5" y="-3908.8" font-family="Arial" font-size="14.00">log_level : Optional[str]</text>
<text text-anchor="start" x="149755.5" y="-3893.8" font-family="Arial" font-size="14.00">response_timeout : float</text>
<text text-anchor="start" x="149755.5" y="-3878.8" font-family="Arial" font-size="14.00">server_url : str</text>
<polyline fill="none" stroke="#77aadd" points="149747.5,-3871 149924.5,-3871 "/>
<text text-anchor="start" x="149834" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.http_client_service.SharedHttpClient -->
<g id="node514" class="node">
<title>mcpgateway.services.http_client_service.SharedHttpClient</title>
<polygon fill="white" stroke="#ffaabb" points="149943,-3863 149943,-3977 150161,-3977 150161,-3863 149943,-3863"/>
<text text-anchor="start" x="150000.5" y="-3961.8" font-family="Arial" font-size="14.00">SharedHttpClient</text>
<polyline fill="none" stroke="#ffaabb" points="149943,-3954 150161,-3954 "/>
<text text-anchor="start" x="150036" y="-3938.8" font-family="Arial" font-size="14.00">client</text>
<polyline fill="none" stroke="#ffaabb" points="149943,-3931 150161,-3931 "/>
<text text-anchor="start" x="149951" y="-3915.8" font-family="Arial" font-size="14.00">close(): None</text>
<text text-anchor="start" x="149951" y="-3900.8" font-family="Arial" font-size="14.00">get_instance(): &#39;SharedHttpClient&#39;</text>
<text text-anchor="start" x="149951" y="-3885.8" font-family="Arial" font-size="14.00">get_pool_stats(): dict[str, int]</text>
<text text-anchor="start" x="149951" y="-3870.8" font-family="Arial" font-size="14.00">shutdown(): None</text>
</g>
<!-- mcpgateway.observability.create_span.SpanWithAttributes -->
<g id="node515" class="node">
<title>mcpgateway.observability.create_span.SpanWithAttributes</title>
<polygon fill="white" stroke="#bbcc33" points="150179.5,-3870.5 150179.5,-3969.5 150318.5,-3969.5 150318.5,-3870.5 150179.5,-3870.5"/>
<text text-anchor="start" x="150190.5" y="-3954.3" font-family="Arial" font-size="14.00">SpanWithAttributes</text>
<polyline fill="none" stroke="#bbcc33" points="150179.5,-3946.5 150318.5,-3946.5 "/>
<text text-anchor="start" x="150187.5" y="-3931.3" font-family="Arial" font-size="14.00">attrs : Dict[str, Any]</text>
<text text-anchor="start" x="150187.5" y="-3916.3" font-family="Arial" font-size="14.00">span : Optional[Any]</text>
<text text-anchor="start" x="150187.5" y="-3901.3" font-family="Arial" font-size="14.00">span_context : Any</text>
<polyline fill="none" stroke="#bbcc33" points="150179.5,-3893.5 150318.5,-3893.5 "/>
<text text-anchor="start" x="150247" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.StatusToggleRequest -->
<g id="node516" class="node">
<title>mcpgateway.schemas.StatusToggleRequest</title>
<polygon fill="white" stroke="#77aadd" points="150337,-3885.5 150337,-3954.5 150495,-3954.5 150495,-3885.5 150337,-3885.5"/>
<text text-anchor="start" x="150351.5" y="-3939.3" font-family="Arial" font-size="14.00">StatusToggleRequest</text>
<polyline fill="none" stroke="#77aadd" points="150337,-3931.5 150495,-3931.5 "/>
<text text-anchor="start" x="150345" y="-3916.3" font-family="Arial" font-size="14.00">activate : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="150337,-3908.5 150495,-3908.5 "/>
<text text-anchor="start" x="150414" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.StatusToggleResponse -->
<g id="node517" class="node">
<title>mcpgateway.schemas.StatusToggleResponse</title>
<polygon fill="white" stroke="#77aadd" points="150513.5,-3863 150513.5,-3977 150670.5,-3977 150670.5,-3863 150513.5,-3863"/>
<text text-anchor="start" x="150522.5" y="-3961.8" font-family="Arial" font-size="14.00">StatusToggleResponse</text>
<polyline fill="none" stroke="#77aadd" points="150513.5,-3954 150670.5,-3954 "/>
<text text-anchor="start" x="150521.5" y="-3938.8" font-family="Arial" font-size="14.00">id : int</text>
<text text-anchor="start" x="150521.5" y="-3923.8" font-family="Arial" font-size="14.00">is_active : bool</text>
<text text-anchor="start" x="150521.5" y="-3908.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="150521.5" y="-3893.8" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#77aadd" points="150513.5,-3886 150670.5,-3886 "/>
<text text-anchor="start" x="150590" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.translate.StdIOEndpoint -->
<g id="node518" class="node">
<title>mcpgateway.translate.StdIOEndpoint</title>
<polygon fill="white" stroke="#77aadd" points="150688.5,-3862.1 150688.5,-3977.9 151033.5,-3977.9 151033.5,-3862.1 150688.5,-3862.1"/>
<text text-anchor="start" x="150816.5" y="-3962.7" font-family="Arial" font-size="14.00">StdIOEndpoint</text>
<polyline fill="none" stroke="#77aadd" points="150688.5,-3954.9 151033.5,-3954.9 "/>
<polyline fill="none" stroke="#77aadd" points="150688.5,-3930.1 151033.5,-3930.1 "/>
<text text-anchor="start" x="150696.5" y="-3914.9" font-family="Arial" font-size="14.00">is_running(): bool</text>
<text text-anchor="start" x="150696.5" y="-3899.9" font-family="Arial" font-size="14.00">send(raw: str): None</text>
<text text-anchor="start" x="150696.5" y="-3884.9" font-family="Arial" font-size="14.00">start(additional_env_vars: Optional[Dict[str, str]]): None</text>
<text text-anchor="start" x="150696.5" y="-3869.9" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.reverse_proxy.StdioProcess -->
<g id="node519" class="node">
<title>mcpgateway.reverse_proxy.StdioProcess</title>
<polygon fill="white" stroke="#77aadd" points="133726.5,-3855.5 133726.5,-3984.5 134031.5,-3984.5 134031.5,-3855.5 133726.5,-3855.5"/>
<text text-anchor="start" x="133839" y="-3969.3" font-family="Arial" font-size="14.00">StdioProcess</text>
<polyline fill="none" stroke="#77aadd" points="133726.5,-3961.5 134031.5,-3961.5 "/>
<text text-anchor="start" x="133734.5" y="-3946.3" font-family="Arial" font-size="14.00">command : str</text>
<text text-anchor="start" x="133734.5" y="-3931.3" font-family="Arial" font-size="14.00">process : Optional[asyncio.subprocess.Process]</text>
<polyline fill="none" stroke="#77aadd" points="133726.5,-3923.5 134031.5,-3923.5 "/>
<text text-anchor="start" x="133763" y="-3908.3" font-family="Arial" font-size="14.00">add_message_handler(handler): None</text>
<text text-anchor="start" x="133763" y="-3893.3" font-family="Arial" font-size="14.00">send(message: str): None</text>
<text text-anchor="start" x="133763" y="-3878.3" font-family="Arial" font-size="14.00">start(): None</text>
<text text-anchor="start" x="133763" y="-3863.3" font-family="Arial" font-size="14.00">stop(): None</text>
</g>
<!-- mcpgateway.reverse_proxy.StdioProcess&#45;&gt;mcpgateway.reverse_proxy.ReverseProxyClient -->
<g id="edge154" class="edge">
<title>mcpgateway.reverse_proxy.StdioProcess&#45;&gt;mcpgateway.reverse_proxy.ReverseProxyClient</title>
<path fill="none" stroke="gray" d="M133879,-3984.59C133879,-4444.36 133879,-7260.85 133879,-7931.68"/>
<polygon fill="gray" stroke="gray" points="133879,-7931.8 133883,-7937.8 133879,-7943.8 133875,-7937.8 133879,-7931.8"/>
<text text-anchor="middle" x="133921" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">stdio_process</text>
</g>
<!-- mcpgateway.transports.stdio_transport.StdioTransport -->
<g id="node520" class="node">
<title>mcpgateway.transports.stdio_transport.StdioTransport</title>
<polygon fill="white" stroke="#77aadd" points="138763.5,-3854.6 138763.5,-3985.4 139122.5,-3985.4 139122.5,-3854.6 138763.5,-3854.6"/>
<text text-anchor="start" x="138898.5" y="-3970.2" font-family="Arial" font-size="14.00">StdioTransport</text>
<polyline fill="none" stroke="#77aadd" points="138763.5,-3962.4 139122.5,-3962.4 "/>
<polyline fill="none" stroke="#77aadd" points="138763.5,-3937.6 139122.5,-3937.6 "/>
<text text-anchor="start" x="138771.5" y="-3922.4" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="138771.5" y="-3907.4" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="138771.5" y="-3892.4" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="138771.5" y="-3877.4" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="138771.5" y="-3862.4" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
</g>
<!-- mcpgateway.transports.stdio_transport.StdioTransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge123" class="edge">
<title>mcpgateway.transports.stdio_transport.StdioTransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M138943,-3985.42C138943,-4466.6 138943,-7494.86 138943,-8002.76"/>
<polygon fill="none" stroke="gray" points="138939.5,-8002.89 138943,-8012.89 138946.5,-8002.89 138939.5,-8002.89"/>
</g>
<!-- mcpgateway.transports.streamablehttp_transport.StreamBuffer -->
<g id="node522" class="node">
<title>mcpgateway.transports.streamablehttp_transport.StreamBuffer</title>
<polygon fill="white" stroke="#77aadd" points="151052,-3863 151052,-3977 151254,-3977 151254,-3863 151052,-3863"/>
<text text-anchor="start" x="151112.5" y="-3961.8" font-family="Arial" font-size="14.00">StreamBuffer</text>
<polyline fill="none" stroke="#77aadd" points="151052,-3954 151254,-3954 "/>
<text text-anchor="start" x="151060" y="-3938.8" font-family="Arial" font-size="14.00">count : int</text>
<text text-anchor="start" x="151060" y="-3923.8" font-family="Arial" font-size="14.00">entries : list[EventEntry | None]</text>
<text text-anchor="start" x="151060" y="-3908.8" font-family="Arial" font-size="14.00">next_seq : int</text>
<text text-anchor="start" x="151060" y="-3893.8" font-family="Arial" font-size="14.00">start_seq : int</text>
<polyline fill="none" stroke="#77aadd" points="151052,-3886 151254,-3886 "/>
<text text-anchor="start" x="151151" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.StructuredLogEntry -->
<g id="node523" class="node">
<title>mcpgateway.db.StructuredLogEntry</title>
<polygon fill="white" stroke="#77aadd" points="14943.5,-3675.5 14943.5,-4164.5 15290.5,-4164.5 15290.5,-3675.5 14943.5,-3675.5"/>
<text text-anchor="start" x="15058.5" y="-4149.3" font-family="Arial" font-size="14.00">StructuredLogEntry</text>
<polyline fill="none" stroke="#77aadd" points="14943.5,-4141.5 15290.5,-4141.5 "/>
<text text-anchor="start" x="14951.5" y="-4126.3" font-family="Arial" font-size="14.00">client_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4111.3" font-family="Arial" font-size="14.00">component : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4096.3" font-family="Arial" font-size="14.00">context : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-4081.3" font-family="Arial" font-size="14.00">correlation_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-4066.3" font-family="Arial" font-size="14.00">duration_ms : Mapped[Optional[float]]</text>
<text text-anchor="start" x="14951.5" y="-4051.3" font-family="Arial" font-size="14.00">environment : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4036.3" font-family="Arial" font-size="14.00">error_details : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-4021.3" font-family="Arial" font-size="14.00">hostname : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-4006.3" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-3991.3" font-family="Arial" font-size="14.00">is_security_event : Mapped[bool]</text>
<text text-anchor="start" x="14951.5" y="-3976.3" font-family="Arial" font-size="14.00">level : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-3961.3" font-family="Arial" font-size="14.00">logger : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3946.3" font-family="Arial" font-size="14.00">message : Mapped[str]</text>
<text text-anchor="start" x="14951.5" y="-3931.3" font-family="Arial" font-size="14.00">operation_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3916.3" font-family="Arial" font-size="14.00">performance_metrics : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-3901.3" font-family="Arial" font-size="14.00">process_id : Mapped[int]</text>
<text text-anchor="start" x="14951.5" y="-3886.3" font-family="Arial" font-size="14.00">request_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3871.3" font-family="Arial" font-size="14.00">request_method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3856.3" font-family="Arial" font-size="14.00">request_path : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3841.3" font-family="Arial" font-size="14.00">security_severity : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3826.3" font-family="Arial" font-size="14.00">span_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3811.3" font-family="Arial" font-size="14.00">thread_id : Mapped[Optional[int]]</text>
<text text-anchor="start" x="14951.5" y="-3796.3" font-family="Arial" font-size="14.00">threat_indicators : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="14951.5" y="-3781.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="14951.5" y="-3766.3" font-family="Arial" font-size="14.00">trace_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3751.3" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3736.3" font-family="Arial" font-size="14.00">user_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3721.3" font-family="Arial" font-size="14.00">user_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="14951.5" y="-3706.3" font-family="Arial" font-size="14.00">version : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="14943.5,-3698.5 15290.5,-3698.5 "/>
<text text-anchor="start" x="15115" y="-3683.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.StructuredLogEntry&#45;&gt;mcpgateway.db.Base -->
<g id="edge57" class="edge">
<title>mcpgateway.db.StructuredLogEntry&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15145.09,-4164.8C15228.36,-4938.05 15437.98,-7315.46 14934,-7840 14731.46,-8050.8 10029.72,-8072.72 9346.49,-8074.8"/>
<polygon fill="none" stroke="gray" points="9346.24,-8071.3 9336.25,-8074.83 9346.26,-8078.3 9346.24,-8071.3"/>
</g>
<!-- mcpgateway.schemas.SuccessResponse -->
<g id="node525" class="node">
<title>mcpgateway.schemas.SuccessResponse</title>
<polygon fill="white" stroke="#77aadd" points="151272.5,-3878 151272.5,-3962 151433.5,-3962 151433.5,-3878 151272.5,-3878"/>
<text text-anchor="start" x="151297" y="-3946.8" font-family="Arial" font-size="14.00">SuccessResponse</text>
<polyline fill="none" stroke="#77aadd" points="151272.5,-3939 151433.5,-3939 "/>
<text text-anchor="start" x="151280.5" y="-3923.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="151280.5" y="-3908.8" font-family="Arial" font-size="14.00">success : Optional[bool]</text>
<polyline fill="none" stroke="#77aadd" points="151272.5,-3901 151433.5,-3901 "/>
<text text-anchor="start" x="151351" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.support_bundle_service.SupportBundleConfig -->
<g id="node526" class="node">
<title>mcpgateway.services.support_bundle_service.SupportBundleConfig</title>
<polygon fill="white" stroke="#ffaabb" points="151451.5,-3848 151451.5,-3992 151686.5,-3992 151686.5,-3848 151451.5,-3848"/>
<text text-anchor="start" x="151504.5" y="-3976.8" font-family="Arial" font-size="14.00">SupportBundleConfig</text>
<polyline fill="none" stroke="#ffaabb" points="151451.5,-3969 151686.5,-3969 "/>
<text text-anchor="start" x="151459.5" y="-3953.8" font-family="Arial" font-size="14.00">include_env : Optional[bool]</text>
<text text-anchor="start" x="151459.5" y="-3938.8" font-family="Arial" font-size="14.00">include_logs : Optional[bool]</text>
<text text-anchor="start" x="151459.5" y="-3923.8" font-family="Arial" font-size="14.00">include_system_info : Optional[bool]</text>
<text text-anchor="start" x="151459.5" y="-3908.8" font-family="Arial" font-size="14.00">log_tail_lines : Optional[int]</text>
<text text-anchor="start" x="151459.5" y="-3893.8" font-family="Arial" font-size="14.00">max_log_size_mb : Optional[float]</text>
<text text-anchor="start" x="151459.5" y="-3878.8" font-family="Arial" font-size="14.00">output_dir : Optional[Path]</text>
<polyline fill="none" stroke="#ffaabb" points="151451.5,-3871 151686.5,-3871 "/>
<text text-anchor="start" x="151567" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.support_bundle_service.SupportBundleService -->
<g id="node527" class="node">
<title>mcpgateway.services.support_bundle_service.SupportBundleService</title>
<polygon fill="white" stroke="#ffaabb" points="151705,-3870.5 151705,-3969.5 152097,-3969.5 152097,-3870.5 151705,-3870.5"/>
<text text-anchor="start" x="151833.5" y="-3954.3" font-family="Arial" font-size="14.00">SupportBundleService</text>
<polyline fill="none" stroke="#ffaabb" points="151705,-3946.5 152097,-3946.5 "/>
<text text-anchor="start" x="151812.5" y="-3931.3" font-family="Arial" font-size="14.00">SENSITIVE_PATTERNS : list</text>
<text text-anchor="start" x="151812.5" y="-3916.3" font-family="Arial" font-size="14.00">hostname</text>
<text text-anchor="start" x="151812.5" y="-3901.3" font-family="Arial" font-size="14.00">timestamp : datetime</text>
<polyline fill="none" stroke="#ffaabb" points="151705,-3893.5 152097,-3893.5 "/>
<text text-anchor="start" x="151713" y="-3878.3" font-family="Arial" font-size="14.00">generate_bundle(config: Optional[SupportBundleConfig]): Path</text>
</g>
<!-- mcpgateway.schemas.SystemMetricsSchema -->
<g id="node528" class="node">
<title>mcpgateway.schemas.SystemMetricsSchema</title>
<polygon fill="white" stroke="#77aadd" points="152114.5,-3750.5 152114.5,-4089.5 152353.5,-4089.5 152353.5,-3750.5 152114.5,-3750.5"/>
<text text-anchor="start" x="152163.5" y="-4074.3" font-family="Arial" font-size="14.00">SystemMetricsSchema</text>
<polyline fill="none" stroke="#77aadd" points="152114.5,-4066.5 152353.5,-4066.5 "/>
<text text-anchor="start" x="152122.5" y="-4051.3" font-family="Arial" font-size="14.00">boot_time : Optional[datetime]</text>
<text text-anchor="start" x="152122.5" y="-4036.3" font-family="Arial" font-size="14.00">cpu_count : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-4021.3" font-family="Arial" font-size="14.00">cpu_freq_mhz : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-4006.3" font-family="Arial" font-size="14.00">cpu_percent : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3991.3" font-family="Arial" font-size="14.00">disk_percent : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3976.3" font-family="Arial" font-size="14.00">disk_total_gb : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3961.3" font-family="Arial" font-size="14.00">disk_used_gb : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3946.3" font-family="Arial" font-size="14.00">load_avg_15m : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3931.3" font-family="Arial" font-size="14.00">load_avg_1m : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3916.3" font-family="Arial" font-size="14.00">load_avg_5m : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3901.3" font-family="Arial" font-size="14.00">memory_available_mb : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3886.3" font-family="Arial" font-size="14.00">memory_percent : Optional[float]</text>
<text text-anchor="start" x="152122.5" y="-3871.3" font-family="Arial" font-size="14.00">memory_total_mb : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3856.3" font-family="Arial" font-size="14.00">memory_used_mb : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3841.3" font-family="Arial" font-size="14.00">network_bytes_recv : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3826.3" font-family="Arial" font-size="14.00">network_bytes_sent : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3811.3" font-family="Arial" font-size="14.00">network_connections : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3796.3" font-family="Arial" font-size="14.00">swap_total_mb : Optional[int]</text>
<text text-anchor="start" x="152122.5" y="-3781.3" font-family="Arial" font-size="14.00">swap_used_mb : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="152114.5,-3773.5 152353.5,-3773.5 "/>
<text text-anchor="start" x="152232" y="-3758.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.system_stats_service.SystemStatsService -->
<g id="node529" class="node">
<title>mcpgateway.services.system_stats_service.SystemStatsService</title>
<polygon fill="white" stroke="#ffaabb" points="152372,-3877.1 152372,-3962.9 152756,-3962.9 152756,-3877.1 152372,-3877.1"/>
<text text-anchor="start" x="152503" y="-3947.7" font-family="Arial" font-size="14.00">SystemStatsService</text>
<polyline fill="none" stroke="#ffaabb" points="152372,-3939.9 152756,-3939.9 "/>
<polyline fill="none" stroke="#ffaabb" points="152372,-3915.1 152756,-3915.1 "/>
<text text-anchor="start" x="152380" y="-3899.9" font-family="Arial" font-size="14.00">get_comprehensive_stats(db: Session): Dict[str, Any]</text>
<text text-anchor="start" x="152380" y="-3884.9" font-family="Arial" font-size="14.00">get_comprehensive_stats_cached(db: Session): Dict[str, Any]</text>
</g>
<!-- mcpgateway.schemas.TagInfo -->
<g id="node530" class="node">
<title>mcpgateway.schemas.TagInfo</title>
<polygon fill="white" stroke="#77aadd" points="152774,-3870.5 152774,-3969.5 153010,-3969.5 153010,-3870.5 152774,-3870.5"/>
<text text-anchor="start" x="152869.5" y="-3954.3" font-family="Arial" font-size="14.00">TagInfo</text>
<polyline fill="none" stroke="#77aadd" points="152774,-3946.5 153010,-3946.5 "/>
<text text-anchor="start" x="152782" y="-3931.3" font-family="Arial" font-size="14.00">entities : Optional[List[TaggedEntity]]</text>
<text text-anchor="start" x="152782" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="152782" y="-3901.3" font-family="Arial" font-size="14.00">stats : Optional[TagStats]</text>
<polyline fill="none" stroke="#77aadd" points="152774,-3893.5 153010,-3893.5 "/>
<text text-anchor="start" x="152890" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.tag_service.TagService -->
<g id="node531" class="node">
<title>mcpgateway.services.tag_service.TagService</title>
<polygon fill="white" stroke="#ffaabb" points="153028,-3869.6 153028,-3970.4 153634,-3970.4 153634,-3869.6 153028,-3869.6"/>
<text text-anchor="start" x="153297.5" y="-3955.2" font-family="Arial" font-size="14.00">TagService</text>
<polyline fill="none" stroke="#ffaabb" points="153028,-3947.4 153634,-3947.4 "/>
<polyline fill="none" stroke="#ffaabb" points="153028,-3922.6 153634,-3922.6 "/>
<text text-anchor="start" x="153036" y="-3907.4" font-family="Arial" font-size="14.00">get_all_tags(db: Session, entity_types: Optional[List[str]], include_entities: bool): List[TagInfo]</text>
<text text-anchor="start" x="153036" y="-3892.4" font-family="Arial" font-size="14.00">get_entities_by_tag(db: Session, tag_name: str, entity_types: Optional[List[str]]): List[TaggedEntity]</text>
<text text-anchor="start" x="153036" y="-3877.4" font-family="Arial" font-size="14.00">get_tag_counts(db: Session): Dict[str, int]</text>
</g>
<!-- mcpgateway.schemas.TagStats -->
<g id="node532" class="node">
<title>mcpgateway.schemas.TagStats</title>
<polygon fill="white" stroke="#77aadd" points="153652,-3848 153652,-3992 153812,-3992 153812,-3848 153652,-3848"/>
<text text-anchor="start" x="153705.5" y="-3976.8" font-family="Arial" font-size="14.00">TagStats</text>
<polyline fill="none" stroke="#77aadd" points="153652,-3969 153812,-3969 "/>
<text text-anchor="start" x="153660" y="-3953.8" font-family="Arial" font-size="14.00">gateways : Optional[int]</text>
<text text-anchor="start" x="153660" y="-3938.8" font-family="Arial" font-size="14.00">prompts : Optional[int]</text>
<text text-anchor="start" x="153660" y="-3923.8" font-family="Arial" font-size="14.00">resources : Optional[int]</text>
<text text-anchor="start" x="153660" y="-3908.8" font-family="Arial" font-size="14.00">servers : Optional[int]</text>
<text text-anchor="start" x="153660" y="-3893.8" font-family="Arial" font-size="14.00">tools : Optional[int]</text>
<text text-anchor="start" x="153660" y="-3878.8" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="153652,-3871 153812,-3871 "/>
<text text-anchor="start" x="153730" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.validation.tags.TagValidator -->
<g id="node533" class="node">
<title>mcpgateway.validation.tags.TagValidator</title>
<polygon fill="white" stroke="#99ddff" points="153830.5,-3848 153830.5,-3992 154165.5,-3992 154165.5,-3848 153830.5,-3848"/>
<text text-anchor="start" x="153960.5" y="-3976.8" font-family="Arial" font-size="14.00">TagValidator</text>
<polyline fill="none" stroke="#99ddff" points="153830.5,-3969 154165.5,-3969 "/>
<text text-anchor="start" x="153916.5" y="-3953.8" font-family="Arial" font-size="14.00">ALLOWED_PATTERN : str</text>
<text text-anchor="start" x="153916.5" y="-3938.8" font-family="Arial" font-size="14.00">MAX_LENGTH : int</text>
<text text-anchor="start" x="153916.5" y="-3923.8" font-family="Arial" font-size="14.00">MIN_LENGTH : int</text>
<polyline fill="none" stroke="#99ddff" points="153830.5,-3916 154165.5,-3916 "/>
<text text-anchor="start" x="153838.5" y="-3900.8" font-family="Arial" font-size="14.00">get_validation_errors(tags: List[str]): List[str]</text>
<text text-anchor="start" x="153838.5" y="-3885.8" font-family="Arial" font-size="14.00">normalize(tag: str): str</text>
<text text-anchor="start" x="153838.5" y="-3870.8" font-family="Arial" font-size="14.00">validate(tag: str): bool</text>
<text text-anchor="start" x="153838.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_list(tags: Optional[List[str]]): List[Dict[str, str]]</text>
</g>
<!-- mcpgateway.schemas.TaggedEntity -->
<g id="node534" class="node">
<title>mcpgateway.schemas.TaggedEntity</title>
<polygon fill="white" stroke="#77aadd" points="154183.5,-3863 154183.5,-3977 154350.5,-3977 154350.5,-3863 154183.5,-3863"/>
<text text-anchor="start" x="154227.5" y="-3961.8" font-family="Arial" font-size="14.00">TaggedEntity</text>
<polyline fill="none" stroke="#77aadd" points="154183.5,-3954 154350.5,-3954 "/>
<text text-anchor="start" x="154191.5" y="-3938.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="154191.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="154191.5" y="-3908.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="154191.5" y="-3893.8" font-family="Arial" font-size="14.00">type : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="154183.5,-3886 154350.5,-3886 "/>
<text text-anchor="start" x="154265" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamCreateRequest -->
<g id="node535" class="node">
<title>mcpgateway.schemas.TeamCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="154369,-3840.5 154369,-3999.5 154683,-3999.5 154683,-3840.5 154369,-3840.5"/>
<text text-anchor="start" x="154463.5" y="-3984.3" font-family="Arial" font-size="14.00">TeamCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="154369,-3976.5 154683,-3976.5 "/>
<text text-anchor="start" x="154398" y="-3961.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="154398" y="-3946.3" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="154398" y="-3931.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="154398" y="-3916.3" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="154398" y="-3901.3" font-family="Arial" font-size="14.00">visibility : Optional[Literal[&#39;private&#39;, &#39;public&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="154369,-3893.5 154683,-3893.5 "/>
<text text-anchor="start" x="154377" y="-3878.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="154377" y="-3863.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="154377" y="-3848.3" font-family="Arial" font-size="14.00">validate_slug(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.schemas.TeamDiscoveryResponse -->
<g id="node536" class="node">
<title>mcpgateway.schemas.TeamDiscoveryResponse</title>
<polygon fill="white" stroke="#77aadd" points="154701.5,-3848 154701.5,-3992 154904.5,-3992 154904.5,-3848 154701.5,-3848"/>
<text text-anchor="start" x="154726" y="-3976.8" font-family="Arial" font-size="14.00">TeamDiscoveryResponse</text>
<polyline fill="none" stroke="#77aadd" points="154701.5,-3969 154904.5,-3969 "/>
<text text-anchor="start" x="154709.5" y="-3953.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="154709.5" y="-3938.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="154709.5" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="154709.5" y="-3908.8" font-family="Arial" font-size="14.00">is_joinable : Optional[bool]</text>
<text text-anchor="start" x="154709.5" y="-3893.8" font-family="Arial" font-size="14.00">member_count : Optional[int]</text>
<text text-anchor="start" x="154709.5" y="-3878.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="154701.5,-3871 154904.5,-3871 "/>
<text text-anchor="start" x="154801" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamInvitationResponse -->
<g id="node537" class="node">
<title>mcpgateway.schemas.TeamInvitationResponse</title>
<polygon fill="white" stroke="#77aadd" points="154922.5,-3810.5 154922.5,-4029.5 155123.5,-4029.5 155123.5,-3810.5 154922.5,-3810.5"/>
<text text-anchor="start" x="154948.5" y="-4014.3" font-family="Arial" font-size="14.00">TeamInvitationResponse</text>
<polyline fill="none" stroke="#77aadd" points="154922.5,-4006.5 155123.5,-4006.5 "/>
<text text-anchor="start" x="154930.5" y="-3991.3" font-family="Arial" font-size="14.00">email : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3976.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="154930.5" y="-3961.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3946.3" font-family="Arial" font-size="14.00">invited_at : Optional[datetime]</text>
<text text-anchor="start" x="154930.5" y="-3931.3" font-family="Arial" font-size="14.00">invited_by : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3916.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="154930.5" y="-3901.3" font-family="Arial" font-size="14.00">is_expired : Optional[bool]</text>
<text text-anchor="start" x="154930.5" y="-3886.3" font-family="Arial" font-size="14.00">role : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3871.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3856.3" font-family="Arial" font-size="14.00">team_name : Optional[str]</text>
<text text-anchor="start" x="154930.5" y="-3841.3" font-family="Arial" font-size="14.00">token : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="154922.5,-3833.5 155123.5,-3833.5 "/>
<text text-anchor="start" x="155021" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_invitation_service.TeamInvitationService -->
<g id="node538" class="node">
<title>mcpgateway.services.team_invitation_service.TeamInvitationService</title>
<polygon fill="white" stroke="#ffaabb" points="155142,-3833 155142,-4007 155888,-4007 155888,-3833 155142,-3833"/>
<text text-anchor="start" x="155448.5" y="-3991.8" font-family="Arial" font-size="14.00">TeamInvitationService</text>
<polyline fill="none" stroke="#ffaabb" points="155142,-3984 155888,-3984 "/>
<text text-anchor="start" x="155507" y="-3968.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="155142,-3961 155888,-3961 "/>
<text text-anchor="start" x="155150" y="-3945.8" font-family="Arial" font-size="14.00">accept_invitation(token: str, accepting_user_email: Optional[str]): bool</text>
<text text-anchor="start" x="155150" y="-3930.8" font-family="Arial" font-size="14.00">cleanup_expired_invitations(): int</text>
<text text-anchor="start" x="155150" y="-3915.8" font-family="Arial" font-size="14.00">create_invitation(team_id: str, email: str, role: str, invited_by: str, expiry_days: Optional[int]): Optional[EmailTeamInvitation]</text>
<text text-anchor="start" x="155150" y="-3900.8" font-family="Arial" font-size="14.00">decline_invitation(token: str, declining_user_email: Optional[str]): bool</text>
<text text-anchor="start" x="155150" y="-3885.8" font-family="Arial" font-size="14.00">get_invitation_by_token(token: str): Optional[EmailTeamInvitation]</text>
<text text-anchor="start" x="155150" y="-3870.8" font-family="Arial" font-size="14.00">get_team_invitations(team_id: str, active_only: bool): List[EmailTeamInvitation]</text>
<text text-anchor="start" x="155150" y="-3855.8" font-family="Arial" font-size="14.00">get_user_invitations(email: str, active_only: bool): List[EmailTeamInvitation]</text>
<text text-anchor="start" x="155150" y="-3840.8" font-family="Arial" font-size="14.00">revoke_invitation(invitation_id: str, revoked_by: str): bool</text>
</g>
<!-- mcpgateway.schemas.TeamInviteRequest -->
<g id="node539" class="node">
<title>mcpgateway.schemas.TeamInviteRequest</title>
<polygon fill="white" stroke="#77aadd" points="155906,-3878 155906,-3962 156166,-3962 156166,-3878 155906,-3878"/>
<text text-anchor="start" x="155977.5" y="-3946.8" font-family="Arial" font-size="14.00">TeamInviteRequest</text>
<polyline fill="none" stroke="#77aadd" points="155906,-3939 156166,-3939 "/>
<text text-anchor="start" x="155914" y="-3923.8" font-family="Arial" font-size="14.00">email : Optional[EmailStr]</text>
<text text-anchor="start" x="155914" y="-3908.8" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;owner&#39;, &#39;member&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="155906,-3901 156166,-3901 "/>
<text text-anchor="start" x="156034" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamJoinRequest -->
<g id="node540" class="node">
<title>mcpgateway.schemas.TeamJoinRequest</title>
<polygon fill="white" stroke="#77aadd" points="156184.5,-3885.5 156184.5,-3954.5 156341.5,-3954.5 156341.5,-3885.5 156184.5,-3885.5"/>
<text text-anchor="start" x="156208.5" y="-3939.3" font-family="Arial" font-size="14.00">TeamJoinRequest</text>
<polyline fill="none" stroke="#77aadd" points="156184.5,-3931.5 156341.5,-3931.5 "/>
<text text-anchor="start" x="156192.5" y="-3916.3" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="156184.5,-3908.5 156341.5,-3908.5 "/>
<text text-anchor="start" x="156261" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamJoinRequestResponse -->
<g id="node541" class="node">
<title>mcpgateway.schemas.TeamJoinRequestResponse</title>
<polygon fill="white" stroke="#77aadd" points="156360,-3833 156360,-4007 156578,-4007 156578,-3833 156360,-3833"/>
<text text-anchor="start" x="156384" y="-3991.8" font-family="Arial" font-size="14.00">TeamJoinRequestResponse</text>
<polyline fill="none" stroke="#77aadd" points="156360,-3984 156578,-3984 "/>
<text text-anchor="start" x="156368" y="-3968.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="156368" y="-3953.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="156368" y="-3938.8" font-family="Arial" font-size="14.00">message : Optional[str]</text>
<text text-anchor="start" x="156368" y="-3923.8" font-family="Arial" font-size="14.00">requested_at : Optional[datetime]</text>
<text text-anchor="start" x="156368" y="-3908.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="156368" y="-3893.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="156368" y="-3878.8" font-family="Arial" font-size="14.00">team_name : Optional[str]</text>
<text text-anchor="start" x="156368" y="-3863.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="156360,-3856 156578,-3856 "/>
<text text-anchor="start" x="156467" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamListResponse -->
<g id="node542" class="node">
<title>mcpgateway.schemas.TeamListResponse</title>
<polygon fill="white" stroke="#77aadd" points="156596.5,-3878 156596.5,-3962 156843.5,-3962 156843.5,-3878 156596.5,-3878"/>
<text text-anchor="start" x="156662" y="-3946.8" font-family="Arial" font-size="14.00">TeamListResponse</text>
<polyline fill="none" stroke="#77aadd" points="156596.5,-3939 156843.5,-3939 "/>
<text text-anchor="start" x="156604.5" y="-3923.8" font-family="Arial" font-size="14.00">teams : Optional[List[TeamResponse]]</text>
<text text-anchor="start" x="156604.5" y="-3908.8" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="156596.5,-3901 156843.5,-3901 "/>
<text text-anchor="start" x="156718" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.team_management_service.TeamManagementService -->
<g id="node543" class="node">
<title>mcpgateway.services.team_management_service.TeamManagementService</title>
<polygon fill="white" stroke="#ffaabb" points="156861.5,-3683 156861.5,-4157 158496.5,-4157 158496.5,-3683 156861.5,-3683"/>
<text text-anchor="start" x="157599" y="-4141.8" font-family="Arial" font-size="14.00">TeamManagementService</text>
<polyline fill="none" stroke="#ffaabb" points="156861.5,-4134 158496.5,-4134 "/>
<text text-anchor="start" x="157671" y="-4118.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="156861.5,-4111 158496.5,-4111 "/>
<text text-anchor="start" x="156869.5" y="-4095.8" font-family="Arial" font-size="14.00">add_member_to_team(team_id: str, user_email: str, role: str, invited_by: Optional[str]): bool</text>
<text text-anchor="start" x="156869.5" y="-4080.8" font-family="Arial" font-size="14.00">approve_join_request(request_id: str, approved_by: str): Optional[EmailTeamMember]</text>
<text text-anchor="start" x="156869.5" y="-4065.8" font-family="Arial" font-size="14.00">cancel_join_request(request_id: str, user_email: str): bool</text>
<text text-anchor="start" x="156869.5" y="-4050.8" font-family="Arial" font-size="14.00">count_team_owners(team_id: str): int</text>
<text text-anchor="start" x="156869.5" y="-4035.8" font-family="Arial" font-size="14.00">create_join_request(team_id: str, user_email: str, message: Optional[str]): &#39;EmailTeamJoinRequest&#39;</text>
<text text-anchor="start" x="156869.5" y="-4020.8" font-family="Arial" font-size="14.00">create_team(name: str, description: Optional[str], created_by: str, visibility: Optional[str], max_members: Optional[int]): EmailTeam</text>
<text text-anchor="start" x="156869.5" y="-4005.8" font-family="Arial" font-size="14.00">delete_team(team_id: str, deleted_by: str): bool</text>
<text text-anchor="start" x="156869.5" y="-3990.8" font-family="Arial" font-size="14.00">discover_public_teams(user_email: str, skip: int, limit: Optional[int]): List[EmailTeam]</text>
<text text-anchor="start" x="156869.5" y="-3975.8" font-family="Arial" font-size="14.00">get_all_team_ids(include_inactive: bool, visibility_filter: Optional[str], include_personal: bool, search_query: Optional[str]): List[int]</text>
<text text-anchor="start" x="156869.5" y="-3960.8" font-family="Arial" font-size="14.00">get_member_counts_batch(team_ids: List[str]): Dict[str, int]</text>
<text text-anchor="start" x="156869.5" y="-3945.8" font-family="Arial" font-size="14.00">get_member_counts_batch_cached(team_ids: List[str]): Dict[str, int]</text>
<text text-anchor="start" x="156869.5" y="-3930.8" font-family="Arial" font-size="14.00">get_pending_join_requests_batch(user_email: str, team_ids: List[str]): Dict[str, Optional[Any]]</text>
<text text-anchor="start" x="156869.5" y="-3915.8" font-family="Arial" font-size="14.00">get_team_by_id(team_id: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="156869.5" y="-3900.8" font-family="Arial" font-size="14.00">get_team_by_slug(slug: str): Optional[EmailTeam]</text>
<text text-anchor="start" x="156869.5" y="-3885.8" font-family="Arial" font-size="14.00">get_team_members(team_id: str, cursor: Optional[str], limit: Optional[int], page: Optional[int], per_page: Optional[int]): Union[List[Tuple[EmailUser, EmailTeamMember]], Tuple[List[Tuple[EmailUser, EmailTeamMember]], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="156869.5" y="-3870.8" font-family="Arial" font-size="14.00">get_teams_count(include_inactive: bool, visibility_filter: Optional[str], include_personal: bool, search_query: Optional[str]): int</text>
<text text-anchor="start" x="156869.5" y="-3855.8" font-family="Arial" font-size="14.00">get_user_join_requests(user_email: str, team_id: Optional[str]): List[&#39;EmailTeamJoinRequest&#39;]</text>
<text text-anchor="start" x="156869.5" y="-3840.8" font-family="Arial" font-size="14.00">get_user_role_in_team(user_email: str, team_id: str): Optional[str]</text>
<text text-anchor="start" x="156869.5" y="-3825.8" font-family="Arial" font-size="14.00">get_user_roles_batch(user_email: str, team_ids: List[str]): Dict[str, Optional[str]]</text>
<text text-anchor="start" x="156869.5" y="-3810.8" font-family="Arial" font-size="14.00">get_user_teams(user_email: str, include_personal: bool): List[EmailTeam]</text>
<text text-anchor="start" x="156869.5" y="-3795.8" font-family="Arial" font-size="14.00">invalidate_team_member_count_cache(team_id: str): None</text>
<text text-anchor="start" x="156869.5" y="-3780.8" font-family="Arial" font-size="14.00">list_join_requests(team_id: str): List[&#39;EmailTeamJoinRequest&#39;]</text>
<text text-anchor="start" x="156869.5" y="-3765.8" font-family="Arial" font-size="14.00">list_teams(limit: int, offset: int, cursor: Optional[str], page: Optional[int], per_page: int, include_inactive: bool, visibility_filter: Optional[str], base_url: Optional[str], include_personal: bool, search_query: Optional[str]): Union[Tuple[List[EmailTeam], Optional[str]], Dict[str, Any]]</text>
<text text-anchor="start" x="156869.5" y="-3750.8" font-family="Arial" font-size="14.00">reject_join_request(request_id: str, rejected_by: str): bool</text>
<text text-anchor="start" x="156869.5" y="-3735.8" font-family="Arial" font-size="14.00">remove_member_from_team(team_id: str, user_email: str, removed_by: Optional[str]): bool</text>
<text text-anchor="start" x="156869.5" y="-3720.8" font-family="Arial" font-size="14.00">update_member_role(team_id: str, user_email: str, new_role: str, updated_by: Optional[str]): bool</text>
<text text-anchor="start" x="156869.5" y="-3705.8" font-family="Arial" font-size="14.00">update_team(team_id: str, name: Optional[str], description: Optional[str], visibility: Optional[str], max_members: Optional[int], updated_by: Optional[str]): bool</text>
<text text-anchor="start" x="156869.5" y="-3690.8" font-family="Arial" font-size="14.00">verify_team_for_user(user_email, team_id)</text>
</g>
<!-- mcpgateway.schemas.TeamMemberResponse -->
<g id="node544" class="node">
<title>mcpgateway.schemas.TeamMemberResponse</title>
<polygon fill="white" stroke="#77aadd" points="158515,-3840.5 158515,-3999.5 158709,-3999.5 158709,-3840.5 158515,-3840.5"/>
<text text-anchor="start" x="158539" y="-3984.3" font-family="Arial" font-size="14.00">TeamMemberResponse</text>
<polyline fill="none" stroke="#77aadd" points="158515,-3976.5 158709,-3976.5 "/>
<text text-anchor="start" x="158523" y="-3961.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="158523" y="-3946.3" font-family="Arial" font-size="14.00">invited_by : Optional[str]</text>
<text text-anchor="start" x="158523" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="158523" y="-3916.3" font-family="Arial" font-size="14.00">joined_at : Optional[datetime]</text>
<text text-anchor="start" x="158523" y="-3901.3" font-family="Arial" font-size="14.00">role : Optional[str]</text>
<text text-anchor="start" x="158523" y="-3886.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="158523" y="-3871.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="158515,-3863.5 158709,-3863.5 "/>
<text text-anchor="start" x="158610" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamMemberUpdateRequest -->
<g id="node545" class="node">
<title>mcpgateway.schemas.TeamMemberUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="158727,-3885.5 158727,-3954.5 158987,-3954.5 158987,-3885.5 158727,-3885.5"/>
<text text-anchor="start" x="158767.5" y="-3939.3" font-family="Arial" font-size="14.00">TeamMemberUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="158727,-3931.5 158987,-3931.5 "/>
<text text-anchor="start" x="158735" y="-3916.3" font-family="Arial" font-size="14.00">role : Optional[Literal[&#39;owner&#39;, &#39;member&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="158727,-3908.5 158987,-3908.5 "/>
<text text-anchor="start" x="158855" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamResponse -->
<g id="node546" class="node">
<title>mcpgateway.schemas.TeamResponse</title>
<polygon fill="white" stroke="#77aadd" points="159005,-3803 159005,-4037 159211,-4037 159211,-3803 159005,-3803"/>
<text text-anchor="start" x="159060.5" y="-4021.8" font-family="Arial" font-size="14.00">TeamResponse</text>
<polyline fill="none" stroke="#77aadd" points="159005,-4014 159211,-4014 "/>
<text text-anchor="start" x="159013" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="159013" y="-3983.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="159013" y="-3968.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="159013" y="-3953.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="159013" y="-3938.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="159013" y="-3923.8" font-family="Arial" font-size="14.00">is_personal : Optional[bool]</text>
<text text-anchor="start" x="159013" y="-3908.8" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="159013" y="-3893.8" font-family="Arial" font-size="14.00">member_count : Optional[int]</text>
<text text-anchor="start" x="159013" y="-3878.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="159013" y="-3863.8" font-family="Arial" font-size="14.00">slug : Optional[str]</text>
<text text-anchor="start" x="159013" y="-3848.8" font-family="Arial" font-size="14.00">updated_at : Optional[datetime]</text>
<text text-anchor="start" x="159013" y="-3833.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="159005,-3826 159211,-3826 "/>
<text text-anchor="start" x="159106" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TeamUpdateRequest -->
<g id="node547" class="node">
<title>mcpgateway.schemas.TeamUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="159229,-3855.5 159229,-3984.5 159543,-3984.5 159543,-3855.5 159229,-3855.5"/>
<text text-anchor="start" x="159322" y="-3969.3" font-family="Arial" font-size="14.00">TeamUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="159229,-3961.5 159543,-3961.5 "/>
<text text-anchor="start" x="159258" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="159258" y="-3931.3" font-family="Arial" font-size="14.00">max_members : Optional[int]</text>
<text text-anchor="start" x="159258" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="159258" y="-3901.3" font-family="Arial" font-size="14.00">visibility : Optional[Literal[&#39;private&#39;, &#39;public&#39;]]</text>
<polyline fill="none" stroke="#77aadd" points="159229,-3893.5 159543,-3893.5 "/>
<text text-anchor="start" x="159237" y="-3878.3" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="159237" y="-3863.3" font-family="Arial" font-size="14.00">validate_name(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.common.models.TextContent -->
<g id="node548" class="node">
<title>mcpgateway.common.models.TextContent</title>
<polygon fill="white" stroke="#44bb99" points="159561.5,-3863 159561.5,-3977 159788.5,-3977 159788.5,-3863 159561.5,-3863"/>
<text text-anchor="start" x="159638.5" y="-3961.8" font-family="Arial" font-size="14.00">TextContent</text>
<polyline fill="none" stroke="#44bb99" points="159561.5,-3954 159788.5,-3954 "/>
<text text-anchor="start" x="159569.5" y="-3938.8" font-family="Arial" font-size="14.00">annotations : Optional[Annotations]</text>
<text text-anchor="start" x="159569.5" y="-3923.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="159569.5" y="-3908.8" font-family="Arial" font-size="14.00">text : str</text>
<text text-anchor="start" x="159569.5" y="-3893.8" font-family="Arial" font-size="14.00">type : Literal[&#39;text&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="159561.5,-3886 159788.5,-3886 "/>
<text text-anchor="start" x="159673" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TextResourceContents -->
<g id="node549" class="node">
<title>mcpgateway.common.models.TextResourceContents</title>
<polygon fill="white" stroke="#44bb99" points="33309.5,-3885.5 33309.5,-3954.5 33462.5,-3954.5 33462.5,-3885.5 33309.5,-3885.5"/>
<text text-anchor="start" x="33317.5" y="-3939.3" font-family="Arial" font-size="14.00">TextResourceContents</text>
<polyline fill="none" stroke="#44bb99" points="33309.5,-3931.5 33462.5,-3931.5 "/>
<text text-anchor="start" x="33361.5" y="-3916.3" font-family="Arial" font-size="14.00">text : str</text>
<polyline fill="none" stroke="#44bb99" points="33309.5,-3908.5 33462.5,-3908.5 "/>
<text text-anchor="start" x="33384" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TextResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents -->
<g id="edge9" class="edge">
<title>mcpgateway.common.models.TextResourceContents&#45;&gt;mcpgateway.common.models.ResourceContents</title>
<path fill="none" stroke="gray" d="M33385.74,-3954.86C33383.48,-4238.24 33365.94,-6245 33310,-7873 33308.34,-7921.26 33305.58,-7975.97 33303.38,-8016.26"/>
<polygon fill="none" stroke="gray" points="33299.87,-8016.27 33302.82,-8026.45 33306.86,-8016.65 33299.87,-8016.27"/>
</g>
<!-- mcpgateway.services.token_catalog_service.TokenCatalogService -->
<g id="node550" class="node">
<title>mcpgateway.services.token_catalog_service.TokenCatalogService</title>
<polygon fill="white" stroke="#ffaabb" points="159807,-3803 159807,-4037 161345,-4037 161345,-3803 159807,-3803"/>
<text text-anchor="start" x="160512" y="-4021.8" font-family="Arial" font-size="14.00">TokenCatalogService</text>
<polyline fill="none" stroke="#ffaabb" points="159807,-4014 161345,-4014 "/>
<text text-anchor="start" x="160568" y="-3998.8" font-family="Arial" font-size="14.00">db</text>
<polyline fill="none" stroke="#ffaabb" points="159807,-3991 161345,-3991 "/>
<text text-anchor="start" x="159815" y="-3975.8" font-family="Arial" font-size="14.00">admin_revoke_token(token_id: str, revoked_by: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="159815" y="-3960.8" font-family="Arial" font-size="14.00">cleanup_expired_tokens(): int</text>
<text text-anchor="start" x="159815" y="-3945.8" font-family="Arial" font-size="14.00">create_token(user_email: str, name: str, description: Optional[str], scope: Optional[TokenScope], expires_in_days: Optional[int], tags: Optional[List[str]], team_id: Optional[str], caller_permissions: Optional[List[str]], is_active: bool): tuple[EmailApiToken, str]</text>
<text text-anchor="start" x="159815" y="-3930.8" font-family="Arial" font-size="14.00">get_token(token_id: str, user_email: Optional[str]): Optional[EmailApiToken]</text>
<text text-anchor="start" x="159815" y="-3915.8" font-family="Arial" font-size="14.00">get_token_revocation(jti: str): Optional[TokenRevocation]</text>
<text text-anchor="start" x="159815" y="-3900.8" font-family="Arial" font-size="14.00">get_token_usage_stats(user_email: str, token_id: Optional[str], days: int): dict</text>
<text text-anchor="start" x="159815" y="-3885.8" font-family="Arial" font-size="14.00">is_token_revoked(jti: str): bool</text>
<text text-anchor="start" x="159815" y="-3870.8" font-family="Arial" font-size="14.00">list_team_tokens(team_id: str, user_email: str, include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="159815" y="-3855.8" font-family="Arial" font-size="14.00">list_user_tokens(user_email: str, include_inactive: bool, limit: int, offset: int): List[EmailApiToken]</text>
<text text-anchor="start" x="159815" y="-3840.8" font-family="Arial" font-size="14.00">log_token_usage(jti: str, user_email: str, endpoint: Optional[str], method: Optional[str], ip_address: Optional[str], user_agent: Optional[str], status_code: Optional[int], response_time_ms: Optional[int], blocked: bool, block_reason: Optional[str]): None</text>
<text text-anchor="start" x="159815" y="-3825.8" font-family="Arial" font-size="14.00">revoke_token(token_id: str, user_email: str, revoked_by: str, reason: Optional[str]): bool</text>
<text text-anchor="start" x="159815" y="-3810.8" font-family="Arial" font-size="14.00">update_token(token_id: str, user_email: str, name: Optional[str], description: Optional[str], scope: Optional[TokenScope], tags: Optional[List[str]], caller_permissions: Optional[List[str]], is_active: Optional[bool]): Optional[EmailApiToken]</text>
</g>
<!-- mcpgateway.schemas.TokenCreateRequest -->
<g id="node551" class="node">
<title>mcpgateway.schemas.TokenCreateRequest</title>
<polygon fill="white" stroke="#77aadd" points="161363.5,-3840.5 161363.5,-3999.5 161610.5,-3999.5 161610.5,-3840.5 161363.5,-3840.5"/>
<text text-anchor="start" x="161423.5" y="-3984.3" font-family="Arial" font-size="14.00">TokenCreateRequest</text>
<polyline fill="none" stroke="#77aadd" points="161363.5,-3976.5 161610.5,-3976.5 "/>
<text text-anchor="start" x="161371.5" y="-3961.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="161371.5" y="-3946.3" font-family="Arial" font-size="14.00">expires_in_days : Optional[int]</text>
<text text-anchor="start" x="161371.5" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="161371.5" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="161371.5" y="-3901.3" font-family="Arial" font-size="14.00">scope : Optional[TokenScopeRequest]</text>
<text text-anchor="start" x="161371.5" y="-3886.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="161371.5" y="-3871.3" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="161363.5,-3863.5 161610.5,-3863.5 "/>
<text text-anchor="start" x="161485" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenCreateResponse -->
<g id="node552" class="node">
<title>mcpgateway.schemas.TokenCreateResponse</title>
<polygon fill="white" stroke="#77aadd" points="161629,-3878 161629,-3962 161845,-3962 161845,-3878 161629,-3878"/>
<text text-anchor="start" x="161668" y="-3946.8" font-family="Arial" font-size="14.00">TokenCreateResponse</text>
<polyline fill="none" stroke="#77aadd" points="161629,-3939 161845,-3939 "/>
<text text-anchor="start" x="161637" y="-3923.8" font-family="Arial" font-size="14.00">access_token : Optional[str]</text>
<text text-anchor="start" x="161637" y="-3908.8" font-family="Arial" font-size="14.00">token : Optional[TokenResponse]</text>
<polyline fill="none" stroke="#77aadd" points="161629,-3901 161845,-3901 "/>
<text text-anchor="start" x="161735" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenListResponse -->
<g id="node553" class="node">
<title>mcpgateway.schemas.TokenListResponse</title>
<polygon fill="white" stroke="#77aadd" points="161863.5,-3863 161863.5,-3977 162114.5,-3977 162114.5,-3863 161863.5,-3863"/>
<text text-anchor="start" x="161930" y="-3961.8" font-family="Arial" font-size="14.00">TokenListResponse</text>
<polyline fill="none" stroke="#77aadd" points="161863.5,-3954 162114.5,-3954 "/>
<text text-anchor="start" x="161871.5" y="-3938.8" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="161871.5" y="-3923.8" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="161871.5" y="-3908.8" font-family="Arial" font-size="14.00">tokens : Optional[List[TokenResponse]]</text>
<text text-anchor="start" x="161871.5" y="-3893.8" font-family="Arial" font-size="14.00">total : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="161863.5,-3886 162114.5,-3886 "/>
<text text-anchor="start" x="161987" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenResponse -->
<g id="node554" class="node">
<title>mcpgateway.schemas.TokenResponse</title>
<polygon fill="white" stroke="#77aadd" points="162133,-3743 162133,-4097 162393,-4097 162393,-3743 162133,-3743"/>
<text text-anchor="start" x="162214.5" y="-4081.8" font-family="Arial" font-size="14.00">TokenResponse</text>
<polyline fill="none" stroke="#77aadd" points="162133,-4074 162393,-4074 "/>
<text text-anchor="start" x="162141" y="-4058.8" font-family="Arial" font-size="14.00">created_at : Optional[datetime]</text>
<text text-anchor="start" x="162141" y="-4043.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="162141" y="-4028.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="162141" y="-4013.8" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3998.8" font-family="Arial" font-size="14.00">ip_restrictions : Optional[List[str]]</text>
<text text-anchor="start" x="162141" y="-3983.8" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="162141" y="-3968.8" font-family="Arial" font-size="14.00">is_revoked : Optional[bool]</text>
<text text-anchor="start" x="162141" y="-3953.8" font-family="Arial" font-size="14.00">last_used : Optional[datetime]</text>
<text text-anchor="start" x="162141" y="-3938.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="162141" y="-3923.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3908.8" font-family="Arial" font-size="14.00">resource_scopes : Optional[List[str]]</text>
<text text-anchor="start" x="162141" y="-3893.8" font-family="Arial" font-size="14.00">revocation_reason : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3878.8" font-family="Arial" font-size="14.00">revoked_at : Optional[datetime]</text>
<text text-anchor="start" x="162141" y="-3863.8" font-family="Arial" font-size="14.00">revoked_by : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3848.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3833.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="162141" y="-3818.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="162141" y="-3803.8" font-family="Arial" font-size="14.00">time_restrictions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="162141" y="-3788.8" font-family="Arial" font-size="14.00">usage_limits : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="162141" y="-3773.8" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="162133,-3766 162393,-3766 "/>
<text text-anchor="start" x="162261" y="-3750.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenRevocation -->
<g id="node555" class="node">
<title>mcpgateway.db.TokenRevocation</title>
<polygon fill="white" stroke="#77aadd" points="15308,-3855.5 15308,-3984.5 15512,-3984.5 15512,-3855.5 15308,-3855.5"/>
<text text-anchor="start" x="15358" y="-3969.3" font-family="Arial" font-size="14.00">TokenRevocation</text>
<polyline fill="none" stroke="#77aadd" points="15308,-3961.5 15512,-3961.5 "/>
<text text-anchor="start" x="15316" y="-3946.3" font-family="Arial" font-size="14.00">jti : Mapped[str]</text>
<text text-anchor="start" x="15316" y="-3931.3" font-family="Arial" font-size="14.00">reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15316" y="-3916.3" font-family="Arial" font-size="14.00">revoked_at : Mapped[datetime]</text>
<text text-anchor="start" x="15316" y="-3901.3" font-family="Arial" font-size="14.00">revoked_by : Mapped[str]</text>
<text text-anchor="start" x="15316" y="-3886.3" font-family="Arial" font-size="14.00">revoker : Mapped[&#39;EmailUser&#39;]</text>
<polyline fill="none" stroke="#77aadd" points="15308,-3878.5 15512,-3878.5 "/>
<text text-anchor="start" x="15408" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenRevocation&#45;&gt;mcpgateway.db.Base -->
<g id="edge58" class="edge">
<title>mcpgateway.db.TokenRevocation&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15413.19,-3984.83C15436.71,-4468.78 15575.01,-7548.73 15299,-7840 15084.45,-8066.42 10053.15,-8074.96 9346.23,-8075.04"/>
<polygon fill="none" stroke="gray" points="9346.14,-8071.54 9336.14,-8075.04 9346.14,-8078.54 9346.14,-8071.54"/>
</g>
<!-- mcpgateway.schemas.TokenRevokeRequest -->
<g id="node556" class="node">
<title>mcpgateway.schemas.TokenRevokeRequest</title>
<polygon fill="white" stroke="#77aadd" points="162411.5,-3885.5 162411.5,-3954.5 162560.5,-3954.5 162560.5,-3885.5 162411.5,-3885.5"/>
<text text-anchor="start" x="162419.5" y="-3939.3" font-family="Arial" font-size="14.00">TokenRevokeRequest</text>
<polyline fill="none" stroke="#77aadd" points="162411.5,-3931.5 162560.5,-3931.5 "/>
<text text-anchor="start" x="162422.5" y="-3916.3" font-family="Arial" font-size="14.00">reason : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="162411.5,-3908.5 162560.5,-3908.5 "/>
<text text-anchor="start" x="162484" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.token_catalog_service.TokenScope -->
<g id="node557" class="node">
<title>mcpgateway.services.token_catalog_service.TokenScope</title>
<polygon fill="white" stroke="#ffaabb" points="162578,-3833 162578,-4007 162820,-4007 162820,-3833 162578,-3833"/>
<text text-anchor="start" x="162661.5" y="-3991.8" font-family="Arial" font-size="14.00">TokenScope</text>
<polyline fill="none" stroke="#ffaabb" points="162578,-3984 162820,-3984 "/>
<text text-anchor="start" x="162628.5" y="-3968.8" font-family="Arial" font-size="14.00">ip_restrictions : list</text>
<text text-anchor="start" x="162628.5" y="-3953.8" font-family="Arial" font-size="14.00">permissions : list</text>
<text text-anchor="start" x="162628.5" y="-3938.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="162628.5" y="-3923.8" font-family="Arial" font-size="14.00">time_restrictions : dict</text>
<text text-anchor="start" x="162628.5" y="-3908.8" font-family="Arial" font-size="14.00">usage_limits : dict</text>
<polyline fill="none" stroke="#ffaabb" points="162578,-3901 162820,-3901 "/>
<text text-anchor="start" x="162586" y="-3885.8" font-family="Arial" font-size="14.00">from_dict(data: dict): &#39;TokenScope&#39;</text>
<text text-anchor="start" x="162586" y="-3870.8" font-family="Arial" font-size="14.00">has_permission(permission: str): bool</text>
<text text-anchor="start" x="162586" y="-3855.8" font-family="Arial" font-size="14.00">is_server_scoped(): bool</text>
<text text-anchor="start" x="162586" y="-3840.8" font-family="Arial" font-size="14.00">to_dict(): dict</text>
</g>
<!-- mcpgateway.schemas.TokenScopeRequest -->
<g id="node558" class="node">
<title>mcpgateway.schemas.TokenScopeRequest</title>
<polygon fill="white" stroke="#77aadd" points="162838,-3848 162838,-3992 163110,-3992 163110,-3848 162838,-3848"/>
<text text-anchor="start" x="162911.5" y="-3976.8" font-family="Arial" font-size="14.00">TokenScopeRequest</text>
<polyline fill="none" stroke="#77aadd" points="162838,-3969 163110,-3969 "/>
<text text-anchor="start" x="162852" y="-3953.8" font-family="Arial" font-size="14.00">ip_restrictions : Optional[List[str]]</text>
<text text-anchor="start" x="162852" y="-3938.8" font-family="Arial" font-size="14.00">permissions : Optional[List[str]]</text>
<text text-anchor="start" x="162852" y="-3923.8" font-family="Arial" font-size="14.00">server_id : Optional[str]</text>
<text text-anchor="start" x="162852" y="-3908.8" font-family="Arial" font-size="14.00">time_restrictions : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="162852" y="-3893.8" font-family="Arial" font-size="14.00">usage_limits : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="162838,-3886 163110,-3886 "/>
<text text-anchor="start" x="162846" y="-3870.8" font-family="Arial" font-size="14.00">validate_ip_restrictions(v: List[str]): List[str]</text>
<text text-anchor="start" x="162846" y="-3855.8" font-family="Arial" font-size="14.00">validate_permissions(v: List[str]): List[str]</text>
</g>
<!-- mcpgateway.middleware.token_scoping.TokenScopingMiddleware -->
<g id="node559" class="node">
<title>mcpgateway.middleware.token_scoping.TokenScopingMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="163128.5,-3884.6 163128.5,-3955.4 163299.5,-3955.4 163299.5,-3884.6 163128.5,-3884.6"/>
<text text-anchor="start" x="163136.5" y="-3940.2" font-family="Arial" font-size="14.00">TokenScopingMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="163128.5,-3932.4 163299.5,-3932.4 "/>
<polyline fill="none" stroke="#eedd88" points="163128.5,-3907.6 163299.5,-3907.6 "/>
<text text-anchor="start" x="163212" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TokenUpdateRequest -->
<g id="node561" class="node">
<title>mcpgateway.schemas.TokenUpdateRequest</title>
<polygon fill="white" stroke="#77aadd" points="163317.5,-3855.5 163317.5,-3984.5 163564.5,-3984.5 163564.5,-3855.5 163317.5,-3855.5"/>
<text text-anchor="start" x="163376" y="-3969.3" font-family="Arial" font-size="14.00">TokenUpdateRequest</text>
<polyline fill="none" stroke="#77aadd" points="163317.5,-3961.5 163564.5,-3961.5 "/>
<text text-anchor="start" x="163325.5" y="-3946.3" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="163325.5" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="163325.5" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="163325.5" y="-3901.3" font-family="Arial" font-size="14.00">scope : Optional[TokenScopeRequest]</text>
<text text-anchor="start" x="163325.5" y="-3886.3" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<polyline fill="none" stroke="#77aadd" points="163317.5,-3878.5 163564.5,-3878.5 "/>
<text text-anchor="start" x="163439" y="-3863.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenUsageLog -->
<g id="node562" class="node">
<title>mcpgateway.db.TokenUsageLog</title>
<polygon fill="white" stroke="#77aadd" points="15530.5,-3803 15530.5,-4037 15803.5,-4037 15803.5,-3803 15530.5,-3803"/>
<text text-anchor="start" x="15618" y="-4021.8" font-family="Arial" font-size="14.00">TokenUsageLog</text>
<polyline fill="none" stroke="#77aadd" points="15530.5,-4014 15803.5,-4014 "/>
<text text-anchor="start" x="15538.5" y="-3998.8" font-family="Arial" font-size="14.00">block_reason : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-3983.8" font-family="Arial" font-size="14.00">blocked : Mapped[bool]</text>
<text text-anchor="start" x="15538.5" y="-3968.8" font-family="Arial" font-size="14.00">endpoint : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="15538.5" y="-3938.8" font-family="Arial" font-size="14.00">ip_address : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-3923.8" font-family="Arial" font-size="14.00">method : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-3908.8" font-family="Arial" font-size="14.00">response_time_ms : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15538.5" y="-3893.8" font-family="Arial" font-size="14.00">status_code : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15538.5" y="-3878.8" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="15538.5" y="-3863.8" font-family="Arial" font-size="14.00">token_jti : Mapped[str]</text>
<text text-anchor="start" x="15538.5" y="-3848.8" font-family="Arial" font-size="14.00">user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15538.5" y="-3833.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="15530.5,-3826 15803.5,-3826 "/>
<text text-anchor="start" x="15665" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.TokenUsageLog&#45;&gt;mcpgateway.db.Base -->
<g id="edge59" class="edge">
<title>mcpgateway.db.TokenUsageLog&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M15671.4,-4037.02C15693.73,-4656.11 15783.58,-7553.08 15521,-7840 15302.37,-8078.9 10067.82,-8076.66 9346.2,-8075.21"/>
<polygon fill="none" stroke="gray" points="9346.16,-8071.71 9336.16,-8075.19 9346.15,-8078.71 9346.16,-8071.71"/>
</g>
<!-- mcpgateway.schemas.TokenUsageStatsResponse -->
<g id="node563" class="node">
<title>mcpgateway.schemas.TokenUsageStatsResponse</title>
<polygon fill="white" stroke="#77aadd" points="163583,-3840.5 163583,-3999.5 163867,-3999.5 163867,-3840.5 163583,-3840.5"/>
<text text-anchor="start" x="163641.5" y="-3984.3" font-family="Arial" font-size="14.00">TokenUsageStatsResponse</text>
<polyline fill="none" stroke="#77aadd" points="163583,-3976.5 163867,-3976.5 "/>
<text text-anchor="start" x="163591" y="-3961.3" font-family="Arial" font-size="14.00">average_response_time_ms : Optional[float]</text>
<text text-anchor="start" x="163591" y="-3946.3" font-family="Arial" font-size="14.00">blocked_requests : Optional[int]</text>
<text text-anchor="start" x="163591" y="-3931.3" font-family="Arial" font-size="14.00">period_days : Optional[int]</text>
<text text-anchor="start" x="163591" y="-3916.3" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<text text-anchor="start" x="163591" y="-3901.3" font-family="Arial" font-size="14.00">successful_requests : Optional[int]</text>
<text text-anchor="start" x="163591" y="-3886.3" font-family="Arial" font-size="14.00">top_endpoints : Optional[List[tuple[str, int]]]</text>
<text text-anchor="start" x="163591" y="-3871.3" font-family="Arial" font-size="14.00">total_requests : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="163583,-3863.5 163867,-3863.5 "/>
<text text-anchor="start" x="163723" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.Tool -->
<g id="node564" class="node">
<title>mcpgateway.db.Tool</title>
<polygon fill="white" stroke="#77aadd" points="15822,-3443 15822,-4397 16142,-4397 16142,-3443 15822,-3443"/>
<text text-anchor="start" x="15969.5" y="-4381.8" font-family="Arial" font-size="14.00">Tool</text>
<polyline fill="none" stroke="#77aadd" points="15822,-4374 16142,-4374 "/>
<text text-anchor="start" x="15830" y="-4358.8" font-family="Arial" font-size="14.00">allowlist : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-4343.8" font-family="Arial" font-size="14.00">annotations : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-4328.8" font-family="Arial" font-size="14.00">auth_type : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4313.8" font-family="Arial" font-size="14.00">auth_value : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4298.8" font-family="Arial" font-size="14.00">avg_response_time</text>
<text text-anchor="start" x="15830" y="-4283.8" font-family="Arial" font-size="14.00">base_url : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4268.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="15830" y="-4253.8" font-family="Arial" font-size="14.00">created_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4238.8" font-family="Arial" font-size="14.00">created_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4223.8" font-family="Arial" font-size="14.00">created_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4208.8" font-family="Arial" font-size="14.00">created_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4193.8" font-family="Arial" font-size="14.00">custom_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4178.8" font-family="Arial" font-size="14.00">custom_name_slug : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4163.8" font-family="Arial" font-size="14.00">description : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4148.8" font-family="Arial" font-size="14.00">display_name : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4133.8" font-family="Arial" font-size="14.00">email_team : Mapped[Optional[&#39;EmailTeam&#39;]]</text>
<text text-anchor="start" x="15830" y="-4118.8" font-family="Arial" font-size="14.00">enabled : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-4103.8" font-family="Arial" font-size="14.00">expose_passthrough : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-4088.8" font-family="Arial" font-size="14.00">failed_executions</text>
<text text-anchor="start" x="15830" y="-4073.8" font-family="Arial" font-size="14.00">failure_rate</text>
<text text-anchor="start" x="15830" y="-4058.8" font-family="Arial" font-size="14.00">federation_source : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4043.8" font-family="Arial" font-size="14.00">gateway : Mapped[&#39;Gateway&#39;]</text>
<text text-anchor="start" x="15830" y="-4028.8" font-family="Arial" font-size="14.00">gateway_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-4013.8" font-family="Arial" font-size="14.00">header_mapping : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-3998.8" font-family="Arial" font-size="14.00">headers : Mapped[Optional[Dict[str, str]]]</text>
<text text-anchor="start" x="15830" y="-3983.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3968.8" font-family="Arial" font-size="14.00">import_batch_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3953.8" font-family="Arial" font-size="14.00">input_schema : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="15830" y="-3938.8" font-family="Arial" font-size="14.00">integration_type : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3923.8" font-family="Arial" font-size="14.00">jsonpath_filter : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3908.8" font-family="Arial" font-size="14.00">last_execution_time</text>
<text text-anchor="start" x="15830" y="-3893.8" font-family="Arial" font-size="14.00">max_response_time</text>
<text text-anchor="start" x="15830" y="-3878.8" font-family="Arial" font-size="14.00">metrics : Mapped[List[&#39;ToolMetric&#39;]]</text>
<text text-anchor="start" x="15830" y="-3863.8" font-family="Arial" font-size="14.00">metrics_summary</text>
<text text-anchor="start" x="15830" y="-3848.8" font-family="Arial" font-size="14.00">min_response_time</text>
<text text-anchor="start" x="15830" y="-3833.8" font-family="Arial" font-size="14.00">modified_by : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3818.8" font-family="Arial" font-size="14.00">modified_from_ip : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3803.8" font-family="Arial" font-size="14.00">modified_user_agent : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3788.8" font-family="Arial" font-size="14.00">modified_via : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3773.8" font-family="Arial" font-size="14.00">original_name : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3758.8" font-family="Arial" font-size="14.00">output_schema : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-3743.8" font-family="Arial" font-size="14.00">owner_email : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3728.8" font-family="Arial" font-size="14.00">path_template : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3713.8" font-family="Arial" font-size="14.00">plugin_chain_post : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-3698.8" font-family="Arial" font-size="14.00">plugin_chain_pre : Mapped[Optional[List[str]]]</text>
<text text-anchor="start" x="15830" y="-3683.8" font-family="Arial" font-size="14.00">query_mapping : Mapped[Optional[Dict[str, Any]]]</text>
<text text-anchor="start" x="15830" y="-3668.8" font-family="Arial" font-size="14.00">reachable : Mapped[bool]</text>
<text text-anchor="start" x="15830" y="-3653.8" font-family="Arial" font-size="14.00">request_type : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3638.8" font-family="Arial" font-size="14.00">servers : Mapped[List[&#39;Server&#39;]]</text>
<text text-anchor="start" x="15830" y="-3623.8" font-family="Arial" font-size="14.00">successful_executions</text>
<text text-anchor="start" x="15830" y="-3608.8" font-family="Arial" font-size="14.00">tags : Mapped[List[str]]</text>
<text text-anchor="start" x="15830" y="-3593.8" font-family="Arial" font-size="14.00">team</text>
<text text-anchor="start" x="15830" y="-3578.8" font-family="Arial" font-size="14.00">team_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="15830" y="-3563.8" font-family="Arial" font-size="14.00">timeout_ms : Mapped[Optional[int]]</text>
<text text-anchor="start" x="15830" y="-3548.8" font-family="Arial" font-size="14.00">updated_at : Mapped[datetime]</text>
<text text-anchor="start" x="15830" y="-3533.8" font-family="Arial" font-size="14.00">url : Mapped[str]</text>
<text text-anchor="start" x="15830" y="-3518.8" font-family="Arial" font-size="14.00">version : Mapped[int]</text>
<text text-anchor="start" x="15830" y="-3503.8" font-family="Arial" font-size="14.00">visibility : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="15822,-3496 16142,-3496 "/>
<text text-anchor="start" x="15895.5" y="-3480.8" font-family="Arial" font-size="14.00">execution_count(): int</text>
<text text-anchor="start" x="15895.5" y="-3465.8" font-family="Arial" font-size="14.00">gateway_slug(): Optional[str]</text>
<text text-anchor="start" x="15895.5" y="-3450.8" font-family="Arial" font-size="14.00">name(): str</text>
</g>
<!-- mcpgateway.db.Tool&#45;&gt;mcpgateway.db.Base -->
<g id="edge60" class="edge">
<title>mcpgateway.db.Tool&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16035.05,-4397.18C16127.76,-5331.7 16268.77,-7357.05 15812,-7840 15578.75,-8086.63 10086.14,-8077.64 9346.18,-8075.3"/>
<polygon fill="none" stroke="gray" points="9346.16,-8071.8 9336.15,-8075.27 9346.14,-8078.8 9346.16,-8071.8"/>
</g>
<!-- mcpgateway.common.models.Tool&#45;&gt;mcpgateway.common.models.CommonAttributes -->
<g id="edge10" class="edge">
<title>mcpgateway.common.models.Tool&#45;&gt;mcpgateway.common.models.CommonAttributes</title>
<path fill="none" stroke="gray" d="M43361.21,-8223.09C43345.23,-8253.51 43328.08,-8286.12 43311.18,-8318.28"/>
<polygon fill="none" stroke="gray" points="43307.98,-8316.85 43306.42,-8327.33 43314.17,-8320.11 43307.98,-8316.85"/>
</g>
<!-- mcpgateway.common.models.Tool&#45;&gt;mcpgateway.schemas.FederatedTool -->
<g id="edge140" class="edge">
<title>mcpgateway.common.models.Tool&#45;&gt;mcpgateway.schemas.FederatedTool</title>
<path fill="none" stroke="gray" d="M43438,-8223.09C43438,-8301.88 43438,-8395.41 43438,-8457.48"/>
<polygon fill="gray" stroke="gray" points="43438,-8457.85 43442,-8463.85 43438,-8469.85 43434,-8463.85 43438,-8457.85"/>
<text text-anchor="middle" x="43449" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">tool</text>
</g>
<!-- mcpgateway.common.models.ToolAnnotations -->
<g id="node566" class="node">
<title>mcpgateway.common.models.ToolAnnotations</title>
<polygon fill="white" stroke="#44bb99" points="163885.5,-3848 163885.5,-3992 164096.5,-3992 164096.5,-3848 163885.5,-3848"/>
<text text-anchor="start" x="163942.5" y="-3976.8" font-family="Arial" font-size="14.00">ToolAnnotations</text>
<polyline fill="none" stroke="#44bb99" points="163885.5,-3969 164096.5,-3969 "/>
<text text-anchor="start" x="163893.5" y="-3953.8" font-family="Arial" font-size="14.00">destructive_hint : Optional[bool]</text>
<text text-anchor="start" x="163893.5" y="-3938.8" font-family="Arial" font-size="14.00">idempotent_hint : Optional[bool]</text>
<text text-anchor="start" x="163893.5" y="-3923.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="163893.5" y="-3908.8" font-family="Arial" font-size="14.00">open_world_hint : Optional[bool]</text>
<text text-anchor="start" x="163893.5" y="-3893.8" font-family="Arial" font-size="14.00">read_only_hint : Optional[bool]</text>
<text text-anchor="start" x="163893.5" y="-3878.8" font-family="Arial" font-size="14.00">title : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="163885.5,-3871 164096.5,-3871 "/>
<text text-anchor="start" x="163989" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolCreate -->
<g id="node567" class="node">
<title>mcpgateway.schemas.ToolCreate</title>
<polygon fill="white" stroke="#77aadd" points="164114.5,-3563 164114.5,-4277 164809.5,-4277 164809.5,-3563 164114.5,-3563"/>
<text text-anchor="start" x="164429" y="-4261.8" font-family="Arial" font-size="14.00">ToolCreate</text>
<polyline fill="none" stroke="#77aadd" points="164114.5,-4254 164809.5,-4254 "/>
<text text-anchor="start" x="164122.5" y="-4238.8" font-family="Arial" font-size="14.00">allow_auto : bool</text>
<text text-anchor="start" x="164122.5" y="-4223.8" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="164122.5" y="-4208.8" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="164122.5" y="-4193.8" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="164122.5" y="-4178.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-4163.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-4148.8" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-4133.8" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="164122.5" y="-4118.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-4103.8" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="164122.5" y="-4088.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="164122.5" y="-4073.8" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="164122.5" y="-4058.8" font-family="Arial" font-size="14.00">integration_type : Optional[Literal[&#39;REST&#39;, &#39;MCP&#39;, &#39;A2A&#39;]]</text>
<text text-anchor="start" x="164122.5" y="-4043.8" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-4028.8" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="164122.5" y="-4013.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-3998.8" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="164122.5" y="-3983.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-3968.8" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-3953.8" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="164122.5" y="-3938.8" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="164122.5" y="-3923.8" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="164122.5" y="-3908.8" font-family="Arial" font-size="14.00">request_type : Optional[Literal[&#39;GET&#39;, &#39;POST&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, &#39;PATCH&#39;, &#39;SSE&#39;, &#39;STDIO&#39;, &#39;STREAMABLEHTTP&#39;]]</text>
<text text-anchor="start" x="164122.5" y="-3893.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="164122.5" y="-3878.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="164122.5" y="-3863.8" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="164122.5" y="-3848.8" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="164122.5" y="-3833.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="164114.5,-3826 164809.5,-3826 "/>
<text text-anchor="start" x="164245.5" y="-3810.8" font-family="Arial" font-size="14.00">assemble_auth(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="164245.5" y="-3795.8" font-family="Arial" font-size="14.00">enforce_passthrough_fields_for_rest(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="164245.5" y="-3780.8" font-family="Arial" font-size="14.00">extract_base_url_and_path_template(values: dict): dict</text>
<text text-anchor="start" x="164245.5" y="-3765.8" font-family="Arial" font-size="14.00">handle_timeout_ms_defaults()</text>
<text text-anchor="start" x="164245.5" y="-3750.8" font-family="Arial" font-size="14.00">prevent_manual_mcp_creation(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="164245.5" y="-3735.8" font-family="Arial" font-size="14.00">validate_allowlist(v)</text>
<text text-anchor="start" x="164245.5" y="-3720.8" font-family="Arial" font-size="14.00">validate_base_url(v)</text>
<text text-anchor="start" x="164245.5" y="-3705.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="164245.5" y="-3690.8" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="164245.5" y="-3675.8" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="164245.5" y="-3660.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="164245.5" y="-3645.8" font-family="Arial" font-size="14.00">validate_path_template(v)</text>
<text text-anchor="start" x="164245.5" y="-3630.8" font-family="Arial" font-size="14.00">validate_plugin_chain(v)</text>
<text text-anchor="start" x="164245.5" y="-3615.8" font-family="Arial" font-size="14.00">validate_request_type(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="164245.5" y="-3600.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="164245.5" y="-3585.8" font-family="Arial" font-size="14.00">validate_timeout_ms(v)</text>
<text text-anchor="start" x="164245.5" y="-3570.8" font-family="Arial" font-size="14.00">validate_url(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.services.tool_service.ToolError -->
<g id="node569" class="node">
<title>mcpgateway.services.tool_service.ToolError</title>
<polygon fill="white" stroke="#ffaabb" points="165182.5,-8040.6 165182.5,-8111.4 165253.5,-8111.4 165253.5,-8040.6 165182.5,-8040.6"/>
<text text-anchor="start" x="165190.5" y="-8096.2" font-family="Arial" font-size="14.00" fill="red">ToolError</text>
<polyline fill="none" stroke="#ffaabb" points="165182.5,-8088.4 165253.5,-8088.4 "/>
<polyline fill="none" stroke="#ffaabb" points="165182.5,-8063.6 165253.5,-8063.6 "/>
<text text-anchor="start" x="165216" y="-8048.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolHookType -->
<g id="node570" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolHookType</title>
<polygon fill="white" stroke="#ee8866" points="165610,-3885.5 165610,-3954.5 165712,-3954.5 165712,-3885.5 165610,-3885.5"/>
<text text-anchor="start" x="165618" y="-3939.3" font-family="Arial" font-size="14.00">ToolHookType</text>
<polyline fill="none" stroke="#ee8866" points="165610,-3931.5 165712,-3931.5 "/>
<text text-anchor="start" x="165643.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ee8866" points="165610,-3908.5 165712,-3908.5 "/>
<text text-anchor="start" x="165659" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolInvocation -->
<g id="node571" class="node">
<title>mcpgateway.schemas.ToolInvocation</title>
<polygon fill="white" stroke="#77aadd" points="165730,-3870.5 165730,-3969.5 166046,-3969.5 166046,-3870.5 165730,-3870.5"/>
<text text-anchor="start" x="165844.5" y="-3954.3" font-family="Arial" font-size="14.00">ToolInvocation</text>
<polyline fill="none" stroke="#77aadd" points="165730,-3946.5 166046,-3946.5 "/>
<text text-anchor="start" x="165783" y="-3931.3" font-family="Arial" font-size="14.00">arguments : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="165783" y="-3916.3" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="165730,-3908.5 166046,-3908.5 "/>
<text text-anchor="start" x="165738" y="-3893.3" font-family="Arial" font-size="14.00">validate_arguments(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="165738" y="-3878.3" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
</g>
<!-- mcpgateway.services.tool_service.ToolInvocationError -->
<g id="node572" class="node">
<title>mcpgateway.services.tool_service.ToolInvocationError</title>
<polygon fill="white" stroke="#ffaabb" points="164827.5,-3884.6 164827.5,-3955.4 164960.5,-3955.4 164960.5,-3884.6 164827.5,-3884.6"/>
<text text-anchor="start" x="164835.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ToolInvocationError</text>
<polyline fill="none" stroke="#ffaabb" points="164827.5,-3932.4 164960.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="164827.5,-3907.6 164960.5,-3907.6 "/>
<text text-anchor="start" x="164892" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolInvocationError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge117" class="edge">
<title>mcpgateway.services.tool_service.ToolInvocationError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M164893.04,-3955.64C164883.13,-4321.24 164803,-7464.99 164969,-7840 165011.57,-7936.16 165114.22,-8011.65 165173.58,-8049.11"/>
<polygon fill="none" stroke="gray" points="165172.03,-8052.26 165182.37,-8054.57 165175.73,-8046.32 165172.03,-8052.26"/>
</g>
<!-- mcpgateway.common.models.ToolListChangedNotification -->
<g id="node573" class="node">
<title>mcpgateway.common.models.ToolListChangedNotification</title>
<polygon fill="white" stroke="#44bb99" points="166063.5,-3885.5 166063.5,-3954.5 166370.5,-3954.5 166370.5,-3885.5 166063.5,-3885.5"/>
<text text-anchor="start" x="166133" y="-3939.3" font-family="Arial" font-size="14.00">ToolListChangedNotification</text>
<polyline fill="none" stroke="#44bb99" points="166063.5,-3931.5 166370.5,-3931.5 "/>
<text text-anchor="start" x="166071.5" y="-3916.3" font-family="Arial" font-size="14.00">method : Literal[&#39;notifications/tools/list_changed&#39;]</text>
<polyline fill="none" stroke="#44bb99" points="166063.5,-3908.5 166370.5,-3908.5 "/>
<text text-anchor="start" x="166215" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolLockConflictError -->
<g id="node574" class="node">
<title>mcpgateway.services.tool_service.ToolLockConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="164978.5,-3884.6 164978.5,-3955.4 165123.5,-3955.4 165123.5,-3884.6 164978.5,-3884.6"/>
<text text-anchor="start" x="164986.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ToolLockConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="164978.5,-3932.4 165123.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="164978.5,-3907.6 165123.5,-3907.6 "/>
<text text-anchor="start" x="165049" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolLockConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge118" class="edge">
<title>mcpgateway.services.tool_service.ToolLockConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M165050.14,-3955.61C165041.96,-4295.24 164981.19,-7037.41 165132,-7840 165145.02,-7909.31 165176.11,-7985.2 165197.11,-8031.46"/>
<polygon fill="none" stroke="gray" points="165193.95,-8032.96 165201.3,-8040.59 165200.31,-8030.04 165193.95,-8032.96"/>
</g>
<!-- mcpgateway.cache.tool_lookup_cache.ToolLookupCache -->
<g id="node575" class="node">
<title>mcpgateway.cache.tool_lookup_cache.ToolLookupCache</title>
<polygon fill="white" stroke="#99ddff" points="166389,-3833 166389,-4007 166921,-4007 166921,-3833 166389,-3833"/>
<text text-anchor="start" x="166600.5" y="-3991.8" font-family="Arial" font-size="14.00">ToolLookupCache</text>
<polyline fill="none" stroke="#99ddff" points="166389,-3984 166921,-3984 "/>
<text text-anchor="start" x="166630.5" y="-3968.8" font-family="Arial" font-size="14.00">enabled</text>
<polyline fill="none" stroke="#99ddff" points="166389,-3961 166921,-3961 "/>
<text text-anchor="start" x="166397" y="-3945.8" font-family="Arial" font-size="14.00">get(name: str): Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="166397" y="-3930.8" font-family="Arial" font-size="14.00">invalidate(name: str, gateway_id: Optional[str]): None</text>
<text text-anchor="start" x="166397" y="-3915.8" font-family="Arial" font-size="14.00">invalidate_all_local(): None</text>
<text text-anchor="start" x="166397" y="-3900.8" font-family="Arial" font-size="14.00">invalidate_gateway(gateway_id: str): None</text>
<text text-anchor="start" x="166397" y="-3885.8" font-family="Arial" font-size="14.00">reset_stats(): None</text>
<text text-anchor="start" x="166397" y="-3870.8" font-family="Arial" font-size="14.00">set(name: str, payload: Dict[str, Any], ttl: Optional[int], gateway_id: Optional[str]): None</text>
<text text-anchor="start" x="166397" y="-3855.8" font-family="Arial" font-size="14.00">set_negative(name: str, status: str): None</text>
<text text-anchor="start" x="166397" y="-3840.8" font-family="Arial" font-size="14.00">stats(): Dict[str, Any]</text>
</g>
<!-- mcpgateway.db.ToolMetric -->
<g id="node576" class="node">
<title>mcpgateway.db.ToolMetric</title>
<polygon fill="white" stroke="#77aadd" points="16160,-3840.5 16160,-3999.5 16410,-3999.5 16410,-3840.5 16160,-3840.5"/>
<text text-anchor="start" x="16253.5" y="-3984.3" font-family="Arial" font-size="14.00">ToolMetric</text>
<polyline fill="none" stroke="#77aadd" points="16160,-3976.5 16410,-3976.5 "/>
<text text-anchor="start" x="16168" y="-3961.3" font-family="Arial" font-size="14.00">error_message : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16168" y="-3946.3" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="16168" y="-3931.3" font-family="Arial" font-size="14.00">is_success : Mapped[bool]</text>
<text text-anchor="start" x="16168" y="-3916.3" font-family="Arial" font-size="14.00">response_time : Mapped[float]</text>
<text text-anchor="start" x="16168" y="-3901.3" font-family="Arial" font-size="14.00">timestamp : Mapped[datetime]</text>
<text text-anchor="start" x="16168" y="-3886.3" font-family="Arial" font-size="14.00">tool : Mapped[&#39;Tool&#39;]</text>
<text text-anchor="start" x="16168" y="-3871.3" font-family="Arial" font-size="14.00">tool_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16160,-3863.5 16410,-3863.5 "/>
<text text-anchor="start" x="16283" y="-3848.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetric&#45;&gt;mcpgateway.db.Base -->
<g id="edge61" class="edge">
<title>mcpgateway.db.ToolMetric&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16288.42,-3999.82C16310.58,-4528.96 16424.64,-7551.81 16151,-7840 16027.78,-7969.77 10116.15,-8062.28 9346.33,-8073.79"/>
<polygon fill="none" stroke="gray" points="9346.12,-8070.29 9336.17,-8073.94 9346.22,-8077.29 9346.12,-8070.29"/>
</g>
<!-- mcpgateway.schemas.ToolMetrics -->
<g id="node577" class="node">
<title>mcpgateway.schemas.ToolMetrics</title>
<polygon fill="white" stroke="#77aadd" points="166939.5,-3833 166939.5,-4007 167198.5,-4007 167198.5,-3833 166939.5,-3833"/>
<text text-anchor="start" x="167034" y="-3991.8" font-family="Arial" font-size="14.00">ToolMetrics</text>
<polyline fill="none" stroke="#77aadd" points="166939.5,-3984 167198.5,-3984 "/>
<text text-anchor="start" x="166947.5" y="-3968.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="166947.5" y="-3953.8" font-family="Arial" font-size="14.00">failed_executions : Optional[int]</text>
<text text-anchor="start" x="166947.5" y="-3938.8" font-family="Arial" font-size="14.00">failure_rate : Optional[float]</text>
<text text-anchor="start" x="166947.5" y="-3923.8" font-family="Arial" font-size="14.00">last_execution_time : Optional[datetime]</text>
<text text-anchor="start" x="166947.5" y="-3908.8" font-family="Arial" font-size="14.00">max_response_time : Optional[float]</text>
<text text-anchor="start" x="166947.5" y="-3893.8" font-family="Arial" font-size="14.00">min_response_time : Optional[float]</text>
<text text-anchor="start" x="166947.5" y="-3878.8" font-family="Arial" font-size="14.00">successful_executions : Optional[int]</text>
<text text-anchor="start" x="166947.5" y="-3863.8" font-family="Arial" font-size="14.00">total_executions : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="166939.5,-3856 167198.5,-3856 "/>
<text text-anchor="start" x="167067" y="-3840.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetricsHourly -->
<g id="node578" class="node">
<title>mcpgateway.db.ToolMetricsHourly</title>
<polygon fill="white" stroke="#77aadd" points="16428,-3788 16428,-4052 16720,-4052 16720,-3788 16428,-3788"/>
<text text-anchor="start" x="16519.5" y="-4036.8" font-family="Arial" font-size="14.00">ToolMetricsHourly</text>
<polyline fill="none" stroke="#77aadd" points="16428,-4029 16720,-4029 "/>
<text text-anchor="start" x="16436" y="-4013.8" font-family="Arial" font-size="14.00">avg_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3998.8" font-family="Arial" font-size="14.00">created_at : Mapped[datetime]</text>
<text text-anchor="start" x="16436" y="-3983.8" font-family="Arial" font-size="14.00">failure_count : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-3968.8" font-family="Arial" font-size="14.00">hour_start : Mapped[datetime]</text>
<text text-anchor="start" x="16436" y="-3953.8" font-family="Arial" font-size="14.00">id : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-3938.8" font-family="Arial" font-size="14.00">max_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3923.8" font-family="Arial" font-size="14.00">min_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3908.8" font-family="Arial" font-size="14.00">p50_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3893.8" font-family="Arial" font-size="14.00">p95_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3878.8" font-family="Arial" font-size="14.00">p99_response_time : Mapped[Optional[float]]</text>
<text text-anchor="start" x="16436" y="-3863.8" font-family="Arial" font-size="14.00">success_count : Mapped[int]</text>
<text text-anchor="start" x="16436" y="-3848.8" font-family="Arial" font-size="14.00">tool_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16436" y="-3833.8" font-family="Arial" font-size="14.00">tool_name : Mapped[str]</text>
<text text-anchor="start" x="16436" y="-3818.8" font-family="Arial" font-size="14.00">total_count : Mapped[int]</text>
<polyline fill="none" stroke="#77aadd" points="16428,-3811 16720,-3811 "/>
<text text-anchor="start" x="16572" y="-3795.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolMetricsHourly&#45;&gt;mcpgateway.db.Base -->
<g id="edge62" class="edge">
<title>mcpgateway.db.ToolMetricsHourly&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16578.83,-4052.12C16601.48,-4702.33 16685.27,-7560.63 16419,-7840 16290.56,-7974.76 10131.79,-8063.16 9346.15,-8073.9"/>
<polygon fill="none" stroke="gray" points="9346.01,-8070.4 9336.06,-8074.03 9346.11,-8077.4 9346.01,-8070.4"/>
</g>
<!-- mcpgateway.services.tool_service.ToolNameConflictError -->
<g id="node579" class="node">
<title>mcpgateway.services.tool_service.ToolNameConflictError</title>
<polygon fill="white" stroke="#ffaabb" points="165141.5,-3870.5 165141.5,-3969.5 165294.5,-3969.5 165294.5,-3870.5 165141.5,-3870.5"/>
<text text-anchor="start" x="165149.5" y="-3954.3" font-family="Arial" font-size="14.00" fill="red">ToolNameConflictError</text>
<polyline fill="none" stroke="#ffaabb" points="165141.5,-3946.5 165294.5,-3946.5 "/>
<text text-anchor="start" x="165156" y="-3931.3" font-family="Arial" font-size="14.00" fill="red">enabled : bool</text>
<text text-anchor="start" x="165156" y="-3916.3" font-family="Arial" font-size="14.00" fill="red">name : str</text>
<text text-anchor="start" x="165156" y="-3901.3" font-family="Arial" font-size="14.00" fill="red">tool_id : Optional[int]</text>
<polyline fill="none" stroke="#ffaabb" points="165141.5,-3893.5 165294.5,-3893.5 "/>
<text text-anchor="start" x="165216" y="-3878.3" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolNameConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge119" class="edge">
<title>mcpgateway.services.tool_service.ToolNameConflictError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M165218,-3969.81C165218,-4404.96 165218,-7612.33 165218,-8030.17"/>
<polygon fill="none" stroke="gray" points="165214.5,-8030.35 165218,-8040.35 165221.5,-8030.35 165214.5,-8030.35"/>
</g>
<!-- mcpgateway.services.tool_service.ToolNotFoundError -->
<g id="node580" class="node">
<title>mcpgateway.services.tool_service.ToolNotFoundError</title>
<polygon fill="white" stroke="#ffaabb" points="165312.5,-3884.6 165312.5,-3955.4 165443.5,-3955.4 165443.5,-3884.6 165312.5,-3884.6"/>
<text text-anchor="start" x="165320.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ToolNotFoundError</text>
<polyline fill="none" stroke="#ffaabb" points="165312.5,-3932.4 165443.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="165312.5,-3907.6 165443.5,-3907.6 "/>
<text text-anchor="start" x="165376" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolNotFoundError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge120" class="edge">
<title>mcpgateway.services.tool_service.ToolNotFoundError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M165378.9,-3955.6C165387.5,-4295.2 165451.69,-7037.04 165303,-7840 165290.18,-7909.24 165259.44,-7985.16 165238.67,-8031.44"/>
<polygon fill="none" stroke="gray" points="165235.47,-8030.02 165234.52,-8040.57 165241.84,-8032.91 165235.47,-8030.02"/>
</g>
<!-- mcpgateway.db.ToolOpsTestCases -->
<g id="node581" class="node">
<title>mcpgateway.db.ToolOpsTestCases</title>
<polygon fill="white" stroke="#77aadd" points="16738,-3870.5 16738,-3969.5 16962,-3969.5 16962,-3870.5 16738,-3870.5"/>
<text text-anchor="start" x="16793" y="-3954.3" font-family="Arial" font-size="14.00">ToolOpsTestCases</text>
<polyline fill="none" stroke="#77aadd" points="16738,-3946.5 16962,-3946.5 "/>
<text text-anchor="start" x="16746" y="-3931.3" font-family="Arial" font-size="14.00">run_status : Mapped[str]</text>
<text text-anchor="start" x="16746" y="-3916.3" font-family="Arial" font-size="14.00">test_cases : Mapped[Dict[str, Any]]</text>
<text text-anchor="start" x="16746" y="-3901.3" font-family="Arial" font-size="14.00">tool_id : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16738,-3893.5 16962,-3893.5 "/>
<text text-anchor="start" x="16848" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.ToolOpsTestCases&#45;&gt;mcpgateway.db.Base -->
<g id="edge63" class="edge">
<title>mcpgateway.db.ToolOpsTestCases&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M16852.31,-3969.65C16872.28,-4399.87 17008.2,-7545.56 16729,-7840 16595.17,-7981.14 10151.16,-8064.19 9346.25,-8074.01"/>
<polygon fill="none" stroke="gray" points="9346.16,-8070.52 9336.2,-8074.14 9346.25,-8077.52 9346.16,-8070.52"/>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolPostInvokePayload -->
<g id="node582" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolPostInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="167216.5,-3878 167216.5,-3962 167373.5,-3962 167373.5,-3878 167216.5,-3878"/>
<text text-anchor="start" x="167224.5" y="-3946.8" font-family="Arial" font-size="14.00">ToolPostInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="167216.5,-3939 167373.5,-3939 "/>
<text text-anchor="start" x="167261.5" y="-3923.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="167261.5" y="-3908.8" font-family="Arial" font-size="14.00">result : Any</text>
<polyline fill="none" stroke="#ee8866" points="167216.5,-3901 167373.5,-3901 "/>
<text text-anchor="start" x="167293" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.hooks.tools.ToolPreInvokePayload -->
<g id="node583" class="node">
<title>mcpgateway.plugins.framework.hooks.tools.ToolPreInvokePayload</title>
<polygon fill="white" stroke="#ee8866" points="167391.5,-3870.5 167391.5,-3969.5 167644.5,-3969.5 167644.5,-3870.5 167391.5,-3870.5"/>
<text text-anchor="start" x="167450.5" y="-3954.3" font-family="Arial" font-size="14.00">ToolPreInvokePayload</text>
<polyline fill="none" stroke="#ee8866" points="167391.5,-3946.5 167644.5,-3946.5 "/>
<text text-anchor="start" x="167399.5" y="-3931.3" font-family="Arial" font-size="14.00">args : Optional[dict[str, Any]]</text>
<text text-anchor="start" x="167399.5" y="-3916.3" font-family="Arial" font-size="14.00">headers : Optional[HttpHeaderPayload]</text>
<text text-anchor="start" x="167399.5" y="-3901.3" font-family="Arial" font-size="14.00">name : str</text>
<polyline fill="none" stroke="#ee8866" points="167391.5,-3893.5 167644.5,-3893.5 "/>
<text text-anchor="start" x="167516" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolRead -->
<g id="node584" class="node">
<title>mcpgateway.schemas.ToolRead</title>
<polygon fill="white" stroke="#77aadd" points="167662.5,-3518 167662.5,-4322 167925.5,-4322 167925.5,-3518 167662.5,-3518"/>
<text text-anchor="start" x="167765" y="-4306.8" font-family="Arial" font-size="14.00">ToolRead</text>
<polyline fill="none" stroke="#77aadd" points="167662.5,-4299 167925.5,-4299 "/>
<text text-anchor="start" x="167670.5" y="-4283.8" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="167670.5" y="-4268.8" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="167670.5" y="-4253.8" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="167670.5" y="-4238.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4223.8" font-family="Arial" font-size="14.00">created_at : datetime</text>
<text text-anchor="start" x="167670.5" y="-4208.8" font-family="Arial" font-size="14.00">created_by : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4193.8" font-family="Arial" font-size="14.00">created_from_ip : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4178.8" font-family="Arial" font-size="14.00">created_user_agent : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4163.8" font-family="Arial" font-size="14.00">created_via : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4148.8" font-family="Arial" font-size="14.00">custom_name : str</text>
<text text-anchor="start" x="167670.5" y="-4133.8" font-family="Arial" font-size="14.00">custom_name_slug : str</text>
<text text-anchor="start" x="167670.5" y="-4118.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4103.8" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4088.8" font-family="Arial" font-size="14.00">enabled : bool</text>
<text text-anchor="start" x="167670.5" y="-4073.8" font-family="Arial" font-size="14.00">execution_count : Optional[int]</text>
<text text-anchor="start" x="167670.5" y="-4058.8" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="167670.5" y="-4043.8" font-family="Arial" font-size="14.00">federation_source : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4028.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-4013.8" font-family="Arial" font-size="14.00">gateway_slug : str</text>
<text text-anchor="start" x="167670.5" y="-3998.8" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="167670.5" y="-3983.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="167670.5" y="-3968.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="167670.5" y="-3953.8" font-family="Arial" font-size="14.00">import_batch_id : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3938.8" font-family="Arial" font-size="14.00">input_schema : Dict[str, Any]</text>
<text text-anchor="start" x="167670.5" y="-3923.8" font-family="Arial" font-size="14.00">integration_type : str</text>
<text text-anchor="start" x="167670.5" y="-3908.8" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3893.8" font-family="Arial" font-size="14.00">meta : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="167670.5" y="-3878.8" font-family="Arial" font-size="14.00">metrics : Optional[ToolMetrics]</text>
<text text-anchor="start" x="167670.5" y="-3863.8" font-family="Arial" font-size="14.00">modified_by : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3848.8" font-family="Arial" font-size="14.00">modified_from_ip : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3833.8" font-family="Arial" font-size="14.00">modified_user_agent : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3818.8" font-family="Arial" font-size="14.00">modified_via : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3803.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="167670.5" y="-3788.8" font-family="Arial" font-size="14.00">original_name : str</text>
<text text-anchor="start" x="167670.5" y="-3773.8" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="167670.5" y="-3758.8" font-family="Arial" font-size="14.00">owner_email : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3743.8" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3728.8" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="167670.5" y="-3713.8" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="167670.5" y="-3698.8" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="167670.5" y="-3683.8" font-family="Arial" font-size="14.00">reachable : bool</text>
<text text-anchor="start" x="167670.5" y="-3668.8" font-family="Arial" font-size="14.00">request_type : str</text>
<text text-anchor="start" x="167670.5" y="-3653.8" font-family="Arial" font-size="14.00">tags : Optional[List[Dict[str, str]]]</text>
<text text-anchor="start" x="167670.5" y="-3638.8" font-family="Arial" font-size="14.00">team : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3623.8" font-family="Arial" font-size="14.00">team_id : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3608.8" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="167670.5" y="-3593.8" font-family="Arial" font-size="14.00">updated_at : datetime</text>
<text text-anchor="start" x="167670.5" y="-3578.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<text text-anchor="start" x="167670.5" y="-3563.8" font-family="Arial" font-size="14.00">version : Optional[int]</text>
<text text-anchor="start" x="167670.5" y="-3548.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="167662.5,-3541 167925.5,-3541 "/>
<text text-anchor="start" x="167792" y="-3525.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.ToolResult -->
<g id="node585" class="node">
<title>mcpgateway.schemas.ToolResult</title>
<polygon fill="white" stroke="#77aadd" points="167944,-3863 167944,-3977 168252,-3977 168252,-3863 167944,-3863"/>
<text text-anchor="start" x="168066" y="-3961.8" font-family="Arial" font-size="14.00">ToolResult</text>
<polyline fill="none" stroke="#77aadd" points="167944,-3954 168252,-3954 "/>
<text text-anchor="start" x="167952" y="-3938.8" font-family="Arial" font-size="14.00">content : List[Union[TextContent, ImageContent]]</text>
<text text-anchor="start" x="167952" y="-3923.8" font-family="Arial" font-size="14.00">error_message : Optional[str]</text>
<text text-anchor="start" x="167952" y="-3908.8" font-family="Arial" font-size="14.00">is_error : bool</text>
<text text-anchor="start" x="167952" y="-3893.8" font-family="Arial" font-size="14.00">structured_content : Optional[Dict[str, Any]]</text>
<polyline fill="none" stroke="#77aadd" points="167944,-3886 168252,-3886 "/>
<text text-anchor="start" x="168096" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ToolTemplate -->
<g id="node587" class="node">
<title>mcpgateway.plugins.framework.models.ToolTemplate</title>
<polygon fill="white" stroke="#ee8866" points="32961.5,-3870.5 32961.5,-3969.5 33118.5,-3969.5 33118.5,-3870.5 32961.5,-3870.5"/>
<text text-anchor="start" x="32999.5" y="-3954.3" font-family="Arial" font-size="14.00">ToolTemplate</text>
<polyline fill="none" stroke="#ee8866" points="32961.5,-3946.5 33118.5,-3946.5 "/>
<text text-anchor="start" x="32969.5" y="-3931.3" font-family="Arial" font-size="14.00">fields : Optional[list[str]]</text>
<text text-anchor="start" x="32969.5" y="-3916.3" font-family="Arial" font-size="14.00">result : bool</text>
<text text-anchor="start" x="32969.5" y="-3901.3" font-family="Arial" font-size="14.00">tool_name : str</text>
<polyline fill="none" stroke="#ee8866" points="32961.5,-3893.5 33118.5,-3893.5 "/>
<text text-anchor="start" x="33038" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.plugins.framework.models.ToolTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate -->
<g id="edge74" class="edge">
<title>mcpgateway.plugins.framework.models.ToolTemplate&#45;&gt;mcpgateway.plugins.framework.models.BaseTemplate</title>
<path fill="none" stroke="gray" d="M33044.9,-3969.52C33077.28,-4302.06 33250.03,-6277.81 32952,-7840 32939.42,-7905.97 32910.37,-7977.82 32889.3,-8024.48"/>
<polygon fill="none" stroke="gray" points="32886.03,-8023.21 32885.06,-8033.76 32892.4,-8026.11 32886.03,-8023.21"/>
</g>
<!-- mcpgateway.schemas.ToolUpdate -->
<g id="node588" class="node">
<title>mcpgateway.schemas.ToolUpdate</title>
<polygon fill="white" stroke="#77aadd" points="168270,-3593 168270,-4247 168728,-4247 168728,-3593 168270,-3593"/>
<text text-anchor="start" x="168464.5" y="-4231.8" font-family="Arial" font-size="14.00">ToolUpdate</text>
<polyline fill="none" stroke="#77aadd" points="168270,-4224 168728,-4224 "/>
<text text-anchor="start" x="168278" y="-4208.8" font-family="Arial" font-size="14.00">allowlist : Optional[List[str]]</text>
<text text-anchor="start" x="168278" y="-4193.8" font-family="Arial" font-size="14.00">annotations : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="168278" y="-4178.8" font-family="Arial" font-size="14.00">auth : Optional[AuthenticationValues]</text>
<text text-anchor="start" x="168278" y="-4163.8" font-family="Arial" font-size="14.00">base_url : Optional[str]</text>
<text text-anchor="start" x="168278" y="-4148.8" font-family="Arial" font-size="14.00">custom_name : Optional[str]</text>
<text text-anchor="start" x="168278" y="-4133.8" font-family="Arial" font-size="14.00">description : Optional[str]</text>
<text text-anchor="start" x="168278" y="-4118.8" font-family="Arial" font-size="14.00">displayName : Optional[str]</text>
<text text-anchor="start" x="168278" y="-4103.8" font-family="Arial" font-size="14.00">expose_passthrough : Optional[bool]</text>
<text text-anchor="start" x="168278" y="-4088.8" font-family="Arial" font-size="14.00">gateway_id : Optional[str]</text>
<text text-anchor="start" x="168278" y="-4073.8" font-family="Arial" font-size="14.00">header_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="168278" y="-4058.8" font-family="Arial" font-size="14.00">headers : Optional[Dict[str, str]]</text>
<text text-anchor="start" x="168278" y="-4043.8" font-family="Arial" font-size="14.00">input_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="168278" y="-4028.8" font-family="Arial" font-size="14.00">integration_type : Optional[Literal[&#39;REST&#39;, &#39;MCP&#39;, &#39;A2A&#39;]]</text>
<text text-anchor="start" x="168278" y="-4013.8" font-family="Arial" font-size="14.00">jsonpath_filter : Optional[str]</text>
<text text-anchor="start" x="168278" y="-3998.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="168278" y="-3983.8" font-family="Arial" font-size="14.00">output_schema : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="168278" y="-3968.8" font-family="Arial" font-size="14.00">path_template : Optional[str]</text>
<text text-anchor="start" x="168278" y="-3953.8" font-family="Arial" font-size="14.00">plugin_chain_post : Optional[List[str]]</text>
<text text-anchor="start" x="168278" y="-3938.8" font-family="Arial" font-size="14.00">plugin_chain_pre : Optional[List[str]]</text>
<text text-anchor="start" x="168278" y="-3923.8" font-family="Arial" font-size="14.00">query_mapping : Optional[Dict[str, Any]]</text>
<text text-anchor="start" x="168278" y="-3908.8" font-family="Arial" font-size="14.00">request_type : Optional[Literal[&#39;GET&#39;, &#39;POST&#39;, &#39;PUT&#39;, &#39;DELETE&#39;, &#39;PATCH&#39;]]</text>
<text text-anchor="start" x="168278" y="-3893.8" font-family="Arial" font-size="14.00">tags : Optional[List[str]]</text>
<text text-anchor="start" x="168278" y="-3878.8" font-family="Arial" font-size="14.00">timeout_ms : Optional[int]</text>
<text text-anchor="start" x="168278" y="-3863.8" font-family="Arial" font-size="14.00">url : Optional[Union[str, AnyHttpUrl]]</text>
<text text-anchor="start" x="168278" y="-3848.8" font-family="Arial" font-size="14.00">visibility : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="168270,-3841 168728,-3841 "/>
<text text-anchor="start" x="168302" y="-3825.8" font-family="Arial" font-size="14.00">assemble_auth(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="168302" y="-3810.8" font-family="Arial" font-size="14.00">extract_base_url_and_path_template(values: dict): dict</text>
<text text-anchor="start" x="168302" y="-3795.8" font-family="Arial" font-size="14.00">prevent_manual_mcp_update(values: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="168302" y="-3780.8" font-family="Arial" font-size="14.00">validate_allowlist(v)</text>
<text text-anchor="start" x="168302" y="-3765.8" font-family="Arial" font-size="14.00">validate_base_url(v)</text>
<text text-anchor="start" x="168302" y="-3750.8" font-family="Arial" font-size="14.00">validate_custom_name(v: str): str</text>
<text text-anchor="start" x="168302" y="-3735.8" font-family="Arial" font-size="14.00">validate_description(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="168302" y="-3720.8" font-family="Arial" font-size="14.00">validate_display_name(v: Optional[str]): Optional[str]</text>
<text text-anchor="start" x="168302" y="-3705.8" font-family="Arial" font-size="14.00">validate_json_fields(v: Dict[str, Any]): Dict[str, Any]</text>
<text text-anchor="start" x="168302" y="-3690.8" font-family="Arial" font-size="14.00">validate_name(v: str): str</text>
<text text-anchor="start" x="168302" y="-3675.8" font-family="Arial" font-size="14.00">validate_path_template(v)</text>
<text text-anchor="start" x="168302" y="-3660.8" font-family="Arial" font-size="14.00">validate_plugin_chain(v)</text>
<text text-anchor="start" x="168302" y="-3645.8" font-family="Arial" font-size="14.00">validate_request_type(v: str, info: ValidationInfo): str</text>
<text text-anchor="start" x="168302" y="-3630.8" font-family="Arial" font-size="14.00">validate_tags(v: Optional[List[str]]): List[str]</text>
<text text-anchor="start" x="168302" y="-3615.8" font-family="Arial" font-size="14.00">validate_timeout_ms(v)</text>
<text text-anchor="start" x="168302" y="-3600.8" font-family="Arial" font-size="14.00">validate_url(v: Optional[str]): Optional[str]</text>
</g>
<!-- mcpgateway.services.tool_service.ToolValidationError -->
<g id="node589" class="node">
<title>mcpgateway.services.tool_service.ToolValidationError</title>
<polygon fill="white" stroke="#ffaabb" points="165462,-3884.6 165462,-3955.4 165592,-3955.4 165592,-3884.6 165462,-3884.6"/>
<text text-anchor="start" x="165470" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">ToolValidationError</text>
<polyline fill="none" stroke="#ffaabb" points="165462,-3932.4 165592,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="165462,-3907.6 165592,-3907.6 "/>
<text text-anchor="start" x="165525" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.services.tool_service.ToolValidationError&#45;&gt;mcpgateway.services.tool_service.ToolError -->
<g id="edge121" class="edge">
<title>mcpgateway.services.tool_service.ToolValidationError&#45;&gt;mcpgateway.services.tool_service.ToolError</title>
<path fill="none" stroke="gray" d="M165527.9,-3955.62C165537.19,-4320.94 165612.16,-7462.45 165452,-7840 165412.76,-7932.51 165318.25,-8008.11 165262.08,-8046.86"/>
<polygon fill="none" stroke="gray" points="165260.04,-8044.01 165253.75,-8052.53 165263.98,-8049.8 165260.04,-8044.01"/>
</g>
<!-- mcpgateway.schemas.TopPerformer -->
<g id="node590" class="node">
<title>mcpgateway.schemas.TopPerformer</title>
<polygon fill="white" stroke="#77aadd" points="168746,-3848 168746,-3992 168976,-3992 168976,-3848 168746,-3848"/>
<text text-anchor="start" x="168819.5" y="-3976.8" font-family="Arial" font-size="14.00">TopPerformer</text>
<polyline fill="none" stroke="#77aadd" points="168746,-3969 168976,-3969 "/>
<text text-anchor="start" x="168754" y="-3953.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="168754" y="-3938.8" font-family="Arial" font-size="14.00">execution_count : Optional[int]</text>
<text text-anchor="start" x="168754" y="-3923.8" font-family="Arial" font-size="14.00">id : Optional[Union[str, int]]</text>
<text text-anchor="start" x="168754" y="-3908.8" font-family="Arial" font-size="14.00">last_execution : Optional[datetime]</text>
<text text-anchor="start" x="168754" y="-3893.8" font-family="Arial" font-size="14.00">name : Optional[str]</text>
<text text-anchor="start" x="168754" y="-3878.8" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<polyline fill="none" stroke="#77aadd" points="168746,-3871 168976,-3871 "/>
<text text-anchor="start" x="168859" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.metrics_query_service.TopPerformerResult -->
<g id="node591" class="node">
<title>mcpgateway.services.metrics_query_service.TopPerformerResult</title>
<polygon fill="white" stroke="#ffaabb" points="168994,-3848 168994,-3992 169224,-3992 169224,-3848 168994,-3848"/>
<text text-anchor="start" x="169048.5" y="-3976.8" font-family="Arial" font-size="14.00">TopPerformerResult</text>
<polyline fill="none" stroke="#ffaabb" points="168994,-3969 169224,-3969 "/>
<text text-anchor="start" x="169002" y="-3953.8" font-family="Arial" font-size="14.00">avg_response_time : Optional[float]</text>
<text text-anchor="start" x="169002" y="-3938.8" font-family="Arial" font-size="14.00">execution_count : int</text>
<text text-anchor="start" x="169002" y="-3923.8" font-family="Arial" font-size="14.00">id : str</text>
<text text-anchor="start" x="169002" y="-3908.8" font-family="Arial" font-size="14.00">last_execution : Optional[datetime]</text>
<text text-anchor="start" x="169002" y="-3893.8" font-family="Arial" font-size="14.00">name : str</text>
<text text-anchor="start" x="169002" y="-3878.8" font-family="Arial" font-size="14.00">success_rate : Optional[float]</text>
<polyline fill="none" stroke="#ffaabb" points="168994,-3871 169224,-3871 "/>
<text text-anchor="start" x="169107" y="-3855.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.TransportType -->
<g id="node593" class="node">
<title>mcpgateway.schemas.TransportType</title>
<polygon fill="white" stroke="#77aadd" points="169242,-3885.5 169242,-3954.5 169346,-3954.5 169346,-3885.5 169242,-3885.5"/>
<text text-anchor="start" x="169250" y="-3939.3" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#77aadd" points="169242,-3931.5 169346,-3931.5 "/>
<text text-anchor="start" x="169276.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#77aadd" points="169242,-3908.5 169346,-3908.5 "/>
<text text-anchor="start" x="169292" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.TransportType -->
<g id="node594" class="node">
<title>mcpgateway.services.mcp_session_pool.TransportType</title>
<polygon fill="white" stroke="#ffaabb" points="119331,-3885.5 119331,-3954.5 119435,-3954.5 119435,-3885.5 119331,-3885.5"/>
<text text-anchor="start" x="119339" y="-3939.3" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#ffaabb" points="119331,-3931.5 119435,-3931.5 "/>
<text text-anchor="start" x="119365.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#ffaabb" points="119331,-3908.5 119435,-3908.5 "/>
<text text-anchor="start" x="119381" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_session_pool.TransportType&#45;&gt;mcpgateway.services.mcp_session_pool.PooledSession -->
<g id="edge166" class="edge">
<title>mcpgateway.services.mcp_session_pool.TransportType&#45;&gt;mcpgateway.services.mcp_session_pool.PooledSession</title>
<path fill="none" stroke="gray" d="M119383,-3954.74C119383,-4303.01 119383,-7243.92 119383,-7931.59"/>
<polygon fill="gray" stroke="gray" points="119383,-7931.76 119387,-7937.76 119383,-7943.76 119379,-7937.76 119383,-7931.76"/>
<text text-anchor="middle" x="119426.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">transport_type</text>
</g>
<!-- mcpgateway.common.models.TransportType -->
<g id="node595" class="node">
<title>mcpgateway.common.models.TransportType</title>
<polygon fill="white" stroke="#44bb99" points="91654,-3885.5 91654,-3954.5 91758,-3954.5 91758,-3885.5 91654,-3885.5"/>
<text text-anchor="start" x="91662" y="-3939.3" font-family="Arial" font-size="14.00">TransportType</text>
<polyline fill="none" stroke="#44bb99" points="91654,-3931.5 91758,-3931.5 "/>
<text text-anchor="start" x="91688.5" y="-3916.3" font-family="Arial" font-size="14.00">name</text>
<polyline fill="none" stroke="#44bb99" points="91654,-3908.5 91758,-3908.5 "/>
<text text-anchor="start" x="91704" y="-3893.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.TransportType&#45;&gt;mcpgateway.plugins.framework.models.MCPClientConfig -->
<g id="edge141" class="edge">
<title>mcpgateway.common.models.TransportType&#45;&gt;mcpgateway.plugins.framework.models.MCPClientConfig</title>
<path fill="none" stroke="gray" d="M91706,-3954.74C91706,-4301.76 91706,-7222.83 91706,-7924.09"/>
<polygon fill="gray" stroke="gray" points="91706,-7924.26 91710,-7930.26 91706,-7936.26 91702,-7930.26 91706,-7924.26"/>
<text text-anchor="middle" x="91721.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">proto</text>
</g>
<!-- mcpgateway.llm_schemas.UsageStats -->
<g id="node596" class="node">
<title>mcpgateway.llm_schemas.UsageStats</title>
<polygon fill="white" stroke="#77aadd" points="54598.5,-3870.5 54598.5,-3969.5 54753.5,-3969.5 54753.5,-3870.5 54598.5,-3870.5"/>
<text text-anchor="start" x="54641" y="-3954.3" font-family="Arial" font-size="14.00">UsageStats</text>
<polyline fill="none" stroke="#77aadd" points="54598.5,-3946.5 54753.5,-3946.5 "/>
<text text-anchor="start" x="54606.5" y="-3931.3" font-family="Arial" font-size="14.00">completion_tokens : int</text>
<text text-anchor="start" x="54606.5" y="-3916.3" font-family="Arial" font-size="14.00">prompt_tokens : int</text>
<text text-anchor="start" x="54606.5" y="-3901.3" font-family="Arial" font-size="14.00">total_tokens : int</text>
<polyline fill="none" stroke="#77aadd" points="54598.5,-3893.5 54753.5,-3893.5 "/>
<text text-anchor="start" x="54674" y="-3878.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.llm_schemas.UsageStats&#45;&gt;mcpgateway.llm_schemas.EmbeddingResponse -->
<g id="edge147" class="edge">
<title>mcpgateway.llm_schemas.UsageStats&#45;&gt;mcpgateway.llm_schemas.EmbeddingResponse</title>
<path fill="none" stroke="gray" d="M54676,-3969.81C54676,-4397.63 54676,-7505.01 54676,-8006.69"/>
<polygon fill="gray" stroke="gray" points="54676,-8006.74 54680,-8012.74 54676,-8018.74 54672,-8012.74 54676,-8006.74"/>
<text text-anchor="middle" x="54694.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">usage</text>
</g>
<!-- mcpgateway.services.email_auth_service.UserExistsError -->
<g id="node597" class="node">
<title>mcpgateway.services.email_auth_service.UserExistsError</title>
<polygon fill="white" stroke="#ffaabb" points="169364.5,-3884.6 169364.5,-3955.4 169475.5,-3955.4 169475.5,-3884.6 169364.5,-3884.6"/>
<text text-anchor="start" x="169372.5" y="-3940.2" font-family="Arial" font-size="14.00" fill="red">UserExistsError</text>
<polyline fill="none" stroke="#ffaabb" points="169364.5,-3932.4 169475.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="169364.5,-3907.6 169475.5,-3907.6 "/>
<text text-anchor="start" x="169418" y="-3892.4" font-family="Arial" font-size="14.00" fill="red"> </text>
</g>
<!-- mcpgateway.schemas.UserListResponse -->
<g id="node598" class="node">
<title>mcpgateway.schemas.UserListResponse</title>
<polygon fill="white" stroke="#77aadd" points="169493.5,-3863 169493.5,-3977 169760.5,-3977 169760.5,-3863 169493.5,-3863"/>
<text text-anchor="start" x="169571.5" y="-3961.8" font-family="Arial" font-size="14.00">UserListResponse</text>
<polyline fill="none" stroke="#77aadd" points="169493.5,-3954 169760.5,-3954 "/>
<text text-anchor="start" x="169501.5" y="-3938.8" font-family="Arial" font-size="14.00">limit : Optional[int]</text>
<text text-anchor="start" x="169501.5" y="-3923.8" font-family="Arial" font-size="14.00">offset : Optional[int]</text>
<text text-anchor="start" x="169501.5" y="-3908.8" font-family="Arial" font-size="14.00">total_count : Optional[int]</text>
<text text-anchor="start" x="169501.5" y="-3893.8" font-family="Arial" font-size="14.00">users : Optional[list[EmailUserResponse]]</text>
<polyline fill="none" stroke="#77aadd" points="169493.5,-3886 169760.5,-3886 "/>
<text text-anchor="start" x="169625" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.db.UserRole -->
<g id="node599" class="node">
<title>mcpgateway.db.UserRole</title>
<polygon fill="white" stroke="#77aadd" points="16980,-3818 16980,-4022 17238,-4022 17238,-3818 16980,-3818"/>
<text text-anchor="start" x="17080.5" y="-4006.8" font-family="Arial" font-size="14.00">UserRole</text>
<polyline fill="none" stroke="#77aadd" points="16980,-3999 17238,-3999 "/>
<text text-anchor="start" x="16988" y="-3983.8" font-family="Arial" font-size="14.00">expires_at : Mapped[Optional[datetime]]</text>
<text text-anchor="start" x="16988" y="-3968.8" font-family="Arial" font-size="14.00">granted_at : Mapped[datetime]</text>
<text text-anchor="start" x="16988" y="-3953.8" font-family="Arial" font-size="14.00">granted_by : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-3938.8" font-family="Arial" font-size="14.00">id : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-3923.8" font-family="Arial" font-size="14.00">is_active : Mapped[bool]</text>
<text text-anchor="start" x="16988" y="-3908.8" font-family="Arial" font-size="14.00">role : Mapped[&#39;Role&#39;]</text>
<text text-anchor="start" x="16988" y="-3893.8" font-family="Arial" font-size="14.00">role_id : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-3878.8" font-family="Arial" font-size="14.00">scope : Mapped[str]</text>
<text text-anchor="start" x="16988" y="-3863.8" font-family="Arial" font-size="14.00">scope_id : Mapped[Optional[str]]</text>
<text text-anchor="start" x="16988" y="-3848.8" font-family="Arial" font-size="14.00">user_email : Mapped[str]</text>
<polyline fill="none" stroke="#77aadd" points="16980,-3841 17238,-3841 "/>
<text text-anchor="start" x="17057" y="-3825.8" font-family="Arial" font-size="14.00">is_expired(): bool</text>
</g>
<!-- mcpgateway.db.UserRole&#45;&gt;mcpgateway.db.Base -->
<g id="edge64" class="edge">
<title>mcpgateway.db.UserRole&#45;&gt;mcpgateway.db.Base</title>
<path fill="none" stroke="gray" d="M17113.19,-4022.34C17136.43,-4609.02 17239.09,-7553.87 16971,-7840 16833.57,-7986.68 10166.22,-8065.02 9346.36,-8074.11"/>
<polygon fill="none" stroke="gray" points="9346.09,-8070.61 9336.13,-8074.22 9346.17,-8077.61 9346.09,-8070.61"/>
</g>
<!-- mcpgateway.schemas.UserRoleAssignRequest -->
<g id="node600" class="node">
<title>mcpgateway.schemas.UserRoleAssignRequest</title>
<polygon fill="white" stroke="#77aadd" points="169778.5,-3863 169778.5,-3977 169979.5,-3977 169979.5,-3863 169778.5,-3863"/>
<text text-anchor="start" x="169805" y="-3961.8" font-family="Arial" font-size="14.00">UserRoleAssignRequest</text>
<polyline fill="none" stroke="#77aadd" points="169778.5,-3954 169979.5,-3954 "/>
<text text-anchor="start" x="169786.5" y="-3938.8" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="169786.5" y="-3923.8" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="169786.5" y="-3908.8" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="169786.5" y="-3893.8" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="169778.5,-3886 169979.5,-3886 "/>
<text text-anchor="start" x="169877" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.common.models.UserRoleAssignment -->
<g id="node601" class="node">
<title>mcpgateway.common.models.UserRoleAssignment</title>
<polygon fill="white" stroke="#44bb99" points="169997.5,-3825.5 169997.5,-4014.5 170200.5,-4014.5 170200.5,-3825.5 169997.5,-3825.5"/>
<text text-anchor="start" x="170035" y="-3999.3" font-family="Arial" font-size="14.00">UserRoleAssignment</text>
<polyline fill="none" stroke="#44bb99" points="169997.5,-3991.5 170200.5,-3991.5 "/>
<text text-anchor="start" x="170005.5" y="-3976.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="170005.5" y="-3961.3" font-family="Arial" font-size="14.00">granted_at : Optional[datetime]</text>
<text text-anchor="start" x="170005.5" y="-3946.3" font-family="Arial" font-size="14.00">granted_by : Optional[str]</text>
<text text-anchor="start" x="170005.5" y="-3931.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="170005.5" y="-3916.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="170005.5" y="-3901.3" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="170005.5" y="-3886.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="170005.5" y="-3871.3" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<text text-anchor="start" x="170005.5" y="-3856.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#44bb99" points="169997.5,-3848.5 170200.5,-3848.5 "/>
<text text-anchor="start" x="170097" y="-3833.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.schemas.UserRoleResponse -->
<g id="node602" class="node">
<title>mcpgateway.schemas.UserRoleResponse</title>
<polygon fill="white" stroke="#77aadd" points="170218.5,-3810.5 170218.5,-4029.5 170421.5,-4029.5 170421.5,-3810.5 170218.5,-3810.5"/>
<text text-anchor="start" x="170261" y="-4014.3" font-family="Arial" font-size="14.00">UserRoleResponse</text>
<polyline fill="none" stroke="#77aadd" points="170218.5,-4006.5 170421.5,-4006.5 "/>
<text text-anchor="start" x="170226.5" y="-3991.3" font-family="Arial" font-size="14.00">expires_at : Optional[datetime]</text>
<text text-anchor="start" x="170226.5" y="-3976.3" font-family="Arial" font-size="14.00">granted_at : Optional[datetime]</text>
<text text-anchor="start" x="170226.5" y="-3961.3" font-family="Arial" font-size="14.00">granted_by : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3946.3" font-family="Arial" font-size="14.00">id : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3931.3" font-family="Arial" font-size="14.00">is_active : Optional[bool]</text>
<text text-anchor="start" x="170226.5" y="-3916.3" font-family="Arial" font-size="14.00">model_config</text>
<text text-anchor="start" x="170226.5" y="-3901.3" font-family="Arial" font-size="14.00">role_id : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3886.3" font-family="Arial" font-size="14.00">role_name : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3871.3" font-family="Arial" font-size="14.00">scope : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3856.3" font-family="Arial" font-size="14.00">scope_id : Optional[str]</text>
<text text-anchor="start" x="170226.5" y="-3841.3" font-family="Arial" font-size="14.00">user_email : Optional[str]</text>
<polyline fill="none" stroke="#77aadd" points="170218.5,-3833.5 170421.5,-3833.5 "/>
<text text-anchor="start" x="170318" y="-3818.3" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.email_auth_service.UsersListResult -->
<g id="node603" class="node">
<title>mcpgateway.services.email_auth_service.UsersListResult</title>
<polygon fill="white" stroke="#ffaabb" points="170439.5,-3863 170439.5,-3977 170682.5,-3977 170682.5,-3863 170439.5,-3863"/>
<text text-anchor="start" x="170513.5" y="-3961.8" font-family="Arial" font-size="14.00">UsersListResult</text>
<polyline fill="none" stroke="#ffaabb" points="170439.5,-3954 170682.5,-3954 "/>
<text text-anchor="start" x="170447.5" y="-3938.8" font-family="Arial" font-size="14.00">data : list[EmailUser]</text>
<text text-anchor="start" x="170447.5" y="-3923.8" font-family="Arial" font-size="14.00">links : Optional[PaginationLinks]</text>
<text text-anchor="start" x="170447.5" y="-3908.8" font-family="Arial" font-size="14.00">next_cursor : Optional[str]</text>
<text text-anchor="start" x="170447.5" y="-3893.8" font-family="Arial" font-size="14.00">pagination : Optional[PaginationMeta]</text>
<polyline fill="none" stroke="#ffaabb" points="170439.5,-3886 170682.5,-3886 "/>
<text text-anchor="start" x="170559" y="-3870.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.middleware.validation_middleware.ValidationMiddleware -->
<g id="node604" class="node">
<title>mcpgateway.middleware.validation_middleware.ValidationMiddleware</title>
<polygon fill="white" stroke="#eedd88" points="170700.5,-3848 170700.5,-3992 170939.5,-3992 170939.5,-3848 170700.5,-3848"/>
<text text-anchor="start" x="170755.5" y="-3976.8" font-family="Arial" font-size="14.00">ValidationMiddleware</text>
<polyline fill="none" stroke="#eedd88" points="170700.5,-3969 170939.5,-3969 "/>
<text text-anchor="start" x="170759.5" y="-3953.8" font-family="Arial" font-size="14.00">allowed_roots</text>
<text text-anchor="start" x="170759.5" y="-3938.8" font-family="Arial" font-size="14.00">dangerous_patterns</text>
<text text-anchor="start" x="170759.5" y="-3923.8" font-family="Arial" font-size="14.00">enabled</text>
<text text-anchor="start" x="170759.5" y="-3908.8" font-family="Arial" font-size="14.00">sanitize</text>
<text text-anchor="start" x="170759.5" y="-3893.8" font-family="Arial" font-size="14.00">strict</text>
<polyline fill="none" stroke="#eedd88" points="170700.5,-3886 170939.5,-3886 "/>
<text text-anchor="start" x="170708.5" y="-3870.8" font-family="Arial" font-size="14.00">dispatch(request: Request, call_next)</text>
<text text-anchor="start" x="170708.5" y="-3855.8" font-family="Arial" font-size="14.00">validate_resource_path(path: str): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxConfig -->
<g id="node605" class="node">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxConfig</title>
<polygon fill="white" stroke="#ffaabb" points="170957.5,-3803 170957.5,-4037 171166.5,-4037 171166.5,-3803 170957.5,-3803"/>
<text text-anchor="start" x="171016" y="-4021.8" font-family="Arial" font-size="14.00">WatsonxConfig</text>
<polyline fill="none" stroke="#ffaabb" points="170957.5,-4014 171166.5,-4014 "/>
<text text-anchor="start" x="170965.5" y="-3998.8" font-family="Arial" font-size="14.00">api_key : Optional[str]</text>
<text text-anchor="start" x="170965.5" y="-3983.8" font-family="Arial" font-size="14.00">decoding_method : Optional[str]</text>
<text text-anchor="start" x="170965.5" y="-3968.8" font-family="Arial" font-size="14.00">max_new_tokens : Optional[int]</text>
<text text-anchor="start" x="170965.5" y="-3953.8" font-family="Arial" font-size="14.00">min_new_tokens : Optional[int]</text>
<text text-anchor="start" x="170965.5" y="-3938.8" font-family="Arial" font-size="14.00">model_config : dict</text>
<text text-anchor="start" x="170965.5" y="-3923.8" font-family="Arial" font-size="14.00">model_id : Optional[str]</text>
<text text-anchor="start" x="170965.5" y="-3908.8" font-family="Arial" font-size="14.00">project_id : Optional[str]</text>
<text text-anchor="start" x="170965.5" y="-3893.8" font-family="Arial" font-size="14.00">temperature : Optional[float]</text>
<text text-anchor="start" x="170965.5" y="-3878.8" font-family="Arial" font-size="14.00">timeout : Optional[float]</text>
<text text-anchor="start" x="170965.5" y="-3863.8" font-family="Arial" font-size="14.00">top_k : Optional[int]</text>
<text text-anchor="start" x="170965.5" y="-3848.8" font-family="Arial" font-size="14.00">top_p : Optional[float]</text>
<text text-anchor="start" x="170965.5" y="-3833.8" font-family="Arial" font-size="14.00">url : Optional[str]</text>
<polyline fill="none" stroke="#ffaabb" points="170957.5,-3826 171166.5,-3826 "/>
<text text-anchor="start" x="171060" y="-3810.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxProvider -->
<g id="node606" class="node">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxProvider</title>
<polygon fill="white" stroke="#ffaabb" points="170882.5,-8026.5 170882.5,-8125.5 171241.5,-8125.5 171241.5,-8026.5 170882.5,-8026.5"/>
<text text-anchor="start" x="171010.5" y="-8110.3" font-family="Arial" font-size="14.00">WatsonxProvider</text>
<polyline fill="none" stroke="#ffaabb" points="170882.5,-8102.5 171241.5,-8102.5 "/>
<text text-anchor="start" x="171016.5" y="-8087.3" font-family="Arial" font-size="14.00">config</text>
<text text-anchor="start" x="171016.5" y="-8072.3" font-family="Arial" font-size="14.00">llm : NoneType</text>
<polyline fill="none" stroke="#ffaabb" points="170882.5,-8064.5 171241.5,-8064.5 "/>
<text text-anchor="start" x="170890.5" y="-8049.3" font-family="Arial" font-size="14.00">get_llm(model_type): Union[WatsonxLLM, ChatWatsonx]</text>
<text text-anchor="start" x="170890.5" y="-8034.3" font-family="Arial" font-size="14.00">get_model_name(): str</text>
</g>
<!-- mcpgateway.services.mcp_client_chat_service.WatsonxConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.WatsonxProvider -->
<g id="edge186" class="edge">
<title>mcpgateway.services.mcp_client_chat_service.WatsonxConfig&#45;&gt;mcpgateway.services.mcp_client_chat_service.WatsonxProvider</title>
<path fill="none" stroke="gray" d="M171062,-4037.26C171062,-4656.48 171062,-7555.96 171062,-8014"/>
<polygon fill="none" stroke="gray" points="171062,-8014.22 171066,-8020.22 171062,-8026.22 171058,-8020.22 171062,-8014.22"/>
<text text-anchor="middle" x="171080.5" y="-7861.8" font-family="Arial" font-size="14.00" fill="green">config</text>
</g>
<!-- mcpgateway.common.models.WebSocketMessage -->
<g id="node607" class="node">
<title>mcpgateway.common.models.WebSocketMessage</title>
<polygon fill="white" stroke="#44bb99" points="171184.5,-3878 171184.5,-3962 171325.5,-3962 171325.5,-3878 171184.5,-3878"/>
<text text-anchor="start" x="171192.5" y="-3946.8" font-family="Arial" font-size="14.00">WebSocketMessage</text>
<polyline fill="none" stroke="#44bb99" points="171184.5,-3939 171325.5,-3939 "/>
<text text-anchor="start" x="171224.5" y="-3923.8" font-family="Arial" font-size="14.00">data : Any</text>
<text text-anchor="start" x="171224.5" y="-3908.8" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#44bb99" points="171184.5,-3901 171325.5,-3901 "/>
<text text-anchor="start" x="171253" y="-3885.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.transports.websocket_transport.WebSocketTransport -->
<g id="node608" class="node">
<title>mcpgateway.transports.websocket_transport.WebSocketTransport</title>
<polygon fill="white" stroke="#77aadd" points="139140.5,-3847.1 139140.5,-3992.9 139499.5,-3992.9 139499.5,-3847.1 139140.5,-3847.1"/>
<text text-anchor="start" x="139256.5" y="-3977.7" font-family="Arial" font-size="14.00">WebSocketTransport</text>
<polyline fill="none" stroke="#77aadd" points="139140.5,-3969.9 139499.5,-3969.9 "/>
<polyline fill="none" stroke="#77aadd" points="139140.5,-3945.1 139499.5,-3945.1 "/>
<text text-anchor="start" x="139148.5" y="-3929.9" font-family="Arial" font-size="14.00">connect(): None</text>
<text text-anchor="start" x="139148.5" y="-3914.9" font-family="Arial" font-size="14.00">disconnect(): None</text>
<text text-anchor="start" x="139148.5" y="-3899.9" font-family="Arial" font-size="14.00">is_connected(): bool</text>
<text text-anchor="start" x="139148.5" y="-3884.9" font-family="Arial" font-size="14.00">receive_message(): AsyncGenerator[Dict[str, Any], None]</text>
<text text-anchor="start" x="139148.5" y="-3869.9" font-family="Arial" font-size="14.00">send_message(message: Dict[str, Any]): None</text>
<text text-anchor="start" x="139148.5" y="-3854.9" font-family="Arial" font-size="14.00">send_ping(): None</text>
</g>
<!-- mcpgateway.transports.websocket_transport.WebSocketTransport&#45;&gt;mcpgateway.transports.base.Transport -->
<g id="edge124" class="edge">
<title>mcpgateway.transports.websocket_transport.WebSocketTransport&#45;&gt;mcpgateway.transports.base.Transport</title>
<path fill="none" stroke="gray" d="M139332.38,-3992.91C139398.13,-4393.04 139683.1,-6379.72 139131,-7840 139107.16,-7903.06 139059.59,-7962.26 139018.27,-8005.46"/>
<polygon fill="none" stroke="gray" points="139015.61,-8003.18 139011.16,-8012.79 139020.63,-8008.05 139015.61,-8003.18"/>
</g>
<!-- mcpgateway.schemas.WorkerMetrics -->
<g id="node609" class="node">
<title>mcpgateway.schemas.WorkerMetrics</title>
<polygon fill="white" stroke="#77aadd" points="171344,-3818 171344,-4022 171566,-4022 171566,-3818 171344,-3818"/>
<text text-anchor="start" x="171411" y="-4006.8" font-family="Arial" font-size="14.00">WorkerMetrics</text>
<polyline fill="none" stroke="#77aadd" points="171344,-3999 171566,-3999 "/>
<text text-anchor="start" x="171352" y="-3983.8" font-family="Arial" font-size="14.00">connections : Optional[int]</text>
<text text-anchor="start" x="171352" y="-3968.8" font-family="Arial" font-size="14.00">cpu_percent : Optional[float]</text>
<text text-anchor="start" x="171352" y="-3953.8" font-family="Arial" font-size="14.00">create_time : Optional[datetime]</text>
<text text-anchor="start" x="171352" y="-3938.8" font-family="Arial" font-size="14.00">memory_rss_mb : Optional[float]</text>
<text text-anchor="start" x="171352" y="-3923.8" font-family="Arial" font-size="14.00">memory_vms_mb : Optional[float]</text>
<text text-anchor="start" x="171352" y="-3908.8" font-family="Arial" font-size="14.00">open_fds : Optional[int]</text>
<text text-anchor="start" x="171352" y="-3893.8" font-family="Arial" font-size="14.00">pid : Optional[int]</text>
<text text-anchor="start" x="171352" y="-3878.8" font-family="Arial" font-size="14.00">status : Optional[str]</text>
<text text-anchor="start" x="171352" y="-3863.8" font-family="Arial" font-size="14.00">threads : Optional[int]</text>
<text text-anchor="start" x="171352" y="-3848.8" font-family="Arial" font-size="14.00">uptime_seconds : Optional[int]</text>
<polyline fill="none" stroke="#77aadd" points="171344,-3841 171566,-3841 "/>
<text text-anchor="start" x="171453" y="-3825.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.observability._ConsoleSpanExporterStub -->
<g id="node610" class="node">
<title>mcpgateway.observability._ConsoleSpanExporterStub</title>
<polygon fill="white" stroke="#77aadd" points="171584,-3884.6 171584,-3955.4 171768,-3955.4 171768,-3884.6 171584,-3884.6"/>
<text text-anchor="start" x="171592" y="-3940.2" font-family="Arial" font-size="14.00">_ConsoleSpanExporterStub</text>
<polyline fill="none" stroke="#77aadd" points="171584,-3932.4 171768,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="171584,-3907.6 171768,-3907.6 "/>
<text text-anchor="start" x="171674" y="-3892.4" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.logging_service._LogMessage -->
<g id="node611" class="node">
<title>mcpgateway.services.logging_service._LogMessage</title>
<polygon fill="white" stroke="#ffaabb" points="89029,-8485 89029,-8569 89131,-8569 89131,-8485 89029,-8485"/>
<text text-anchor="start" x="89037" y="-8553.8" font-family="Arial" font-size="14.00">_LogMessage</text>
<polyline fill="none" stroke="#ffaabb" points="89029,-8546 89131,-8546 "/>
<text text-anchor="start" x="89054" y="-8530.8" font-family="Arial" font-size="14.00">data</text>
<text text-anchor="start" x="89054" y="-8515.8" font-family="Arial" font-size="14.00">type : str</text>
<polyline fill="none" stroke="#ffaabb" points="89029,-8508 89131,-8508 "/>
<text text-anchor="start" x="89078" y="-8492.8" font-family="Arial" font-size="14.00"> </text>
</g>
<!-- mcpgateway.services.logging_service._LogMessageData&#45;&gt;mcpgateway.services.logging_service._LogMessage -->
<g id="edge163" class="edge">
<title>mcpgateway.services.logging_service._LogMessageData&#45;&gt;mcpgateway.services.logging_service._LogMessage</title>
<path fill="none" stroke="gray" d="M89080,-8133.41C89080,-8220.65 89080,-8387.12 89080,-8472.53"/>
<polygon fill="gray" stroke="gray" points="89080,-8472.78 89084,-8478.78 89080,-8484.78 89076,-8478.78 89080,-8472.78"/>
<text text-anchor="middle" x="89093.5" y="-8282.8" font-family="Arial" font-size="14.00" fill="green">data</text>
</g>
<!-- mcpgateway.observability.init_telemetry._NoopTracer -->
<g id="node613" class="node">
<title>mcpgateway.observability.init_telemetry._NoopTracer</title>
<polygon fill="white" stroke="#bbcc33" points="171786,-3884.6 171786,-3955.4 172010,-3955.4 172010,-3884.6 171786,-3884.6"/>
<text text-anchor="start" x="171858.5" y="-3940.2" font-family="Arial" font-size="14.00">_NoopTracer</text>
<polyline fill="none" stroke="#bbcc33" points="171786,-3932.4 172010,-3932.4 "/>
<polyline fill="none" stroke="#bbcc33" points="171786,-3907.6 172010,-3907.6 "/>
<text text-anchor="start" x="171794" y="-3892.4" font-family="Arial" font-size="14.00">start_as_current_span(_name: str)</text>
</g>
<!-- mcpgateway.translate._PubSub -->
<g id="node614" class="node">
<title>mcpgateway.translate._PubSub</title>
<polygon fill="white" stroke="#77aadd" points="172028,-3869.6 172028,-3970.4 172300,-3970.4 172300,-3869.6 172028,-3869.6"/>
<text text-anchor="start" x="172136" y="-3955.2" font-family="Arial" font-size="14.00">_PubSub</text>
<polyline fill="none" stroke="#77aadd" points="172028,-3947.4 172300,-3947.4 "/>
<polyline fill="none" stroke="#77aadd" points="172028,-3922.6 172300,-3922.6 "/>
<text text-anchor="start" x="172036" y="-3907.4" font-family="Arial" font-size="14.00">publish(data: str): None</text>
<text text-anchor="start" x="172036" y="-3892.4" font-family="Arial" font-size="14.00">subscribe(): &#39;asyncio.Queue[str]&#39;</text>
<text text-anchor="start" x="172036" y="-3877.4" font-family="Arial" font-size="14.00">unsubscribe(q: &#39;asyncio.Queue[str]&#39;): None</text>
</g>
<!-- mcpgateway.observability._ResourceShim -->
<g id="node615" class="node">
<title>mcpgateway.observability._ResourceShim</title>
<polygon fill="white" stroke="#77aadd" points="172318,-3884.6 172318,-3955.4 172572,-3955.4 172572,-3884.6 172318,-3884.6"/>
<text text-anchor="start" x="172396.5" y="-3940.2" font-family="Arial" font-size="14.00">_ResourceShim</text>
<polyline fill="none" stroke="#77aadd" points="172318,-3932.4 172572,-3932.4 "/>
<polyline fill="none" stroke="#77aadd" points="172318,-3907.6 172572,-3907.6 "/>
<text text-anchor="start" x="172326" y="-3892.4" font-family="Arial" font-size="14.00">create(attrs: Dict[str, Any]): Dict[str, Any]</text>
</g>
<!-- mcpgateway.services.logging_service.LoggingService._install_closedresourceerror_filter._SuppressClosedResourceErrorFilter -->
<g id="node616" class="node">
<title>mcpgateway.services.logging_service.LoggingService._install_closedresourceerror_filter._SuppressClosedResourceErrorFilter</title>
<polygon fill="white" stroke="#ffaabb" points="172590.5,-3884.6 172590.5,-3955.4 172833.5,-3955.4 172833.5,-3884.6 172590.5,-3884.6"/>
<text text-anchor="start" x="172599.5" y="-3940.2" font-family="Arial" font-size="14.00">_SuppressClosedResourceErrorFilter</text>
<polyline fill="none" stroke="#ffaabb" points="172590.5,-3932.4 172833.5,-3932.4 "/>
<polyline fill="none" stroke="#ffaabb" points="172590.5,-3907.6 172833.5,-3907.6 "/>
<text text-anchor="start" x="172598.5" y="-3892.4" font-family="Arial" font-size="14.00">filter(record: logging.LogRecord): bool</text>
</g>
</g>
</svg>
